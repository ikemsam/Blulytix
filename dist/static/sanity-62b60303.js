function E0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ud(e){return E0(e)&&typeof e._ref=="string"}function x4e(e){return E0(e)&&ud(e.asset)&&e.asset._ref.startsWith("image-")}function c0e(e){return E0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function w4e(e){return E0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function WF(e){return E0(e)&&typeof e._type=="string"}function Il(e){return E0(e)&&typeof e._key=="string"}function C4e(e){return e.level==="error"}const _4e=/_key\s*==\s*['"](.*)['"]/,S4e=/^\d*:\d*$/;function kl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Mr(e){return typeof e=="string"?_4e.test(e.trim()):typeof e=="object"&&"_key"in e}function Hp(e){if(typeof e=="string"&&S4e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function V_(e){return!!e&&(typeof e=="object"||typeof e=="function")}function th(e){return V_(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>V_(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>V_(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function oa(e){return V_(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function k4e(e){return th(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function vm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Qa(e){return vm(e)?e.jsonType==="object":!1}function Hl(e){return vm(e)?e.jsonType==="array":!1}function YF(e){return Hl(e)&&e.of.every(t=>Qa(t))}function E4e(e){return Hl(e)&&e.of.every(t=>d0e(t))}function xw(e){return vm(e)?e.jsonType==="boolean":!1}function u0e(e){return vm(e)?e.jsonType==="string":!1}function Up(e){return vm(e)?e.jsonType==="number":!1}function d0e(e){return xw(e)||u0e(e)||Up(e)}function Lu(e){return vm(e)&&(e.name==="reference"||Lu(e.type))}function qF(e){return vm(e)&&(e.name==="crossDatasetReference"||qF(e.type))}function GF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function sj(e,t){return e}function io(e,t){return e}function XP(e,t){return e}function j4e(e){return e.level==="error"}function T4e(e){return e.level==="warning"}var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A4e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var f0e={exports:{}},aj={},h0e={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww=Symbol.for("react.element"),D4e=Symbol.for("react.portal"),I4e=Symbol.for("react.fragment"),O4e=Symbol.for("react.strict_mode"),P4e=Symbol.for("react.profiler"),R4e=Symbol.for("react.provider"),$4e=Symbol.for("react.context"),M4e=Symbol.for("react.forward_ref"),F4e=Symbol.for("react.suspense"),L4e=Symbol.for("react.memo"),B4e=Symbol.for("react.lazy"),fV=Symbol.iterator;function N4e(e){return e===null||typeof e!="object"?null:(e=fV&&e[fV]||e["@@iterator"],typeof e=="function"?e:null)}var p0e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0e=Object.assign,g0e={};function j0(e,t,n){this.props=e,this.context=t,this.refs=g0e,this.updater=n||p0e}j0.prototype.isReactComponent={};j0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};j0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v0e(){}v0e.prototype=j0.prototype;function KF(e,t,n){this.props=e,this.context=t,this.refs=g0e,this.updater=n||p0e}var ZF=KF.prototype=new v0e;ZF.constructor=KF;m0e(ZF,j0.prototype);ZF.isPureReactComponent=!0;var hV=Array.isArray,y0e=Object.prototype.hasOwnProperty,XF={current:null},b0e={key:!0,ref:!0,__self:!0,__source:!0};function x0e(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)y0e.call(t,r)&&!b0e.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ww,type:e,key:i,ref:s,props:o,_owner:XF.current}}function z4e(e,t){return{$$typeof:ww,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QF(e){return typeof e=="object"&&e!==null&&e.$$typeof===ww}function V4e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pV=/\/+/g;function VD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V4e(""+e.key):t.toString(36)}function H_(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ww:case D4e:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+VD(s,0):r,hV(o)?(n="",e!=null&&(n=e.replace(pV,"$&/")+"/"),H_(o,t,n,"",function(u){return u})):o!=null&&(QF(o)&&(o=z4e(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(pV,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",hV(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+VD(i,a);s+=H_(i,t,n,c,o)}else if(c=N4e(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+VD(i,a++),s+=H_(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function KC(e,t,n){if(e==null)return e;var r=[],o=0;return H_(e,r,"","",function(i){return t.call(n,i,o++)}),r}function H4e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var as={current:null},U_={transition:null},U4e={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:U_,ReactCurrentOwner:XF};Wt.Children={map:KC,forEach:function(e,t,n){KC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return KC(e,function(){t++}),t},toArray:function(e){return KC(e,function(t){return t})||[]},only:function(e){if(!QF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=j0;Wt.Fragment=I4e;Wt.Profiler=P4e;Wt.PureComponent=KF;Wt.StrictMode=O4e;Wt.Suspense=F4e;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U4e;Wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m0e({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=XF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)y0e.call(t,c)&&!b0e.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ww,type:e.type,key:o,ref:i,props:r,_owner:s}};Wt.createContext=function(e){return e={$$typeof:$4e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R4e,_context:e},e.Consumer=e};Wt.createElement=x0e;Wt.createFactory=function(e){var t=x0e.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:M4e,render:e}};Wt.isValidElement=QF;Wt.lazy=function(e){return{$$typeof:B4e,_payload:{_status:-1,_result:e},_init:H4e}};Wt.memo=function(e,t){return{$$typeof:L4e,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=U_.transition;U_.transition={};try{e()}finally{U_.transition=t}};Wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wt.useCallback=function(e,t){return as.current.useCallback(e,t)};Wt.useContext=function(e){return as.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return as.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return as.current.useEffect(e,t)};Wt.useId=function(){return as.current.useId()};Wt.useImperativeHandle=function(e,t,n){return as.current.useImperativeHandle(e,t,n)};Wt.useInsertionEffect=function(e,t){return as.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return as.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return as.current.useMemo(e,t)};Wt.useReducer=function(e,t,n){return as.current.useReducer(e,t,n)};Wt.useRef=function(e){return as.current.useRef(e)};Wt.useState=function(e){return as.current.useState(e)};Wt.useSyncExternalStore=function(e,t,n){return as.current.useSyncExternalStore(e,t,n)};Wt.useTransition=function(){return as.current.useTransition()};Wt.version="18.2.0";h0e.exports=Wt;var h=h0e.exports;const re=Ae(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4e=h,Y4e=Symbol.for("react.element"),q4e=Symbol.for("react.fragment"),G4e=Object.prototype.hasOwnProperty,K4e=W4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z4e={key:!0,ref:!0,__self:!0,__source:!0};function w0e(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)G4e.call(t,r)&&!Z4e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Y4e,type:e,key:i,ref:s,props:o,_owner:K4e.current}}aj.Fragment=q4e;aj.jsx=w0e;aj.jsxs=w0e;f0e.exports=aj;var l=f0e.exports;const X4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q4e=/_key\s*==\s*['"](.*)['"]/,C0e=[],_0e="$";function ym(e,t,n){const r=typeof t=="string"?Ol(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(kl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Mr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const HD=new Map;function bm(e){if(e.length===0)return C0e;const t=Ir(e);return HD.has(t)?HD.get(t):(HD.set(t,e),Object.freeze(e),e)}function xn(e,t){return e.length===t.length&&e.every((n,r)=>lj(n,t[r]))}function J4e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!lj(e[r],t[r]))return r;return n}function lj(e,t){return Mr(e)&&Mr(t)?e._key===t._key:kl(e)?Number(e)===Number(t):Hp(e)&&Hp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Ai(e,t){return e.every((n,r)=>lj(n,t[r]))}function ob(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return lj(n,o)?bm(ob(r,i)):t}function JF(e,t){return Ai(e,t)?ob(e,t):C0e}function Ir(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Mr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function QP(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...QP(i,r)]}const o=ym(e,[n]);return[n,...QP(o,r)]}function eFe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return bm(QP(e,t))}function Ol(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(X4e);if(!t)throw new Error("Invalid path string");return t.map(tFe)}function tFe(e){return kl(e)?nFe(e):Mr(e)?rFe(e):Hp(e)?oFe(e):e}function nFe(e){return Number(e.replace(/[^\d]/g,""))}function rFe(e){return{_key:e.match(Q4e)[1]}}function oFe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var iFe=typeof Element<"u",sFe=typeof Map=="function",aFe=typeof Set=="function",lFe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function W_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!W_(e[r],t[r]))return!1;return!0}var i;if(sFe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!W_(r.value[1],t.get(r.value[0])))return!1;return!0}if(aFe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(lFe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(iFe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!W_(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var cFe=function(t,n){try{return W_(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const e6=Ae(cFe);function uFe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ja=uFe;const Cw=Ae(Ja);var dFe=typeof As=="object"&&As&&As.Object===Object&&As,S0e=dFe,fFe=S0e,hFe=typeof self=="object"&&self&&self.Object===Object&&self,pFe=fFe||hFe||Function("return this")(),Ul=pFe,mFe=Ul,gFe=function(){return mFe.Date.now()},vFe=gFe,yFe=/\s/;function bFe(e){for(var t=e.length;t--&&yFe.test(e.charAt(t)););return t}var xFe=bFe,wFe=xFe,CFe=/^\s+/;function _Fe(e){return e&&e.slice(0,wFe(e)+1).replace(CFe,"")}var k0e=_Fe,SFe=Ul,kFe=SFe.Symbol,T0=kFe,mV=T0,E0e=Object.prototype,EFe=E0e.hasOwnProperty,jFe=E0e.toString,F1=mV?mV.toStringTag:void 0;function TFe(e){var t=EFe.call(e,F1),n=e[F1];try{e[F1]=void 0;var r=!0}catch{}var o=jFe.call(e);return r&&(t?e[F1]=n:delete e[F1]),o}var AFe=TFe,DFe=Object.prototype,IFe=DFe.toString;function OFe(e){return IFe.call(e)}var PFe=OFe,gV=T0,RFe=AFe,$Fe=PFe,MFe="[object Null]",FFe="[object Undefined]",vV=gV?gV.toStringTag:void 0;function LFe(e){return e==null?e===void 0?FFe:MFe:vV&&vV in Object(e)?RFe(e):$Fe(e)}var nh=LFe;function BFe(e){return e!=null&&typeof e=="object"}var el=BFe,NFe=nh,zFe=el,VFe="[object Symbol]";function HFe(e){return typeof e=="symbol"||zFe(e)&&NFe(e)==VFe}var xm=HFe,UFe=k0e,yV=Ja,WFe=xm,bV=0/0,YFe=/^[-+]0x[0-9a-f]+$/i,qFe=/^0b[01]+$/i,GFe=/^0o[0-7]+$/i,KFe=parseInt;function ZFe(e){if(typeof e=="number")return e;if(WFe(e))return bV;if(yV(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yV(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=UFe(e);var n=qFe.test(e);return n||GFe.test(e)?KFe(e.slice(2),n?2:8):YFe.test(e)?bV:+e}var j0e=ZFe,XFe=Ja,UD=vFe,xV=j0e,QFe="Expected a function",JFe=Math.max,e6e=Math.min;function t6e(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(QFe);t=xV(t)||0,XFe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?JFe(xV(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var k=r,j=o;return r=o=void 0,u=S,s=e.apply(j,k),s}function g(S){return u=S,a=setTimeout(x,t),d?m(S):s}function v(S){var k=S-c,j=S-u,E=t-k;return f?e6e(E,i-j):E}function b(S){var k=S-c,j=S-u;return c===void 0||k>=t||k<0||f&&j>=i}function x(){var S=UD();if(b(S))return y(S);a=setTimeout(x,v(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:y(UD())}function _(){var S=UD(),k=b(S);if(r=arguments,o=this,c=S,k){if(a===void 0)return g(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var T0e=t6e;const _w=Ae(T0e);function t6(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var A0e={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6=Symbol.for("react.element"),r6=Symbol.for("react.portal"),cj=Symbol.for("react.fragment"),uj=Symbol.for("react.strict_mode"),dj=Symbol.for("react.profiler"),fj=Symbol.for("react.provider"),hj=Symbol.for("react.context"),n6e=Symbol.for("react.server_context"),pj=Symbol.for("react.forward_ref"),mj=Symbol.for("react.suspense"),gj=Symbol.for("react.suspense_list"),vj=Symbol.for("react.memo"),yj=Symbol.for("react.lazy"),r6e=Symbol.for("react.offscreen"),D0e;D0e=Symbol.for("react.module.reference");function tl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case n6:switch(e=e.type,e){case cj:case dj:case uj:case mj:case gj:return e;default:switch(e=e&&e.$$typeof,e){case n6e:case hj:case pj:case yj:case vj:case fj:return e;default:return t}}case r6:return t}}}kn.ContextConsumer=hj;kn.ContextProvider=fj;kn.Element=n6;kn.ForwardRef=pj;kn.Fragment=cj;kn.Lazy=yj;kn.Memo=vj;kn.Portal=r6;kn.Profiler=dj;kn.StrictMode=uj;kn.Suspense=mj;kn.SuspenseList=gj;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return tl(e)===hj};kn.isContextProvider=function(e){return tl(e)===fj};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===n6};kn.isForwardRef=function(e){return tl(e)===pj};kn.isFragment=function(e){return tl(e)===cj};kn.isLazy=function(e){return tl(e)===yj};kn.isMemo=function(e){return tl(e)===vj};kn.isPortal=function(e){return tl(e)===r6};kn.isProfiler=function(e){return tl(e)===dj};kn.isStrictMode=function(e){return tl(e)===uj};kn.isSuspense=function(e){return tl(e)===mj};kn.isSuspenseList=function(e){return tl(e)===gj};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cj||e===dj||e===uj||e===mj||e===gj||e===r6e||typeof e=="object"&&e!==null&&(e.$$typeof===yj||e.$$typeof===vj||e.$$typeof===fj||e.$$typeof===hj||e.$$typeof===pj||e.$$typeof===D0e||e.getModuleId!==void 0)};kn.typeOf=tl;A0e.exports=kn;var Sr=A0e.exports;const o6e=Ae(Sr);var JP=function(e,t){return JP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},JP(e,t)};function ma(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JP(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Eo=function(){return Eo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Eo.apply(this,arguments)};function i6e(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function I0e(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Wp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ua(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function ai(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function lv(e){return this instanceof lv?(this.v=e,this):new lv(e)}function s6e(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(g,v){i.push([p,m,g,v])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(g){f(i[0][3],g)}}function c(p){p.value instanceof lv?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function a6e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Wp=="function"?Wp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var nr="-ms-",ib="-moz-",yn="-webkit-",O0e="comm",bj="rule",o6="decl",l6e="@import",P0e="@keyframes",c6e="@layer",u6e=Math.abs,i6=String.fromCharCode,eR=Object.assign;function d6e(e,t){return Lo(e,0)^45?(((t<<2^Lo(e,0))<<2^Lo(e,1))<<2^Lo(e,2))<<2^Lo(e,3):0}function R0e(e){return e.trim()}function mu(e,t){return(e=t.exec(e))?e[0]:e}function Tt(e,t,n){return e.replace(t,n)}function Y_(e,t){return e.indexOf(t)}function Lo(e,t){return e.charCodeAt(t)|0}function Vv(e,t,n){return e.slice(t,n)}function gc(e){return e.length}function $0e(e){return e.length}function Ay(e,t){return t.push(e),e}function f6e(e,t){return e.map(t).join("")}function wV(e,t){return e.filter(function(n){return!mu(n,t)})}var xj=1,Hv=1,M0e=0,Wa=0,lo=0,A0="";function wj(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:xj,column:Hv,length:s,return:"",siblings:a}}function $d(e,t){return eR(wj("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Jm(e){for(;e.root;)e=$d(e.root,{children:[e]});Ay(e,e.siblings)}function h6e(){return lo}function p6e(){return lo=Wa>0?Lo(A0,--Wa):0,Hv--,lo===10&&(Hv=1,xj--),lo}function El(){return lo=Wa<M0e?Lo(A0,Wa++):0,Hv++,lo===10&&(Hv=1,xj++),lo}function jp(){return Lo(A0,Wa)}function q_(){return Wa}function Cj(e,t){return Vv(A0,e,t)}function tR(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m6e(e){return xj=Hv=1,M0e=gc(A0=e),Wa=0,[]}function g6e(e){return A0="",e}function WD(e){return R0e(Cj(Wa-1,nR(e===91?e+2:e===40?e+1:e)))}function v6e(e){for(;(lo=jp())&&lo<33;)El();return tR(e)>2||tR(lo)>3?"":" "}function y6e(e,t){for(;--t&&El()&&!(lo<48||lo>102||lo>57&&lo<65||lo>70&&lo<97););return Cj(e,q_()+(t<6&&jp()==32&&El()==32))}function nR(e){for(;El();)switch(lo){case e:return Wa;case 34:case 39:e!==34&&e!==39&&nR(lo);break;case 40:e===41&&nR(e);break;case 92:El();break}return Wa}function b6e(e,t){for(;El()&&e+lo!==47+10;)if(e+lo===42+42&&jp()===47)break;return"/*"+Cj(t,Wa-1)+"*"+i6(e===47?e:El())}function x6e(e){for(;!tR(jp());)El();return Cj(e,Wa)}function w6e(e){return g6e(G_("",null,null,null,[""],e=m6e(e),0,[0],e))}function G_(e,t,n,r,o,i,s,a,c){for(var u=0,d=0,f=s,p=0,m=0,g=0,v=1,b=1,x=1,y=0,w="",C=o,_=i,S=r,k=w;b;)switch(g=y,y=El()){case 40:if(g!=108&&Lo(k,f-1)==58){Y_(k+=Tt(WD(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:k+=WD(y);break;case 9:case 10:case 13:case 32:k+=v6e(g);break;case 92:k+=y6e(q_()-1,7);continue;case 47:switch(jp()){case 42:case 47:Ay(C6e(b6e(El(),q_()),t,n,c),c);break;default:k+="/"}break;case 123*v:a[u++]=gc(k)*x;case 125*v:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:x==-1&&(k=Tt(k,/\f/g,"")),m>0&&gc(k)-f&&Ay(m>32?_V(k+";",r,n,f-1,c):_V(Tt(k," ","")+";",r,n,f-2,c),c);break;case 59:k+=";";default:if(Ay(S=CV(k,t,n,u,d,o,a,w,C=[],_=[],f,i),i),y===123)if(d===0)G_(k,t,S,S,C,i,f,a,_);else switch(p===99&&Lo(k,3)===110?100:p){case 100:case 108:case 109:case 115:G_(e,S,S,r&&Ay(CV(e,S,S,0,0,o,a,w,o,C=[],f,_),_),o,_,f,a,r?C:_);break;default:G_(k,S,S,S,[""],_,0,a,_)}}u=d=m=0,v=x=1,w=k="",f=s;break;case 58:f=1+gc(k),m=g;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&p6e()==125)continue}switch(k+=i6(y),y*v){case 38:x=d>0?1:(k+="\f",-1);break;case 44:a[u++]=(gc(k)-1)*x,x=1;break;case 64:jp()===45&&(k+=WD(El())),p=jp(),d=f=gc(w=k+=x6e(q_())),y++;break;case 45:g===45&&gc(k)==2&&(v=0)}}return i}function CV(e,t,n,r,o,i,s,a,c,u,d,f){for(var p=o-1,m=o===0?i:[""],g=$0e(m),v=0,b=0,x=0;v<r;++v)for(var y=0,w=Vv(e,p+1,p=u6e(b=s[v])),C=e;y<g;++y)(C=R0e(b>0?m[y]+" "+w:Tt(w,/&\f/g,m[y])))&&(c[x++]=C);return wj(e,t,n,o===0?bj:a,c,u,d,f)}function C6e(e,t,n,r){return wj(e,t,n,O0e,i6(h6e()),Vv(e,2,-2),0,r)}function _V(e,t,n,r,o){return wj(e,t,n,o6,Vv(e,0,r),Vv(e,r+1,-1),r,o)}function F0e(e,t,n){switch(d6e(e,t)){case 5103:return yn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yn+e+e;case 4789:return ib+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yn+e+ib+e+nr+e+e;case 5936:switch(Lo(e,t+11)){case 114:return yn+e+nr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yn+e+nr+Tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yn+e+nr+Tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return yn+e+nr+e+e;case 6165:return yn+e+nr+"flex-"+e+e;case 5187:return yn+e+Tt(e,/(\w+).+(:[^]+)/,yn+"box-$1$2"+nr+"flex-$1$2")+e;case 5443:return yn+e+nr+"flex-item-"+Tt(e,/flex-|-self/g,"")+(mu(e,/flex-|baseline/)?"":nr+"grid-row-"+Tt(e,/flex-|-self/g,""))+e;case 4675:return yn+e+nr+"flex-line-pack"+Tt(e,/align-content|flex-|-self/g,"")+e;case 5548:return yn+e+nr+Tt(e,"shrink","negative")+e;case 5292:return yn+e+nr+Tt(e,"basis","preferred-size")+e;case 6060:return yn+"box-"+Tt(e,"-grow","")+yn+e+nr+Tt(e,"grow","positive")+e;case 4554:return yn+Tt(e,/([^-])(transform)/g,"$1"+yn+"$2")+e;case 6187:return Tt(Tt(Tt(e,/(zoom-|grab)/,yn+"$1"),/(image-set)/,yn+"$1"),e,"")+e;case 5495:case 3959:return Tt(e,/(image-set\([^]*)/,yn+"$1$`$1");case 4968:return Tt(Tt(e,/(.+:)(flex-)?(.*)/,yn+"box-pack:$3"+nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yn+e+e;case 4200:if(!mu(e,/flex-|baseline/))return nr+"grid-column-align"+Vv(e,t)+e;break;case 2592:case 3360:return nr+Tt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,mu(r.props,/grid-\w+-end/)})?~Y_(e+(n=n[t].value),"span")?e:nr+Tt(e,"-start","")+e+nr+"grid-row-span:"+(~Y_(n,"span")?mu(n,/\d+/):+mu(n,/\d+/)-+mu(e,/\d+/))+";":nr+Tt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return mu(r.props,/grid-\w+-start/)})?e:nr+Tt(Tt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Tt(e,/(.+)-inline(.+)/,yn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gc(e)-1-t>6)switch(Lo(e,t+1)){case 109:if(Lo(e,t+4)!==45)break;case 102:return Tt(e,/(.+:)(.+)-([^]+)/,"$1"+yn+"$2-$3$1"+ib+(Lo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Y_(e,"stretch")?F0e(Tt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Tt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,c,u){return nr+o+":"+i+u+(s?nr+o+"-span:"+(a?c:+c-+i)+u:"")+e});case 4949:if(Lo(e,t+6)===121)return Tt(e,":",":"+yn)+e;break;case 6444:switch(Lo(e,Lo(e,14)===45?18:11)){case 120:return Tt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+yn+(Lo(e,14)===45?"inline-":"")+"box$3$1"+yn+"$2$3$1"+nr+"$2box$3")+e;case 100:return Tt(e,":",":"+nr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Tt(e,"scroll-","scroll-snap-")+e}return e}function pk(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function _6e(e,t,n,r){switch(e.type){case c6e:if(e.children.length)break;case l6e:case o6:return e.return=e.return||e.value;case O0e:return"";case P0e:return e.return=e.value+"{"+pk(e.children,r)+"}";case bj:if(!gc(e.value=e.props.join(",")))return""}return gc(n=pk(e.children,r))?e.return=e.value+"{"+n+"}":""}function S6e(e){var t=$0e(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function k6e(e){return function(t){t.root||(t=t.return)&&e(t)}}function E6e(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case o6:e.return=F0e(e.value,e.length,n);return;case P0e:return pk([$d(e,{value:Tt(e.value,"@","@"+yn)})],r);case bj:if(e.length)return f6e(n=e.props,function(o){switch(mu(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Jm($d(e,{props:[Tt(o,/:(read-\w+)/,":"+ib+"$1")]})),Jm($d(e,{props:[o]})),eR(e,{props:wV(n,r)});break;case"::placeholder":Jm($d(e,{props:[Tt(o,/:(plac\w+)/,":"+yn+"input-$1")]})),Jm($d(e,{props:[Tt(o,/:(plac\w+)/,":"+ib+"$1")]})),Jm($d(e,{props:[Tt(o,/:(plac\w+)/,nr+"input-$1")]})),Jm($d(e,{props:[o]})),eR(e,{props:wV(n,r)});break}return""})}}var j6e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",s6=typeof window<"u"&&"HTMLElement"in window,T6e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),A6e={},_j=Object.freeze([]),Wv=Object.freeze({});function L0e(e,t,n){return n===void 0&&(n=Wv),e.theme!==n.theme&&e.theme||t||n.theme}var B0e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),D6e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,I6e=/(^-|-$)/g;function SV(e){return e.replace(D6e,"-").replace(I6e,"")}var O6e=/(a)(d)/gi,kV=function(e){return String.fromCharCode(e+(e>25?39:97))};function rR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=kV(t%52)+n;return(kV(t%52)+n).replace(O6e,"$1-$2")}var YD,Rg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},N0e=function(e){return Rg(5381,e)};function a6(e){return rR(N0e(e)>>>0)}function P6e(e){return e.displayName||e.name||"Component"}function qD(e){return typeof e=="string"&&!0}var z0e=typeof Symbol=="function"&&Symbol.for,V0e=z0e?Symbol.for("react.memo"):60115,R6e=z0e?Symbol.for("react.forward_ref"):60112,$6e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},M6e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},H0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},F6e=((YD={})[R6e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YD[V0e]=H0e,YD);function EV(e){return("type"in(t=e)&&t.type.$$typeof)===V0e?H0e:"$$typeof"in e?F6e[e.$$typeof]:$6e;var t}var L6e=Object.defineProperty,B6e=Object.getOwnPropertyNames,jV=Object.getOwnPropertySymbols,N6e=Object.getOwnPropertyDescriptor,z6e=Object.getPrototypeOf,TV=Object.prototype;function U0e(e,t,n){if(typeof t!="string"){if(TV){var r=z6e(t);r&&r!==TV&&U0e(e,r,n)}var o=B6e(t);jV&&(o=o.concat(jV(t)));for(var i=EV(e),s=EV(t),a=0;a<o.length;++a){var c=o[a];if(!(c in M6e||n&&n[c]||s&&c in s||i&&c in i)){var u=N6e(t,c);try{L6e(e,c,u)}catch{}}}}return e}function Yp(e){return typeof e=="function"}function l6(e){return typeof e=="object"&&"styledComponentId"in e}function up(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function mk(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Xb(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function oR(e,t,n){if(n===void 0&&(n=!1),!n&&!Xb(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=oR(e[r],t[r]);else if(Xb(t))for(var r in t)e[r]=oR(e[r],t[r]);return e}function c6(e,t){Object.defineProperty(e,"toString",{value:t})}function Ff(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var V6e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Ff(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),c=(s=0,n.length);s<c;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),K_=new Map,gk=new Map,Z_=1,ZC=function(e){if(K_.has(e))return K_.get(e);for(;gk.has(Z_);)Z_++;var t=Z_++;return K_.set(e,t),gk.set(t,e),t},H6e=function(e,t){Z_=t+1,K_.set(e,t),gk.set(t,e)},U6e="style[".concat(Uv,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),W6e=new RegExp("^".concat(Uv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Y6e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},q6e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var c=a.match(W6e);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(H6e(d,u),Y6e(e,d,c[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function G6e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var W0e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Uv,"]")));return c[c.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Uv,"active"),r.setAttribute("data-styled-version","6.1.1");var s=G6e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},K6e=function(){function e(t){this.element=W0e(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Ff(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),Z6e=function(){function e(t){this.element=W0e(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),X6e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),AV=s6,Q6e={isServer:!s6,useCSSOMInjection:!T6e},vk=function(){function e(t,n,r){t===void 0&&(t=Wv),n===void 0&&(n={});var o=this;this.options=Eo(Eo({},Q6e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&s6&&AV&&(AV=!1,function(i){for(var s=document.querySelectorAll(U6e),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(Uv)!=="active"&&(q6e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),c6(this,function(){return function(i){for(var s=i.getTag(),a=s.length,c="",u=function(f){var p=function(x){return gk.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),g=s.getGroup(f);if(m===void 0||g.length===0)return"continue";var v="".concat(Uv,".g").concat(f,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),c+="".concat(g).concat(v,'{content:"').concat(b,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return c}(o)})}return e.registerId=function(t){return ZC(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Eo(Eo({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new X6e(o):r?new K6e(o):new Z6e(o)}(this.options),new V6e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(ZC(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(ZC(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(ZC(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),J6e=/&/g,eLe=/^\s*\/\/.*$/gm;function Y0e(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Y0e(n.children,t)),n})}function tLe(e){var t,n,r,o=e===void 0?Wv:e,i=o.options,s=i===void 0?Wv:i,a=o.plugins,c=a===void 0?_j:a,u=function(p,m,g){return g===n||g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(t):p},d=c.slice();d.push(function(p){p.type===bj&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(J6e,n).replace(r,u))}),s.prefix&&d.push(E6e),d.push(_6e);var f=function(p,m,g,v){m===void 0&&(m=""),g===void 0&&(g=""),v===void 0&&(v="&"),t=v,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(eLe,""),x=w6e(g||m?"".concat(g," ").concat(m," { ").concat(b," }"):b);s.namespace&&(x=Y0e(x,s.namespace));var y=[];return pk(x,S6e(d.concat(k6e(function(w){return y.push(w)})))),y};return f.hash=c.length?c.reduce(function(p,m){return m.name||Ff(15),Rg(p,m.name)},5381).toString():"",f}var nLe=new vk,iR=tLe(),q0e=re.createContext({shouldForwardProp:void 0,styleSheet:nLe,stylis:iR});q0e.Consumer;re.createContext(void 0);function sR(){return h.useContext(q0e)}var G0e=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=iR);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,c6(this,function(){throw Ff(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=iR),this.name+t.hash},e}(),rLe=function(e){return e>="A"&&e<="Z"};function DV(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;rLe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var K0e=function(e){return e==null||e===!1||e===""},Z0e=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!K0e(i)&&(Array.isArray(i)&&i.isCss||Yp(i)?r.push("".concat(DV(o),":"),i,";"):Xb(i)?r.push.apply(r,ai(ai(["".concat(o," {")],Z0e(i),!1),["}"],!1)):r.push("".concat(DV(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in j6e||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function yf(e,t,n,r){if(K0e(e))return[];if(l6(e))return[".".concat(e.styledComponentId)];if(Yp(e)){if(!Yp(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return yf(o,t,n,r)}var i;return e instanceof G0e?n?(e.inject(n,r),[e.getName(r)]):[e]:Xb(e)?Z0e(e):Array.isArray(e)?Array.prototype.concat.apply(_j,e.map(function(s){return yf(s,t,n,r)})):[e.toString()]}function X0e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Yp(n)&&!l6(n))return!1}return!0}var oLe=N0e("6.1.1"),iLe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&X0e(t),this.componentId=n,this.baseHash=Rg(oLe,n),this.baseStyle=r,vk.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=up(o,this.staticRulesId);else{var i=mk(yf(this.rules,t,n,r)),s=rR(Rg(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=up(o,s),this.staticRulesId=s}else{for(var c=Rg(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=mk(yf(f,t,n,r));c=Rg(c,p+d),u+=p}}if(u){var m=rR(c>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=up(o,m)}}return o},e}(),Yv=re.createContext(void 0);Yv.Consumer;function Q0e(){var e=h.useContext(Yv);if(!e)throw Ff(18);return e}function sLe(e){var t=re.useContext(Yv),n=h.useMemo(function(){return function(r,o){if(!r)throw Ff(14);if(Yp(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw Ff(8);return o?Eo(Eo({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?re.createElement(Yv.Provider,{value:n},e.children):null}var GD={};function aLe(e,t,n){var r=l6(e),o=e,i=!qD(e),s=t.attrs,a=s===void 0?_j:s,c=t.componentId,u=c===void 0?function(C,_){var S=typeof C!="string"?"sc":SV(C);GD[S]=(GD[S]||0)+1;var k="".concat(S,"-").concat(a6("6.1.1"+S+GD[S]));return _?"".concat(_,"-").concat(k):k}(t.displayName,t.parentComponentId):c,d=t.displayName,f=d===void 0?function(C){return qD(C)?"styled.".concat(C):"Styled(".concat(P6e(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(SV(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,g=t.shouldForwardProp;if(r&&o.shouldForwardProp){var v=o.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;g=function(C,_){return v(C,_)&&b(C,_)}}else g=v}var x=new iLe(n,p,r?o.componentStyle:void 0);function y(C,_){return function(S,k,j){var E=S.attrs,T=S.componentStyle,A=S.defaultProps,D=S.foldedComponentIds,I=S.styledComponentId,O=S.target,$=re.useContext(Yv),R=sR(),z=S.shouldForwardProp||R.shouldForwardProp,F=function(N,G,Y){for(var K,X=Eo(Eo({},G),{className:void 0,theme:Y}),Q=0;Q<N.length;Q+=1){var Z=Yp(K=N[Q])?K(X):K;for(var ne in Z)X[ne]=ne==="className"?up(X[ne],Z[ne]):ne==="style"?Eo(Eo({},X[ne]),Z[ne]):Z[ne]}return G.className&&(X.className=up(X.className,G.className)),X}(E,k,L0e(k,$,A)||Wv),H=F.as||O,W={};for(var V in F)F[V]===void 0||V[0]==="$"||V==="as"||V==="theme"||(V==="forwardedAs"?W.as=F.forwardedAs:z&&!z(V,H)||(W[V]=F[V]));var q=function(N,G){var Y=sR(),K=N.generateAndInjectStyles(G,Y.styleSheet,Y.stylis);return K}(T,F),oe=up(D,I);return q&&(oe+=" "+q),F.className&&(oe+=" "+F.className),W[qD(H)&&!B0e.has(H)?"class":"className"]=oe,W.ref=j,h.createElement(H,W)}(w,C,_)}y.displayName=f;var w=re.forwardRef(y);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=g,w.foldedComponentIds=r?up(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(_){for(var S=[],k=1;k<arguments.length;k++)S[k-1]=arguments[k];for(var j=0,E=S;j<E.length;j++)oR(_,E[j],!0);return _}({},o.defaultProps,C):C}}),c6(w,function(){return".".concat(w.styledComponentId)}),i&&U0e(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function IV(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var OV=function(e){return Object.assign(e,{isCss:!0})};function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yp(e)||Xb(e)){var r=e;return OV(yf(IV(_j,ai([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?yf(o):OV(yf(IV(o,t)))}function aR(e,t,n){if(n===void 0&&(n=Wv),!t)throw Ff(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,fe.apply(void 0,ai([o],i,!1)))};return r.attrs=function(o){return aR(e,t,Eo(Eo({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return aR(e,t,Eo(Eo({},n),o))},r}var J0e=function(e){return aR(aLe,e)},P=J0e;B0e.forEach(function(e){P[e]=J0e(e)});var lLe=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=X0e(t),vk.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(mk(yf(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&vk.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function e1e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=fe.apply(void 0,ai([e],t,!1)),o="sc-global-".concat(a6(JSON.stringify(r))),i=new lLe(r,o),s=function(c){var u=sR(),d=re.useContext(Yv),f=re.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,c,u.styleSheet,d,u.stylis),re.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,c,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,c,u.styleSheet,d,u.stylis]),null};function a(c,u,d,f,p){if(i.isStatic)i.renderStyles(c,A6e,d,p);else{var m=Eo(Eo({},u),{theme:L0e(u,f,s.defaultProps)});i.renderStyles(c,m,d,p)}}return re.memo(s)}function wm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=mk(fe.apply(void 0,ai([e],t,!1))),o=a6(r);return new G0e(o,r)}const cLe="#101112",uLe="#fff",X_={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},Dy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},dLe={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},fLe={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},lR={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},hLe={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},cR={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},uR={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},pLe={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},le={gray:X_,blue:Dy,purple:dLe,magenta:fLe,red:lR,orange:hLe,yellow:cR,green:uR,cyan:pLe},t1e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],mc={title:"Black",hex:cLe},Ta={title:"White",hex:uLe},Lf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dR=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ia=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),vLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),n1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Sw=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),o1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),i1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),kLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ELe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),Sj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),$g=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ALe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ya=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ej=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ILe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mi=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tp=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),NLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ULe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),ZLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),QLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),m1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),JLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),e8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),qo=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),n8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),o8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),s8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),ga=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),y1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),d8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qv=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),Cm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),w1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),C1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),b8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rh=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),h6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),k8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),_1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),m6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),E8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),O8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),g6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v6=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ii=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Wl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),y6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),Ew=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P1e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),bg=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),b6=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),K8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Aj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),r9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),go=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s9e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),sb=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$1e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yk=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bk=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Dj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ij=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),jr=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p9e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),m9e={"access-denied":Lf,activity:mLe,"add-circle":dR,add:ia,api:gLe,archive:vLe,"arrow-down":n1e,"arrow-left":Sw,"arrow-right":r1e,"arrow-top-right":yLe,"arrow-up":bLe,"bar-chart":xLe,basket:wLe,bell:CLe,bill:_Le,"binary-document":D0,"block-content":o1e,"block-element":i1e,blockquote:SLe,bold:s1e,bolt:kLe,book:ELe,bottle:jLe,"bulb-filled":TLe,"bulb-outline":Sj,calendar:$g,case:ALe,"chart-upward":DLe,"checkmark-circle":kj,checkmark:Ya,"chevron-down":nl,"chevron-left":Ej,"chevron-right":Hc,"chevron-up":a1e,circle:ILe,clipboard:OLe,"clipboard-image":PLe,clock:l1e,"close-circle":RLe,close:Mi,"code-block":$Le,code:c1e,cog:jj,collapse:u1e,"color-wheel":MLe,comment:d1e,component:FLe,compose:Tp,controls:Tj,copy:Fc,"credit-card":LLe,crop:f1e,cube:BLe,dashboard:NLe,database:zLe,desktop:h1e,document:Bf,"document-pdf":VLe,"document-remove":HLe,"document-sheet":ULe,"document-text":WLe,"document-video":YLe,"document-word":qLe,"document-zip":GLe,documents:u6,dot:KLe,"double-chevron-down":ZLe,"double-chevron-left":XLe,"double-chevron-right":p1e,"double-chevron-up":QLe,download:d6,"drag-handle":m1e,drop:JLe,"earth-americas":g1e,"earth-globe":e8e,edit:Bu,"ellipsis-horizontal":t8e,"ellipsis-vertical":qo,enter:n8e,"enter-right":r8e,envelope:o8e,equal:i8e,"error-filled":s8e,"error-outline":ga,expand:v1e,"eye-closed":a8e,"eye-open":f6,filter:l8e,folder:y1e,generate:c8e,groq:u8e,"heart-filled":d8e,heart:f8e,"help-circle":qv,home:h8e,"ice-cream":p8e,image:Pl,"image-remove":m8e,images:g8e,"info-filled":v8e,"info-outline":Cm,"inline-element":b1e,inline:y8e,"insert-above":x1e,"insert-below":w1e,italic:C1e,joystick:b8e,json:x8e,launch:rh,leave:h6,lemon:w8e,link:Nf,"link-removed":C8e,lock:_8e,"logo-js":S8e,"logo-ts":k8e,"master-detail":_1e,menu:p6,"mobile-device":S1e,moon:m6,number:k1e,"ok-hand":E8e,olist:E1e,overage:j8e,package:T8e,"panel-left":A8e,"panel-right":D8e,pause:I8e,pin:O8e,"pin-removed":P8e,play:j1e,plug:T1e,presentation:R8e,publish:I0,"read-only":kw,redo:$8e,refresh:A1e,"remove-circle":M8e,remove:D1e,reset:Nu,restore:g6,retrieve:F8e,retry:L8e,revert:v6,robot:B8e,rocket:N8e,schema:z8e,search:ii,select:Wl,share:V8e,sort:y6,sparkle:H8e,sparkles:U8e,spinner:Ew,"split-horizontal":W8e,"split-vertical":I1e,square:Y8e,"stack-compact":O1e,stack:P1e,star:q8e,stop:G8e,strikethrough:R1e,string:bg,sun:b6,sync:O0,"tablet-device":K8e,tag:Z8e,tags:X8e,terminal:Q8e,text:J8e,"th-large":e9e,"th-list":t9e,tiers:n9e,"toggle-arrow-right":Aj,token:r9e,transfer:o9e,translate:i9e,trash:go,"trend-upward":s9e,"triangle-outline":a9e,trolley:l9e,truncate:c9e,twitter:u9e,ulist:sb,underline:$1e,undo:yk,unknown:jl,unlock:d9e,unpublish:bk,upload:Dj,user:f9e,users:Ij,"warning-filled":h9e,"warning-outline":jr,wrench:p9e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=m9e[r];return i?h.createElement(i,{...o,ref:n}):null});var M1e={exports:{}},g9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v9e=g9e,y9e=v9e;function F1e(){}function L1e(){}L1e.resetWarningCache=F1e;var b9e=function(){function e(r,o,i,s,a,c){if(c!==y9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:L1e,resetWarningCache:F1e};return n.PropTypes=n,n};M1e.exports=b9e();var B1e=M1e.exports;const xMn=Ae(B1e);var x9e=C9e,w9e=Object.prototype.hasOwnProperty;function C9e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)w9e.call(n,r)&&(e[r]=n[r])}return e}var N1e=z1e,x6=z1e.prototype;x6.space=null;x6.normal={};x6.property={};function z1e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var PV=x9e,_9e=N1e,S9e=k9e;function k9e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new _9e(PV.apply(null,n),PV.apply(null,r),s)}var w6=E9e;function E9e(e){return e.toLowerCase()}var V1e=H1e,rl=H1e.prototype;rl.space=null;rl.attribute=null;rl.property=null;rl.boolean=!1;rl.booleanish=!1;rl.overloadedBoolean=!1;rl.number=!1;rl.commaSeparated=!1;rl.spaceSeparated=!1;rl.commaOrSpaceSeparated=!1;rl.mustUseProperty=!1;rl.defined=!1;function H1e(e,t){this.property=e,this.attribute=t}var Uc={},j9e=0;Uc.boolean=_m();Uc.booleanish=_m();Uc.overloadedBoolean=_m();Uc.number=_m();Uc.spaceSeparated=_m();Uc.commaSeparated=_m();Uc.commaOrSpaceSeparated=_m();function _m(){return Math.pow(2,++j9e)}var U1e=V1e,RV=Uc,W1e=C6;C6.prototype=new U1e;C6.prototype.defined=!0;var Y1e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],T9e=Y1e.length;function C6(e,t,n,r){var o=-1,i;for($V(this,"space",r),U1e.call(this,e,t);++o<T9e;)i=Y1e[o],$V(this,i,(n&RV[i])===RV[i])}function $V(e,t,n){n&&(e[t]=n)}var MV=w6,A9e=N1e,D9e=W1e,jw=I9e;function I9e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new D9e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[MV(c)]=c,a[MV(u.attribute)]=c;return new A9e(s,a,t)}var O9e=jw,P9e=O9e({space:"xlink",transform:R9e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function R9e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var $9e=jw,M9e=$9e({space:"xml",transform:F9e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function F9e(e,t){return"xml:"+t.slice(3).toLowerCase()}var L9e=B9e;function B9e(e,t){return t in e?e[t]:t}var N9e=L9e,q1e=z9e;function z9e(e,t){return N9e(e,t.toLowerCase())}var V9e=jw,H9e=q1e,U9e=V9e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:H9e,properties:{xmlns:null,xmlnsXLink:null}}),_6=Uc,W9e=jw,vs=_6.booleanish,wa=_6.number,Ah=_6.spaceSeparated,Y9e=W9e({transform:q9e,properties:{ariaActiveDescendant:null,ariaAtomic:vs,ariaAutoComplete:null,ariaBusy:vs,ariaChecked:vs,ariaColCount:wa,ariaColIndex:wa,ariaColSpan:wa,ariaControls:Ah,ariaCurrent:null,ariaDescribedBy:Ah,ariaDetails:null,ariaDisabled:vs,ariaDropEffect:Ah,ariaErrorMessage:null,ariaExpanded:vs,ariaFlowTo:Ah,ariaGrabbed:vs,ariaHasPopup:null,ariaHidden:vs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ah,ariaLevel:wa,ariaLive:null,ariaModal:vs,ariaMultiLine:vs,ariaMultiSelectable:vs,ariaOrientation:null,ariaOwns:Ah,ariaPlaceholder:null,ariaPosInSet:wa,ariaPressed:vs,ariaReadOnly:vs,ariaRelevant:null,ariaRequired:vs,ariaRoleDescription:Ah,ariaRowCount:wa,ariaRowIndex:wa,ariaRowSpan:wa,ariaSelected:vs,ariaSetSize:wa,ariaSort:null,ariaValueMax:wa,ariaValueMin:wa,ariaValueNow:wa,ariaValueText:null,role:null}});function q9e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var P0=Uc,G9e=jw,K9e=q1e,Rt=P0.boolean,Z9e=P0.overloadedBoolean,L1=P0.booleanish,tr=P0.number,qi=P0.spaceSeparated,XC=P0.commaSeparated,X9e=G9e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:K9e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:XC,acceptCharset:qi,accessKey:qi,action:null,allow:null,allowFullScreen:Rt,allowPaymentRequest:Rt,allowUserMedia:Rt,alt:null,as:null,async:Rt,autoCapitalize:null,autoComplete:qi,autoFocus:Rt,autoPlay:Rt,capture:Rt,charSet:null,checked:Rt,cite:null,className:qi,cols:tr,colSpan:null,content:null,contentEditable:L1,controls:Rt,controlsList:qi,coords:tr|XC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Rt,defer:Rt,dir:null,dirName:null,disabled:Rt,download:Z9e,draggable:L1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Rt,formTarget:null,headers:qi,height:tr,hidden:Rt,high:tr,href:null,hrefLang:null,htmlFor:qi,httpEquiv:qi,id:null,imageSizes:null,imageSrcSet:XC,inputMode:null,integrity:null,is:null,isMap:Rt,itemId:null,itemProp:qi,itemRef:qi,itemScope:Rt,itemType:qi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Rt,low:tr,manifest:null,max:null,maxLength:tr,media:null,method:null,min:null,minLength:tr,multiple:Rt,muted:Rt,name:null,nonce:null,noModule:Rt,noValidate:Rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Rt,optimum:tr,pattern:null,ping:qi,placeholder:null,playsInline:Rt,poster:null,preload:null,readOnly:Rt,referrerPolicy:null,rel:qi,required:Rt,reversed:Rt,rows:tr,rowSpan:tr,sandbox:qi,scope:null,scoped:Rt,seamless:Rt,selected:Rt,shape:null,size:tr,sizes:null,slot:null,span:tr,spellCheck:L1,src:null,srcDoc:null,srcLang:null,srcSet:XC,start:tr,step:null,style:null,tabIndex:tr,target:null,title:null,translate:null,type:null,typeMustMatch:Rt,useMap:null,value:L1,width:tr,wrap:null,align:null,aLink:null,archive:qi,axis:null,background:null,bgColor:null,border:tr,borderColor:null,bottomMargin:tr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Rt,declare:Rt,event:null,face:null,frame:null,frameBorder:null,hSpace:tr,leftMargin:tr,link:null,longDesc:null,lowSrc:null,marginHeight:tr,marginWidth:tr,noResize:Rt,noHref:Rt,noShade:Rt,noWrap:Rt,object:null,profile:null,prompt:null,rev:null,rightMargin:tr,rules:null,scheme:null,scrolling:L1,standby:null,summary:null,text:null,topMargin:tr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:tr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Rt,disableRemotePlayback:Rt,prefix:null,property:null,results:tr,security:null,unselectable:null}}),Q9e=S9e,J9e=P9e,e7e=M9e,t7e=U9e,n7e=Y9e,r7e=X9e,o7e=Q9e([e7e,J9e,t7e,n7e,r7e]),i7e=w6,s7e=W1e,a7e=V1e,S6="data",l7e=d7e,c7e=/^data[-\w.:]+$/i,G1e=/-[a-z]/g,u7e=/[A-Z]/g;function d7e(e,t){var n=i7e(t),r=t,o=a7e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===S6&&c7e.test(t)&&(t.charAt(4)==="-"?r=f7e(t):t=h7e(t),o=s7e),new o(r,t))}function f7e(e){var t=e.slice(5).replace(G1e,m7e);return S6+t.charAt(0).toUpperCase()+t.slice(1)}function h7e(e){var t=e.slice(4);return G1e.test(t)?e:(t=t.replace(u7e,p7e),t.charAt(0)!=="-"&&(t="-"+t),S6+t)}function p7e(e){return"-"+e.toLowerCase()}function m7e(e){return e.charAt(1).toUpperCase()}var g7e=v7e,FV=/[#.]/g;function v7e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)FV.lastIndex=i,c=FV.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var k6={};k6.parse=x7e;k6.stringify=w7e;var LV="",y7e=" ",b7e=/[ \t\n\r\f]+/g;function x7e(e){var t=String(e||LV).trim();return t===LV?[]:t.split(b7e)}function w7e(e){return e.join(y7e).trim()}var E6={};E6.parse=C7e;E6.stringify=_7e;var fR=",",BV=" ",Iy="";function C7e(e){for(var t=[],n=String(e||Iy),r=n.indexOf(fR),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(fR,o);return t}function _7e(e,t){var n=t||{},r=n.padLeft===!1?Iy:BV,o=n.padRight?BV:Iy;return e[e.length-1]===Iy&&(e=e.concat(Iy)),e.join(o+fR+r).trim()}var S7e=l7e,NV=w6,k7e=g7e,zV=k6.parse,VV=E6.parse,E7e=T7e,j7e={}.hasOwnProperty;function T7e(e,t,n){var r=n?P7e(n):null;return o;function o(s,a){var c=k7e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&j7e.call(r,d)?r[d]:d,a&&A7e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return K1e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=S7e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=zV(f):u.commaSeparated?f=VV(f):u.commaOrSpaceSeparated&&(f=zV(VV(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=O7e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=I7e(u,d,f))}}function A7e(e,t){return typeof e=="string"||"length"in e||D7e(t.tagName,e)}function D7e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function K1e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)K1e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function I7e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return HV(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=HV(e,t,n[r]);return i}function HV(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||NV(n)===NV(t))&&(r=!0),r}function O7e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function P7e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var R7e=o7e,$7e=E7e,Z1e=$7e(R7e,"div");Z1e.displayName="html";var M7e=Z1e,F7e=M7e;const L7e="Æ",B7e="&",N7e="Á",z7e="Â",V7e="À",H7e="Å",U7e="Ã",W7e="Ä",Y7e="©",q7e="Ç",G7e="Ð",K7e="É",Z7e="Ê",X7e="È",Q7e="Ë",J7e=">",eBe="Í",tBe="Î",nBe="Ì",rBe="Ï",oBe="<",iBe="Ñ",sBe="Ó",aBe="Ô",lBe="Ò",cBe="Ø",uBe="Õ",dBe="Ö",fBe='"',hBe="®",pBe="Þ",mBe="Ú",gBe="Û",vBe="Ù",yBe="Ü",bBe="Ý",xBe="á",wBe="â",CBe="´",_Be="æ",SBe="à",kBe="&",EBe="å",jBe="ã",TBe="ä",ABe="¦",DBe="ç",IBe="¸",OBe="¢",PBe="©",RBe="¤",$Be="°",MBe="÷",FBe="é",LBe="ê",BBe="è",NBe="ð",zBe="ë",VBe="½",HBe="¼",UBe="¾",WBe=">",YBe="í",qBe="î",GBe="¡",KBe="ì",ZBe="¿",XBe="ï",QBe="«",JBe="<",eNe="¯",tNe="µ",nNe="·",rNe=" ",oNe="¬",iNe="ñ",sNe="ó",aNe="ô",lNe="ò",cNe="ª",uNe="º",dNe="ø",fNe="õ",hNe="ö",pNe="¶",mNe="±",gNe="£",vNe='"',yNe="»",bNe="®",xNe="§",wNe="­",CNe="¹",_Ne="²",SNe="³",kNe="ß",ENe="þ",jNe="×",TNe="ú",ANe="û",DNe="ù",INe="¨",ONe="ü",PNe="ý",RNe="¥",$Ne="ÿ",MNe={AElig:L7e,AMP:B7e,Aacute:N7e,Acirc:z7e,Agrave:V7e,Aring:H7e,Atilde:U7e,Auml:W7e,COPY:Y7e,Ccedil:q7e,ETH:G7e,Eacute:K7e,Ecirc:Z7e,Egrave:X7e,Euml:Q7e,GT:J7e,Iacute:eBe,Icirc:tBe,Igrave:nBe,Iuml:rBe,LT:oBe,Ntilde:iBe,Oacute:sBe,Ocirc:aBe,Ograve:lBe,Oslash:cBe,Otilde:uBe,Ouml:dBe,QUOT:fBe,REG:hBe,THORN:pBe,Uacute:mBe,Ucirc:gBe,Ugrave:vBe,Uuml:yBe,Yacute:bBe,aacute:xBe,acirc:wBe,acute:CBe,aelig:_Be,agrave:SBe,amp:kBe,aring:EBe,atilde:jBe,auml:TBe,brvbar:ABe,ccedil:DBe,cedil:IBe,cent:OBe,copy:PBe,curren:RBe,deg:$Be,divide:MBe,eacute:FBe,ecirc:LBe,egrave:BBe,eth:NBe,euml:zBe,frac12:VBe,frac14:HBe,frac34:UBe,gt:WBe,iacute:YBe,icirc:qBe,iexcl:GBe,igrave:KBe,iquest:ZBe,iuml:XBe,laquo:QBe,lt:JBe,macr:eNe,micro:tNe,middot:nNe,nbsp:rNe,not:oNe,ntilde:iNe,oacute:sNe,ocirc:aNe,ograve:lNe,ordf:cNe,ordm:uNe,oslash:dNe,otilde:fNe,ouml:hNe,para:pNe,plusmn:mNe,pound:gNe,quot:vNe,raquo:yNe,reg:bNe,sect:xNe,shy:wNe,sup1:CNe,sup2:_Ne,sup3:SNe,szlig:kNe,thorn:ENe,times:jNe,uacute:TNe,ucirc:ANe,ugrave:DNe,uml:INe,uuml:ONe,yacute:PNe,yen:RNe,yuml:$Ne},FNe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var X1e=LNe;function LNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var BNe=NNe;function NNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var zNe=VNe;function VNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var HNe=zNe,UNe=X1e,WNe=YNe;function YNe(e){return HNe(e)||UNe(e)}var QC,qNe=59,GNe=KNe;function KNe(e){var t="&"+e+";",n;return QC=QC||document.createElement("i"),QC.innerHTML=t,n=QC.textContent,n.charCodeAt(n.length-1)===qNe&&e!=="semi"||n===t?!1:n}var UV=MNe,WV=FNe,ZNe=X1e,XNe=BNe,Q1e=WNe,QNe=GNe,JNe=fze,eze={}.hasOwnProperty,eg=String.fromCharCode,tze=Function.prototype,YV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},nze=9,qV=10,rze=12,oze=32,GV=38,ize=59,sze=60,aze=61,lze=35,cze=88,uze=120,dze=65533,xg="named",j6="hexadecimal",T6="decimal",A6={};A6[j6]=16;A6[T6]=10;var Oj={};Oj[xg]=Q1e;Oj[T6]=ZNe;Oj[j6]=XNe;var J1e=1,eye=2,tye=3,nye=4,rye=5,hR=6,oye=7,oh={};oh[J1e]="Named character references must be terminated by a semicolon";oh[eye]="Numeric character references must be terminated by a semicolon";oh[tye]="Named character references cannot be empty";oh[nye]="Numeric character references cannot be empty";oh[rye]="Named character references must be known";oh[hR]="Numeric character references cannot be disallowed";oh[oye]="Numeric character references cannot be outside the permissible Unicode range";function fze(e,t){var n={},r,o;t||(t={});for(o in YV)r=t[o],n[o]=r??YV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),hze(e,n)}function hze(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,g=-1,v=d.column||1,b=d.line||1,x="",y=[],w,C,_,S,k,j,E,T,A,D,I,O,$,R,z,F,H,W,V;for(typeof n=="string"&&(n=n.charCodeAt(0)),F=q(),T=s?oe:tze,m--,p++;++m<p;)if(k===qV&&(v=f[g]||1),k=e.charCodeAt(m),k===GV){if(E=e.charCodeAt(m+1),E===nze||E===qV||E===rze||E===oze||E===GV||E===sze||E!==E||n&&E===n){x+=eg(k),v++;continue}for($=m+1,O=$,V=$,E===lze?(V=++O,E=e.charCodeAt(V),E===cze||E===uze?(R=j6,V=++O):R=T6):R=xg,w="",I="",S="",z=Oj[R],V--;++V<p&&(E=e.charCodeAt(V),!!z(E));)S+=eg(E),R===xg&&eze.call(UV,S)&&(w=S,I=UV[S]);_=e.charCodeAt(V)===ize,_&&(V++,C=R===xg?QNe(S):!1,C&&(w=S,I=C)),W=1+V-$,!_&&!r||(S?R===xg?(_&&!I?T(rye,1):(w!==S&&(V=O+w.length,W=1+V-O,_=!1),_||(A=w?J1e:tye,t.attribute?(E=e.charCodeAt(V),E===aze?(T(A,W),I=null):Q1e(E)?I=null:T(A,W)):T(A,W))),j=I):(_||T(eye,W),j=parseInt(S,A6[R]),pze(j)?(T(oye,W),j=eg(dze)):j in WV?(T(hR,W),j=WV[j]):(D="",mze(j)&&T(hR,W),j>65535&&(j-=65536,D+=eg(j>>>10|55296),j=56320|j&1023),j=D+eg(j))):R!==xg&&T(nye,W)),j?(N(),F=q(),m=V-1,v+=V-$+1,y.push(j),H=q(),H.offset++,i&&i.call(c,j,{start:F,end:H},e.slice($-1,V)),F=H):(S=e.slice($-1,V),x+=S,v+=S.length,m=V-1)}else k===10&&(b++,g++,v=0),k===k?(x+=eg(k),v++):N();return y.join("");function q(){return{line:b,column:v,offset:m+(d.offset||0)}}function oe(G,Y){var K=q();K.column+=Y,K.offset+=Y,s.call(u,oh[G],K,G)}function N(){x&&(y.push(x),o&&o.call(a,x,{start:F,end:q()}),x="")}}function pze(e){return e>=55296&&e<=57343||e>1114111}function mze(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var iye={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof c?new c(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var k in w)w.hasOwnProperty(k)&&(_[k]=y(w[k],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,E){_[E]=y(j,C)}),_);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==y)return w[C]}return null}},isActive:function(y,w,C){for(var _="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;y=y.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var C=a.util.clone(a.languages[y]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(y,w,C,_){_=_||a.languages;var S=_[y],k={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var E in C)C.hasOwnProperty(E)&&(k[E]=C[E]);C.hasOwnProperty(j)||(k[j]=S[j])}var T=_[y];return _[y]=k,a.languages.DFS(a.languages,function(A,D){D===T&&A!=y&&(this[A]=k)}),k},DFS:function y(w,C,_,S){S=S||{};var k=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var E=w[j],T=a.util.type(E);T==="Object"&&!S[k(E)]?(S[k(E)]=!0,y(E,C,null,S)):T==="Array"&&!S[k(E)]&&(S[k(E)]=!0,y(E,C,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,C){var _={callback:C,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,k;k=_.elements[S++];)a.highlightElement(k,w===!0,_.callback)},highlightElement:function(y,w,C){var _=a.util.getLanguage(y),S=a.languages[_];a.util.setLanguage(y,_);var k=y.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,_);var j=y.textContent,E={element:y,language:_,grammar:S,code:j};function T(D){E.highlightedCode=D,a.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,a.hooks.run("after-highlight",E),a.hooks.run("complete",E),C&&C.call(E.element)}if(a.hooks.run("before-sanity-check",E),k=E.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!E.code){a.hooks.run("complete",E),C&&C.call(E.element);return}if(a.hooks.run("before-highlight",E),!E.grammar){T(a.util.encode(E.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else T(a.highlight(E.code,E.grammar,E.language))},highlight:function(y,w,C){var _={code:y,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(y,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),g(S)},hooks:{all:{},add:function(y,w){var C=a.hooks.all;C[y]=C[y]||[],C[y].push(w)},run:function(y,w){var C=a.hooks.all[y];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(y,w,C,_){this.type=y,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function y(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=y(T,C)}),_}var S={type:w.type,content:y(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},k=w.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(S.classes,k):S.classes.push(k)),a.hooks.run("wrap",S);var j="";for(var E in S.attributes)j+=" "+E+'="'+(S.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,C,_){y.lastIndex=w;var S=y.exec(C);if(S&&_&&S[1]){var k=S[1].length;S.index+=k,S[0]=S[0].slice(k)}return S}function d(y,w,C,_,S,k){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var E=C[j];E=Array.isArray(E)?E:[E];for(var T=0;T<E.length;++T){if(k&&k.cause==j+","+T)return;var A=E[T],D=A.inside,I=!!A.lookbehind,O=!!A.greedy,$=A.alias;if(O&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var z=A.pattern||A,F=_.next,H=S;F!==w.tail&&!(k&&H>=k.reach);H+=F.value.length,F=F.next){var W=F.value;if(w.length>y.length)return;if(!(W instanceof c)){var V=1,q;if(O){if(q=u(z,H,y,I),!q||q.index>=y.length)break;var Y=q.index,oe=q.index+q[0].length,N=H;for(N+=F.value.length;Y>=N;)F=F.next,N+=F.value.length;if(N-=F.value.length,H=N,F.value instanceof c)continue;for(var G=F;G!==w.tail&&(N<oe||typeof G.value=="string");G=G.next)V++,N+=G.value.length;V--,W=y.slice(H,N),q.index-=H}else if(q=u(z,0,W,I),!q)continue;var Y=q.index,K=q[0],X=W.slice(0,Y),Q=W.slice(Y+K.length),Z=H+W.length;k&&Z>k.reach&&(k.reach=Z);var ne=F.prev;X&&(ne=p(w,ne,X),H+=X.length),m(w,ne,V);var ae=new c(j,D?a.tokenize(K,D):K,$,K);if(F=p(w,ne,ae),Q&&p(w,F,Q),V>1){var me={cause:j+","+T,reach:Z};d(y,w,C,F.prev,H,me),k&&me.reach>k.reach&&(k.reach=me.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,y.length++,S}function m(y,w,C){for(var _=w.next,S=0;S<C&&_!==y.tail;S++)_=_.next;w.next=_,_.prev=w,y.length-=S}function g(y){for(var w=[],C=y.head.next;C!==y.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var v=a.util.currentScript();v&&(a.filename=v.src,v.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a}(t);e.exports&&(e.exports=n),typeof As<"u"&&(As.Prism=n)})(iye);var gze=iye.exports,vze=D6;D6.displayName="markup";D6.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function D6(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var yze=I6;I6.displayName="css";I6.aliases=[];function I6(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var bze=O6;O6.displayName="clike";O6.aliases=[];function O6(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var sye=P6;P6.displayName="javascript";P6.aliases=["js"];function P6(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const xze=Ae(sye);var Oy=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof As=="object"?As:{},wze=Fze();Oy.Prism={manual:!0,disableWorkerMessageHandler:!0};var Cze=F7e,_ze=JNe,aye=gze,Sze=vze,kze=yze,Eze=bze,jze=sye;wze();var R6={}.hasOwnProperty;function lye(){}lye.prototype=aye;var ho=new lye,Tze=ho;ho.highlight=Dze;ho.register=Tw;ho.alias=Aze;ho.registered=Ize;ho.listLanguages=Oze;Tw(Sze);Tw(kze);Tw(Eze);Tw(jze);ho.util.encode=$ze;ho.Token.stringify=Pze;function Tw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");ho.languages[e.displayName]===void 0&&e(ho)}function Aze(e,t){var n=ho.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function Dze(e,t){var n=aye.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(ho.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(R6.call(ho.languages,t))r=ho.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function Ize(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return R6.call(ho.languages,e)}function Oze(){var e=ho.languages,t=[],n;for(n in e)R6.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function Pze(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:ho.util.type(e)==="Array"?Rze(e,t):(r={type:e.type,content:ho.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),ho.hooks.run("wrap",r),Cze(r.tag+"."+r.classes.join("."),Mze(r.attributes),r.content))}function Rze(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=ho.Token.stringify(i,t,n);return n}function $ze(e){return e}function Mze(e){var t;for(t in e)e[t]=_ze(e[t]);return e}function Fze(){var e="Prism"in Oy,t=e?Oy.Prism:void 0;return n;function n(){e?Oy.Prism=t:delete Oy.Prism,e=void 0,t=void 0}}var cye={},Lze=h;function Bze(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return Lze.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(uye(n+1)))}return e.value}function uye(e){return function(n,r){return Bze(n,r,e)}}cye.depth=uye;var dye=fye;function fye(e){if(e==null)return Hze;if(typeof e=="string")return Vze(e);if(typeof e=="object")return"length"in e?zze(e):Nze(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function Nze(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function zze(e){for(var t=[],n=-1;++n<e.length;)t[n]=fye(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function Vze(e){return t;function t(n){return!!(n&&n.type===e)}}function Hze(){return!0}var Uze=dye,Wze=qze,Yze={}.hasOwnProperty;function qze(e,t,n){var r=Uze(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)Yze.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var Gze=Kze;function Kze(e){return e}var Zze=Pj,Xze=dye,Qze=Gze,hye=!0,pye="skip",pR=!1;Pj.CONTINUE=hye;Pj.SKIP=pye;Pj.EXIT=pR;function Pj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=Xze(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+Qze(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),g=[],v,b;if((!t||i(a,c,u[u.length-1]||null))&&(g=Jze(n(a,u)),g[0]===pR))return g;if(a.children&&g[0]!==pye)for(b=(r?a.children.length:-1)+o;b>-1&&b<a.children.length;){if(v=s(a.children[b],b,m)(),v[0]===pR)return v;b=typeof v[1]=="number"?v[1]:b+o}return g}}}function Jze(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[hye,e]:[e]}var eVe=typeof WeakMap=="function"?Aw:Dw;function Aw(){this.map=new WeakMap}Aw.prototype.has=function(e){return this.map.has(e)};Aw.prototype.set=function(e,t){return this.map.set(e,t),this};Aw.prototype.get=function(e){return this.map.get(e)};Aw.prototype.clear=function(){};function Dw(){this.keys=[],this.values=[]}Dw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};Dw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};Dw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};Dw.prototype.clear=function(){this.keys=[],this.values=[]};var tVe=Wze,KV=Zze,KD=eVe;function mye(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=mye(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function nVe(e,t){var n={type:"root",children:t},r=new KD,o=new KD,i=new KD,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var g=m.length;g--;){var v=f.get(m[g]),b=m[g+1],x=f.get(b)||p;v.children.indexOf(x)===-1&&v.children.push(x)}}KV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=tVe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(KV(m,function(g,v){if(g.children){g.lineStart=0,g.lineEnd=0;return}v.forEach(function(b){b.lineStart=Math.max(b.lineStart,g.lineStart),b.lineEnd=Math.max(b.lineEnd,g.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function rVe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function oVe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return nVe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(rVe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function iVe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=mye(e).nodes;return oVe(r,n,t)}var sVe=iVe,aVe=h,Vs=B1e,$6=Tze,lVe=cye,cVe=sVe,ZV=aVe.createElement;function Iw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=$6.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=cVe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(lVe.depth(0)),s=ZV("code",n,i);return e.inline?s:ZV("pre",r,s)}Iw.propTypes={className:Vs.string,inline:Vs.bool,language:Vs.string.isRequired,value:Vs.string.isRequired,markers:Vs.arrayOf(Vs.oneOfType([Vs.number,Vs.shape({line:Vs.number.isRequired,className:Vs.string,component:Vs.oneOfType([Vs.node,Vs.func])})]))};Iw.defaultProps={className:"refractor",inline:!1};Iw.registerLanguage=function(e){return $6.register(e)};Iw.hasLanguage=function(e){return $6.registered(e)};var uVe=Iw;const qp=Ae(uVe),dVe=["top","right","bottom","left"],Gv=Math.min,Ap=Math.max,xk=Math.round,JC=Math.floor,zf=e=>({x:e,y:e}),fVe={left:"right",right:"left",bottom:"top",top:"bottom"},hVe={start:"end",end:"start"};function mR(e,t,n){return Ap(e,Gv(t,n))}function R0(e,t){return typeof e=="function"?e(t):e}function Gp(e){return e.split("-")[0]}function Ow(e){return e.split("-")[1]}function gye(e){return e==="x"?"y":"x"}function M6(e){return e==="y"?"height":"width"}function Rj(e){return["top","bottom"].includes(Gp(e))?"y":"x"}function F6(e){return gye(Rj(e))}function pVe(e,t,n){n===void 0&&(n=!1);const r=Ow(e),o=F6(e),i=M6(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=wk(s)),[s,wk(s)]}function mVe(e){const t=wk(e);return[gR(e),t,gR(t)]}function gR(e){return e.replace(/start|end/g,t=>hVe[t])}function gVe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function vVe(e,t,n,r){const o=Ow(e);let i=gVe(Gp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(gR)))),i}function wk(e){return e.replace(/left|right|bottom|top/g,t=>fVe[t])}function yVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function vye(e){return typeof e!="number"?yVe(e):{top:e,right:e,bottom:e,left:e}}function Ck(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function XV(e,t,n){let{reference:r,floating:o}=e;const i=Rj(t),s=F6(t),a=M6(s),c=Gp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ow(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const bVe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=XV(u,r,c),p=r,m={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:x}=a[v],{x:y,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[b]:{...m[b],...C}},_&&g<=50){g++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=XV(u,p,c)),v=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Qb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=R0(t,e),g=vye(m),b=a[p?f==="floating"?"reference":"floating":f],x=Ck(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Ck(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-_.top+g.top)/C.y,bottom:(_.bottom-x.bottom+g.bottom)/C.y,left:(x.left-_.left+g.left)/C.x,right:(_.right-x.right+g.right)/C.x}}const QV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=R0(e,t)||{};if(u==null)return{};const f=vye(d),p={x:n,y:r},m=F6(o),g=M6(m),v=await s.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[m]-p[m]-i.floating[g],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=S?S[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(S)))&&(k=a.floating[w]||i.floating[g]);const j=C/2-_/2,E=k/2-v[g]/2-1,T=Gv(f[x],E),A=Gv(f[y],E),D=T,I=k-v[g]-A,O=k/2-v[g]/2+j,$=mR(D,O,I),R=!c.arrow&&Ow(o)!=null&&O!=$&&i.reference[g]/2-(O<D?T:A)-v[g]/2<0,z=R?O<D?O-D:O-I:0;return{[m]:p[m]+z,data:{[m]:$,centerOffset:O-$-z,...R&&{alignmentOffset:z}},reset:R}}}),yye=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=R0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Gp(o),y=Gp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(y||!v?[wk(a)]:mVe(a));!p&&g!=="none"&&C.push(...vVe(a,v,g,w));const _=[a,...C],S=await Qb(t,b),k=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(S[x]),f){const D=pVe(o,s,w);k.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:k}],!k.every(D=>D<=0)){var E,T;const D=(((E=i.flip)==null?void 0:E.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let O=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(z=>z>0).reduce((z,F)=>z+F,0)]).sort((R,z)=>R[1]-z[1])[0])==null?void 0:A[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function JV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eH(e){return dVe.some(t=>e[t]>=0)}const xVe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=R0(e,t);switch(r){case"referenceHidden":{const i=await Qb(t,{...o,elementContext:"reference"}),s=JV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:eH(s)}}}case"escaped":{const i=await Qb(t,{...o,altBoundary:!0}),s=JV(i,n.floating);return{data:{escapedOffsets:s,escaped:eH(s)}}}default:return{}}}}};async function wVe(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Gp(n),a=Ow(n),c=Rj(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=R0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const bye=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await wVe(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},xye=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...c}=R0(e,t),u={x:n,y:r},d=await Qb(t,c),f=Rj(Gp(o)),p=gye(f);let m=u[p],g=u[f];if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=mR(y,m,w)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+d[b],w=g-d[x];g=mR(y,g,w)}const v=a.fn({...t,[p]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Vf(e){return wye(e)?(e.nodeName||"").toLowerCase():"#document"}function sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dd(e){var t;return(t=(wye(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wye(e){return e instanceof Node||e instanceof sa(e).Node}function zu(e){return e instanceof Element||e instanceof sa(e).Element}function Lc(e){return e instanceof HTMLElement||e instanceof sa(e).HTMLElement}function tH(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sa(e).ShadowRoot}function Pw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=qa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function CVe(e){return["table","td","th"].includes(Vf(e))}function L6(e){const t=B6(),n=qa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _Ve(e){let t=Kv(e);for(;Lc(t)&&!$j(t);){if(L6(t))return t;t=Kv(t)}return null}function B6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $j(e){return["html","body","#document"].includes(Vf(e))}function qa(e){return sa(e).getComputedStyle(e)}function Mj(e){return zu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Kv(e){if(Vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tH(e)&&e.host||dd(e);return tH(t)?t.host:t}function Cye(e){const t=Kv(e);return $j(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lc(t)&&Pw(t)?t:Cye(t)}function Jb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Cye(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=sa(o);return i?t.concat(s,s.visualViewport||[],Pw(o)?o:[],s.frameElement&&n?Jb(s.frameElement):[]):t.concat(o,Jb(o,[],n))}function _ye(e){const t=qa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Lc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=xk(n)!==i||xk(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function N6(e){return zu(e)?e:e.contextElement}function cv(e){const t=N6(e);if(!Lc(t))return zf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=_ye(t);let s=(i?xk(n.width):n.width)/r,a=(i?xk(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const SVe=zf(0);function Sye(e){const t=sa(e);return!B6()||!t.visualViewport?SVe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kVe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sa(e)?!1:t}function Kp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=N6(e);let s=zf(1);t&&(r?zu(r)&&(s=cv(r)):s=cv(e));const a=kVe(i,n,r)?Sye(i):zf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=sa(i),m=r&&zu(r)?sa(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const v=cv(g),b=g.getBoundingClientRect(),x=qa(g),y=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=y,u+=w,g=sa(g).frameElement}}return Ck({width:d,height:f,x:c,y:u})}function EVe(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Lc(n),i=dd(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=zf(1);const c=zf(0);if((o||!o&&r!=="fixed")&&((Vf(n)!=="body"||Pw(i))&&(s=Mj(n)),Lc(n))){const u=Kp(n);a=cv(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function jVe(e){return Array.from(e.getClientRects())}function kye(e){return Kp(dd(e)).left+Mj(e).scrollLeft}function TVe(e){const t=dd(e),n=Mj(e),r=e.ownerDocument.body,o=Ap(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ap(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+kye(e);const a=-n.scrollTop;return qa(r).direction==="rtl"&&(s+=Ap(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function AVe(e,t){const n=sa(e),r=dd(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=B6();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function DVe(e,t){const n=Kp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Lc(e)?cv(e):zf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function nH(e,t,n){let r;if(t==="viewport")r=AVe(e,n);else if(t==="document")r=TVe(dd(e));else if(zu(t))r=DVe(t,n);else{const o=Sye(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ck(r)}function Eye(e,t){const n=Kv(e);return n===t||!zu(n)||$j(n)?!1:qa(n).position==="fixed"||Eye(n,t)}function IVe(e,t){const n=t.get(e);if(n)return n;let r=Jb(e,[],!1).filter(a=>zu(a)&&Vf(a)!=="body"),o=null;const i=qa(e).position==="fixed";let s=i?Kv(e):e;for(;zu(s)&&!$j(s);){const a=qa(s),c=L6(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Pw(s)&&!c&&Eye(e,s))?r=r.filter(d=>d!==s):o=a,s=Kv(s)}return t.set(e,r),r}function OVe(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?IVe(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=nH(t,d,o);return u.top=Ap(f.top,u.top),u.right=Gv(f.right,u.right),u.bottom=Gv(f.bottom,u.bottom),u.left=Ap(f.left,u.left),u},nH(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PVe(e){return _ye(e)}function RVe(e,t,n){const r=Lc(t),o=dd(t),i=n==="fixed",s=Kp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=zf(0);if(r||!r&&!i)if((Vf(t)!=="body"||Pw(o))&&(a=Mj(t)),r){const u=Kp(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=kye(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function rH(e,t){return!Lc(e)||qa(e).position==="fixed"?null:t?t(e):e.offsetParent}function jye(e,t){const n=sa(e);if(!Lc(e))return n;let r=rH(e,t);for(;r&&CVe(r)&&qa(r).position==="static";)r=rH(r,t);return r&&(Vf(r)==="html"||Vf(r)==="body"&&qa(r).position==="static"&&!L6(r))?n:r||_Ve(e)||n}const $Ve=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||jye,i=this.getDimensions;return{reference:RVe(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function MVe(e){return qa(e).direction==="rtl"}const FVe={convertOffsetParentRelativeRectToViewportRelativeRect:EVe,getDocumentElement:dd,getClippingRect:OVe,getOffsetParent:jye,getElementRects:$Ve,getClientRects:jVe,getDimensions:PVe,getScale:cv,isElement:zu,isRTL:MVe};function LVe(e,t){let n=null,r;const o=dd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=JC(d),g=JC(o.clientWidth-(u+f)),v=JC(o.clientHeight-(d+p)),b=JC(u),y={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Ap(0,Gv(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return s(!0),i}function Tye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=N6(e),d=o||i?[...u?Jb(u):[],...Jb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?LVe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,v=c?Kp(e):null;c&&b();function b(){const x=Kp(e);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,g=requestAnimationFrame(b)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const BVe=(e,t,n)=>{const r=new Map,o={platform:FVe,...n},i={...o.platform,_c:r};return bVe(e,t,{...o,platform:i})};var Aye={exports:{}},va={},Dye={exports:{}},Iye={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,H){var W=F.length;F.push(H);e:for(;0<W;){var V=W-1>>>1,q=F[V];if(0<o(q,H))F[V]=H,F[W]=q,W=V;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],W=F.pop();if(W!==H){F[0]=W;e:for(var V=0,q=F.length,oe=q>>>1;V<oe;){var N=2*(V+1)-1,G=F[N],Y=N+1,K=F[Y];if(0>o(G,W))Y<q&&0>o(K,G)?(F[V]=K,F[Y]=W,V=Y):(F[V]=G,F[N]=W,V=N);else if(Y<q&&0>o(K,W))F[V]=K,F[Y]=W,V=Y;else break e}}return H}function o(F,H){var W=F.sortIndex-H.sortIndex;return W!==0?W:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=F)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function C(F){if(v=!1,w(F),!g)if(n(c)!==null)g=!0,R(_);else{var H=n(u);H!==null&&z(C,H.startTime-F)}}function _(F,H){g=!1,v&&(v=!1,x(j),j=-1),m=!0;var W=p;try{for(w(H),f=n(c);f!==null&&(!(f.expirationTime>H)||F&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var q=V(f.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),w(H)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var N=n(u);N!==null&&z(C,N.startTime-H),oe=!1}return oe}finally{f=null,p=W,m=!1}}var S=!1,k=null,j=-1,E=5,T=-1;function A(){return!(e.unstable_now()-T<E)}function D(){if(k!==null){var F=e.unstable_now();T=F;var H=!0;try{H=k(!0,F)}finally{H?I():(S=!1,k=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){b(D,0)};function R(F){k=F,S||(S=!0,I())}function z(F,H){j=b(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(_))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var W=p;p=H;try{return F()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=p;p=F;try{return H()}finally{p=W}},e.unstable_scheduleCallback=function(F,H,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:d++,callback:H,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>V?(F.sortIndex=W,t(u,F),n(c)===null&&F===n(u)&&(v?(x(j),j=-1):v=!0,z(C,W-V))):(F.sortIndex=q,t(c,F),g||m||(g=!0,R(_))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var H=p;return function(){var W=p;p=H;try{return F.apply(this,arguments)}finally{p=W}}}})(Iye);Dye.exports=Iye;var NVe=Dye.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oye=h,ca=NVe;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pye=new Set,ex={};function Sm(e,t){Zv(e,t),Zv(e+"Capture",t)}function Zv(e,t){for(ex[e]=t,e=0;e<t.length;e++)Pye.add(t[e])}var Vu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vR=Object.prototype.hasOwnProperty,zVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oH={},iH={};function VVe(e){return vR.call(iH,e)?!0:vR.call(oH,e)?!1:zVe.test(e)?iH[e]=!0:(oH[e]=!0,!1)}function HVe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UVe(e,t,n,r){if(t===null||typeof t>"u"||HVe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){li[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];li[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){li[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){li[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){li[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){li[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){li[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){li[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){li[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var z6=/[\-:]([a-z])/g;function V6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z6,V6);li[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z6,V6);li[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z6,V6);li[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){li[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});li.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){li[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function H6(e,t,n,r){var o=li.hasOwnProperty(t)?li[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UVe(t,n,o,r)&&(n=null),r||o===null?VVe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fd=Oye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e2=Symbol.for("react.element"),Mg=Symbol.for("react.portal"),Fg=Symbol.for("react.fragment"),U6=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),Rye=Symbol.for("react.provider"),$ye=Symbol.for("react.context"),W6=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),xR=Symbol.for("react.suspense_list"),Y6=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),Mye=Symbol.for("react.offscreen"),sH=Symbol.iterator;function B1(e){return e===null||typeof e!="object"?null:(e=sH&&e[sH]||e["@@iterator"],typeof e=="function"?e:null)}var Fr=Object.assign,ZD;function Py(e){if(ZD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ZD=t&&t[1]||""}return`
`+ZD+e}var XD=!1;function QD(e,t){if(!e||XD)return"";XD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{XD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Py(e):""}function WVe(e){switch(e.tag){case 5:return Py(e.type);case 16:return Py("Lazy");case 13:return Py("Suspense");case 19:return Py("SuspenseList");case 0:case 2:case 15:return e=QD(e.type,!1),e;case 11:return e=QD(e.type.render,!1),e;case 1:return e=QD(e.type,!0),e;default:return""}}function wR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fg:return"Fragment";case Mg:return"Portal";case yR:return"Profiler";case U6:return"StrictMode";case bR:return"Suspense";case xR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $ye:return(e.displayName||"Context")+".Consumer";case Rye:return(e._context.displayName||"Context")+".Provider";case W6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y6:return t=e.displayName||null,t!==null?t:wR(e.type)||"Memo";case Nd:t=e._payload,e=e._init;try{return wR(e(t))}catch{}}return null}function YVe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wR(t);case 8:return t===U6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qVe(e){var t=Fye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function t2(e){e._valueTracker||(e._valueTracker=qVe(e))}function Lye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fye(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _k(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CR(e,t){var n=t.checked;return Fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function aH(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bye(e,t){t=t.checked,t!=null&&H6(e,"checked",t,!1)}function _R(e,t){Bye(e,t);var n=Hf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?SR(e,t.type,n):t.hasOwnProperty("defaultValue")&&SR(e,t.type,Hf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lH(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function SR(e,t,n){(t!=="number"||_k(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ry=Array.isArray;function uv(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hf(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function kR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cH(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(Ry(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hf(n)}}function Nye(e,t){var n=Hf(t.value),r=Hf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uH(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ER(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zye(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var n2,Vye=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(n2=n2||document.createElement("div"),n2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=n2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ab={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GVe=["Webkit","ms","Moz","O"];Object.keys(ab).forEach(function(e){GVe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ab[t]=ab[e]})});function Hye(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ab.hasOwnProperty(e)&&ab[e]?(""+t).trim():t+"px"}function Uye(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Hye(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var KVe=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jR(e,t){if(t){if(KVe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function TR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AR=null;function q6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DR=null,dv=null,fv=null;function dH(e){if(e=Mw(e)){if(typeof DR!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=zj(t),DR(e.stateNode,e.type,t))}}function Wye(e){dv?fv?fv.push(e):fv=[e]:dv=e}function Yye(){if(dv){var e=dv,t=fv;if(fv=dv=null,dH(e),t)for(e=0;e<t.length;e++)dH(t[e])}}function qye(e,t){return e(t)}function Gye(){}var JD=!1;function Kye(e,t,n){if(JD)return e(t,n);JD=!0;try{return qye(e,t,n)}finally{JD=!1,(dv!==null||fv!==null)&&(Gye(),Yye())}}function nx(e,t){var n=e.stateNode;if(n===null)return null;var r=zj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var IR=!1;if(Vu)try{var N1={};Object.defineProperty(N1,"passive",{get:function(){IR=!0}}),window.addEventListener("test",N1,N1),window.removeEventListener("test",N1,N1)}catch{IR=!1}function ZVe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var lb=!1,Sk=null,kk=!1,OR=null,XVe={onError:function(e){lb=!0,Sk=e}};function QVe(e,t,n,r,o,i,s,a,c){lb=!1,Sk=null,ZVe.apply(XVe,arguments)}function JVe(e,t,n,r,o,i,s,a,c){if(QVe.apply(this,arguments),lb){if(lb){var u=Sk;lb=!1,Sk=null}else throw Error(Ee(198));kk||(kk=!0,OR=u)}}function km(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zye(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fH(e){if(km(e)!==e)throw Error(Ee(188))}function eHe(e){var t=e.alternate;if(!t){if(t=km(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return fH(o),e;if(i===r)return fH(o),t;i=i.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function Xye(e){return e=eHe(e),e!==null?Qye(e):null}function Qye(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qye(e);if(t!==null)return t;e=e.sibling}return null}var Jye=ca.unstable_scheduleCallback,hH=ca.unstable_cancelCallback,tHe=ca.unstable_shouldYield,nHe=ca.unstable_requestPaint,Kr=ca.unstable_now,rHe=ca.unstable_getCurrentPriorityLevel,G6=ca.unstable_ImmediatePriority,ebe=ca.unstable_UserBlockingPriority,Ek=ca.unstable_NormalPriority,oHe=ca.unstable_LowPriority,tbe=ca.unstable_IdlePriority,Fj=null,Ac=null;function iHe(e){if(Ac&&typeof Ac.onCommitFiberRoot=="function")try{Ac.onCommitFiberRoot(Fj,e,void 0,(e.current.flags&128)===128)}catch{}}var Tl=Math.clz32?Math.clz32:lHe,sHe=Math.log,aHe=Math.LN2;function lHe(e){return e>>>=0,e===0?32:31-(sHe(e)/aHe|0)|0}var r2=64,o2=4194304;function $y(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jk(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=$y(a):(i&=s,i!==0&&(r=$y(i)))}else s=n&~o,s!==0?r=$y(s):i!==0&&(r=$y(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tl(t),o=1<<n,r|=e[n],t&=~o;return r}function cHe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uHe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Tl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=cHe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function PR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nbe(){var e=r2;return r2<<=1,!(r2&4194240)&&(r2=64),e}function eI(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tl(t),e[t]=n}function dHe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Tl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function K6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var _n=0;function rbe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var obe,Z6,ibe,sbe,abe,RR=!1,i2=[],bf=null,xf=null,wf=null,rx=new Map,ox=new Map,Kd=[],fHe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pH(e,t){switch(e){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":xf=null;break;case"mouseover":case"mouseout":wf=null;break;case"pointerover":case"pointerout":rx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ox.delete(t.pointerId)}}function z1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Mw(t),t!==null&&Z6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hHe(e,t,n,r,o){switch(t){case"focusin":return bf=z1(bf,e,t,n,r,o),!0;case"dragenter":return xf=z1(xf,e,t,n,r,o),!0;case"mouseover":return wf=z1(wf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return rx.set(i,z1(rx.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ox.set(i,z1(ox.get(i)||null,e,t,n,r,o)),!0}return!1}function lbe(e){var t=dp(e.target);if(t!==null){var n=km(t);if(n!==null){if(t=n.tag,t===13){if(t=Zye(n),t!==null){e.blockedOn=t,abe(e.priority,function(){ibe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Q_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$R(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);AR=r,n.target.dispatchEvent(r),AR=null}else return t=Mw(n),t!==null&&Z6(t),e.blockedOn=n,!1;t.shift()}return!0}function mH(e,t,n){Q_(e)&&n.delete(t)}function pHe(){RR=!1,bf!==null&&Q_(bf)&&(bf=null),xf!==null&&Q_(xf)&&(xf=null),wf!==null&&Q_(wf)&&(wf=null),rx.forEach(mH),ox.forEach(mH)}function V1(e,t){e.blockedOn===t&&(e.blockedOn=null,RR||(RR=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,pHe)))}function ix(e){function t(o){return V1(o,e)}if(0<i2.length){V1(i2[0],e);for(var n=1;n<i2.length;n++){var r=i2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bf!==null&&V1(bf,e),xf!==null&&V1(xf,e),wf!==null&&V1(wf,e),rx.forEach(t),ox.forEach(t),n=0;n<Kd.length;n++)r=Kd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kd.length&&(n=Kd[0],n.blockedOn===null);)lbe(n),n.blockedOn===null&&Kd.shift()}var hv=fd.ReactCurrentBatchConfig,Tk=!0;function mHe(e,t,n,r){var o=_n,i=hv.transition;hv.transition=null;try{_n=1,X6(e,t,n,r)}finally{_n=o,hv.transition=i}}function gHe(e,t,n,r){var o=_n,i=hv.transition;hv.transition=null;try{_n=4,X6(e,t,n,r)}finally{_n=o,hv.transition=i}}function X6(e,t,n,r){if(Tk){var o=$R(e,t,n,r);if(o===null)uI(e,t,r,Ak,n),pH(e,r);else if(hHe(o,e,t,n,r))r.stopPropagation();else if(pH(e,r),t&4&&-1<fHe.indexOf(e)){for(;o!==null;){var i=Mw(o);if(i!==null&&obe(i),i=$R(e,t,n,r),i===null&&uI(e,t,r,Ak,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else uI(e,t,r,null,n)}}var Ak=null;function $R(e,t,n,r){if(Ak=null,e=q6(r),e=dp(e),e!==null)if(t=km(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zye(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ak=e,null}function cbe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rHe()){case G6:return 1;case ebe:return 4;case Ek:case oHe:return 16;case tbe:return 536870912;default:return 16}default:return 16}}var ef=null,Q6=null,J_=null;function ube(){if(J_)return J_;var e,t=Q6,n=t.length,r,o="value"in ef?ef.value:ef.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return J_=o.slice(e,1<r?1-r:void 0)}function eS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function s2(){return!0}function gH(){return!1}function ya(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?s2:gH,this.isPropagationStopped=gH,this}return Fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=s2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=s2)},persist:function(){},isPersistent:s2}),t}var $0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J6=ya($0),$w=Fr({},$0,{view:0,detail:0}),vHe=ya($w),tI,nI,H1,Lj=Fr({},$w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==H1&&(H1&&e.type==="mousemove"?(tI=e.screenX-H1.screenX,nI=e.screenY-H1.screenY):nI=tI=0,H1=e),tI)},movementY:function(e){return"movementY"in e?e.movementY:nI}}),vH=ya(Lj),yHe=Fr({},Lj,{dataTransfer:0}),bHe=ya(yHe),xHe=Fr({},$w,{relatedTarget:0}),rI=ya(xHe),wHe=Fr({},$0,{animationName:0,elapsedTime:0,pseudoElement:0}),CHe=ya(wHe),_He=Fr({},$0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SHe=ya(_He),kHe=Fr({},$0,{data:0}),yH=ya(kHe),EHe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jHe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},THe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AHe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=THe[e])?!!t[e]:!1}function eL(){return AHe}var DHe=Fr({},$w,{key:function(e){if(e.key){var t=EHe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jHe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eL,charCode:function(e){return e.type==="keypress"?eS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IHe=ya(DHe),OHe=Fr({},Lj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bH=ya(OHe),PHe=Fr({},$w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eL}),RHe=ya(PHe),$He=Fr({},$0,{propertyName:0,elapsedTime:0,pseudoElement:0}),MHe=ya($He),FHe=Fr({},Lj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LHe=ya(FHe),BHe=[9,13,27,32],tL=Vu&&"CompositionEvent"in window,cb=null;Vu&&"documentMode"in document&&(cb=document.documentMode);var NHe=Vu&&"TextEvent"in window&&!cb,dbe=Vu&&(!tL||cb&&8<cb&&11>=cb),xH=String.fromCharCode(32),wH=!1;function fbe(e,t){switch(e){case"keyup":return BHe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hbe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lg=!1;function zHe(e,t){switch(e){case"compositionend":return hbe(t);case"keypress":return t.which!==32?null:(wH=!0,xH);case"textInput":return e=t.data,e===xH&&wH?null:e;default:return null}}function VHe(e,t){if(Lg)return e==="compositionend"||!tL&&fbe(e,t)?(e=ube(),J_=Q6=ef=null,Lg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dbe&&t.locale!=="ko"?null:t.data;default:return null}}var HHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HHe[e.type]:t==="textarea"}function pbe(e,t,n,r){Wye(r),t=Dk(t,"onChange"),0<t.length&&(n=new J6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ub=null,sx=null;function UHe(e){kbe(e,0)}function Bj(e){var t=zg(e);if(Lye(t))return e}function WHe(e,t){if(e==="change")return t}var mbe=!1;if(Vu){var oI;if(Vu){var iI="oninput"in document;if(!iI){var _H=document.createElement("div");_H.setAttribute("oninput","return;"),iI=typeof _H.oninput=="function"}oI=iI}else oI=!1;mbe=oI&&(!document.documentMode||9<document.documentMode)}function SH(){ub&&(ub.detachEvent("onpropertychange",gbe),sx=ub=null)}function gbe(e){if(e.propertyName==="value"&&Bj(sx)){var t=[];pbe(t,sx,e,q6(e)),Kye(UHe,t)}}function YHe(e,t,n){e==="focusin"?(SH(),ub=t,sx=n,ub.attachEvent("onpropertychange",gbe)):e==="focusout"&&SH()}function qHe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bj(sx)}function GHe(e,t){if(e==="click")return Bj(t)}function KHe(e,t){if(e==="input"||e==="change")return Bj(t)}function ZHe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rl=typeof Object.is=="function"?Object.is:ZHe;function ax(e,t){if(Rl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!vR.call(t,o)||!Rl(e[o],t[o]))return!1}return!0}function kH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EH(e,t){var n=kH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kH(n)}}function vbe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vbe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ybe(){for(var e=window,t=_k();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_k(e.document)}return t}function nL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XHe(e){var t=ybe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vbe(n.ownerDocument.documentElement,n)){if(r!==null&&nL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=EH(n,i);var s=EH(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QHe=Vu&&"documentMode"in document&&11>=document.documentMode,Bg=null,MR=null,db=null,FR=!1;function jH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FR||Bg==null||Bg!==_k(r)||(r=Bg,"selectionStart"in r&&nL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),db&&ax(db,r)||(db=r,r=Dk(MR,"onSelect"),0<r.length&&(t=new J6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bg)))}function a2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ng={animationend:a2("Animation","AnimationEnd"),animationiteration:a2("Animation","AnimationIteration"),animationstart:a2("Animation","AnimationStart"),transitionend:a2("Transition","TransitionEnd")},sI={},bbe={};Vu&&(bbe=document.createElement("div").style,"AnimationEvent"in window||(delete Ng.animationend.animation,delete Ng.animationiteration.animation,delete Ng.animationstart.animation),"TransitionEvent"in window||delete Ng.transitionend.transition);function Nj(e){if(sI[e])return sI[e];if(!Ng[e])return e;var t=Ng[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bbe)return sI[e]=t[n];return e}var xbe=Nj("animationend"),wbe=Nj("animationiteration"),Cbe=Nj("animationstart"),_be=Nj("transitionend"),Sbe=new Map,TH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ih(e,t){Sbe.set(e,t),Sm(t,[e])}for(var aI=0;aI<TH.length;aI++){var lI=TH[aI],JHe=lI.toLowerCase(),eUe=lI[0].toUpperCase()+lI.slice(1);ih(JHe,"on"+eUe)}ih(xbe,"onAnimationEnd");ih(wbe,"onAnimationIteration");ih(Cbe,"onAnimationStart");ih("dblclick","onDoubleClick");ih("focusin","onFocus");ih("focusout","onBlur");ih(_be,"onTransitionEnd");Zv("onMouseEnter",["mouseout","mouseover"]);Zv("onMouseLeave",["mouseout","mouseover"]);Zv("onPointerEnter",["pointerout","pointerover"]);Zv("onPointerLeave",["pointerout","pointerover"]);Sm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var My="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tUe=new Set("cancel close invalid load scroll toggle".split(" ").concat(My));function AH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JVe(r,t,void 0,e),e.currentTarget=null}function kbe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;AH(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;AH(o,a,u),i=c}}}if(kk)throw e=OR,kk=!1,OR=null,e}function rr(e,t){var n=t[VR];n===void 0&&(n=t[VR]=new Set);var r=e+"__bubble";n.has(r)||(Ebe(t,e,2,!1),n.add(r))}function cI(e,t,n){var r=0;t&&(r|=4),Ebe(n,e,r,t)}var l2="_reactListening"+Math.random().toString(36).slice(2);function lx(e){if(!e[l2]){e[l2]=!0,Pye.forEach(function(n){n!=="selectionchange"&&(tUe.has(n)||cI(n,!1,e),cI(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[l2]||(t[l2]=!0,cI("selectionchange",!1,t))}}function Ebe(e,t,n,r){switch(cbe(t)){case 1:var o=mHe;break;case 4:o=gHe;break;default:o=X6}n=o.bind(null,t,n,e),o=void 0,!IR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function uI(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=dp(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Kye(function(){var u=i,d=q6(n),f=[];e:{var p=Sbe.get(e);if(p!==void 0){var m=J6,g=e;switch(e){case"keypress":if(eS(n)===0)break e;case"keydown":case"keyup":m=IHe;break;case"focusin":g="focus",m=rI;break;case"focusout":g="blur",m=rI;break;case"beforeblur":case"afterblur":m=rI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bHe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RHe;break;case xbe:case wbe:case Cbe:m=CHe;break;case _be:m=MHe;break;case"scroll":m=vHe;break;case"wheel":m=LHe;break;case"copy":case"cut":case"paste":m=SHe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bH}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=nx(y,x),C!=null&&v.push(cx(y,C,w)))),b)break;y=y.return}0<v.length&&(p=new m(p,g,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==AR&&(g=n.relatedTarget||n.fromElement)&&(dp(g)||g[Hu]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?dp(g):null,g!==null&&(b=km(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=vH,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=bH,C="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:zg(m),w=g==null?p:zg(g),p=new v(C,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,dp(d)===u&&(v=new v(x,y+"enter",g,n,d),v.target=w,v.relatedTarget=b,C=v),b=C,m&&g)t:{for(v=m,x=g,y=0,w=v;w;w=tg(w))y++;for(w=0,C=x;C;C=tg(C))w++;for(;0<y-w;)v=tg(v),y--;for(;0<w-y;)x=tg(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=tg(v),x=tg(x)}v=null}else v=null;m!==null&&DH(f,p,m,v,!1),g!==null&&b!==null&&DH(f,b,g,v,!0)}}e:{if(p=u?zg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=WHe;else if(CH(p))if(mbe)_=KHe;else{_=qHe;var S=YHe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=GHe);if(_&&(_=_(e,u))){pbe(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&SR(p,"number",p.value)}switch(S=u?zg(u):window,e){case"focusin":(CH(S)||S.contentEditable==="true")&&(Bg=S,MR=u,db=null);break;case"focusout":db=MR=Bg=null;break;case"mousedown":FR=!0;break;case"contextmenu":case"mouseup":case"dragend":FR=!1,jH(f,n,d);break;case"selectionchange":if(QHe)break;case"keydown":case"keyup":jH(f,n,d)}var k;if(tL)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Lg?fbe(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(dbe&&n.locale!=="ko"&&(Lg||j!=="onCompositionStart"?j==="onCompositionEnd"&&Lg&&(k=ube()):(ef=d,Q6="value"in ef?ef.value:ef.textContent,Lg=!0)),S=Dk(u,j),0<S.length&&(j=new yH(j,e,null,n,d),f.push({event:j,listeners:S}),k?j.data=k:(k=hbe(n),k!==null&&(j.data=k)))),(k=NHe?zHe(e,n):VHe(e,n))&&(u=Dk(u,"onBeforeInput"),0<u.length&&(d=new yH("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}kbe(f,t)})}function cx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dk(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=nx(e,n),i!=null&&r.unshift(cx(e,i,o)),i=nx(e,t),i!=null&&r.push(cx(e,i,o))),e=e.return}return r}function tg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DH(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=nx(n,i),c!=null&&s.unshift(cx(n,c,a))):o||(c=nx(n,i),c!=null&&s.push(cx(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var nUe=/\r\n?/g,rUe=/\u0000|\uFFFD/g;function IH(e){return(typeof e=="string"?e:""+e).replace(nUe,`
`).replace(rUe,"")}function c2(e,t,n){if(t=IH(t),IH(e)!==t&&n)throw Error(Ee(425))}function Ik(){}var LR=null,BR=null;function NR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zR=typeof setTimeout=="function"?setTimeout:void 0,oUe=typeof clearTimeout=="function"?clearTimeout:void 0,OH=typeof Promise=="function"?Promise:void 0,iUe=typeof queueMicrotask=="function"?queueMicrotask:typeof OH<"u"?function(e){return OH.resolve(null).then(e).catch(sUe)}:zR;function sUe(e){setTimeout(function(){throw e})}function dI(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ix(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ix(t)}function Cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var M0=Math.random().toString(36).slice(2),xc="__reactFiber$"+M0,ux="__reactProps$"+M0,Hu="__reactContainer$"+M0,VR="__reactEvents$"+M0,aUe="__reactListeners$"+M0,lUe="__reactHandles$"+M0;function dp(e){var t=e[xc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hu]||n[xc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=PH(e);e!==null;){if(n=e[xc])return n;e=PH(e)}return t}e=n,n=e.parentNode}return null}function Mw(e){return e=e[xc]||e[Hu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function zj(e){return e[ux]||null}var HR=[],Vg=-1;function sh(e){return{current:e}}function ar(e){0>Vg||(e.current=HR[Vg],HR[Vg]=null,Vg--)}function Yn(e,t){Vg++,HR[Vg]=e.current,e.current=t}var Uf={},Fi=sh(Uf),Ps=sh(!1),Zp=Uf;function Xv(e,t){var n=e.type.contextTypes;if(!n)return Uf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rs(e){return e=e.childContextTypes,e!=null}function Ok(){ar(Ps),ar(Fi)}function RH(e,t,n){if(Fi.current!==Uf)throw Error(Ee(168));Yn(Fi,t),Yn(Ps,n)}function jbe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ee(108,YVe(e)||"Unknown",o));return Fr({},n,r)}function Pk(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,Zp=Fi.current,Yn(Fi,e),Yn(Ps,Ps.current),!0}function $H(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=jbe(e,t,Zp),r.__reactInternalMemoizedMergedChildContext=e,ar(Ps),ar(Fi),Yn(Fi,e)):ar(Ps),Yn(Ps,n)}var bu=null,Vj=!1,fI=!1;function Tbe(e){bu===null?bu=[e]:bu.push(e)}function cUe(e){Vj=!0,Tbe(e)}function ah(){if(!fI&&bu!==null){fI=!0;var e=0,t=_n;try{var n=bu;for(_n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bu=null,Vj=!1}catch(o){throw bu!==null&&(bu=bu.slice(e+1)),Jye(G6,ah),o}finally{_n=t,fI=!1}}return null}var Hg=[],Ug=0,Rk=null,$k=0,Da=[],Ia=0,Xp=null,_u=1,Su="";function zh(e,t){Hg[Ug++]=$k,Hg[Ug++]=Rk,Rk=e,$k=t}function Abe(e,t,n){Da[Ia++]=_u,Da[Ia++]=Su,Da[Ia++]=Xp,Xp=e;var r=_u;e=Su;var o=32-Tl(r)-1;r&=~(1<<o),n+=1;var i=32-Tl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,_u=1<<32-Tl(t)+o|n<<o|r,Su=i+e}else _u=1<<i|n<<o|r,Su=e}function rL(e){e.return!==null&&(zh(e,1),Abe(e,1,0))}function oL(e){for(;e===Rk;)Rk=Hg[--Ug],Hg[Ug]=null,$k=Hg[--Ug],Hg[Ug]=null;for(;e===Xp;)Xp=Da[--Ia],Da[Ia]=null,Su=Da[--Ia],Da[Ia]=null,_u=Da[--Ia],Da[Ia]=null}var aa=null,na=null,wr=!1,gl=null;function Dbe(e,t){var n=Fa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function MH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,aa=e,na=Cf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,aa=e,na=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xp!==null?{id:_u,overflow:Su}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,aa=e,na=null,!0):!1;default:return!1}}function UR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function WR(e){if(wr){var t=na;if(t){var n=t;if(!MH(e,t)){if(UR(e))throw Error(Ee(418));t=Cf(n.nextSibling);var r=aa;t&&MH(e,t)?Dbe(r,n):(e.flags=e.flags&-4097|2,wr=!1,aa=e)}}else{if(UR(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,wr=!1,aa=e}}}function FH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;aa=e}function u2(e){if(e!==aa)return!1;if(!wr)return FH(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!NR(e.type,e.memoizedProps)),t&&(t=na)){if(UR(e))throw Ibe(),Error(Ee(418));for(;t;)Dbe(e,t),t=Cf(t.nextSibling)}if(FH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){na=Cf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}na=null}}else na=aa?Cf(e.stateNode.nextSibling):null;return!0}function Ibe(){for(var e=na;e;)e=Cf(e.nextSibling)}function Qv(){na=aa=null,wr=!1}function iL(e){gl===null?gl=[e]:gl.push(e)}var uUe=fd.ReactCurrentBatchConfig;function pl(e,t){if(e&&e.defaultProps){t=Fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Mk=sh(null),Fk=null,Wg=null,sL=null;function aL(){sL=Wg=Fk=null}function lL(e){var t=Mk.current;ar(Mk),e._currentValue=t}function YR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pv(e,t){Fk=e,sL=Wg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ds=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(sL!==e)if(e={context:e,memoizedValue:t,next:null},Wg===null){if(Fk===null)throw Error(Ee(308));Wg=e,Fk.dependencies={lanes:0,firstContext:e}}else Wg=Wg.next=e;return t}var fp=null;function cL(e){fp===null?fp=[e]:fp.push(e)}function Obe(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,cL(t)):(n.next=o.next,o.next=n),t.interleaved=n,Uu(e,r)}function Uu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zd=!1;function uL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pbe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Iu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _f(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Uu(e,n)}return o=r.interleaved,o===null?(t.next=t,cL(r)):(t.next=o.next,o.next=t),r.interleaved=t,Uu(e,n)}function tS(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K6(e,n)}}function LH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lk(e,t,n,r){var o=e.updateQueue;zd=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(p=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=Fr({},f,p);break e;case 2:zd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Jp|=s,e.lanes=s,e.memoizedState=f}}function BH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ee(191,o));o.call(r)}}}var Rbe=new Oye.Component().refs;function qR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hj={isMounted:function(e){return(e=e._reactInternals)?km(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rs(),o=kf(e),i=Iu(r,o);i.payload=t,n!=null&&(i.callback=n),t=_f(e,i,o),t!==null&&(Al(t,e,o,r),tS(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rs(),o=kf(e),i=Iu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_f(e,i,o),t!==null&&(Al(t,e,o,r),tS(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rs(),r=kf(e),o=Iu(n,r);o.tag=2,t!=null&&(o.callback=t),t=_f(e,o,r),t!==null&&(Al(t,e,r,n),tS(t,e,r))}};function NH(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ax(n,r)||!ax(o,i):!0}function $be(e,t,n){var r=!1,o=Uf,i=t.contextType;return typeof i=="object"&&i!==null?i=Ga(i):(o=Rs(t)?Zp:Fi.current,r=t.contextTypes,i=(r=r!=null)?Xv(e,o):Uf),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function zH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hj.enqueueReplaceState(t,t.state,null)}function GR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Rbe,uL(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ga(i):(i=Rs(t)?Zp:Fi.current,o.context=Xv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hj.enqueueReplaceState(o,o.state,null),Lk(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function U1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Rbe&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function d2(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VH(e){var t=e._init;return t(e._payload)}function Mbe(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=Ef(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,C){return y===null||y.tag!==6?(y=bI(w,x.mode,C),y.return=x,y):(y=o(y,w),y.return=x,y)}function c(x,y,w,C){var _=w.type;return _===Fg?d(x,y,w.props.children,C,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nd&&VH(_)===y.type)?(C=o(y,w.props),C.ref=U1(x,y,w),C.return=x,C):(C=aS(w.type,w.key,w.props,null,x.mode,C),C.ref=U1(x,y,w),C.return=x,C)}function u(x,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=xI(w,x.mode,C),y.return=x,y):(y=o(y,w.children||[]),y.return=x,y)}function d(x,y,w,C,_){return y===null||y.tag!==7?(y=Ip(w,x.mode,C,_),y.return=x,y):(y=o(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bI(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case e2:return w=aS(y.type,y.key,y.props,null,x.mode,w),w.ref=U1(x,null,y),w.return=x,w;case Mg:return y=xI(y,x.mode,w),y.return=x,y;case Nd:var C=y._init;return f(x,C(y._payload),w)}if(Ry(y)||B1(y))return y=Ip(y,x.mode,w,null),y.return=x,y;d2(x,y)}return null}function p(x,y,w,C){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case e2:return w.key===_?c(x,y,w,C):null;case Mg:return w.key===_?u(x,y,w,C):null;case Nd:return _=w._init,p(x,y,_(w._payload),C)}if(Ry(w)||B1(w))return _!==null?null:d(x,y,w,C,null);d2(x,w)}return null}function m(x,y,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(y,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case e2:return x=x.get(C.key===null?w:C.key)||null,c(y,x,C,_);case Mg:return x=x.get(C.key===null?w:C.key)||null,u(y,x,C,_);case Nd:var S=C._init;return m(x,y,w,S(C._payload),_)}if(Ry(C)||B1(C))return x=x.get(w)||null,d(y,x,C,_,null);d2(y,C)}return null}function g(x,y,w,C){for(var _=null,S=null,k=y,j=y=0,E=null;k!==null&&j<w.length;j++){k.index>j?(E=k,k=null):E=k.sibling;var T=p(x,k,w[j],C);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(x,k),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T,k=E}if(j===w.length)return n(x,k),wr&&zh(x,j),_;if(k===null){for(;j<w.length;j++)k=f(x,w[j],C),k!==null&&(y=i(k,y,j),S===null?_=k:S.sibling=k,S=k);return wr&&zh(x,j),_}for(k=r(x,k);j<w.length;j++)E=m(k,x,j,w[j],C),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?j:E.key),y=i(E,y,j),S===null?_=E:S.sibling=E,S=E);return e&&k.forEach(function(A){return t(x,A)}),wr&&zh(x,j),_}function v(x,y,w,C){var _=B1(w);if(typeof _!="function")throw Error(Ee(150));if(w=_.call(w),w==null)throw Error(Ee(151));for(var S=_=null,k=y,j=y=0,E=null,T=w.next();k!==null&&!T.done;j++,T=w.next()){k.index>j?(E=k,k=null):E=k.sibling;var A=p(x,k,T.value,C);if(A===null){k===null&&(k=E);break}e&&k&&A.alternate===null&&t(x,k),y=i(A,y,j),S===null?_=A:S.sibling=A,S=A,k=E}if(T.done)return n(x,k),wr&&zh(x,j),_;if(k===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return wr&&zh(x,j),_}for(k=r(x,k);!T.done;j++,T=w.next())T=m(k,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return e&&k.forEach(function(D){return t(x,D)}),wr&&zh(x,j),_}function b(x,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Fg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case e2:e:{for(var _=w.key,S=y;S!==null;){if(S.key===_){if(_=w.type,_===Fg){if(S.tag===7){n(x,S.sibling),y=o(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nd&&VH(_)===S.type){n(x,S.sibling),y=o(S,w.props),y.ref=U1(x,S,w),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Fg?(y=Ip(w.props.children,x.mode,C,w.key),y.return=x,x=y):(C=aS(w.type,w.key,w.props,null,x.mode,C),C.ref=U1(x,y,w),C.return=x,x=C)}return s(x);case Mg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=o(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=xI(w,x.mode,C),y.return=x,x=y}return s(x);case Nd:return S=w._init,b(x,y,S(w._payload),C)}if(Ry(w))return g(x,y,w,C);if(B1(w))return v(x,y,w,C);d2(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,w),y.return=x,x=y):(n(x,y),y=bI(w,x.mode,C),y.return=x,x=y),s(x)):n(x,y)}return b}var Jv=Mbe(!0),Fbe=Mbe(!1),Fw={},Dc=sh(Fw),dx=sh(Fw),fx=sh(Fw);function hp(e){if(e===Fw)throw Error(Ee(174));return e}function dL(e,t){switch(Yn(fx,t),Yn(dx,e),Yn(Dc,Fw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ER(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ER(t,e)}ar(Dc),Yn(Dc,t)}function e0(){ar(Dc),ar(dx),ar(fx)}function Lbe(e){hp(fx.current);var t=hp(Dc.current),n=ER(t,e.type);t!==n&&(Yn(dx,e),Yn(Dc,n))}function fL(e){dx.current===e&&(ar(Dc),ar(dx))}var Dr=sh(0);function Bk(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hI=[];function hL(){for(var e=0;e<hI.length;e++)hI[e]._workInProgressVersionPrimary=null;hI.length=0}var nS=fd.ReactCurrentDispatcher,pI=fd.ReactCurrentBatchConfig,Qp=0,$r=null,So=null,Bo=null,Nk=!1,fb=!1,hx=0,dUe=0;function yi(){throw Error(Ee(321))}function pL(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rl(e[n],t[n]))return!1;return!0}function mL(e,t,n,r,o,i){if(Qp=i,$r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nS.current=e===null||e.memoizedState===null?mUe:gUe,e=n(r,o),fb){i=0;do{if(fb=!1,hx=0,25<=i)throw Error(Ee(301));i+=1,Bo=So=null,t.updateQueue=null,nS.current=vUe,e=n(r,o)}while(fb)}if(nS.current=zk,t=So!==null&&So.next!==null,Qp=0,Bo=So=$r=null,Nk=!1,t)throw Error(Ee(300));return e}function gL(){var e=hx!==0;return hx=0,e}function dc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bo===null?$r.memoizedState=Bo=e:Bo=Bo.next=e,Bo}function Ka(){if(So===null){var e=$r.alternate;e=e!==null?e.memoizedState:null}else e=So.next;var t=Bo===null?$r.memoizedState:Bo.next;if(t!==null)Bo=t,So=e;else{if(e===null)throw Error(Ee(310));So=e,e={memoizedState:So.memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},Bo===null?$r.memoizedState=Bo=e:Bo=Bo.next=e}return Bo}function px(e,t){return typeof t=="function"?t(e):t}function mI(e){var t=Ka(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=So,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Qp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,$r.lanes|=d,Jp|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Rl(r,t.memoizedState)||(Ds=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,$r.lanes|=i,Jp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gI(e){var t=Ka(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Rl(i,t.memoizedState)||(Ds=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bbe(){}function Nbe(e,t){var n=$r,r=Ka(),o=t(),i=!Rl(r.memoizedState,o);if(i&&(r.memoizedState=o,Ds=!0),r=r.queue,vL(Hbe.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bo!==null&&Bo.memoizedState.tag&1){if(n.flags|=2048,mx(9,Vbe.bind(null,n,r,o,t),void 0,null),Uo===null)throw Error(Ee(349));Qp&30||zbe(n,t,o)}return o}function zbe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vbe(e,t,n,r){t.value=n,t.getSnapshot=r,Ube(t)&&Wbe(e)}function Hbe(e,t,n){return n(function(){Ube(t)&&Wbe(e)})}function Ube(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rl(e,n)}catch{return!0}}function Wbe(e){var t=Uu(e,1);t!==null&&Al(t,e,1,-1)}function HH(e){var t=dc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:px,lastRenderedState:e},t.queue=e,e=e.dispatch=pUe.bind(null,$r,e),[t.memoizedState,e]}function mx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ybe(){return Ka().memoizedState}function rS(e,t,n,r){var o=dc();$r.flags|=e,o.memoizedState=mx(1|t,n,void 0,r===void 0?null:r)}function Uj(e,t,n,r){var o=Ka();r=r===void 0?null:r;var i=void 0;if(So!==null){var s=So.memoizedState;if(i=s.destroy,r!==null&&pL(r,s.deps)){o.memoizedState=mx(t,n,i,r);return}}$r.flags|=e,o.memoizedState=mx(1|t,n,i,r)}function UH(e,t){return rS(8390656,8,e,t)}function vL(e,t){return Uj(2048,8,e,t)}function qbe(e,t){return Uj(4,2,e,t)}function Gbe(e,t){return Uj(4,4,e,t)}function Kbe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zbe(e,t,n){return n=n!=null?n.concat([e]):null,Uj(4,4,Kbe.bind(null,t,e),n)}function yL(){}function Xbe(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qbe(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jbe(e,t,n){return Qp&21?(Rl(n,t)||(n=nbe(),$r.lanes|=n,Jp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ds=!0),e.memoizedState=n)}function fUe(e,t){var n=_n;_n=n!==0&&4>n?n:4,e(!0);var r=pI.transition;pI.transition={};try{e(!1),t()}finally{_n=n,pI.transition=r}}function exe(){return Ka().memoizedState}function hUe(e,t,n){var r=kf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},txe(e))nxe(t,n);else if(n=Obe(e,t,n,r),n!==null){var o=rs();Al(n,e,r,o),rxe(n,t,r)}}function pUe(e,t,n){var r=kf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(txe(e))nxe(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Rl(a,s)){var c=t.interleaved;c===null?(o.next=o,cL(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Obe(e,t,o,r),n!==null&&(o=rs(),Al(n,e,r,o),rxe(n,t,r))}}function txe(e){var t=e.alternate;return e===$r||t!==null&&t===$r}function nxe(e,t){fb=Nk=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rxe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K6(e,n)}}var zk={readContext:Ga,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},mUe={readContext:Ga,useCallback:function(e,t){return dc().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:UH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rS(4194308,4,Kbe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rS(4194308,4,e,t)},useInsertionEffect:function(e,t){return rS(4,2,e,t)},useMemo:function(e,t){var n=dc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hUe.bind(null,$r,e),[r.memoizedState,e]},useRef:function(e){var t=dc();return e={current:e},t.memoizedState=e},useState:HH,useDebugValue:yL,useDeferredValue:function(e){return dc().memoizedState=e},useTransition:function(){var e=HH(!1),t=e[0];return e=fUe.bind(null,e[1]),dc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$r,o=dc();if(wr){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),Uo===null)throw Error(Ee(349));Qp&30||zbe(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,UH(Hbe.bind(null,r,i,e),[e]),r.flags|=2048,mx(9,Vbe.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dc(),t=Uo.identifierPrefix;if(wr){var n=Su,r=_u;n=(r&~(1<<32-Tl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dUe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gUe={readContext:Ga,useCallback:Xbe,useContext:Ga,useEffect:vL,useImperativeHandle:Zbe,useInsertionEffect:qbe,useLayoutEffect:Gbe,useMemo:Qbe,useReducer:mI,useRef:Ybe,useState:function(){return mI(px)},useDebugValue:yL,useDeferredValue:function(e){var t=Ka();return Jbe(t,So.memoizedState,e)},useTransition:function(){var e=mI(px)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:Bbe,useSyncExternalStore:Nbe,useId:exe,unstable_isNewReconciler:!1},vUe={readContext:Ga,useCallback:Xbe,useContext:Ga,useEffect:vL,useImperativeHandle:Zbe,useInsertionEffect:qbe,useLayoutEffect:Gbe,useMemo:Qbe,useReducer:gI,useRef:Ybe,useState:function(){return gI(px)},useDebugValue:yL,useDeferredValue:function(e){var t=Ka();return So===null?t.memoizedState=e:Jbe(t,So.memoizedState,e)},useTransition:function(){var e=gI(px)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:Bbe,useSyncExternalStore:Nbe,useId:exe,unstable_isNewReconciler:!1};function t0(e,t){try{var n="",r=t;do n+=WVe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function vI(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function KR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yUe=typeof WeakMap=="function"?WeakMap:Map;function oxe(e,t,n){n=Iu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hk||(Hk=!0,i$=r),KR(e,t)},n}function ixe(e,t,n){n=Iu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){KR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){KR(e,t),typeof r!="function"&&(Sf===null?Sf=new Set([this]):Sf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function WH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yUe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=OUe.bind(null,e,t,n),t.then(e,e))}function YH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Iu(-1,1),t.tag=2,_f(n,t,1))),n.lanes|=1),e)}var bUe=fd.ReactCurrentOwner,Ds=!1;function Qi(e,t,n,r){t.child=e===null?Fbe(t,null,n,r):Jv(t,e.child,n,r)}function GH(e,t,n,r,o){n=n.render;var i=t.ref;return pv(t,o),r=mL(e,t,n,r,i,o),n=gL(),e!==null&&!Ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wu(e,t,o)):(wr&&n&&rL(t),t.flags|=1,Qi(e,t,r,o),t.child)}function KH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!EL(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sxe(e,t,i,r,o)):(e=aS(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ax,n(s,r)&&e.ref===t.ref)return Wu(e,t,o)}return t.flags|=1,e=Ef(i,r),e.ref=t.ref,e.return=t,t.child=e}function sxe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(ax(i,r)&&e.ref===t.ref)if(Ds=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ds=!0);else return t.lanes=e.lanes,Wu(e,t,o)}return ZR(e,t,n,r,o)}function axe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(qg,Gs),Gs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(qg,Gs),Gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yn(qg,Gs),Gs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Yn(qg,Gs),Gs|=r;return Qi(e,t,o,n),t.child}function lxe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ZR(e,t,n,r,o){var i=Rs(n)?Zp:Fi.current;return i=Xv(t,i),pv(t,o),n=mL(e,t,n,r,i,o),r=gL(),e!==null&&!Ds?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wu(e,t,o)):(wr&&r&&rL(t),t.flags|=1,Qi(e,t,n,o),t.child)}function ZH(e,t,n,r,o){if(Rs(n)){var i=!0;Pk(t)}else i=!1;if(pv(t,o),t.stateNode===null)oS(e,t),$be(t,n,r),GR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ga(u):(u=Rs(n)?Zp:Fi.current,u=Xv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&zH(t,s,r,u),zd=!1;var p=t.memoizedState;s.state=p,Lk(t,r,s,o),c=t.memoizedState,a!==r||p!==c||Ps.current||zd?(typeof d=="function"&&(qR(t,n,d,r),c=t.memoizedState),(a=zd||NH(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Pbe(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ga(c):(c=Rs(n)?Zp:Fi.current,c=Xv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&zH(t,s,r,c),zd=!1,p=t.memoizedState,s.state=p,Lk(t,r,s,o);var g=t.memoizedState;a!==f||p!==g||Ps.current||zd?(typeof m=="function"&&(qR(t,n,m,r),g=t.memoizedState),(u=zd||NH(t,n,u,r,p,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return XR(e,t,n,r,i,o)}function XR(e,t,n,r,o,i){lxe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&$H(t,n,!1),Wu(e,t,i);r=t.stateNode,bUe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Jv(t,e.child,null,i),t.child=Jv(t,null,a,i)):Qi(e,t,a,i),t.memoizedState=r.state,o&&$H(t,n,!0),t.child}function cxe(e){var t=e.stateNode;t.pendingContext?RH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&RH(e,t.context,!1),dL(e,t.containerInfo)}function XH(e,t,n,r,o){return Qv(),iL(o),t.flags|=256,Qi(e,t,n,r),t.child}var QR={dehydrated:null,treeContext:null,retryLane:0};function JR(e){return{baseLanes:e,cachePool:null,transitions:null}}function uxe(e,t,n){var r=t.pendingProps,o=Dr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Yn(Dr,o&1),e===null)return WR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=qj(s,r,0,null),e=Ip(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=JR(n),t.memoizedState=QR,e):bL(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return xUe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ef(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Ef(a,i):(i=Ip(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?JR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=QR,r}return i=e.child,e=i.sibling,r=Ef(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bL(e,t){return t=qj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function f2(e,t,n,r){return r!==null&&iL(r),Jv(t,e.child,null,n),e=bL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xUe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=vI(Error(Ee(422))),f2(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=qj({mode:"visible",children:r.children},o,0,null),i=Ip(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jv(t,e.child,null,s),t.child.memoizedState=JR(s),t.memoizedState=QR,i);if(!(t.mode&1))return f2(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ee(419)),r=vI(i,r,void 0),f2(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ds||a){if(r=Uo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Uu(e,o),Al(r,e,o,-1))}return kL(),r=vI(Error(Ee(421))),f2(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=PUe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,na=Cf(o.nextSibling),aa=t,wr=!0,gl=null,e!==null&&(Da[Ia++]=_u,Da[Ia++]=Su,Da[Ia++]=Xp,_u=e.id,Su=e.overflow,Xp=t),t=bL(t,r.children),t.flags|=4096,t)}function QH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),YR(e.return,t,n)}function yI(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function dxe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Qi(e,t,r.children,n),r=Dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QH(e,n,t);else if(e.tag===19)QH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yn(Dr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bk(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),yI(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bk(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}yI(t,!0,n,null,i);break;case"together":yI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oS(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=Ef(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ef(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wUe(e,t,n){switch(t.tag){case 3:cxe(t),Qv();break;case 5:Lbe(t);break;case 1:Rs(t.type)&&Pk(t);break;case 4:dL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Yn(Mk,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yn(Dr,Dr.current&1),t.flags|=128,null):n&t.child.childLanes?uxe(e,t,n):(Yn(Dr,Dr.current&1),e=Wu(e,t,n),e!==null?e.sibling:null);Yn(Dr,Dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dxe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Yn(Dr,Dr.current),r)break;return null;case 22:case 23:return t.lanes=0,axe(e,t,n)}return Wu(e,t,n)}var fxe,e$,hxe,pxe;fxe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e$=function(){};hxe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,hp(Dc.current);var i=null;switch(n){case"input":o=CR(e,o),r=CR(e,r),i=[];break;case"select":o=Fr({},o,{value:void 0}),r=Fr({},r,{value:void 0}),i=[];break;case"textarea":o=kR(e,o),r=kR(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ik)}jR(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ex.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ex.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rr("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pxe=function(e,t,n,r){n!==r&&(t.flags|=4)};function W1(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CUe(e,t,n){var r=t.pendingProps;switch(oL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(t),null;case 1:return Rs(t.type)&&Ok(),bi(t),null;case 3:return r=t.stateNode,e0(),ar(Ps),ar(Fi),hL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(u2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gl!==null&&(l$(gl),gl=null))),e$(e,t),bi(t),null;case 5:fL(t);var o=hp(fx.current);if(n=t.type,e!==null&&t.stateNode!=null)hxe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return bi(t),null}if(e=hp(Dc.current),u2(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xc]=t,r[ux]=i,e=(t.mode&1)!==0,n){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(o=0;o<My.length;o++)rr(My[o],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":aH(r,i),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rr("invalid",r);break;case"textarea":cH(r,i),rr("invalid",r)}jR(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&c2(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&c2(r.textContent,a,e),o=["children",""+a]):ex.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rr("scroll",r)}switch(n){case"input":t2(r),lH(r,i,!0);break;case"textarea":t2(r),uH(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ik)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zye(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[xc]=t,e[ux]=r,fxe(e,t,!1,!1),t.stateNode=e;e:{switch(s=TR(n,r),n){case"dialog":rr("cancel",e),rr("close",e),o=r;break;case"iframe":case"object":case"embed":rr("load",e),o=r;break;case"video":case"audio":for(o=0;o<My.length;o++)rr(My[o],e);o=r;break;case"source":rr("error",e),o=r;break;case"img":case"image":case"link":rr("error",e),rr("load",e),o=r;break;case"details":rr("toggle",e),o=r;break;case"input":aH(e,r),o=CR(e,r),rr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Fr({},r,{value:void 0}),rr("invalid",e);break;case"textarea":cH(e,r),o=kR(e,r),rr("invalid",e);break;default:o=r}jR(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Uye(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vye(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tx(e,c):typeof c=="number"&&tx(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ex.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",e):c!=null&&H6(e,i,c,s))}switch(n){case"input":t2(e),lH(e,r,!1);break;case"textarea":t2(e),uH(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hf(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?uv(e,!!r.multiple,i,!1):r.defaultValue!=null&&uv(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ik)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bi(t),null;case 6:if(e&&t.stateNode!=null)pxe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=hp(fx.current),hp(Dc.current),u2(t)){if(r=t.stateNode,n=t.memoizedProps,r[xc]=t,(i=r.nodeValue!==n)&&(e=aa,e!==null))switch(e.tag){case 3:c2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&c2(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xc]=t,t.stateNode=r}return bi(t),null;case 13:if(ar(Dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&na!==null&&t.mode&1&&!(t.flags&128))Ibe(),Qv(),t.flags|=98560,i=!1;else if(i=u2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[xc]=t}else Qv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bi(t),i=!1}else gl!==null&&(l$(gl),gl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dr.current&1?jo===0&&(jo=3):kL())),t.updateQueue!==null&&(t.flags|=4),bi(t),null);case 4:return e0(),e$(e,t),e===null&&lx(t.stateNode.containerInfo),bi(t),null;case 10:return lL(t.type._context),bi(t),null;case 17:return Rs(t.type)&&Ok(),bi(t),null;case 19:if(ar(Dr),i=t.memoizedState,i===null)return bi(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)W1(i,!1);else{if(jo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Bk(e),s!==null){for(t.flags|=128,W1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yn(Dr,Dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kr()>n0&&(t.flags|=128,r=!0,W1(i,!1),t.lanes=4194304)}else{if(!r)if(e=Bk(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),W1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!wr)return bi(t),null}else 2*Kr()-i.renderingStartTime>n0&&n!==1073741824&&(t.flags|=128,r=!0,W1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kr(),t.sibling=null,n=Dr.current,Yn(Dr,r?n&1|2:n&1),t):(bi(t),null);case 22:case 23:return SL(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gs&1073741824&&(bi(t),t.subtreeFlags&6&&(t.flags|=8192)):bi(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function _Ue(e,t){switch(oL(t),t.tag){case 1:return Rs(t.type)&&Ok(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return e0(),ar(Ps),ar(Fi),hL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fL(t),null;case 13:if(ar(Dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Qv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ar(Dr),null;case 4:return e0(),null;case 10:return lL(t.type._context),null;case 22:case 23:return SL(),null;case 24:return null;default:return null}}var h2=!1,Di=!1,SUe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Yg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function t$(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var JH=!1;function kUe(e,t){if(LR=Tk,e=ybe(),nL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(BR={focusedElem:e,selectionRange:n},Tk=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:pl(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(C){Nr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return g=JH,JH=!1,g}function hb(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&t$(t,n,i)}o=o.next}while(o!==r)}}function Wj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function n$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mxe(e){var t=e.alternate;t!==null&&(e.alternate=null,mxe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xc],delete t[ux],delete t[VR],delete t[aUe],delete t[lUe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gxe(e){return e.tag===5||e.tag===3||e.tag===4}function eU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gxe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ik));else if(r!==4&&(e=e.child,e!==null))for(r$(e,t,n),e=e.sibling;e!==null;)r$(e,t,n),e=e.sibling}function o$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(o$(e,t,n),e=e.sibling;e!==null;)o$(e,t,n),e=e.sibling}var Qo=null,ml=!1;function jd(e,t,n){for(n=n.child;n!==null;)vxe(e,t,n),n=n.sibling}function vxe(e,t,n){if(Ac&&typeof Ac.onCommitFiberUnmount=="function")try{Ac.onCommitFiberUnmount(Fj,n)}catch{}switch(n.tag){case 5:Di||Yg(n,t);case 6:var r=Qo,o=ml;Qo=null,jd(e,t,n),Qo=r,ml=o,Qo!==null&&(ml?(e=Qo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qo.removeChild(n.stateNode));break;case 18:Qo!==null&&(ml?(e=Qo,n=n.stateNode,e.nodeType===8?dI(e.parentNode,n):e.nodeType===1&&dI(e,n),ix(e)):dI(Qo,n.stateNode));break;case 4:r=Qo,o=ml,Qo=n.stateNode.containerInfo,ml=!0,jd(e,t,n),Qo=r,ml=o;break;case 0:case 11:case 14:case 15:if(!Di&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&t$(n,t,s),o=o.next}while(o!==r)}jd(e,t,n);break;case 1:if(!Di&&(Yg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nr(n,t,a)}jd(e,t,n);break;case 21:jd(e,t,n);break;case 22:n.mode&1?(Di=(r=Di)||n.memoizedState!==null,jd(e,t,n),Di=r):jd(e,t,n);break;default:jd(e,t,n)}}function tU(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SUe),t.forEach(function(r){var o=RUe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ul(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qo=a.stateNode,ml=!1;break e;case 3:Qo=a.stateNode.containerInfo,ml=!0;break e;case 4:Qo=a.stateNode.containerInfo,ml=!0;break e}a=a.return}if(Qo===null)throw Error(Ee(160));vxe(i,s,o),Qo=null,ml=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Nr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yxe(t,e),t=t.sibling}function yxe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ul(t,e),tc(e),r&4){try{hb(3,e,e.return),Wj(3,e)}catch(v){Nr(e,e.return,v)}try{hb(5,e,e.return)}catch(v){Nr(e,e.return,v)}}break;case 1:ul(t,e),tc(e),r&512&&n!==null&&Yg(n,n.return);break;case 5:if(ul(t,e),tc(e),r&512&&n!==null&&Yg(n,n.return),e.flags&32){var o=e.stateNode;try{tx(o,"")}catch(v){Nr(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bye(o,i),TR(a,s);var u=TR(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?Uye(o,f):d==="dangerouslySetInnerHTML"?Vye(o,f):d==="children"?tx(o,f):H6(o,d,f,u)}switch(a){case"input":_R(o,i);break;case"textarea":Nye(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?uv(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?uv(o,!!i.multiple,i.defaultValue,!0):uv(o,!!i.multiple,i.multiple?[]:"",!1))}o[ux]=i}catch(v){Nr(e,e.return,v)}}break;case 6:if(ul(t,e),tc(e),r&4){if(e.stateNode===null)throw Error(Ee(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(v){Nr(e,e.return,v)}}break;case 3:if(ul(t,e),tc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ix(t.containerInfo)}catch(v){Nr(e,e.return,v)}break;case 4:ul(t,e),tc(e);break;case 13:ul(t,e),tc(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(CL=Kr())),r&4&&tU(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Di=(u=Di)||d,ul(t,e),Di=u):ul(t,e),tc(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(p=Ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:hb(4,p,p.return);break;case 1:Yg(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Nr(r,n,v)}}break;case 5:Yg(p,p.return);break;case 22:if(p.memoizedState!==null){rU(f);continue}}m!==null?(m.return=p,Ue=m):rU(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hye("display",s))}catch(v){Nr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Nr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ul(t,e),tc(e),r&4&&tU(e);break;case 21:break;default:ul(t,e),tc(e)}}function tc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gxe(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(tx(o,""),r.flags&=-33);var i=eU(e);o$(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=eU(e);r$(e,a,s);break;default:throw Error(Ee(161))}}catch(c){Nr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EUe(e,t,n){Ue=e,bxe(e)}function bxe(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var o=Ue,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||h2;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Di;a=h2;var u=Di;if(h2=s,(Di=c)&&!u)for(Ue=o;Ue!==null;)s=Ue,c=s.child,s.tag===22&&s.memoizedState!==null?oU(o):c!==null?(c.return=s,Ue=c):oU(o);for(;i!==null;)Ue=i,bxe(i),i=i.sibling;Ue=o,h2=a,Di=u}nU(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ue=i):nU(e)}}function nU(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Di||Wj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Di)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:pl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&BH(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}BH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ix(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Di||t.flags&512&&n$(t)}catch(p){Nr(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function rU(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function oU(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wj(4,t)}catch(c){Nr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Nr(t,o,c)}}var i=t.return;try{n$(t)}catch(c){Nr(t,i,c)}break;case 5:var s=t.return;try{n$(t)}catch(c){Nr(t,s,c)}}}catch(c){Nr(t,t.return,c)}if(t===e){Ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ue=a;break}Ue=t.return}}var jUe=Math.ceil,Vk=fd.ReactCurrentDispatcher,xL=fd.ReactCurrentOwner,za=fd.ReactCurrentBatchConfig,tn=0,Uo=null,fo=null,si=0,Gs=0,qg=sh(0),jo=0,gx=null,Jp=0,Yj=0,wL=0,pb=null,ks=null,CL=0,n0=1/0,gu=null,Hk=!1,i$=null,Sf=null,p2=!1,tf=null,Uk=0,mb=0,s$=null,iS=-1,sS=0;function rs(){return tn&6?Kr():iS!==-1?iS:iS=Kr()}function kf(e){return e.mode&1?tn&2&&si!==0?si&-si:uUe.transition!==null?(sS===0&&(sS=nbe()),sS):(e=_n,e!==0||(e=window.event,e=e===void 0?16:cbe(e.type)),e):1}function Al(e,t,n,r){if(50<mb)throw mb=0,s$=null,Error(Ee(185));Rw(e,n,r),(!(tn&2)||e!==Uo)&&(e===Uo&&(!(tn&2)&&(Yj|=n),jo===4&&Zd(e,si)),$s(e,r),n===1&&tn===0&&!(t.mode&1)&&(n0=Kr()+500,Vj&&ah()))}function $s(e,t){var n=e.callbackNode;uHe(e,t);var r=jk(e,e===Uo?si:0);if(r===0)n!==null&&hH(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hH(n),t===1)e.tag===0?cUe(iU.bind(null,e)):Tbe(iU.bind(null,e)),iUe(function(){!(tn&6)&&ah()}),n=null;else{switch(rbe(r)){case 1:n=G6;break;case 4:n=ebe;break;case 16:n=Ek;break;case 536870912:n=tbe;break;default:n=Ek}n=jxe(n,xxe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xxe(e,t){if(iS=-1,sS=0,tn&6)throw Error(Ee(327));var n=e.callbackNode;if(mv()&&e.callbackNode!==n)return null;var r=jk(e,e===Uo?si:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wk(e,r);else{t=r;var o=tn;tn|=2;var i=Cxe();(Uo!==e||si!==t)&&(gu=null,n0=Kr()+500,Dp(e,t));do try{DUe();break}catch(a){wxe(e,a)}while(1);aL(),Vk.current=i,tn=o,fo!==null?t=0:(Uo=null,si=0,t=jo)}if(t!==0){if(t===2&&(o=PR(e),o!==0&&(r=o,t=a$(e,o))),t===1)throw n=gx,Dp(e,0),Zd(e,r),$s(e,Kr()),n;if(t===6)Zd(e,r);else{if(o=e.current.alternate,!(r&30)&&!TUe(o)&&(t=Wk(e,r),t===2&&(i=PR(e),i!==0&&(r=i,t=a$(e,i))),t===1))throw n=gx,Dp(e,0),Zd(e,r),$s(e,Kr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:Vh(e,ks,gu);break;case 3:if(Zd(e,r),(r&130023424)===r&&(t=CL+500-Kr(),10<t)){if(jk(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){rs(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zR(Vh.bind(null,e,ks,gu),t);break}Vh(e,ks,gu);break;case 4:if(Zd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Tl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jUe(r/1960))-r,10<r){e.timeoutHandle=zR(Vh.bind(null,e,ks,gu),r);break}Vh(e,ks,gu);break;case 5:Vh(e,ks,gu);break;default:throw Error(Ee(329))}}}return $s(e,Kr()),e.callbackNode===n?xxe.bind(null,e):null}function a$(e,t){var n=pb;return e.current.memoizedState.isDehydrated&&(Dp(e,t).flags|=256),e=Wk(e,t),e!==2&&(t=ks,ks=n,t!==null&&l$(t)),e}function l$(e){ks===null?ks=e:ks.push.apply(ks,e)}function TUe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Rl(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zd(e,t){for(t&=~wL,t&=~Yj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tl(t),r=1<<n;e[n]=-1,t&=~r}}function iU(e){if(tn&6)throw Error(Ee(327));mv();var t=jk(e,0);if(!(t&1))return $s(e,Kr()),null;var n=Wk(e,t);if(e.tag!==0&&n===2){var r=PR(e);r!==0&&(t=r,n=a$(e,r))}if(n===1)throw n=gx,Dp(e,0),Zd(e,t),$s(e,Kr()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vh(e,ks,gu),$s(e,Kr()),null}function _L(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(n0=Kr()+500,Vj&&ah())}}function em(e){tf!==null&&tf.tag===0&&!(tn&6)&&mv();var t=tn;tn|=1;var n=za.transition,r=_n;try{if(za.transition=null,_n=1,e)return e()}finally{_n=r,za.transition=n,tn=t,!(tn&6)&&ah()}}function SL(){Gs=qg.current,ar(qg)}function Dp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oUe(n)),fo!==null)for(n=fo.return;n!==null;){var r=n;switch(oL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ok();break;case 3:e0(),ar(Ps),ar(Fi),hL();break;case 5:fL(r);break;case 4:e0();break;case 13:ar(Dr);break;case 19:ar(Dr);break;case 10:lL(r.type._context);break;case 22:case 23:SL()}n=n.return}if(Uo=e,fo=e=Ef(e.current,null),si=Gs=t,jo=0,gx=null,wL=Yj=Jp=0,ks=pb=null,fp!==null){for(t=0;t<fp.length;t++)if(n=fp[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}fp=null}return e}function wxe(e,t){do{var n=fo;try{if(aL(),nS.current=zk,Nk){for(var r=$r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Nk=!1}if(Qp=0,Bo=So=$r=null,fb=!1,hx=0,xL.current=null,n===null||n.return===null){jo=1,gx=t,fo=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=si,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=YH(s);if(m!==null){m.flags&=-257,qH(m,s,a,i,t),m.mode&1&&WH(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){WH(i,u,t),kL();break e}c=Error(Ee(426))}}else if(wr&&a.mode&1){var b=YH(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qH(b,s,a,i,t),iL(t0(c,a));break e}}i=c=t0(c,a),jo!==4&&(jo=2),pb===null?pb=[i]:pb.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=oxe(i,c,t);LH(i,x);break e;case 1:a=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sf===null||!Sf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=ixe(i,a,t);LH(i,C);break e}}i=i.return}while(i!==null)}Sxe(n)}catch(_){t=_,fo===n&&n!==null&&(fo=n=n.return);continue}break}while(1)}function Cxe(){var e=Vk.current;return Vk.current=zk,e===null?zk:e}function kL(){(jo===0||jo===3||jo===2)&&(jo=4),Uo===null||!(Jp&268435455)&&!(Yj&268435455)||Zd(Uo,si)}function Wk(e,t){var n=tn;tn|=2;var r=Cxe();(Uo!==e||si!==t)&&(gu=null,Dp(e,t));do try{AUe();break}catch(o){wxe(e,o)}while(1);if(aL(),tn=n,Vk.current=r,fo!==null)throw Error(Ee(261));return Uo=null,si=0,jo}function AUe(){for(;fo!==null;)_xe(fo)}function DUe(){for(;fo!==null&&!tHe();)_xe(fo)}function _xe(e){var t=Exe(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?Sxe(e):fo=t,xL.current=null}function Sxe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_Ue(n,t),n!==null){n.flags&=32767,fo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jo=6,fo=null;return}}else if(n=CUe(n,t,Gs),n!==null){fo=n;return}if(t=t.sibling,t!==null){fo=t;return}fo=t=e}while(t!==null);jo===0&&(jo=5)}function Vh(e,t,n){var r=_n,o=za.transition;try{za.transition=null,_n=1,IUe(e,t,n,r)}finally{za.transition=o,_n=r}return null}function IUe(e,t,n,r){do mv();while(tf!==null);if(tn&6)throw Error(Ee(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dHe(e,i),e===Uo&&(fo=Uo=null,si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||p2||(p2=!0,jxe(Ek,function(){return mv(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=za.transition,za.transition=null;var s=_n;_n=1;var a=tn;tn|=4,xL.current=null,kUe(e,n),yxe(n,e),XHe(BR),Tk=!!LR,BR=LR=null,e.current=n,EUe(n),nHe(),tn=a,_n=s,za.transition=i}else e.current=n;if(p2&&(p2=!1,tf=e,Uk=o),i=e.pendingLanes,i===0&&(Sf=null),iHe(n.stateNode),$s(e,Kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hk)throw Hk=!1,e=i$,i$=null,e;return Uk&1&&e.tag!==0&&mv(),i=e.pendingLanes,i&1?e===s$?mb++:(mb=0,s$=e):mb=0,ah(),null}function mv(){if(tf!==null){var e=rbe(Uk),t=za.transition,n=_n;try{if(za.transition=null,_n=16>e?16:e,tf===null)var r=!1;else{if(e=tf,tf=null,Uk=0,tn&6)throw Error(Ee(331));var o=tn;for(tn|=4,Ue=e.current;Ue!==null;){var i=Ue,s=i.child;if(Ue.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:hb(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var p=d.sibling,m=d.return;if(mxe(d),d===u){Ue=null;break}if(p!==null){p.return=m,Ue=p;break}Ue=m}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ue=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ue=s;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hb(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ue=x;break e}Ue=i.return}}var y=e.current;for(Ue=y;Ue!==null;){s=Ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ue=w;else e:for(s=y;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wj(9,a)}}catch(_){Nr(a,a.return,_)}if(a===s){Ue=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ue=C;break e}Ue=a.return}}if(tn=o,ah(),Ac&&typeof Ac.onPostCommitFiberRoot=="function")try{Ac.onPostCommitFiberRoot(Fj,e)}catch{}r=!0}return r}finally{_n=n,za.transition=t}}return!1}function sU(e,t,n){t=t0(n,t),t=oxe(e,t,1),e=_f(e,t,1),t=rs(),e!==null&&(Rw(e,1,t),$s(e,t))}function Nr(e,t,n){if(e.tag===3)sU(e,e,n);else for(;t!==null;){if(t.tag===3){sU(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sf===null||!Sf.has(r))){e=t0(n,e),e=ixe(t,e,1),t=_f(t,e,1),e=rs(),t!==null&&(Rw(t,1,e),$s(t,e));break}}t=t.return}}function OUe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rs(),e.pingedLanes|=e.suspendedLanes&n,Uo===e&&(si&n)===n&&(jo===4||jo===3&&(si&130023424)===si&&500>Kr()-CL?Dp(e,0):wL|=n),$s(e,t)}function kxe(e,t){t===0&&(e.mode&1?(t=o2,o2<<=1,!(o2&130023424)&&(o2=4194304)):t=1);var n=rs();e=Uu(e,t),e!==null&&(Rw(e,t,n),$s(e,n))}function PUe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kxe(e,n)}function RUe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),kxe(e,n)}var Exe;Exe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ps.current)Ds=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ds=!1,wUe(e,t,n);Ds=!!(e.flags&131072)}else Ds=!1,wr&&t.flags&1048576&&Abe(t,$k,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oS(e,t),e=t.pendingProps;var o=Xv(t,Fi.current);pv(t,n),o=mL(null,t,r,e,o,n);var i=gL();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(i=!0,Pk(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,uL(t),o.updater=Hj,t.stateNode=o,o._reactInternals=t,GR(t,r,e,n),t=XR(null,t,r,!0,i,n)):(t.tag=0,wr&&i&&rL(t),Qi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oS(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=MUe(r),e=pl(r,e),o){case 0:t=ZR(null,t,r,e,n);break e;case 1:t=ZH(null,t,r,e,n);break e;case 11:t=GH(null,t,r,e,n);break e;case 14:t=KH(null,t,r,pl(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),ZR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),ZH(e,t,r,o,n);case 3:e:{if(cxe(t),e===null)throw Error(Ee(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Pbe(e,t),Lk(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=t0(Error(Ee(423)),t),t=XH(e,t,r,n,o);break e}else if(r!==o){o=t0(Error(Ee(424)),t),t=XH(e,t,r,n,o);break e}else for(na=Cf(t.stateNode.containerInfo.firstChild),aa=t,wr=!0,gl=null,n=Fbe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qv(),r===o){t=Wu(e,t,n);break e}Qi(e,t,r,n)}t=t.child}return t;case 5:return Lbe(t),e===null&&WR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,NR(r,o)?s=null:i!==null&&NR(r,i)&&(t.flags|=32),lxe(e,t),Qi(e,t,s,n),t.child;case 6:return e===null&&WR(t),null;case 13:return uxe(e,t,n);case 4:return dL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jv(t,null,r,n):Qi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),GH(e,t,r,o,n);case 7:return Qi(e,t,t.pendingProps,n),t.child;case 8:return Qi(e,t,t.pendingProps.children,n),t.child;case 12:return Qi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Yn(Mk,r._currentValue),r._currentValue=s,i!==null)if(Rl(i.value,s)){if(i.children===o.children&&!Ps.current){t=Wu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Iu(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),YR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),YR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Qi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,pv(t,n),o=Ga(o),r=r(o),t.flags|=1,Qi(e,t,r,n),t.child;case 14:return r=t.type,o=pl(r,t.pendingProps),o=pl(r.type,o),KH(e,t,r,o,n);case 15:return sxe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:pl(r,o),oS(e,t),t.tag=1,Rs(r)?(e=!0,Pk(t)):e=!1,pv(t,n),$be(t,r,o),GR(t,r,o,n),XR(null,t,r,!0,e,n);case 19:return dxe(e,t,n);case 22:return axe(e,t,n)}throw Error(Ee(156,t.tag))};function jxe(e,t){return Jye(e,t)}function $Ue(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,n,r){return new $Ue(e,t,n,r)}function EL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MUe(e){if(typeof e=="function")return EL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W6)return 11;if(e===Y6)return 14}return 2}function Ef(e,t){var n=e.alternate;return n===null?(n=Fa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function aS(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")EL(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fg:return Ip(n.children,o,i,t);case U6:s=8,o|=8;break;case yR:return e=Fa(12,n,t,o|2),e.elementType=yR,e.lanes=i,e;case bR:return e=Fa(13,n,t,o),e.elementType=bR,e.lanes=i,e;case xR:return e=Fa(19,n,t,o),e.elementType=xR,e.lanes=i,e;case Mye:return qj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rye:s=10;break e;case $ye:s=9;break e;case W6:s=11;break e;case Y6:s=14;break e;case Nd:s=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Fa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ip(e,t,n,r){return e=Fa(7,e,r,t),e.lanes=n,e}function qj(e,t,n,r){return e=Fa(22,e,r,t),e.elementType=Mye,e.lanes=n,e.stateNode={isHidden:!1},e}function bI(e,t,n){return e=Fa(6,e,null,t),e.lanes=n,e}function xI(e,t,n){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FUe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eI(0),this.expirationTimes=eI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eI(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jL(e,t,n,r,o,i,s,a,c){return e=new FUe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uL(i),e}function LUe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Txe(e){if(!e)return Uf;e=e._reactInternals;e:{if(km(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(Rs(n))return jbe(e,n,t)}return t}function Axe(e,t,n,r,o,i,s,a,c){return e=jL(n,r,!0,e,o,i,s,a,c),e.context=Txe(null),n=e.current,r=rs(),o=kf(n),i=Iu(r,o),i.callback=t??null,_f(n,i,o),e.current.lanes=o,Rw(e,o,r),$s(e,r),e}function Gj(e,t,n,r){var o=t.current,i=rs(),s=kf(o);return n=Txe(n),t.context===null?t.context=n:t.pendingContext=n,t=Iu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_f(o,t,s),e!==null&&(Al(e,o,s,i),tS(e,o,s)),s}function Yk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function aU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function TL(e,t){aU(e,t),(e=e.alternate)&&aU(e,t)}function BUe(){return null}var Dxe=typeof reportError=="function"?reportError:function(e){console.error(e)};function AL(e){this._internalRoot=e}Kj.prototype.render=AL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Gj(e,t,null,null)};Kj.prototype.unmount=AL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;em(function(){Gj(null,e,null,null)}),t[Hu]=null}};function Kj(e){this._internalRoot=e}Kj.prototype.unstable_scheduleHydration=function(e){if(e){var t=sbe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kd.length&&t!==0&&t<Kd[n].priority;n++);Kd.splice(n,0,e),n===0&&lbe(e)}};function DL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lU(){}function NUe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Yk(s);i.call(u)}}var s=Axe(t,r,e,0,null,!1,!1,"",lU);return e._reactRootContainer=s,e[Hu]=s.current,lx(e.nodeType===8?e.parentNode:e),em(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=Yk(c);a.call(u)}}var c=jL(e,0,!1,null,null,!1,!1,"",lU);return e._reactRootContainer=c,e[Hu]=c.current,lx(e.nodeType===8?e.parentNode:e),em(function(){Gj(t,c,n,r)}),c}function Xj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=Yk(s);a.call(c)}}Gj(t,s,e,o)}else s=NUe(n,t,e,o,r);return Yk(s)}obe=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$y(t.pendingLanes);n!==0&&(K6(t,n|1),$s(t,Kr()),!(tn&6)&&(n0=Kr()+500,ah()))}break;case 13:em(function(){var r=Uu(e,1);if(r!==null){var o=rs();Al(r,e,1,o)}}),TL(e,1)}};Z6=function(e){if(e.tag===13){var t=Uu(e,134217728);if(t!==null){var n=rs();Al(t,e,134217728,n)}TL(e,134217728)}};ibe=function(e){if(e.tag===13){var t=kf(e),n=Uu(e,t);if(n!==null){var r=rs();Al(n,e,t,r)}TL(e,t)}};sbe=function(){return _n};abe=function(e,t){var n=_n;try{return _n=e,t()}finally{_n=n}};DR=function(e,t,n){switch(t){case"input":if(_R(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zj(r);if(!o)throw Error(Ee(90));Lye(r),_R(r,o)}}}break;case"textarea":Nye(e,n);break;case"select":t=n.value,t!=null&&uv(e,!!n.multiple,t,!1)}};qye=_L;Gye=em;var zUe={usingClientEntryPoint:!1,Events:[Mw,zg,zj,Wye,Yye,_L]},Y1={findFiberByHostInstance:dp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VUe={bundleType:Y1.bundleType,version:Y1.version,rendererPackageName:Y1.rendererPackageName,rendererConfig:Y1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xye(e),e===null?null:e.stateNode},findFiberByHostInstance:Y1.findFiberByHostInstance||BUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m2.isDisabled&&m2.supportsFiber)try{Fj=m2.inject(VUe),Ac=m2}catch{}}va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zUe;va.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DL(t))throw Error(Ee(200));return LUe(e,t,null,n)};va.createRoot=function(e,t){if(!DL(e))throw Error(Ee(299));var n=!1,r="",o=Dxe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=jL(e,1,!1,null,null,n,!1,r,o),e[Hu]=t.current,lx(e.nodeType===8?e.parentNode:e),new AL(t)};va.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=Xye(t),e=e===null?null:e.stateNode,e};va.flushSync=function(e){return em(e)};va.hydrate=function(e,t,n){if(!Zj(t))throw Error(Ee(200));return Xj(null,e,t,!0,n)};va.hydrateRoot=function(e,t,n){if(!DL(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Dxe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Axe(t,null,e,1,n??null,o,!1,i,s),e[Hu]=t.current,lx(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kj(t)};va.render=function(e,t,n){if(!Zj(t))throw Error(Ee(200));return Xj(null,e,t,!1,n)};va.unmountComponentAtNode=function(e){if(!Zj(e))throw Error(Ee(40));return e._reactRootContainer?(em(function(){Xj(null,null,e,!1,function(){e._reactRootContainer=null,e[Hu]=null})}),!0):!1};va.unstable_batchedUpdates=_L;va.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zj(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Xj(e,t,n,!1,r)};va.version="18.2.0-next-9e3b772b8-20220608";function Ixe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ixe)}catch(e){console.error(e)}}Ixe(),Aye.exports=va;var wc=Aye.exports;const HUe=Ae(wc),Oxe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?QV({element:t.current,padding:n}).fn(o):{}:t?QV({element:t,padding:n}).fn(o):{}}}};var lS=typeof document<"u"?h.useLayoutEffect:h.useEffect;function qk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!qk(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!qk(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pxe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cU(e,t){const n=Pxe(e);return Math.round(t*n)/n}function uU(e){const t=h.useRef(e);return lS(()=>{t.current=e}),t}function Rxe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);qk(p,r)||m(r);const[g,v]=h.useState(null),[b,x]=h.useState(null),y=h.useCallback(R=>{R!=S.current&&(S.current=R,v(R))},[v]),w=h.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[x]),C=i||g,_=s||b,S=h.useRef(null),k=h.useRef(null),j=h.useRef(d),E=uU(c),T=uU(o),A=h.useCallback(()=>{if(!S.current||!k.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),BVe(S.current,k.current,R).then(z=>{const F={...z,isPositioned:!0};D.current&&!qk(j.current,F)&&(j.current=F,wc.flushSync(()=>{f(F)}))})},[p,t,n,T]);lS(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);lS(()=>(D.current=!0,()=>{D.current=!1}),[]),lS(()=>{if(C&&(S.current=C),_&&(k.current=_),C&&_){if(E.current)return E.current(C,_,A);A()}},[C,_,A,E]);const I=h.useMemo(()=>({reference:S,floating:k,setReference:y,setFloating:w}),[y,w]),O=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!O.floating)return R;const z=cU(O.floating,d.x),F=cU(O.floating,d.y);return a?{...R,transform:"translate("+z+"px, "+F+"px)",...Pxe(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:F}},[n,a,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:O,floatingStyles:$}),[d,A,I,O,$])}const Gk=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Qj=h.createContext({}),Jj=h.createContext(null),eT=typeof document<"u",IL=eT?h.useLayoutEffect:h.useEffect,$xe=h.createContext({strict:!1});function UUe(e,t,n,r){const{visualElement:o}=h.useContext(Qj),i=h.useContext($xe),s=h.useContext(Jj),a=h.useContext(Gk).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return IL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Gg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WUe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Gg(n)&&(n.current=r))},[t])}function vx(e){return typeof e=="string"||Array.isArray(e)}function tT(e){return typeof e=="object"&&typeof e.start=="function"}const OL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PL=["initial",...OL];function nT(e){return tT(e.animate)||PL.some(t=>vx(e[t]))}function Mxe(e){return!!(nT(e)||e.variants)}function YUe(e,t){if(nT(e)){const{initial:n,animate:r}=e;return{initial:n===!1||vx(n)?n:void 0,animate:vx(r)?r:void 0}}return e.inherit!==!1?t:{}}function qUe(e){const{initial:t,animate:n}=YUe(e,h.useContext(Qj));return h.useMemo(()=>({initial:t,animate:n}),[dU(t),dU(n)])}function dU(e){return Array.isArray(e)?e.join(" "):e}const fU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yx={};for(const e in fU)yx[e]={isEnabled:t=>fU[e].some(n=>!!t[n])};function GUe(e){for(const t in e)yx[t]={...yx[t],...e[t]}}const RL=h.createContext({}),Fxe=h.createContext({}),KUe=Symbol.for("motionComponentSymbol");function ZUe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&GUe(e);function i(a,c){let u;const d={...h.useContext(Gk),...a,layoutId:XUe(a)},{isStatic:f}=d,p=qUe(a),m=r(a,f);if(!f&&eT){p.visualElement=UUe(o,m,d,t);const g=h.useContext(Fxe),v=h.useContext($xe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,g))}return h.createElement(Qj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,WUe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[KUe]=o,s}function XUe({layoutId:e}){const t=h.useContext(RL).id;return t&&e!==void 0?t+"-"+e:e}function QUe(e){function t(r,o={}){return ZUe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const JUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $L(e){return typeof e!="string"||e.includes("-")?!1:!!(JUe.indexOf(e)>-1||/[A-Z]/.test(e))}const Kk={};function eWe(e){Object.assign(Kk,e)}const Lw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Em=new Set(Lw);function Lxe(e,{layout:t,layoutId:n}){return Em.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Kk[e]||e==="opacity")}const Fs=e=>!!(e&&e.getVelocity),tWe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nWe=Lw.length;function rWe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<nWe;s++){const a=Lw[s];if(e[a]!==void 0){const c=tWe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Bxe=e=>t=>typeof t=="string"&&t.startsWith(e),Nxe=Bxe("--"),c$=Bxe("var(--"),oWe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,iWe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wf=(e,t,n)=>Math.min(Math.max(n,e),t),jm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gb={...jm,transform:e=>Wf(0,1,e)},g2={...jm,default:1},vb=e=>Math.round(e*1e5)/1e5,rT=/(-)?([\d]*\.?[\d])+/g,zxe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sWe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bw(e){return typeof e=="string"}const Nw=e=>({test:t=>Bw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Md=Nw("deg"),Ic=Nw("%"),lt=Nw("px"),aWe=Nw("vh"),lWe=Nw("vw"),hU={...Ic,parse:e=>Ic.parse(e)/100,transform:e=>Ic.transform(e*100)},pU={...jm,transform:Math.round},Vxe={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,size:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,rotate:Md,rotateX:Md,rotateY:Md,rotateZ:Md,scale:g2,scaleX:g2,scaleY:g2,scaleZ:g2,skew:Md,skewX:Md,skewY:Md,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:gb,originX:hU,originY:hU,originZ:lt,zIndex:pU,fillOpacity:gb,strokeOpacity:gb,numOctaves:pU};function ML(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Nxe(f)){i[f]=p;continue}const m=Vxe[f],g=iWe(p,m);if(Em.has(f)){if(c=!0,s[f]=g,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=g):o[f]=g}if(t.transform||(c||r?o.transform=rWe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const FL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hxe(e,t,n){for(const r in t)!Fs(t[r])&&!Lxe(r,n)&&(e[r]=t[r])}function cWe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=FL();return ML(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function uWe(e,t,n){const r=e.style||{},o={};return Hxe(o,r,e),Object.assign(o,cWe(e,t,n)),e.transformValues?e.transformValues(o):o}function dWe(e,t,n){const r={},o=uWe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const fWe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Zk(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||fWe.has(e)}let Uxe=e=>!Zk(e);function Wxe(e){e&&(Uxe=t=>t.startsWith("on")?!Zk(t):e(t))}try{Wxe(require("@emotion/is-prop-valid").default)}catch{}function hWe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Uxe(o)||n===!0&&Zk(o)||!t&&!Zk(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function mU(e,t,n){return typeof e=="string"?e:lt.transform(t+n*e)}function pWe(e,t,n){const r=mU(t,e.x,e.width),o=mU(n,e.y,e.height);return`${r} ${o}`}const mWe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gWe={offset:"strokeDashoffset",array:"strokeDasharray"};function vWe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?mWe:gWe;e[i.offset]=lt.transform(-r);const s=lt.transform(t),a=lt.transform(n);e[i.array]=`${s} ${a}`}function LL(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(ML(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:v}=e;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(o!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=pWe(v,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&vWe(m,s,a,c,!1)}const Yxe=()=>({...FL(),attrs:{}}),BL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yWe(e,t,n,r){const o=h.useMemo(()=>{const i=Yxe();return LL(i,t,{enableHardwareAcceleration:!1},BL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Hxe(i,e.style,e),o.style={...i,...o.style}}return o}function bWe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=($L(n)?yWe:dWe)(r,i,s,n),d={...hWe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>Fs(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const NL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function qxe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Gxe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kxe(e,t,n,r){qxe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Gxe.has(o)?o:NL(o),t.attrs[o])}function zL(e,t){const{style:n}=e,r={};for(const o in n)(Fs(n[o])||t.style&&Fs(t.style[o])||Lxe(o,e))&&(r[o]=n[o]);return r}function Zxe(e,t){const n=zL(e,t);for(const r in e)if(Fs(e[r])||Fs(t[r])){const o=Lw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function VL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function HL(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xk=e=>Array.isArray(e),xWe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wWe=e=>Xk(e)?e[e.length-1]||0:e;function cS(e){const t=Fs(e)?e.get():e;return xWe(t)?t.toValue():t}function CWe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:_We(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const Xxe=e=>(t,n)=>{const r=h.useContext(Qj),o=h.useContext(Jj),i=()=>CWe(e,t,r,o);return n?i():HL(i)};function _We(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=cS(i[p]);let{initial:s,animate:a}=e;const c=nT(e),u=Mxe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!tT(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=VL(e,m);if(!g)return;const{transitionEnd:v,transition:b,...x}=g;for(const y in x){let w=x[y];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[y]=w)}for(const y in v)o[y]=v[y]}),o}const zr=e=>e;class gU{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function SWe(e){let t=new gU,n=new gU,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const v2=["prepare","read","update","preRender","render","postRender"],kWe=40;function EWe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=v2.reduce((f,p)=>(f[p]=SWe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,kWe),1),o.timestamp=f,o.isProcessing=!0,v2.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:v2.reduce((f,p)=>{const m=i[p];return f[p]=(g,v=!1,b=!1)=>(n||c(),m.schedule(g,v,b)),f},{}),cancel:f=>v2.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:qn,cancel:Yu,state:Ro,steps:wI}=EWe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),jWe={useVisualState:Xxe({scrapeMotionValuesFromProps:Zxe,createRenderState:Yxe,onMount:(e,t,{renderState:n,latestValues:r})=>{qn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qn.render(()=>{LL(n,r,{enableHardwareAcceleration:!1},BL(t.tagName),e.transformTemplate),Kxe(t,n)})}})},TWe={useVisualState:Xxe({scrapeMotionValuesFromProps:zL,createRenderState:FL})};function AWe(e,{forwardMotionProps:t=!1},n,r){return{...$L(e)?jWe:TWe,preloadedFeatures:n,useRender:bWe(t),createVisualElement:r,Component:e}}function ku(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Qxe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function oT(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const DWe=e=>t=>Qxe(t)&&e(t,oT(t));function Ou(e,t,n,r){return ku(e,t,DWe(n),r)}const IWe=(e,t)=>n=>t(e(n)),jf=(...e)=>e.reduce(IWe);function Jxe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const vU=Jxe("dragHorizontal"),yU=Jxe("dragVertical");function ewe(e){let t=!1;if(e==="y")t=yU();else if(e==="x")t=vU();else{const n=vU(),r=yU();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function twe(){const e=ewe(!0);return e?(e(),!1):!0}class lh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bU(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||twe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&qn.update(()=>a[r](i,s))};return Ou(e.current,n,o,{passive:!e.getProps()[r]})}class OWe extends lh{mount(){this.unmount=jf(bU(this.node,!0),bU(this.node,!1))}unmount(){}}class PWe extends lh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jf(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nwe=(e,t)=>t?e===t?!0:nwe(e,t.parentElement):!1;function CI(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,oT(n))}class RWe extends lh{constructor(){super(...arguments),this.removeStartListeners=zr,this.removeEndListeners=zr,this.removeAccessibleListeners=zr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Ou(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();qn.update(()=>{nwe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Ou(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||CI("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&qn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ku(this.node.current,"keyup",s),CI("down",(a,c)=>{this.startPress(a,c)})},n=ku(this.node.current,"keydown",t),r=()=>{this.isPressing&&CI("cancel",(i,s)=>this.cancelPress(i,s))},o=ku(this.node.current,"blur",r);this.removeAccessibleListeners=jf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&qn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!twe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&qn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Ou(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ku(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const u$=new WeakMap,_I=new WeakMap,$We=e=>{const t=u$.get(e.target);t&&t(e)},MWe=e=>{e.forEach($We)};function FWe({root:e,...t}){const n=e||document;_I.has(n)||_I.set(n,{});const r=_I.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(MWe,{root:e,...t})),r[o]}function LWe(e,t,n){const r=FWe(t);return u$.set(e,n),r.observe(e),()=>{u$.delete(e),r.unobserve(e)}}const BWe={some:0,all:1};class NWe extends lh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BWe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return LWe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zWe(t,n))&&this.startObserver()}unmount(){}}function zWe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const VWe={inView:{Feature:NWe},tap:{Feature:RWe},focus:{Feature:PWe},hover:{Feature:OWe}};function rwe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function HWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function UWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function iT(e,t,n){const r=e.getProps();return VL(r,t,n!==void 0?n:r.custom,HWe(e),UWe(e))}const WWe="framerAppearId",YWe="data-"+NL(WWe);let qWe=zr,UL=zr;const Tf=e=>e*1e3,Pu=e=>e/1e3,GWe={current:!1},owe=e=>Array.isArray(e)&&typeof e[0]=="number";function iwe(e){return!!(!e||typeof e=="string"&&swe[e]||owe(e)||Array.isArray(e)&&e.every(iwe))}const Fy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,swe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fy([0,.65,.55,1]),circOut:Fy([.55,0,1,.45]),backIn:Fy([.31,.01,.66,-.59]),backOut:Fy([.33,1.53,.69,.99])};function awe(e){if(e)return owe(e)?Fy(e):Array.isArray(e)?e.map(awe):swe[e]}function KWe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=awe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function ZWe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const lwe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XWe=1e-7,QWe=12;function JWe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=lwe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>XWe&&++a<QWe);return s}function zw(e,t,n,r){if(e===t&&n===r)return zr;const o=i=>JWe(i,0,1,e,n);return i=>i===0||i===1?i:lwe(o(i),t,r)}const eYe=zw(.42,0,1,1),tYe=zw(0,0,.58,1),cwe=zw(.42,0,.58,1),nYe=e=>Array.isArray(e)&&typeof e[0]!="number",uwe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dwe=e=>t=>1-e(1-t),fwe=e=>1-Math.sin(Math.acos(e)),WL=dwe(fwe),rYe=uwe(WL),hwe=zw(.33,1.53,.69,.99),YL=dwe(hwe),oYe=uwe(YL),iYe=e=>(e*=2)<1?.5*YL(e):.5*(2-Math.pow(2,-10*(e-1))),sYe={linear:zr,easeIn:eYe,easeInOut:cwe,easeOut:tYe,circIn:fwe,circInOut:rYe,circOut:WL,backIn:YL,backInOut:oYe,backOut:hwe,anticipate:iYe},xU=e=>{if(Array.isArray(e)){UL(e.length===4);const[t,n,r,o]=e;return zw(t,n,r,o)}else if(typeof e=="string")return sYe[e];return e},qL=(e,t)=>n=>!!(Bw(n)&&sWe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),pwe=(e,t,n)=>r=>{if(!Bw(r))return r;const[o,i,s,a]=r.match(rT);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},aYe=e=>Wf(0,255,e),SI={...jm,transform:e=>Math.round(aYe(e))},pp={test:qL("rgb","red"),parse:pwe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+SI.transform(e)+", "+SI.transform(t)+", "+SI.transform(n)+", "+vb(gb.transform(r))+")"};function lYe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const d$={test:qL("#"),parse:lYe,transform:pp.transform},Kg={test:qL("hsl","hue"),parse:pwe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ic.transform(vb(t))+", "+Ic.transform(vb(n))+", "+vb(gb.transform(r))+")"},Xi={test:e=>pp.test(e)||d$.test(e)||Kg.test(e),parse:e=>pp.test(e)?pp.parse(e):Kg.test(e)?Kg.parse(e):d$.parse(e),transform:e=>Bw(e)?e:e.hasOwnProperty("red")?pp.transform(e):Kg.transform(e)},Or=(e,t,n)=>-n*e+n*t+e;function kI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cYe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=kI(c,a,e+1/3),i=kI(c,a,e),s=kI(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const EI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},uYe=[d$,pp,Kg],dYe=e=>uYe.find(t=>t.test(e));function wU(e){const t=dYe(e);let n=t.parse(e);return t===Kg&&(n=cYe(n)),n}const mwe=(e,t)=>{const n=wU(e),r=wU(t),o={...n};return i=>(o.red=EI(n.red,r.red,i),o.green=EI(n.green,r.green,i),o.blue=EI(n.blue,r.blue,i),o.alpha=Or(n.alpha,r.alpha,i),pp.transform(o))};function fYe(e){var t,n;return isNaN(e)&&Bw(e)&&(((t=e.match(rT))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(zxe))===null||n===void 0?void 0:n.length)||0)>0}const gwe={regex:oWe,countKey:"Vars",token:"${v}",parse:zr},vwe={regex:zxe,countKey:"Colors",token:"${c}",parse:Xi.parse},ywe={regex:rT,countKey:"Numbers",token:"${n}",parse:jm.parse};function jI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Qk(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&jI(n,gwe),jI(n,vwe),jI(n,ywe),n}function bwe(e){return Qk(e).values}function xwe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Qk(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(gwe.token,s[c]):c<r+n?a=a.replace(vwe.token,Xi.transform(s[c])):a=a.replace(ywe.token,vb(s[c]));return a}}const hYe=e=>typeof e=="number"?0:e;function pYe(e){const t=bwe(e);return xwe(e)(t.map(hYe))}const Yf={test:fYe,parse:bwe,createTransformer:xwe,getAnimatableNone:pYe},wwe=(e,t)=>n=>`${n>0?t:e}`;function Cwe(e,t){return typeof e=="number"?n=>Or(e,t,n):Xi.test(e)?mwe(e,t):e.startsWith("var(")?wwe(e,t):Swe(e,t)}const _we=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Cwe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},mYe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Cwe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Swe=(e,t)=>{const n=Yf.createTransformer(t),r=Qk(e),o=Qk(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?jf(_we(r.values,o.values),n):wwe(e,t)},bx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},CU=(e,t)=>n=>Or(e,t,n);function gYe(e){return typeof e=="number"?CU:typeof e=="string"?Xi.test(e)?mwe:Swe:Array.isArray(e)?_we:typeof e=="object"?mYe:CU}function vYe(e,t,n){const r=[],o=n||gYe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||zr:t;a=jf(c,a)}r.push(a)}return r}function kwe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(UL(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=vYe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=bx(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Wf(e[0],e[i-1],u)):c}function yYe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=bx(0,t,r);e.push(Or(n,1,o))}}function bYe(e){const t=[0];return yYe(t,e.length-1),t}function xYe(e,t){return e.map(n=>n*t)}function wYe(e,t){return e.map(()=>t||cwe).splice(0,e.length-1)}function Jk({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=nYe(r)?r.map(xU):xU(r),i={done:!1,value:t[0]},s=xYe(n&&n.length===t.length?n:bYe(t),e),a=kwe(s,t,{ease:Array.isArray(o)?o:wYe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Ewe(e,t){return t?e*(1e3/t):0}const CYe=5;function jwe(e,t,n){const r=Math.max(t-CYe,0);return Ewe(n-e(r),t-r)}const TI=.001,_Ye=.01,_U=10,SYe=.05,kYe=1;function EYe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;qWe(e<=Tf(_U));let s=1-t;s=Wf(SYe,kYe,s),e=Wf(_Ye,_U,Pu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=f$(u,s),g=Math.exp(-f);return TI-p/m*g},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=f$(Math.pow(u,2),s);return(-o(u)+TI>0?-1:1)*((p-m)*g)/v}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-TI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=TYe(o,i,a);if(e=Tf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const jYe=12;function TYe(e,t,n){let r=n;for(let o=1;o<jYe;o++)r=r-e(r)/t(r);return r}function f$(e,t){return e*Math.sqrt(1-t*t)}const AYe=["duration","bounce"],DYe=["stiffness","damping","mass"];function SU(e,t){return t.some(n=>e[n]!==void 0)}function IYe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!SU(e,DYe)&&SU(e,AYe)){const n=EYe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Twe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=IYe(r),m=d?-Pu(d):0,g=c/(2*Math.sqrt(a*u)),v=i-o,b=Pu(Math.sqrt(a/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(g<1){const w=f$(b,g);y=C=>{const _=Math.exp(-g*b*C);return i-_*((m+g*b*v)/w*Math.sin(w*C)+v*Math.cos(w*C))}}else if(g===1)y=w=>i-Math.exp(-b*w)*(v+(m+b*v)*w);else{const w=b*Math.sqrt(g*g-1);y=C=>{const _=Math.exp(-g*b*C),S=Math.min(w*C,300);return i-_*((m+g*b*v)*Math.sinh(S)+w*v*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=y(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(g<1?_=jwe(y,w,C):_=0);const S=Math.abs(_)<=n,k=Math.abs(i-C)<=t;s.done=S&&k}return s.value=s.done?i:C,s}}}function kU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,g=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let v=n*t;const b=f+v,x=s===void 0?b:s(b);x!==b&&(v=x-f);const y=j=>-v*Math.exp(-j/r),w=j=>x+y(j),C=j=>{const E=y(j),T=w(j);p.done=Math.abs(E)<=u,p.value=p.done?x:T};let _,S;const k=j=>{m(p.value)&&(_=j,S=Twe({keyframes:[p.value,g(p.value)],velocity:jwe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let E=!1;return!S&&_===void 0&&(E=!0,C(j),k(j)),_!==void 0&&j>_?S.next(j-_):(!E&&C(j),p)}}}const OYe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>qn.update(t,!0),stop:()=>Yu(t),now:()=>Ro.isProcessing?Ro.timestamp:performance.now()}},EU=2e4;function jU(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<EU;)t+=n,r=e.next(t);return t>=EU?1/0:t}const PYe={decay:kU,inertia:kU,tween:Jk,keyframes:Jk,spring:Twe};function e5({autoplay:e=!0,delay:t=0,driver:n=OYe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,g=!1,v,b;const x=()=>{b=new Promise(V=>{v=V})};x();let y;const w=PYe[o]||Jk;let C;w!==Jk&&typeof r[0]!="number"&&(C=kwe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let k="idle",j=null,E=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=jU(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let O=0;const $=V=>{if(E===null)return;m>0&&(E=Math.min(E,V)),m<0&&(E=Math.min(V-I/m,E)),j!==null?O=j:O=Math.round(V-E)*m;const q=O-t*(m>=0?1:-1),oe=m>=0?q<0:q>I;O=Math.max(q,0),k==="finished"&&j===null&&(O=I);let N=O,G=_;if(i){const Q=O/D;let Z=Math.floor(Q),ne=Q%1;!ne&&Q>=1&&(ne=1),ne===1&&Z--,Z=Math.min(Z,i+1);const ae=!!(Z%2);ae&&(a==="reverse"?(ne=1-ne,s&&(ne-=s/D)):a==="mirror"&&(G=S));let me=Wf(0,1,ne);O>I&&(me=a==="reverse"&&ae?1:0),N=me*D}const Y=oe?{done:!1,value:r[0]}:G.next(N);C&&(Y.value=C(Y.value));let{done:K}=Y;!oe&&A!==null&&(K=m>=0?O>=I:O<=0);const X=j===null&&(k==="finished"||k==="running"&&K);return f&&f(Y.value),X&&F(),Y},R=()=>{y&&y.stop(),y=void 0},z=()=>{k="idle",R(),v(),x(),E=T=null},F=()=>{k="finished",d&&d(),R(),v()},H=()=>{if(g)return;y||(y=n($));const V=y.now();c&&c(),j!==null?E=V-j:(!E||k==="finished")&&(E=V),k==="finished"&&x(),T=E,j=null,k="running",y.start()};e&&H();const W={then(V,q){return b.then(V,q)},get time(){return Pu(O)},set time(V){V=Tf(V),O=V,j!==null||!y||m===0?j=V:E=y.now()-V/m},get duration(){const V=_.calculatedDuration===null?jU(_):_.calculatedDuration;return Pu(V)},get speed(){return m},set speed(V){V===m||!y||(m=V,W.time=Pu(O))},get state(){return k},play:H,pause:()=>{k="paused",j=O},stop:()=>{g=!0,k!=="idle"&&(k="idle",u&&u(),z())},cancel:()=>{T!==null&&$(T),z()},complete:()=>{k="finished"},sample:V=>(E=0,$(V))};return W}function RYe(e){let t;return()=>(t===void 0&&(t=e()),t)}const $Ye=RYe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),MYe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),y2=10,FYe=2e4,LYe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!iwe(t.ease);function BYe(e,t,{onUpdate:n,onComplete:r,...o}){if(!($Ye()&&MYe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(LYe(t,o)){const y=e5({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<FYe;)w=y.sample(_),C.push(w.value),_+=y2;m=void 0,d=C,f=_-y2,p="linear"}const g=KWe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(g.startTime=Ro.isProcessing?Ro.timestamp:document.timeline?document.timeline.currentTime:performance.now());const v=()=>g.cancel(),b=()=>{qn.update(v),a(),u()};return g.onfinish=()=>{e.set(ZWe(d,o)),r&&r(),b()},{then(y,w){return c.then(y,w)},attachTimeline(y){return g.timeline=y,g.onfinish=null,zr},get time(){return Pu(g.currentTime||0)},set time(y){g.currentTime=Tf(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return Pu(f)},play:()=>{s||(g.play(),Yu(v))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const w=e5({...o,autoplay:!1});e.setWithVelocity(w.sample(y-y2).value,w.sample(y).value,y2)}b()},complete:()=>g.finish(),cancel:b}}function NYe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zr,pause:zr,stop:zr,then:i=>(i(),Promise.resolve()),cancel:zr,complete:zr});return t?e5({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const zYe={type:"spring",stiffness:500,damping:25,restSpeed:10},VYe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HYe={type:"keyframes",duration:.8},UYe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WYe=(e,{keyframes:t})=>t.length>2?HYe:Em.has(e)?e.startsWith("scale")?VYe(t[1]):zYe:UYe,h$=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yf.test(t)||t==="0")&&!t.startsWith("url(")),YYe=new Set(["brightness","contrast","saturate","opacity"]);function qYe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(rT)||[];if(!r)return e;const o=n.replace(r,"");let i=YYe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const GYe=/([a-z-]*)\(.*?\)/g,p$={...Yf,getAnimatableNone:e=>{const t=e.match(GYe);return t?t.map(qYe).join(" "):e}},KYe={...Vxe,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:p$,WebkitFilter:p$},GL=e=>KYe[e];function Awe(e,t){let n=GL(e);return n!==p$&&(n=Yf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dwe=e=>/^0[^.\s]+$/.test(e);function ZYe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Dwe(e)}function XYe(e,t,n,r){const o=h$(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),ZYe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Awe(t,a)}return i}function QYe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Iwe(e,t){return e[t]||e.default||e}const KL=(e,t,n,r={})=>o=>{const i=Iwe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Tf(s);const c=XYe(t,e,n,i),u=c[0],d=c[c.length-1],f=h$(e,u),p=h$(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(QYe(i)||(m={...m,...WYe(e,m)}),m.duration&&(m.duration=Tf(m.duration)),m.repeatDelay&&(m.repeatDelay=Tf(m.repeatDelay)),!f||!p||GWe.current||i.type===!1)return NYe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=BYe(t,e,m);if(g)return g}return e5(m)};function t5(e){return!!(Fs(e)&&e.add)}const Owe=e=>/^\-?\d*\.?\d+$/.test(e);function ZL(e,t){e.indexOf(t)===-1&&e.push(t)}function XL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class QL{constructor(){this.subscriptions=[]}add(t){return ZL(this.subscriptions,t),()=>XL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JYe=e=>!isNaN(parseFloat(e));class eqe{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Ro;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,qn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>qn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=JYe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new QL);const r=this.events[t].add(n);return t==="change"?()=>{r(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ewe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function r0(e,t){return new eqe(e,t)}const Pwe=e=>t=>t.test(e),tqe={test:e=>e==="auto",parse:e=>e},Rwe=[jm,lt,Ic,Md,lWe,aWe,tqe],q1=e=>Rwe.find(Pwe(e)),nqe=[...Rwe,Xi,Yf],rqe=e=>nqe.find(Pwe(e));function oqe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,r0(n))}function iqe(e,t){const n=iT(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=wWe(i[s]);oqe(e,s,a)}}function sqe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Owe(d)||Dwe(d))?d=parseFloat(d):!rqe(d)&&Yf.test(u)&&(d=Awe(c,u)),e.addValue(c,r0(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function aqe(e,t){return t?(t[e]||t.default||t).from:void 0}function lqe(e,t,n){const r={};for(const o in e){const i=aqe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function cqe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $we(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&cqe(d,f))continue;const g={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const b=e.getProps()[YWe];b&&(g.elapsed=window.HandoffAppearAnimations(b,f,p,qn),g.syncStart=!0)}p.start(KL(f,p,m,e.shouldReduceMotion&&Em.has(f)?{type:!1}:g));const v=p.animation;t5(c)&&(c.add(f),v.then(()=>c.remove(f))),u.push(v)}return s&&Promise.all(u).then(()=>{s&&iqe(e,s)}),u}function m$(e,t,n={}){const r=iT(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all($we(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return uqe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function uqe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(dqe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(m$(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function dqe(e,t){return e.sortNodePosition(t)}function fqe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>m$(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=m$(e,t,n);else{const o=typeof t=="function"?iT(e,t,n.custom):t;r=Promise.all($we(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const hqe=[...OL].reverse(),pqe=OL.length;function mqe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fqe(e,n,r)))}function gqe(e){let t=mqe(e);const n=yqe();let r=!0;const o=(c,u)=>{const d=iT(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let g={},v=1/0;for(let x=0;x<pqe;x++){const y=hqe[x],w=n[y],C=d[y]!==void 0?d[y]:f[y],_=vx(C),S=y===u?w.isActive:null;S===!1&&(v=x);let k=C===f[y]&&C!==d[y]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...g},!w.isActive&&S===null||!C&&!w.prevProp||tT(C)||typeof C=="boolean")continue;const j=vqe(w.prevProp,C);let E=j||y===u&&w.isActive&&!k&&_||x>v&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},O=$=>{E=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],z=D[$];g.hasOwnProperty($)||(R!==z?Xk(R)&&Xk(z)?!rwe(R,z)||j?O($):w.protectedKeys[$]=!0:R!==void 0?O($):m.add($):R!==void 0&&m.has($)?O($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(g={...g,...A}),r&&e.blockInitialAnimation&&(E=!1),E&&!k&&p.push(...T.map($=>({animation:$,options:{type:y,...c}})))}if(m.size){const x={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function vqe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rwe(t,e):!1}function Dh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yqe(){return{animate:Dh(!0),whileInView:Dh(),whileHover:Dh(),whileTap:Dh(),whileDrag:Dh(),whileFocus:Dh(),exit:Dh()}}class bqe extends lh{constructor(t){super(t),t.animationState||(t.animationState=gqe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),tT(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let xqe=0;class wqe extends lh{constructor(){super(...arguments),this.id=xqe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Cqe={animation:{Feature:bqe},exit:{Feature:wqe}},TU=(e,t)=>Math.abs(e-t);function _qe(e,t){const n=TU(e.x,t.x),r=TU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Mwe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=DI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=_qe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Ro;this.history.push({...p,timestamp:m});const{onStart:g,onMove:v}=this.handlers;d||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=AI(d,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=DI(u.type==="pointercancel"?this.lastMoveEventInfo:AI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!Qxe(t))return;this.handlers=n,this.transformPagePoint=r;const o=oT(t),i=AI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Ro;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,DI(i,this.history)),this.removeListeners=jf(Ou(window,"pointermove",this.handlePointerMove),Ou(window,"pointerup",this.handlePointerUp),Ou(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Yu(this.updatePoint)}}function AI(e,t){return t?{point:t(e.point)}:e}function AU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function DI({point:e},t){return{point:e,delta:AU(e,Fwe(t)),offset:AU(e,Sqe(t)),velocity:kqe(t,.1)}}function Sqe(e){return e[0]}function Fwe(e){return e[e.length-1]}function kqe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Fwe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Tf(t)));)n--;if(!r)return{x:0,y:0};const i=Pu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ua(e){return e.max-e.min}function g$(e,t=0,n=.01){return Math.abs(e-t)<=n}function DU(e,t,n,r=.5){e.origin=r,e.originPoint=Or(t.min,t.max,e.origin),e.scale=ua(n)/ua(t),(g$(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Or(n.min,n.max,e.origin)-e.originPoint,(g$(e.translate)||isNaN(e.translate))&&(e.translate=0)}function yb(e,t,n,r){DU(e.x,t.x,n.x,r?r.originX:void 0),DU(e.y,t.y,n.y,r?r.originY:void 0)}function IU(e,t,n){e.min=n.min+t.min,e.max=e.min+ua(t)}function Eqe(e,t,n){IU(e.x,t.x,n.x),IU(e.y,t.y,n.y)}function OU(e,t,n){e.min=t.min-n.min,e.max=e.min+ua(t)}function bb(e,t,n){OU(e.x,t.x,n.x),OU(e.y,t.y,n.y)}function jqe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Or(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Or(n,e,r.max):Math.min(e,n)),e}function PU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Tqe(e,{top:t,left:n,bottom:r,right:o}){return{x:PU(e.x,n,o),y:PU(e.y,t,r)}}function RU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Aqe(e,t){return{x:RU(e.x,t.x),y:RU(e.y,t.y)}}function Dqe(e,t){let n=.5;const r=ua(e),o=ua(t);return o>r?n=bx(t.min,t.max-r,e.min):r>o&&(n=bx(e.min,e.max-o,t.min)),Wf(0,1,n)}function Iqe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const v$=.35;function Oqe(e=v$){return e===!1?e=0:e===!0&&(e=v$),{x:$U(e,"left","right"),y:$U(e,"top","bottom")}}function $U(e,t,n){return{min:MU(e,t),max:MU(e,n)}}function MU(e,t){return typeof e=="number"?e:e[t]||0}const FU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zg=()=>({x:FU(),y:FU()}),LU=()=>({min:0,max:0}),ro=()=>({x:LU(),y:LU()});function fc(e){return[e("x"),e("y")]}function Lwe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pqe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Rqe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function II(e){return e===void 0||e===1}function y$({scale:e,scaleX:t,scaleY:n}){return!II(e)||!II(t)||!II(n)}function Hh(e){return y$(e)||Bwe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Bwe(e){return BU(e.x)||BU(e.y)}function BU(e){return e&&e!=="0%"}function n5(e,t,n){const r=e-n,o=t*r;return n+o}function NU(e,t,n,r,o){return o!==void 0&&(e=n5(e,o,r)),n5(e,n,r)+t}function b$(e,t=0,n=1,r,o){e.min=NU(e.min,t,n,r,o),e.max=NU(e.max,t,n,r,o)}function Nwe(e,{x:t,y:n}){b$(e.x,t.translate,t.scale,t.originPoint),b$(e.y,n.translate,n.scale,n.originPoint)}function $qe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Nwe(e,s)),r&&Hh(i.latestValues)&&Xg(e,i.latestValues))}t.x=zU(t.x),t.y=zU(t.y)}function zU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vd(e,t){e.min=e.min+t,e.max=e.max+t}function VU(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Or(e.min,e.max,i);b$(e,t[n],t[r],s,t.scale)}const Mqe=["x","scaleX","originX"],Fqe=["y","scaleY","originY"];function Xg(e,t){VU(e.x,t,Mqe),VU(e.y,t,Fqe)}function zwe(e,t){return Lwe(Rqe(e.getBoundingClientRect(),t))}function Lqe(e,t,n){const r=zwe(e,n),{scroll:o}=t;return o&&(Vd(r.x,o.offset.x),Vd(r.y,o.offset.y)),r}const Bqe=new WeakMap;class Nqe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(oT(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ewe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fc(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Ic.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[g];x&&(v=ua(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),p&&qn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:g}=u;if(f&&this.currentDirection===null){this.currentDirection=zqe(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Mwe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&qn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!b2(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=jqe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Gg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Tqe(r.layoutBox,t):this.constraints=!1,this.elastic=Oqe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fc(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Iqe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=Lqe(r,o.root,this.visualElement.getTransformPagePoint());let s=Aqe(o.layout.layoutBox,i);if(n){const a=n(Pqe(s));this.hasMutatedConstraints=!!a,a&&(s=Lwe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=fc(d=>{if(!b2(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(KL(t,r,0,n))}stopAnimation(){fc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fc(n=>{const{drag:r}=this.getProps();if(!b2(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Or(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fc(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=Dqe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fc(s=>{if(!b2(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Or(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;Bqe.set(this.visualElement,this);const t=this.visualElement.current,n=Ou(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=ku(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=v$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function b2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zqe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vqe extends lh{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new Nqe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const HU=e=>(t,n)=>{e&&qn.update(()=>e(t,n))};class Hqe extends lh{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new Mwe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:HU(t),onStart:HU(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&qn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Ou(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Uqe(){const e=h.useContext(Jj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const uS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const G1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(lt.test(e))e=parseFloat(e);else return e;const n=UU(e,t.target.x),r=UU(e,t.target.y);return`${n}% ${r}%`}},Wqe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Yf.parse(e);if(o.length>5)return r;const i=Yf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Or(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class Yqe extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;eWe(qqe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||qn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Vwe(e){const[t,n]=Uqe(),r=h.useContext(RL);return re.createElement(Yqe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Fxe),isPresent:t,safeToRemove:n})}const qqe={borderRadius:{...G1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:G1,borderTopRightRadius:G1,borderBottomLeftRadius:G1,borderBottomRightRadius:G1,boxShadow:Wqe},Hwe=["TopLeft","TopRight","BottomLeft","BottomRight"],Gqe=Hwe.length,WU=e=>typeof e=="string"?parseFloat(e):e,YU=e=>typeof e=="number"||lt.test(e);function Kqe(e,t,n,r,o,i){o?(e.opacity=Or(0,n.opacity!==void 0?n.opacity:1,Zqe(r)),e.opacityExit=Or(t.opacity!==void 0?t.opacity:1,0,Xqe(r))):i&&(e.opacity=Or(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Gqe;s++){const a=`border${Hwe[s]}Radius`;let c=qU(t,a),u=qU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||YU(c)===YU(u)?(e[a]=Math.max(Or(WU(c),WU(u),r),0),(Ic.test(u)||Ic.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Or(t.rotate||0,n.rotate||0,r))}function qU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zqe=Uwe(0,.5,WL),Xqe=Uwe(.5,.95,zr);function Uwe(e,t,n){return r=>r<e?0:r>t?1:n(bx(e,t,r))}function GU(e,t){e.min=t.min,e.max=t.max}function Ca(e,t){GU(e.x,t.x),GU(e.y,t.y)}function KU(e,t,n,r,o){return e-=t,e=n5(e,1/n,r),o!==void 0&&(e=n5(e,1/o,r)),e}function Qqe(e,t=0,n=1,r=.5,o,i=e,s=e){if(Ic.test(t)&&(t=parseFloat(t),t=Or(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Or(i.min,i.max,r);e===i&&(a-=t),e.min=KU(e.min,t,n,a,o),e.max=KU(e.max,t,n,a,o)}function ZU(e,t,[n,r,o],i,s){Qqe(e,t[n],t[r],t[o],t.scale,i,s)}const Jqe=["x","scaleX","originX"],eGe=["y","scaleY","originY"];function XU(e,t,n,r){ZU(e.x,t,Jqe,n?n.x:void 0,r?r.x:void 0),ZU(e.y,t,eGe,n?n.y:void 0,r?r.y:void 0)}function QU(e){return e.translate===0&&e.scale===1}function Wwe(e){return QU(e.x)&&QU(e.y)}function tGe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Ywe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function JU(e){return ua(e.x)/ua(e.y)}class nGe{constructor(){this.members=[]}add(t){ZL(this.members,t),t.scheduleRender()}remove(t){if(XL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eW(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const rGe=(e,t)=>e.depth-t.depth;class oGe{constructor(){this.children=[],this.isDirty=!1}add(t){ZL(this.children,t),this.isDirty=!0}remove(t){XL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rGe),this.isDirty=!1,this.children.forEach(t)}}function iGe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Yu(r),e(i-t))};return qn.read(r,!0),()=>Yu(r)}function sGe(e){window.MotionDebug&&window.MotionDebug.record(e)}function aGe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lGe(e,t,n){const r=Fs(e)?e:r0(e);return r.start(KL("",r,t,n)),r.animation}const tW=["","X","Y","Z"],nW=1e3;let cGe=0;const Uh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qwe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=cGe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Uh.totalNodes=Uh.resolvedTargetDeltas=Uh.recalculatedProjection=0,this.nodes.forEach(fGe),this.nodes.forEach(vGe),this.nodes.forEach(yGe),this.nodes.forEach(hGe),sGe(Uh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oGe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new QL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aGe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iGe(p,250),uS.hasAnimatedSinceResize&&(uS.hasAnimatedSinceResize=!1,this.nodes.forEach(oW))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||_Ge,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!Ywe(this.targetLayout,g)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Iwe(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||oW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bGe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rW);return}this.isUpdating||this.nodes.forEach(mGe),this.isUpdating=!1,this.nodes.forEach(gGe),this.nodes.forEach(uGe),this.nodes.forEach(dGe),this.clearAllSnapshots();const a=performance.now();Ro.delta=Wf(0,1e3/60,a-Ro.timestamp),Ro.timestamp=a,Ro.isProcessing=!0,wI.update.process(Ro),wI.preRender.process(Ro),wI.render.process(Ro),Ro.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pGe),this.sharedNodes.forEach(xGe)}scheduleUpdateProjection(){qn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Wwe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Hh(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),SGe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ro();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Vd(a.x,c.offset.x),Vd(a.y,c.offset.y)),a}removeElementScroll(s){const a=ro();Ca(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ca(a,s);const{scroll:p}=this.root;p&&(Vd(a.x,-p.offset.x),Vd(a.y,-p.offset.y))}Vd(a.x,d.offset.x),Vd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=ro();Ca(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hh(d.latestValues)&&Xg(c,d.latestValues)}return Hh(this.latestValues)&&Xg(c,this.latestValues),c}removeTransform(s){const a=ro();Ca(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hh(u.latestValues))continue;y$(u.latestValues)&&u.updateSnapshot();const d=ro(),f=u.measurePageBox();Ca(d,f),XU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hh(this.latestValues)&&XU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ro.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ro.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),bb(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Eqe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ca(this.target,this.layout.layoutBox),Nwe(this.target,this.targetDelta)):Ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),bb(this.relativeTargetOrigin,this.target,m.target),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||y$(this.parent.latestValues)||Bwe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ro.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ca(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;$qe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Zg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zg(),this.projectionDeltaWithTransform=Zg());const v=this.projectionTransform;yb(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=eW(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Uh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Zg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ro(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),x=!b||b.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(CGe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;iW(f.x,s.x,_),iW(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wGe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&tGe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ro()),Ca(w,this.relativeTarget)),v&&(this.animationValues=d,Kqe(d,u,this.latestValues,_,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{uS.hasAnimatedSinceResize=!0,this.currentAnimation=lGe(0,nW,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&Gwe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ro();const f=ua(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=ua(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}Ca(a,c),Xg(a,d),yb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nGe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<tW.length;d++){const f="rotate"+tW[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cS(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=cS(s.pointerEvents)||""),this.hasProjected&&!Hh(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=eW(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Kk){if(p[v]===void 0)continue;const{correct:b,applyTo:x}=Kk[v],y=u.transform==="none"?p[v]:b(p[v],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=y}else u[v]=y}return this.options.layoutId&&(u.pointerEvents=f===this?cS(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(rW),this.root.sharedNodes.clear()}}}function uGe(e){e.updateLayout()}function dGe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?fc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ua(p);p.min=r[f].min,p.max=p.min+m}):Gwe(i,n.layoutBox,r)&&fc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ua(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Zg();yb(a,r,n.layoutBox);const c=Zg();s?yb(c,e.applyTransform(o,!0),n.measuredBox):yb(c,r,n.layoutBox);const u=!Wwe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const g=ro();bb(g,n.layoutBox,p.layoutBox);const v=ro();bb(v,r,m.layoutBox),Ywe(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fGe(e){Uh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hGe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pGe(e){e.clearSnapshot()}function rW(e){e.clearMeasurements()}function mGe(e){e.isLayoutDirty=!1}function gGe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vGe(e){e.resolveTargetDelta()}function yGe(e){e.calcProjection()}function bGe(e){e.resetRotation()}function xGe(e){e.removeLeadSnapshot()}function iW(e,t,n){e.translate=Or(t.translate,0,n),e.scale=Or(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sW(e,t,n,r){e.min=Or(t.min,n.min,r),e.max=Or(t.max,n.max,r)}function wGe(e,t,n,r){sW(e.x,t.x,n.x,r),sW(e.y,t.y,n.y,r)}function CGe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _Ge={duration:.45,ease:[.4,0,.1,1]},aW=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lW=aW("applewebkit/")&&!aW("chrome/")?Math.round:zr;function cW(e){e.min=lW(e.min),e.max=lW(e.max)}function SGe(e){cW(e.x),cW(e.y)}function Gwe(e,t,n){return e==="position"||e==="preserve-aspect"&&!g$(JU(t),JU(n),.2)}const kGe=qwe({attachResizeListener:(e,t)=>ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OI={current:void 0},Kwe=qwe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!OI.current){const e=new kGe({});e.mount(window),e.setOptions({layoutScroll:!0}),OI.current=e}return OI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EGe={pan:{Feature:Hqe},drag:{Feature:Vqe,ProjectionNode:Kwe,MeasureLayout:Vwe}},jGe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TGe(e){const t=jGe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function x$(e,t,n=1){const[r,o]=TGe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Owe(s)?parseFloat(s):s}else return c$(o)?x$(o,t,n+1):o}function AGe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!c$(i))return;const s=x$(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!c$(i))continue;const s=x$(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const DGe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Zwe=e=>DGe.has(e),IGe=e=>Object.keys(e).some(Zwe),uW=e=>e===jm||e===lt,dW=(e,t)=>parseFloat(e.split(", ")[t]),fW=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return dW(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?dW(i[1],e):0}},OGe=new Set(["x","y","z"]),PGe=Lw.filter(e=>!OGe.has(e));function RGe(e){const t=[];return PGe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const o0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:fW(4,13),y:fW(5,14)};o0.translateX=o0.x;o0.translateY=o0.y;const $Ge=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=o0[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=o0[u](c,i)}),e},MGe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Zwe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=q1(d);const p=t[c];let m;if(Xk(p)){const g=p.length,v=p[0]===null?1:0;d=p[v],f=q1(d);for(let b=v;b<g&&p[b]!==null;b++)m?UL(q1(p[b])===m):m=q1(p[b])}else m=q1(p);if(f!==m)if(uW(f)&&uW(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===lt&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=RGe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=$Ge(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),eT&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function FGe(e,t,n,r){return IGe(t)?MGe(e,t,n,r):{target:t,transitionEnd:r}}const LGe=(e,t,n,r)=>{const o=AGe(e,t,r);return t=o.target,r=o.transitionEnd,FGe(e,t,n,r)},w$={current:null},Xwe={current:!1};function BGe(){if(Xwe.current=!0,!!eT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>w$.current=e.matches;e.addListener(t),t()}else w$.current=!1}function NGe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Fs(i))e.addValue(o,i),t5(r)&&r.add(o);else if(Fs(s))e.addValue(o,r0(i,{owner:e})),t5(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,r0(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const hW=new WeakMap,Qwe=Object.keys(yx),zGe=Qwe.length,pW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],VGe=PL.length;class HGe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=nT(n),this.isVariantNode=Mxe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Fs(p)&&(p.set(a[f],!1),t5(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,hW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Xwe.current||BGe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hW.delete(this.current),this.projection&&this.projection.unmount(),Yu(this.notifyUpdate),Yu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Em.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&qn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<zGe;c++){const u=Qwe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=yx[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Gg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pW.length;r++){const o=pW[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=NGe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<VGe;r++){const o=PL[r],i=this.props[o];(vx(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=r0(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=VL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Fs(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new QL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Jwe extends HGe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=lqe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){sqe(this,r,s);const a=LGe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function UGe(e){return window.getComputedStyle(e)}class WGe extends Jwe{readValueFromInstance(t,n){if(Em.has(n)){const r=GL(n);return r&&r.default||0}else{const r=UGe(t),o=(Nxe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return zwe(t,n)}build(t,n,r,o){ML(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){qxe(t,n,r,o)}}class YGe extends Jwe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Em.has(n)){const r=GL(n);return r&&r.default||0}return n=Gxe.has(n)?n:NL(n),t.getAttribute(n)}measureInstanceViewportBox(){return ro()}scrapeMotionValuesFromProps(t,n){return Zxe(t,n)}build(t,n,r,o){LL(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Kxe(t,n,r,o)}mount(t){this.isSVGTag=BL(t.tagName),super.mount(t)}}const qGe=(e,t)=>$L(e)?new YGe(t,{enableHardwareAcceleration:!1}):new WGe(t,{enableHardwareAcceleration:!0}),GGe={layout:{ProjectionNode:Kwe,MeasureLayout:Vwe}},KGe={...Cqe,...VWe,...EGe,...GGe},Yl=QUe((e,t)=>AWe(e,t,KGe,qGe));function eCe(){const e=h.useRef(!1);return IL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ZGe(){const e=eCe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>qn.postRender(r),[r]),t]}class XGe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QGe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(XGe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const PI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=HL(JGe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(QGe,{isPresent:n},e)),h.createElement(Jj.Provider,{value:u},e)};function JGe(){return new Map}function eKe(e){return h.useEffect(()=>()=>e(),[])}const wg=e=>e.key||"";function tKe(e,t){e.forEach(n=>{const r=wg(n);t.set(r,n)})}function nKe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const sT=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(RL).forceRender||ZGe()[0],c=eCe(),u=nKe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,g=h.useRef(!0);if(IL(()=>{g.current=!1,tKe(u,m),p.current=d}),eKe(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(PI,{key:wg(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const v=p.current.map(wg),b=u.map(wg),x=v.length;for(let y=0;y<x;y++){const w=v[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=v.indexOf(w);let S=y;if(!S){const k=()=>{m.delete(w),f.delete(w);const j=p.current.findIndex(E=>E.key===w);if(p.current.splice(j,1),!f.size){if(p.current=u,c.current===!1)return;a(),r&&r()}};S=h.createElement(PI,{key:wg(C),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(PI,{key:wg(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))};function rKe({children:e,isValidProp:t,...n}){t&&Wxe(t),n={...h.useContext(Gk),...n},n.isStatic=HL(()=>n.isStatic);const r=h.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return h.createElement(Gk.Provider,{value:r},e)}const Vw=[],Af={},tCe={top:"bottom",right:"left",bottom:"top",left:"right"};function oKe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function pe(e){return e===0?0:"".concat(e/16,"rem")}function gt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function iKe(e,t){return e===void 0?t||Vw:Array.isArray(e)?e:[e]}function Ss(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:gt(e.sanity.media,n,r=>oKe(t,pe(e.sanity.space[r])))}function i0(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return i0.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),i0.warned=!0),[p];const m=gt(s,n,g=>sKe(c[g]||f));return[p,...m]}function sKe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:pe(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:pe(i),transform:"translateY(".concat(pe(n),")"),"&:before":{marginTop:"calc(".concat(pe(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:pe(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:pe(u)}}}function aKe(e){return i0("code",e)}function lKe(e){return i0("heading",e)}function cKe(e){return i0("label",e)}function JL(e){const{theme:t}=e;return gt(t.sanity.media,e.$align,n=>({textAlign:n}))}function uKe(e){return i0("text",e)}function ye(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>iKe(e,t),[n])}function mW(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function dr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>mW(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=mW(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var Op=[],dKe=function(){return Op.some(function(e){return e.activeTargets.length>0})},fKe=function(){return Op.some(function(e){return e.skippedTargets.length>0})},gW="ResizeObserver loop completed with undelivered notifications.",hKe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:gW}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=gW),window.dispatchEvent(e)},xx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(xx||(xx={}));var Pp=function(e){return Object.freeze(e)},pKe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Pp(this)}return e}(),nCe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Pp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),e8=function(e){return e instanceof SVGElement&&"getBBox"in e},rCe=function(e){if(e8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},vW=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},mKe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},xb=typeof window<"u"?window:{},x2=new WeakMap,yW=/auto|scroll/,gKe=/^tb|vertical/,vKe=/msie|trident/i.test(xb.navigator&&xb.navigator.userAgent),nc=function(e){return parseFloat(e||"0")},gv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new pKe((n?t:e)||0,(n?e:t)||0)},bW=Pp({devicePixelContentBoxSize:gv(),borderBoxSize:gv(),contentBoxSize:gv(),contentRect:new nCe(0,0,0,0)}),oCe=function(e,t){if(t===void 0&&(t=!1),x2.has(e)&&!t)return x2.get(e);if(rCe(e))return x2.set(e,bW),bW;var n=getComputedStyle(e),r=e8(e)&&e.ownerSVGElement&&e.getBBox(),o=!vKe&&n.boxSizing==="border-box",i=gKe.test(n.writingMode||""),s=!r&&yW.test(n.overflowY||""),a=!r&&yW.test(n.overflowX||""),c=r?0:nc(n.paddingTop),u=r?0:nc(n.paddingRight),d=r?0:nc(n.paddingBottom),f=r?0:nc(n.paddingLeft),p=r?0:nc(n.borderTopWidth),m=r?0:nc(n.borderRightWidth),g=r?0:nc(n.borderBottomWidth),v=r?0:nc(n.borderLeftWidth),b=f+u,x=c+d,y=v+m,w=p+g,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,k=o?x+w:0,j=r?r.width:nc(n.width)-S-_,E=r?r.height:nc(n.height)-k-C,T=j+b+_+y,A=E+x+C+w,D=Pp({devicePixelContentBoxSize:gv(Math.round(j*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:gv(T,A,i),contentBoxSize:gv(j,E,i),contentRect:new nCe(f,c,j,E)});return x2.set(e,D),D},iCe=function(e,t,n){var r=oCe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case xx.DEVICE_PIXEL_CONTENT_BOX:return s;case xx.BORDER_BOX:return o;default:return i}},yKe=function(){function e(t){var n=oCe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Pp([n.borderBoxSize]),this.contentBoxSize=Pp([n.contentBoxSize]),this.devicePixelContentBoxSize=Pp([n.devicePixelContentBoxSize])}return e}(),sCe=function(e){if(rCe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},bKe=function(){var e=1/0,t=[];Op.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new yKe(u.target),f=sCe(u.target);a.push(d),u.lastReportedSize=iCe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},xW=function(e){Op.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(sCe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},xKe=function(){var e=0;for(xW(e);dKe();)e=bKe(),xW(e);return fKe()&&hKe(),e>0},RI,aCe=[],wKe=function(){return aCe.splice(0).forEach(function(e){return e()})},CKe=function(e){if(!RI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return wKe()}).observe(n,r),RI=function(){n.textContent="".concat(t?t--:t++)}}aCe.push(e),RI()},_Ke=function(e){CKe(function(){requestAnimationFrame(e)})},dS=0,SKe=function(){return!!dS},kKe=250,EKe={attributes:!0,characterData:!0,childList:!0,subtree:!0},wW=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],CW=function(e){return e===void 0&&(e=0),Date.now()+e},$I=!1,jKe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=kKe),!$I){$I=!0;var r=CW(t);_Ke(function(){var o=!1;try{o=xKe()}finally{if($I=!1,t=r-CW(),!SKe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,EKe)};document.body?n():xb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),wW.forEach(function(n){return xb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),wW.forEach(function(n){return xb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),C$=new jKe,_W=function(e){!dS&&e>0&&C$.start(),dS+=e,!dS&&C$.stop()},TKe=function(e){return!e8(e)&&!mKe(e)&&getComputedStyle(e).display==="inline"},AKe=function(){function e(t,n){this.target=t,this.observedBox=n||xx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=iCe(this.target,this.observedBox,!0);return TKe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),DKe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),w2=new WeakMap,SW=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},C2=function(){function e(){}return e.connect=function(t,n){var r=new DKe(t,n);w2.set(t,r)},e.observe=function(t,n,r){var o=w2.get(t),i=o.observationTargets.length===0;SW(o.observationTargets,n)<0&&(i&&Op.push(o),o.observationTargets.push(new AKe(n,r&&r.box)),_W(1),C$.schedule())},e.unobserve=function(t,n){var r=w2.get(t),o=SW(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Op.splice(Op.indexOf(r),1),r.observationTargets.splice(o,1),_W(-1))},e.disconnect=function(t){var n=this,r=w2.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),IKe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");C2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vW(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");C2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!vW(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");C2.unobserve(this,t)},e.prototype.disconnect=function(){C2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const lCe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:IKe,OKe=RKe();function PKe(){return{subscribe(e,t){const n=new lCe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function RKe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=PKe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function aT(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return OKe.subscribe(e,n)},[e]),t}function hd(e){const t=aT(e);return(t==null?void 0:t._contentRect)||null}function cs(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function MI(e,t){return e*t}function cCe(e,t){return{r:Math.round(FI(MI(e.r/255,t.r/255)*255)),g:Math.round(FI(MI(e.g/255,t.g/255)*255)),b:Math.round(FI(MI(e.b/255,t.b/255)*255))}}function FI(e){return Math.max(Math.min(e,255),0)}function LI(e,t){return e+t-e*t}function uCe(e,t){return{r:Math.round(BI(LI(e.r/255,t.r/255)*255)),g:Math.round(BI(LI(e.g/255,t.g/255)*255)),b:Math.round(BI(LI(e.b/255,t.b/255)*255))}}function BI(e){return Math.max(Math.min(e,255),0)}function $Ke(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function lT(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function MKe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const FKe="0123456789ABCDEFabcdef",LKe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function BKe(e){for(const t of e)if(FKe.indexOf(t)===-1)return!1;return!0}function NKe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:BKe(e.slice(1))}function zKe(e){const t=LKe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function qu(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(NKe(e))return $Ke(e);if(e.startsWith("hsl("))return MKe(zKe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Ye(e,t){const n=qu(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function NI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function VKe(e,t,n,r,o){return{default:NI(e,t,n,r,o,"default"),ghost:NI(e,t,n,r,o,"ghost"),bleed:NI(e,t,n,r,o,"bleed")}}function HKe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const ke="hsl(0, 0%, 0%)",ng="hsl(0, 0%, 100%)",yt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},UKe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},_2={transparent:{bg:[yt.transparent.darkest,yt.transparent.lightest],fg:[yt.transparent.lightest,yt.transparent.darkest],border:[yt.transparent.darker,yt.transparent.lighter],focusRing:[yt.transparent.base,yt.transparent.base]},primary:{bg:[yt.primary.darkest,yt.primary.lightest],fg:[yt.primary.lightest,yt.primary.darkest],border:[yt.primary.darker,yt.primary.lighter],focusRing:[yt.primary.base,yt.primary.base]},positive:{bg:[yt.positive.darkest,yt.positive.lightest],fg:[yt.positive.lightest,yt.positive.darkest],border:[yt.positive.darker,yt.positive.lighter],focusRing:[yt.positive.base,yt.positive.base]},caution:{bg:[yt.caution.darkest,yt.caution.lightest],fg:[yt.caution.lightest,yt.caution.darkest],border:[yt.caution.darker,yt.caution.lighter],focusRing:[yt.caution.base,yt.caution.base]},critical:{bg:[yt.critical.darkest,yt.critical.lightest],fg:[yt.critical.lightest,yt.critical.darkest],border:[yt.critical.darker,yt.critical.lighter],focusRing:[yt.critical.base,yt.critical.base]}},WKe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?ke:ng,fg:t?ng:ke,border:t?yt.default.darkest:yt.default.lightest,focusRing:yt.primary.base,shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?ng:ke,to:t?ng:ke}}:{bg:_2[n].bg[t?0:1],fg:_2[n].fg[t?0:1],border:_2[n].border[t?0:1],focusRing:_2[n].focusRing[t?0:1],shadow:{outline:ke,umbra:ke,penumbra:ke,ambient:ke},skeleton:{from:t?ng:ke,to:t?ng:ke}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:ke,bg2:ke,fg:ke,border:ke,muted:{fg:ke},accent:{fg:ke},link:{fg:ke},code:{bg:ke,fg:ke},skeleton:t.skeleton}},input:()=>({bg:ke,fg:ke,border:ke,placeholder:ke}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return UKe[t]},syntax:()=>({atrule:ke,attrName:ke,attrValue:ke,attribute:ke,boolean:ke,builtin:ke,cdata:ke,char:ke,class:ke,className:ke,comment:ke,constant:ke,deleted:ke,doctype:ke,entity:ke,function:ke,hexcode:ke,id:ke,important:ke,inserted:ke,keyword:ke,number:ke,operator:ke,prolog:ke,property:ke,pseudoClass:ke,pseudoElement:ke,punctuation:ke,regex:ke,selector:ke,string:ke,symbol:ke,tag:ke,unit:ke,url:ke,variable:ke})};function YKe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function qKe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function GKe(e,t,n,r,o){return{default:K1(e,t,n,r,o,"default"),primary:K1(e,t,n,r,o,"primary"),positive:K1(e,t,n,r,o,"positive"),caution:K1(e,t,n,r,o,"caution"),critical:K1(e,t,n,r,o,"critical")}}function K1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function KKe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function ZKe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function dCe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...WKe,...e};return{light:kW(t,!1),dark:kW(t,!0)}}function kW(e,t){return{default:rg(e,t,"default"),transparent:rg(e,t,"transparent"),primary:rg(e,t,"primary"),positive:rg(e,t,"positive"),caution:rg(e,t,"caution"),critical:rg(e,t,"critical")}}function rg(e,t,n){const r=e.base({dark:t,name:n}),o=KKe(e,r,t,n),i=qKe(e,r,t,n);return{base:r,button:VKe(e,r,t,o,i),card:HKe(e,r,t,n,o,i),dark:t,input:YKe(e,r,t,o,i),selectable:GKe(e,r,t,o,i),spot:ZKe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function Ih(e,t){const n=qu(e),r=qu(t);return lT(cCe(n,r))}function Oh(e,t){const n=qu(e),r=qu(t);return lT(uCe(n,r))}const Gi={default:le.gray,transparent:le.gray,primary:le.blue,positive:le.green,caution:le.yellow,critical:le.red},Z1=["default","transparent"],XKe=dCe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=le.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Ta.hex:mc.hex,bg:t?mc.hex:Ta.hex,border:i[t?800:200].hex,focusRing:le.blue[500].hex,shadow:{outline:Ye(i[500].hex,.4),umbra:t?Ye(i[950].hex,.4):Ye(i[500].hex,.2),penumbra:t?Ye(i[950].hex,.28):Ye(i[500].hex,.14),ambient:t?Ye(i[950].hex,.24):Ye(i[500].hex,.12)},skeleton:{from:s,to:Ye(s,.5)}}}if(n==="transparent"){const i=Gi.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:le.blue[500].hex,shadow:{outline:Ye(i[500].hex,.4),umbra:t?Ye(i[900].hex,.4):Ye(i[500].hex,.2),penumbra:t?Ye(i[900].hex,.28):Ye(i[500].hex,.14),ambient:t?Ye(i[900].hex,.24):Ye(i[500].hex,.12)},skeleton:{from:s,to:Ye(s,.5)}}}const r=Gi[n]||Gi.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Ye(r[500].hex,.4),umbra:t?Ye(r[900].hex,.4):Ye(r[500].hex,.2),penumbra:t?Ye(r[900].hex,.28):Ye(r[500].hex,.14),ambient:t?Ye(r[900].hex,.24):Ye(r[500].hex,.12)},skeleton:{from:o,to:Ye(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Oh:Ih,a=n?Ih:Oh,c=Gi[r]||Gi.default,u=Z1.includes(r)&&Z1.includes(i);let d=Gi[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),g=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?mc.hex:Ta.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:g,to:Ye(g,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),g=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?mc.hex:Ta.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,le.red[n?800:200].hex)},link:{fg:a(m,le.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:g,to:Ye(g,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),g=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?mc.hex:Ta.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,le.red[n?800:200].hex)},link:{fg:a(m,le.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:g,to:Ye(g,.5)}}}if(o==="selected"){u&&(d=Gi.primary);const m=s(t.bg,d[n?200:800].hex),g=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?mc.hex:Ta.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,le.red[n?800:200].hex)},link:{fg:a(m,le.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:g,to:Ye(g,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?mc.hex:Ta.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,le.red[n?900:100].hex)},link:{fg:a(f,le.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Ye(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?Oh:Ih,a=Gi[r]||Gi.default,c=Z1.includes(r)&&Z1.includes(i);let u=Gi[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Ye(m,.5),to:Ye(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,le.red[n?400:500].hex)},link:{fg:s(t.bg,le.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Ye(m,.5)}}}if(o==="pressed"){c&&(u=Gi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,le.red[n?400:500].hex)},link:{fg:s(p,le.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Ye(m,.5)}}}if(o==="selected"){c&&(u=Gi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,le.red[n?400:500].hex)},link:{fg:s(p,le.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Ye(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,le.red[n?400:500].hex)},link:{fg:s(t.bg,le.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Ye(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=Z1.includes(o),c=Gi[o]||Gi.default,u=n?Oh:Ih;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,le.red[n?400:500].hex)},link:{fg:u(t.bg,le.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:Ye(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?Oh:Ih;if(r==="invalid"){const s=Gi.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,le.gray[n?700:300].hex),placeholder:i(t.bg,le.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,le.gray[n?950:50].hex),fg:i(t.bg,le.gray[n?700:300].hex),border:i(t.bg,le.gray[n?900:100].hex),placeholder:i(t.bg,le.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,le.gray[n?950:50].hex),fg:i(t.bg,le.gray[n?200:800].hex),border:i(t.bg,le.gray[n?800:200].hex),placeholder:i(t.bg,le.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,le.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?Oh:Ih)(t.bg,le[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?Oh:Ih,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,le.purple[o].hex),attrName:r(t.bg,le.green[o].hex),attrValue:r(t.bg,le.yellow[o].hex),attribute:r(t.bg,le.yellow[o].hex),boolean:r(t.bg,le.purple[o].hex),builtin:r(t.bg,le.purple[o].hex),cdata:r(t.bg,le.yellow[o].hex),char:r(t.bg,le.yellow[o].hex),class:r(t.bg,le.orange[o].hex),className:r(t.bg,le.cyan[o].hex),comment:r(t.bg,le.gray[i].hex),constant:r(t.bg,le.purple[o].hex),deleted:r(t.bg,le.red[o].hex),doctype:r(t.bg,le.gray[i].hex),entity:r(t.bg,le.red[o].hex),function:r(t.bg,le.green[o].hex),hexcode:r(t.bg,le.blue[o].hex),id:r(t.bg,le.purple[o].hex),important:r(t.bg,le.purple[o].hex),inserted:r(t.bg,le.yellow[o].hex),keyword:r(t.bg,le.magenta[o].hex),number:r(t.bg,le.purple[o].hex),operator:r(t.bg,le.magenta[o].hex),prolog:r(t.bg,le.gray[i].hex),property:r(t.bg,le.blue[o].hex),pseudoClass:r(t.bg,le.yellow[o].hex),pseudoElement:r(t.bg,le.yellow[o].hex),punctuation:r(t.bg,le.gray[o].hex),regex:r(t.bg,le.blue[o].hex),selector:r(t.bg,le.red[o].hex),string:r(t.bg,le.yellow[o].hex),symbol:r(t.bg,le.purple[o].hex),tag:r(t.bg,le.red[o].hex),unit:r(t.bg,le.orange[o].hex),url:r(t.bg,le.red[o].hex),variable:r(t.bg,le.red[o].hex)}}}),QKe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Mo={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:XKe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:QKe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},JKe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function eZe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=eZe(),_$=Symbol.for("@sanity/ui/context/theme");Qt[_$]=Qt[_$]||h.createContext(null);const S$=Qt[_$];function r5(e){const t=h.useContext(S$),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||JKe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(S$.Provider,{value:a,children:l.jsx(sLe,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function F0(e){return!!(e&&typeof e=="object")}function L0(){const e=h.useContext(S$);if(!e)throw new Error("useRootTheme(): missing context value");if(!F0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function fCe(e){const{children:t,scheme:n,tone:r}=e,o=L0();return l.jsx(r5,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Ls(){return Q0e()}const EW=new WeakMap;function tZe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function nZe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=tZe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function rZe(){return 0}function Tm(){const e=Ls(),{media:t}=e.sanity;let n=EW.get(t);return n||(n=nZe(t),EW.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,rZe)}let zI;function hCe(){return zI||(zI=window.matchMedia("(prefers-color-scheme: dark)")),zI}function oZe(e){const t=hCe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function iZe(){return hCe().matches}function sZe(){return!1}function aZe(){return h.useSyncExternalStore(oZe,iZe,sZe)}let VI;function pCe(){return VI||(VI=window.matchMedia("(prefers-reduced-motion: reduce)")),VI}function lZe(e){const t=pCe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function cZe(){return pCe().matches}function uZe(){return!1}function dZe(){return h.useSyncExternalStore(lZe,cZe,uZe)}const fZe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function fr(e){const t=h.useRef(null);return fZe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function Hw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Uw="1px solid var(--card-border-color)";function hZe(){return[pZe,mZe,gZe,vZe,yZe]}function pZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$border,r=>r?{"&&":{border:Uw}}:{"&&":{border:0}})}function mZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderTop,r=>r?{"&&":{borderTop:Uw}}:{"&&":{borderTop:0}})}function gZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderRight,r=>r?{"&&":{borderRight:Uw}}:{"&&":{borderRight:0}})}function vZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Uw}}:{"&&":{borderBottom:0}})}function yZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Uw}}:{"&&":{borderLeft:0}})}const bZe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},xZe={content:"content-box",border:"border-box"},wZe={stretch:"stretch",fill:"100%"};function CZe(){return bZe}function _Ze(){return[kZe,EZe,jZe,SZe]}function SZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function kZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$sizing,r=>({boxSizing:xZe[r]}))}function EZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$height,r=>({height:wZe[r]}))}function jZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$overflow,r=>({overflow:r}))}const TZe={"&&:not([hidden])":{display:"flex"}};function AZe(){return[TZe,DZe,IZe,OZe,PZe,RZe]}function DZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$align,r=>({alignItems:r}))}function IZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gap:o?pe(r[o]):void 0}))}function OZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$wrap,r=>({flexWrap:r}))}function PZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$justify,r=>({justifyContent:r}))}function RZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$direction,r=>({flexDirection:r}))}const $Ze={minWidth:0,minHeight:0};function mCe(){return[$Ze,MZe]}function MZe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?gt(n,e.$flex,r=>({flex:r})):Vw}function To(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Bc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&To(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const FZe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},LZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},BZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function NZe(){return[FZe,zZe,VZe,HZe,UZe,WZe,YZe,qZe,GZe]}function zZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function VZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoRows,r=>({gridAutoRows:r&&BZe[r]}))}function HZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoCols,r=>({gridAutoColumns:r&&LZe[r]}))}function UZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function WZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function YZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gridGap:o?pe(r[o]):void 0}))}function qZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapX,o=>({columnGap:o?pe(r[o]):void 0}))}function GZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapY,o=>({rowGap:o?pe(r[o]):void 0}))}function KZe(){return[QZe,JZe,eXe,tXe,nXe,rXe]}const ZZe={auto:"auto",full:"1 / -1"},XZe={auto:"auto",full:"1 / -1"};function QZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:ZZe[r]})}function JZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowStart,r=>({gridRowStart:r}))}function eXe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function tXe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:XZe[r]})}function nXe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnStart,r=>({gridColumnStart:r}))}function rXe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function t8(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let g=0;g<d;g+=1)m[g]=t[g]===void 0?m[g-1]:t[g],f[g]=o[g]===void 0?f[g-1]:o[g],p[g]=i[g]===void 0?p[g-1]:i[g];return gt(c,f,(g,v)=>{const b=a.text.sizes[m[v]]||a.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,y=u[f[v]],w=u[p[v]],C={paddingTop:pe(y-b.ascenderHeight),paddingRight:pe(y),paddingBottom:pe(y-b.descenderHeight),paddingLeft:pe(y)};return r&&(C.paddingRight=pe(y+x+w)),n&&(C.paddingLeft=pe(y+x+w)),C})}function oXe(e){return t8({...e,$iconRight:!0})}var jW=Object.freeze,iXe=Object.defineProperty,n8=(e,t)=>jW(iXe(e,"raw",{value:jW(t||e.slice())})),TW,AW,DW;const sXe=fe(TW||(TW=n8([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function gCe(){return sXe}function vCe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return fe(AW||(AW=n8([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function yCe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return gt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:pe(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function bCe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return fe(DW||(DW=n8([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,To({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,To({color:c.invalid.enabled.border,width:a.border.width}),Bc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Bc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,To({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,To({color:c.default.hovered.border,width:a.border.width}))}function aXe(e){const{theme:t}=e;return[Ss(t,["margin"],e.$margin),Ss(t,["marginLeft","marginRight"],e.$marginX),Ss(t,["marginTop","marginBottom"],e.$marginY),Ss(t,["marginTop"],e.$marginTop),Ss(t,["marginRight"],e.$marginRight),Ss(t,["marginBottom"],e.$marginBottom),Ss(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function xCe(e){const{theme:t}=e;return[Ss(t,["padding"],e.$padding),Ss(t,["paddingLeft","paddingRight"],e.$paddingX),Ss(t,["paddingTop","paddingBottom"],e.$paddingY),Ss(t,["paddingTop"],e.$paddingTop),Ss(t,["paddingRight"],e.$paddingRight),Ss(t,["paddingBottom"],e.$paddingBottom),Ss(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function pd(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return gt(n,e.$radius,o=>({borderRadius:pe(r[o])}))}function HI(e,t){return"".concat(e.map(pe).join(" ")," ").concat(t)}function lXe(e){if(!e)return Af;const t="0 0 0 ".concat(pe(1)," var(--card-shadow-outline-color)"),n=HI(e.umbra,"var(--card-shadow-umbra-color)"),r=HI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=HI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function cXe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return gt(n,e.$shadow,o=>lXe(r[o]))}var IW=Object.freeze,uXe=Object.defineProperty,UI=(e,t)=>IW(uXe(e,"raw",{value:IW(t||e.slice())})),OW,PW,RW;function dXe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return fe(RW||(RW=UI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(OW||(OW=UI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(PW||(PW=UI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var $W=Object.freeze,fXe=Object.defineProperty,hXe=(e,t)=>$W(fXe(e,"raw",{value:$W(t||e.slice())})),MW;const pXe=P.div(uKe,JL,dXe),mXe=P.span(MW||(MW=hXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(mXe,{children:f})),l.jsx(pXe,{"data-ui":"Text",...d,$accent:r,$align:ye(o),$muted:s,ref:n,$size:ye(a),$weight:u,children:l.jsx("span",{children:f})})}),Ww={root:vXe,arrow:gXe,bgStroke:xXe,stroke:wXe,initials:bXe};function gXe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function vXe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Bc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function yXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:pe(i.size),height:pe(i.size),borderRadius:pe(i.size/2),"&>svg":{width:pe(i.size),height:pe(i.size),borderRadius:pe(i.size/2)}}})}function bXe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function xXe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function wXe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const CXe=P.div(yXe,Ww.root),_Xe=P.div(Ww.arrow),SXe=P.ellipse(Ww.bgStroke),kXe=P.ellipse(Ww.stroke),EXe=P.div(Ww.initials),wCe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,g=o6e.isValidElementType(r)?r:"div",v=ye(p),b=Ls(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[v[0]]||b.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,k]=h.useState(d||u||"inside"),[j,E]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>k(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&E(!1)},[i]);const A=h.useCallback(()=>{E(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>v.map(I=>I===0?0:I+1),[v]);return l.jsxs(CXe,{as:g,"data-as":typeof g=="string"?g:void 0,"data-ui":"Avatar",...m,$size:v,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(_Xe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(SXe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(kXe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(EXe,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var FW=Object.freeze,jXe=Object.defineProperty,TXe=(e,t)=>FW(jXe(e,"raw",{value:FW(t||e.slice())})),LW;function AXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:pe(i.size/2),minWidth:pe(i.size),height:pe(i.size)}:Af})}function DXe(e){const{theme:t}=e;return fe(LW||(LW=TXe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),pe(t.sanity.space[2]))}const IXe=P.div(AXe,DXe),k$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ye(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(IXe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function CCe(e){return(Array.isArray(e)?e:[e]).filter(n=>Sr.isElement(n)||Sr.isFragment(n)||typeof n=="string")}var BW=Object.freeze,OXe=Object.defineProperty,PXe=(e,t)=>BW(OXe(e,"raw",{value:BW(t||e.slice())})),NW;const RXe=fe(NW||(NW=PXe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function $Xe(){return RXe}function MXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:pe(i.distance)}}:Af})}const FXe=P.div(MXe,$Xe),cT=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=CCe(r).filter(g=>typeof g!="string"),c=Math.max(o,0),u=ye(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(FXe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(k$,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(k$,{count:p,size:u})}),m.map((g,v)=>l.jsx("div",{children:h.cloneElement(g,{size:u})},String(v)))]})}),LXe=P.div(CZe,mCe,_Ze,KZe,aXe,xCe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:g,marginBottom:v,marginLeft:b,overflow:x,padding:y=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:k,paddingLeft:j,row:E,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(LXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:ye(o),$columnStart:ye(i),$columnEnd:ye(s),$display:ye(a),$flex:ye(c),$height:ye(u),$margin:ye(d),$marginX:ye(f),$marginY:ye(p),$marginTop:ye(m),$marginRight:ye(g),$marginBottom:ye(v),$marginLeft:ye(b),$overflow:ye(x),$padding:ye(y),$paddingX:ye(w),$paddingY:ye(C),$paddingTop:ye(_),$paddingRight:ye(S),$paddingBottom:ye(k),$paddingLeft:ye(j),$row:ye(E),$rowStart:ye(T),$rowEnd:ye(A),$sizing:ye(D),as:r,ref:n,children:t.children})});var zW=Object.freeze,BXe=Object.defineProperty,WI=(e,t)=>zW(BXe(e,"raw",{value:zW(t||e.slice())})),VW,HW,UW;function NXe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return fe(UW||(UW=WI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(VW||(VW=WI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(HW||(HW=WI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var WW=Object.freeze,zXe=Object.defineProperty,VXe=(e,t)=>WW(zXe(e,"raw",{value:WW(t||e.slice())})),YW;const HXe=P.div(cKe,JL,NXe),UXe=P.span(YW||(YW=VXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Vt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(UXe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(HXe,{"data-ui":"Label",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:f})});function WXe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const YXe=P(M)(pd,WXe),r8=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(YXe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:ye(a),padding:ye(s),ref:n,children:l.jsx(Vt,{size:o,children:r})})}),qXe=P(M)(mCe,AZe),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(qXe,{"data-ui":"Flex",...u,$align:ye(r),$direction:ye(i),$gap:ye(s),$justify:ye(a),$wrap:ye(c),forwardedAs:o,ref:n})});var qW=Object.freeze,GXe=Object.defineProperty,_Ce=(e,t)=>qW(GXe(e,"raw",{value:qW(t||e.slice())})),GW,KW;const KXe=wm(GW||(GW=_Ce([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),ZXe=P(L)(KW||(KW=_Ce([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),KXe),Qn=h.forwardRef(function(t,n){return l.jsx(ZXe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(Ew,{})})});function zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var ZW=Object.freeze,XXe=Object.defineProperty,QXe=(e,t)=>ZW(XXe(e,"raw",{value:ZW(t||e.slice())})),XW;function JXe(){return fe(XW||(XW=QXe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const eQe={border:{width:1}};function tQe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:eQe.border.width,color:"var(--card-border-color)"};return[zt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:To(u),'&:disabled, &[data-disabled="true"]':zt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Bc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:To(u)},"@media (hover: hover)":{"&:hover":zt(s,c.hovered),"&:active":zt(s,c.pressed),"&[data-hovered]":zt(s,c.hovered)},"&[data-selected]":zt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var QW=Object.freeze,nQe=Object.defineProperty,rQe=(e,t)=>QW(nQe(e,"raw",{value:QW(t||e.slice())})),JW;const oQe=P.button(pd,JXe,tQe),iQe=P.div(JW||(JW=rQe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),ie=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:g,paddingBottom:v,paddingLeft:b,paddingRight:x,radius:y=2,selected:w,space:C=3,text:_,textAlign:S,tone:k="default",type:j="button",...E}=t,T=ye(c),A=ye(f),D=ye(p),I=ye(m),O=ye(g),$=ye(v),R=ye(b),z=ye(x),F=ye(y),H=ye(C),W=Ls(),V=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:O,paddingBottom:$,paddingLeft:R,paddingRight:z}),[A,D,I,O,$,R,z]);return l.jsxs(oQe,{"data-ui":"Button",...E,$mode:d,$radius:F,$tone:k,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(iQe,{children:l.jsx(Qn,{})}),(s||_||a)&&l.jsx(M,{as:"span",...V,children:l.jsxs(U,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,Sr.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:W.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,Sr.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...V,children:r})]})});var eY=Object.freeze,sQe=Object.defineProperty,E$=(e,t)=>eY(sQe(e,"raw",{value:eY(t||e.slice())})),tY,nY,rY;function aQe(e){return[lQe(e),cQe(e)]}function lQe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return fe(nY||(nY=E$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&fe(tY||(tY=E$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function cQe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return fe(rY||(rY=E$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",zt(a,c.enabled,r),zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Bc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Bc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const uQe=P(M)(hZe,pd,cXe,aQe),J=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:g,shadow:v,tone:b="default",...x}=t,y=Sr.isValidElementType(i)?i:"div",w=L0(),C=b==="inherit"?w.tone:b;return l.jsx(fCe,{scheme:m,tone:C,children:l.jsx(uQe,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ye(s),$borderTop:ye(a),$borderRight:ye(c),$borderBottom:ye(u),$borderLeft:ye(d),$checkered:r,$focusRing:o,$radius:ye(p),$shadow:ye(v),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":g?"":void 0,forwardedAs:y,ref:n,selected:g})})});var oY=Object.freeze,dQe=Object.defineProperty,SCe=(e,t)=>oY(dQe(e,"raw",{value:oY(t||e.slice())})),iY,sY;function fQe(){return fe(iY||(iY=SCe([`
    position: relative;
    display: inline-block;
  `])))}function hQe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return fe(sY||(sY=SCe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),pe(o.checkbox.size),pe(o.checkbox.size),To({color:n.default.enabled.border,width:o.border.width}),pe(i[2]),n.default.enabled.bg,Bc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),To({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,To({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,To({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const pQe=P.div(fQe),mQe=P.input(hQe),uT=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=fr(n);return Hw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(pQe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(mQe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(Ya,{}),l.jsx(D1e,{})]})]})});var aY=Object.freeze,gQe=Object.defineProperty,vQe=(e,t)=>aY(gQe(e,"raw",{value:aY(t||e.slice())})),lY;function yQe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function bQe(){return fe(lY||(lY=vQe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),yQe)}const xQe=P.pre(bQe,aKe),lr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?qp.hasLanguage(c):!1;return l.jsxs(xQe,{"data-ui":"Code",...a,$size:ye(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(qp,{inline:!0,language:c,value:String(r)})]})}),wQe={width:"100%",margin:"0 auto"};function CQe(){return wQe}function _Qe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({maxWidth:o==="auto"?"none":pe(n[o])}))}const SQe=P(M)(CQe,_Qe),Qr=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(SQe,{"data-ui":"Container",...i,$width:ye(o),forwardedAs:r,ref:n})}),kQe=P(M)(NZe),on=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(kQe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ye(o),$autoCols:ye(i),$autoFlow:ye(s),$columns:ye(a),$gap:ye(c),$gapX:ye(u),$gapY:ye(d),$rows:ye(f),forwardedAs:r,ref:n,children:p})});var cY=Object.freeze,EQe=Object.defineProperty,YI=(e,t)=>cY(EQe(e,"raw",{value:cY(t||e.slice())})),uY,dY,fY;function jQe(e){const{$accent:t,$muted:n,theme:r}=e;return fe(fY||(fY=YI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(uY||(uY=YI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(dY||(dY=YI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var hY=Object.freeze,TQe=Object.defineProperty,AQe=(e,t)=>hY(TQe(e,"raw",{value:hY(t||e.slice())})),pY;const DQe=P.div(jQe,JL,lKe),IQe=P.span(pY||(pY=AQe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Go=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(IQe,{children:f})),l.jsx(DQe,{"data-ui":"Heading",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function OQe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function PQe(e){const{theme:t}=e;return gt(t.sanity.media,e.$space,n=>{const r=pe(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const RQe=P(M)(OQe,PQe),Gt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>CCe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(RQe,{"data-ui":"Inline",...s,$space:ye(i),forwardedAs:r,ref:n,children:a})});var mY=Object.freeze,$Qe=Object.defineProperty,MQe=(e,t)=>mY($Qe(e,"raw",{value:mY(t||e.slice())})),gY;function FQe(){return fe(gY||(gY=MQe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const LQe=P.kbd(pd,FQe),j$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(LQe,{"data-ui":"KBD",...a,$radius:ye(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(lr,{as:"span",muted:!0,size:o,children:r})})})}),T$=Symbol.for("@sanity/ui/context/boundaryElement");Qt[T$]=Qt[T$]||h.createContext(null);const kCe=Qt[T$];function Gu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(kCe.Provider,{value:r,children:t})}const BQe={version:0,element:null};function ch(){const e=h.useContext(kCe);if(e&&(!F0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||BQe}function NQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function zQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const VQe=h.forwardRef(function(t,n){const r=Ls(),{children:o,media:i=r.sanity.media,...s}=t,a=fr(n),[c,u]=h.useState(null),d=aT(c),f=h.useMemo(()=>{var v;return(v=d==null?void 0:d.border.width)!=null?v:window.innerWidth},[d]),p=h.useMemo(()=>NQe(i,f),[i,f]),m=h.useMemo(()=>zQe(i,f),[i,f]),g=h.useCallback(v=>{a.current=v,u(v)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:g,children:o})});var HQe=Object.defineProperty,UQe=(e,t,n)=>t in e?HQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WQe=(e,t,n)=>(UQe(e,typeof t!="symbol"?t+"":t,n),n);class B0 extends h.Component{constructor(){super(...arguments),WQe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(lr,{children:n})}return this.props.children}}function ECe(e){if(!F0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const A$=Symbol.for("@sanity/ui/context/layer");Qt[A$]=Qt[A$]||h.createContext(null);const D$=Qt[A$];function ol(){const e=h.useContext(D$);if(!e)throw new Error("useLayer(): missing context value");try{return ECe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function I$(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function YQe(e){let t=null;const n=I$(()=>{t=I$(e)});return()=>{t&&t(),n()}}function qQe(e){return o8(e)||i8(e)}function Wc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function o8(e){return Wc(e)&&e.nodeName==="A"}function GQe(e){return Wc(e)&&e.nodeName==="INPUT"}function i8(e){return Wc(e)&&e.nodeName==="BUTTON"}function KQe(e){return Wc(e)&&e.nodeName==="SELECT"}function ZQe(e){return Wc(e)&&e.nodeName==="TEXTAREA"}function O$(e,t){return e.contains(t)||e===t}function XQe(e){return!!document.activeElement&&e.contains(document.activeElement)}function QQe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:o8(e)?!!e.href&&e.rel!=="ignore":GQe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:i8(e)||KQe(e)||ZQe(e)?!e.disabled:!1}function jCe(e){if(!QQe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function s0(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Wc(n)&&(jCe(n)||s0(n)))return!0}return!1}function TCe(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Wc(n)&&(jCe(n)||TCe(n)))return!0}return!1}function JQe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Ku(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(D$),i=o&&ECe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ye(r),d=u.length-1,f=Math.min(Tm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[g,v]=h.useState(0),b=g===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const k=(S=_[w])!=null?S:0,j={..._,[w]:k+1};return v(Object.keys(j).length),j}):v(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],v(Object.keys(S).length)):S[w]-=1,S}):v(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const y=h.useMemo(()=>({version:0,isTopLayer:b,level:c,registerChild:x,size:g,zIndex:p}),[b,c,x,g,p]);return l.jsx(D$.Provider,{value:y,children:n})}const eJe=P.div({position:"relative"}),tJe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=Af,...a}=t,{zIndex:c,isTopLayer:u}=ol(),d=h.useRef(null),f=fr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(g=>{i==null||i(g);const v=f.current,b=document.activeElement;!u||!v||!b||Wc(b)&&O$(v,b)&&(d.current=b)},[f,u,i]);return l.jsx(eJe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),us=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Ku,{zOffset:o,children:l.jsx(tJe,{...i,ref:n,children:r})})}),P$=Symbol.for("@sanity/ui/context/portal"),Wh=Symbol.for("@sanity/ui/context/portal/element");Qt[Wh]=null;const nJe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Wh]||(Qt[Wh]=document.createElement("div"),Qt[Wh].setAttribute("data-portal",""),document.body.appendChild(Qt[Wh])),Qt[Wh])}};Qt[P$]=Qt[P$]||h.createContext(nJe);const ACe=Qt[P$];function Am(){const e=h.useContext(ACe);if(!e)throw new Error("usePortal(): missing context value");if(!F0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function Dm(e){var t;const{children:n,__unstable_name:r}=e,o=Am(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?wc.createPortal(n,i):null}function rJe(e){const t=h.useRef(e);return oJe(t.current,e)||(t.current=e),t.current}function oJe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const iJe=typeof document<"u";function md(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=rJe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||iJe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(ACe.Provider,{value:s,children:n})}var vY=Object.freeze,sJe=Object.defineProperty,aJe=(e,t)=>vY(sJe(e,"raw",{value:vY(t||e.slice())})),yY;const lJe=P.div(yY||(yY=aJe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(lJe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var bY=Object.freeze,cJe=Object.defineProperty,DCe=(e,t)=>bY(cJe(e,"raw",{value:bY(t||e.slice())})),xY,wY;const uJe=P.div(xY||(xY=DCe([`
  position: relative;
`]))),CY=P.div(wY||(wY=DCe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=Ls().sanity,f=fr(n),p=h.useRef(null),[m,g]=h.useState(0),[v,b]=h.useState(0),[x,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const E=p.current.firstChild;E instanceof HTMLElement&&y(E.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let E=f.current.parentNode;for(;E&&!JQe(E);)E=E.parentNode;if(E){const D=E;if(!(D instanceof HTMLElement))return;const I=()=>{g(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const O=new lCe($=>{b($[0].contentRect.height)});return O.observe(D),I(),()=>{D.removeEventListener("scroll",I),O.unobserve(D),O.disconnect()}}const T=()=>{g(window.scrollY)},A=()=>{b(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),b(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+v)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:v,scrollTop:m,toIndex:S})},[_,o,x,a,v,m,d,S]);const k=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(CY,{children:c(s[0])},0)]:s.slice(_,S).map((E,T)=>{const A=_+T,D=c(E),I=i?i(E,A):A;return l.jsx(CY,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(uJe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:k})})});const dJe=4,Cg=4,hc=27,fJe=11,ICe=[0,0,0,0],hJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function pJe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Qb(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const g=u.width,v=u.height;s.includes("top")&&(p=g-(f.left+f.right),m=v-f.top),s.includes("right")&&(p=g-f.right,m=v-(f.top+f.bottom)),s.includes("bottom")&&(p=g-(f.left+f.right),m=v-f.bottom),s.includes("left")&&(p=g-f.left,m=v-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const b=await a.getDimensions(i.floating),x=b.height,y=b.width;return g!==y||v!==x?{reset:{rects:!0}}:{}}}}function mJe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function gJe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-Cg*2)}var _Y=Object.freeze,vJe=Object.defineProperty,s8=(e,t)=>_Y(vJe(e,"raw",{value:_Y(t||e.slice())})),SY,kY,EY;const yJe=P.div(SY||(SY=s8([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),hc,hc,hc/2,hc/2,hc,hc,hc,hc),bJe=P.path(kY||(kY=s8([`
  fill: var(--card-shadow-outline-color);
`]))),xJe=P.path(EY||(EY=s8([`
  fill: var(--card-bg-color);
`]))),wJe=h.forwardRef(function(t,n){return l.jsx(yJe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:hc,height:fJe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(bJe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(xJe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),CJe=P(J)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),OCe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:g,strategy:v,style:b,tone:x,width:y,x:w,y:C,..._}=t,{zIndex:S}=ol(),k=h.useMemo(()=>r||ICe,[r]),j=(w??0)+k[3],E=(C??0)+k[0],T=h.useMemo(()=>({position:v,top:E,left:j,width:y,zIndex:S,...b}),[v,b,y,j,E,S]),A=d&&tCe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-hc),I},[s,a,A]);return l.jsxs(CJe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:g,sizing:"border",style:T,tone:x,children:[l.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(U,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(wJe,{ref:i,style:D})]})}));OCe.displayName="PopoverCard";const an=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=Ls(),m=ch(),{__unstable_margins:g=ICe,arrow:v=!0,boundaryElement:b=m.element,children:x,constrainSize:y=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:hJe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:k=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:E="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:O=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:z,shadow:F=3,tone:H="inherit",width:W="auto",zOffset:V=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:q,...oe}=t,N=(c=aT(b))==null?void 0:c.border,G=ye(T),Y=ye(O),K=ye(F),X=ye(W),Q=ye(V),Z=fr(n),ne=h.useRef(null),ae="viewport",me=Tm(),ue=y||I?N==null?void 0:N.width:void 0,Te=mJe({mediaIndex:me,theme:p,width:X}),_e=h.useRef(Te);h.useEffect(()=>{_e.current=Te},[Te]);const be=gJe({boundaryWidth:ue,currentWidth:Te}),ge=h.useRef(be);h.useEffect(()=>{ge.current=be},[be]);const Oe=h.useRef();h.useEffect(()=>{const Yt=Z.current;if(!j||!Yt)return;const qr=Oe.current;S?qr!==void 0&&(Yt.style.width="".concat(qr,"px")):Te!==void 0&&(Yt.style.width="".concat(Te,"px")),typeof be=="number"&&(Yt.style.maxWidth="".concat(be,"px"))},[Te,Z,S,be,j]);const Re=h.useMemo(()=>{const Yt=[];return(y||I)&&Yt.push(yye({boundary:k||void 0,fallbackPlacements:_,padding:Cg,rootBoundary:ae})),Yt.push(bye({mainAxis:v?dJe:0})),(y||S)&&Yt.push(pJe({apply(qr){let{availableWidth:Jl,availableHeight:cl,elements:mi,referenceWidth:Ln}=qr;Oe.current=Ln;const Br=_e.current,eo=ge.current;S?mi.floating.style.width="".concat(Ln,"px"):Br!==void 0&&(mi.floating.style.width="".concat(Br,"px")),y&&(mi.floating.style.maxWidth="".concat(Math.min(Jl,eo??1/0),"px"),mi.floating.style.maxHeight="".concat(cl,"px"))},boundaryElement:k||void 0,constrainSize:y,margins:g,matchReferenceWidth:S,padding:Cg})),I&&Yt.push(xye({boundary:k||void 0,rootBoundary:ae,padding:Cg})),v&&Yt.push(Oxe({element:ne,padding:Cg})),Yt.push(xVe({boundary:$||void 0,padding:Cg,strategy:"referenceHidden"})),Yt},[v,y,_,k,g,S,I,$]),{x:ut,y:st,middlewareData:Lt,placement:gn,refs:xe,strategy:Ze,update:Je}=Rxe({middleware:Re,placement:A,whileElementsMounted:Tye}),Ve=(u=Lt.hide)==null?void 0:u.referenceHidden,vt=(d=Lt.arrow)==null?void 0:d.x,Ie=(f=Lt.arrow)==null?void 0:f.y,Me=h.useCallback(Yt=>{ne.current=Yt},[]),et=h.useCallback(Yt=>{Z.current=Yt,xe.setFloating(Yt)},[Z,xe]),Zo=h.useCallback(Yt=>{xe.setReference(Yt);const qr=x==null?void 0:x.ref;typeof qr=="function"?qr(Yt):qr&&(qr.current=Yt)},[x,xe]),ms=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:Zo}),[x,R,Zo]);if(h.useEffect(()=>{q&&(typeof q=="function"?q(Je):q&&(q.current=Je))},[Je,q]),h.useEffect(()=>{xe.setReference(R||null)},[R,xe]),C)return x||l.jsx(l.Fragment,{});const Ns=l.jsx(Ku,{zOffset:Q,children:l.jsx(OCe,{...oe,__unstable_margins:g,arrow:v,arrowRef:Me,arrowX:vt,arrowY:Ie,hidden:Ve,overflow:E,padding:G,placement:gn,radius:Y,ref:et,scheme:z,shadow:K,strategy:Ze,tone:H,width:S?Oe.current:Te,x:ut,y:st,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(Dm,{__unstable_name:typeof D=="string"?D:void 0,children:Ns}):Ns}),ms]})}));an.displayName="Popover";var jY=Object.freeze,_Je=Object.defineProperty,PCe=(e,t)=>jY(_Je(e,"raw",{value:jY(t||e.slice())})),TY,AY;function SJe(){return fe(TY||(TY=PCe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function kJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return fe(AY||(AY=PCe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),pe(r.radio.size/2),pe(r.radio.size),pe(r.radio.size),pe(r.radio.size/2),o.default.enabled.bg,To({color:o.default.enabled.border,width:r.border.width}),pe(i),pe(i),pe(r.radio.markSize),pe(r.radio.markSize),pe(r.radio.markSize/2),o.default.enabled.fg,Bc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),To({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const EJe=P.div(SJe),jJe=P.input(kJe),TJe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=fr(n);return Hw(u,s),l.jsxs(EJe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(jJe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var DY=Object.freeze,AJe=Object.defineProperty,dT=(e,t)=>DY(AJe(e,"raw",{value:DY(t||e.slice())})),IY,OY,PY,RY;function DJe(){return fe(IY||(IY=dT([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function IJe(e){const{theme:t}=e,n=t.sanity.fonts.text;return fe(OY||(OY=dT([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function OJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return fe(PY||(PY=dT([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,To({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,To({color:o.default.hovered.border,width:r.border.width}),Bc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,To({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,To({color:o.default.disabled.border,width:r.border.width}))}function PJe(e){return{fontSize:pe(e.fontSize),lineHeight:pe(e.lineHeight)}}function RJe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return gt(t.sanity.media,n,o=>PJe(r[o]||r[2]))}function $Je(){return[pd,IJe,OJe,RJe,oXe]}function MJe(e){const{theme:t}=e,n=t.sanity.color.input;return fe(RY||(RY=dT([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const a8={root:DJe,input:$Je,iconBox:MJe},FJe=P.div(a8.root),LJe=P.select(a8.input),BJe=P(M)(a8.iconBox),qf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=fr(n);return Hw(p,o),l.jsxs(FJe,{"data-ui":"Select",children:[l.jsx(LJe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ye(s),$padding:ye(a),$radius:ye(c),$space:ye(d),disabled:i||u,ref:p,children:r}),l.jsx(BJe,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(Wl,{})})})]})}),NJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function zJe(){return NJe}function VJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$space,o=>({gridGap:pe(r[o])}))}const HJe=P(M)(zJe,VJe),te=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(HJe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ye(o),forwardedAs:r,ref:n})});var $Y=Object.freeze,UJe=Object.defineProperty,Rp=(e,t)=>$Y(UJe(e,"raw",{value:$Y(t||e.slice())})),MY,FY,LY,BY,NY,zY,VY;function WJe(){return fe(MY||(MY=Rp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function YJe(){return fe(FY||(FY=Rp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function qJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return fe(LY||(LY=Rp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,pe(r.switch.width),pe(r.switch.height),pe(r.switch.height/2),Bc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function GJe(e){const{theme:t}=e,{input:n}=t.sanity;return fe(BY||(BY=Rp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),pe(n.switch.width),pe(n.switch.height),pe(n.switch.height/2))}function KJe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return fe(VY||(VY=Rp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),pe(s),pe(s),pe(a),pe(a),pe(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&fe(NY||(NY=Rp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&fe(zY||(zY=Rp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const ZJe=P.span(WJe),XJe=P.input(YJe),QJe=P.span(qJe),JJe=P.span(GJe),eet=P.span(KJe),RCe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=fr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(ZJe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(XJe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(QJe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(JJe,{}),l.jsx(eet,{$checked:r,$indeterminate:s})]})]})});var HY=Object.freeze,tet=Object.defineProperty,net=(e,t)=>HY(tet(e,"raw",{value:HY(t||e.slice())})),UY;const ret=P.span(gCe),oet=P.span(UY||(UY=net([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),iet=P.textarea(t8,vCe,yCe),set=P.div(pd,bCe),$Ce=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=fr(n),p=L0();return Hw(f,o),l.jsx(ret,{"data-ui":"TextArea",children:l.jsxs(oet,{children:[l.jsx(iet,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ye(s),$padding:ye(a),$scheme:p.scheme,$space:ye(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(set,{$radius:ye(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var WY=Object.freeze,aet=Object.defineProperty,N0=(e,t)=>WY(aet(e,"raw",{value:WY(t||e.slice())})),YY,qY,GY,KY,ZY,XY;const cet={zIndex:2},uet=P(J).attrs({forwardedAs:"span"})(gCe),det=P.span(YY||(YY=N0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),fet=P(J).attrs({forwardedAs:"span"})(qY||(qY=N0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),het=P(J).attrs({forwardedAs:"span"})(GY||(GY=N0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),pet=P.input(t8,vCe,yCe),met=P.span(pd,bCe),get=P(M)(KY||(KY=N0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),vet=P(M)(ZY||(ZY=N0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),yet=P(J)(XY||(XY=N0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),bet=P(ie)({"&:not([hidden])":{display:"block"}}),Lr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:g=3,suffix:v,customValidity:b,type:x="text",weight:y,...w}=t,C=fr(n),_=L0(),S=ye(s),k=ye(d),j=ye(p),E=ye(g),T=!!o,A=!!a,D=!!c,I=!!v,O=!!f;Hw(C,b);const $=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),R=h.useCallback(N=>{var G;N.preventDefault(),N.stopPropagation(),u&&u(),(G=C.current)==null||G.focus()},[u,C]),z=h.useMemo(()=>f&&l.jsx(fet,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),F=h.useMemo(()=>l.jsxs(met,{$hasPrefix:O,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(get,{padding:k,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,Sr.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(vet,{padding:k,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,Sr.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,k,j,_,T,O,I]),H=h.useMemo(()=>k.map(N=>N===0?0:N===1||N===2?1:N-2),[k]),W=h.useMemo(()=>k.map(N=>N===0||N===1?0:N===2?1:N-1),[k]),V=h.useMemo(()=>typeof o=="object"?o:Af,[o]),q=h.useMemo(()=>!i&&!m&&o&&l.jsx(yet,{forwardedAs:"span",padding:H,style:cet,tone:b?"critical":"inherit",children:l.jsx(bet,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Mi,mode:"bleed",padding:W,radius:j,...V,onClick:R,onMouseDown:$})}),[o,H,W,V,b,i,S,R,$,j,m]),oe=h.useMemo(()=>v&&l.jsx(het,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:v})}),[j,v]);return l.jsxs(uet,{"data-ui":"TextInput",tone:_.tone,children:[z,l.jsxs(det,{children:[l.jsx(pet,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:k,$scheme:_.scheme,$space:E,$tone:_.tone,$weight:y,disabled:i,readOnly:m,ref:C,type:x}),F,q]}),oe]})});function R$(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const qI=4,xet={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var QY=Object.freeze,wet=Object.defineProperty,l8=(e,t)=>QY(wet(e,"raw",{value:QY(t||e.slice())})),JY,eq,tq;const Cet=P.div(JY||(JY=l8([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),_et=P.path(eq||(eq=l8([`
  fill: var(--card-shadow-outline-color);
`]))),ket=P.path(tq||(tq=l8([`
  fill: var(--card-bg-color);
`]))),Eet=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(Cet,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(_et,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(ket,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),$$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[$$]=Qt[$$]||h.createContext(null);const MCe=Qt[$$];function FCe(){return h.useContext(MCe)}function jet(e){const{children:t,delay:n}=e,[r,o]=R$(!1),[i,s]=R$(null);if(FCe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(MCe.Provider,{value:d,children:t})}var nq=Object.freeze,Tet=Object.defineProperty,Aet=(e,t)=>nq(Tet(e,"raw",{value:nq(t||e.slice())})),rq;const Det=P(us)(rq||(rq=Aet([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),at=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=ch(),d=Ls(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:g,fallbackPlacements:v=(o=t.fallbackPlacements)!=null?o:xet[(r=t.placement)!=null?r:"bottom"],padding:b,placement:x="bottom",portal:y,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...k}=t,j=ye(v),E=fr(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",O=Am(),$=typeof y=="string"?((s=O.elements)==null?void 0:s[y])||null:O.element,R=h.useMemo(()=>{const Ie=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...Ie)-qI*2},[f,$==null?void 0:$.offsetWidth]),z=h.useMemo(()=>{const Ie=[];return Ie.push(yye({boundary:f||void 0,fallbackPlacements:j,padding:qI,rootBoundary:I})),Ie.push(bye({mainAxis:3})),Ie.push(xye({boundary:f||void 0,rootBoundary:I,padding:qI})),Ie.push(Oxe({element:D,padding:2})),Ie},[f,j]),{floatingStyles:F,placement:H,middlewareData:W,refs:V,update:q}=Rxe({middleware:z,placement:x,whileElementsMounted:Tye}),oe=H&&tCe[H.split("-")[0]],N=(a=W.arrow)==null?void 0:a.x,G=(c=W.arrow)==null?void 0:c.y,Y=h.useMemo(()=>{const Ie={left:N!==null?N:void 0,top:G!==null?G:void 0,right:void 0,bottom:void 0};return oe&&(Ie[oe]=-15),Ie},[N,G,oe]),K=h.useId(),[X,Q]=R$(!1),Z=FCe(),ne=X||(Z==null?void 0:Z.openTooltipId)===K,ae=Z!==null,me=typeof S=="number"?S:(S==null?void 0:S.open)||0,ue=typeof S=="number"?S:(S==null?void 0:S.close)||0,Te=ae?Z.openDelay:me,_e=ae?Z.closeDelay:ue,be=h.useCallback((Ie,Me)=>{if(ae)if(Ie){const et=Me?0:Te;Z.setIsGroupActive(Ie,et),Z.setOpenTooltipId(K,et)}else{const Zo=_e>200?_e:200;Z.setIsGroupActive(Ie,Zo),Z.setOpenTooltipId(null,Me?0:_e)}else Q(Ie,Me?0:Ie?Te:_e)},[ae,Z,Te,K,_e,Q]),ge=h.useCallback(Ie=>{var Me,et;be(!1),(et=(Me=p==null?void 0:p.props)==null?void 0:Me.onBlur)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]),Oe=h.useCallback(Ie=>{var Me,et;be(!1,!0),(et=p==null?void 0:(Me=p.props).onClick)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]),Re=h.useCallback(Ie=>{var Me,et;be(!1,!0),(et=p==null?void 0:(Me=p.props).onContextMenu)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]),ut=h.useCallback(Ie=>{var Me,et;be(!0),(et=(Me=p==null?void 0:p.props)==null?void 0:Me.onFocus)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]),st=h.useCallback(Ie=>{var Me,et;be(!0),(et=(Me=p==null?void 0:p.props)==null?void 0:Me.onMouseEnter)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]),Lt=h.useCallback(Ie=>{var Me,et;be(!1),(et=(Me=p==null?void 0:p.props)==null?void 0:Me.onMouseLeave)==null||et.call(Me,Ie)},[p==null?void 0:p.props,be]);h.useEffect(()=>{if(!X)return;function Ie(Me){if(!T)return;T===Me.target||Me.target instanceof Node&&T.contains(Me.target)||(be(!1),window.removeEventListener("mousemove",Ie))}return window.addEventListener("mousemove",Ie),()=>{window.removeEventListener("mousemove",Ie)}},[X,T,be]),h.useEffect(()=>{g&&be(!1)},[g,be]),h.useEffect(()=>{m||be(!1)},[m,be]),h.useEffect(()=>V.setReference(T),[T,V]),h.useEffect(()=>{if(!ne)return;function Ie(Me){Me.key==="Escape"&&be(!1,!0)}return window.addEventListener("keydown",Ie),()=>{window.removeEventListener("keydown",Ie)}},[be,ne]);const gn=h.useCallback(Ie=>{D.current=Ie,q()},[q]),xe=h.useCallback(Ie=>{E.current=Ie,V.setFloating(Ie)},[E,V]),Ze=p==null?void 0:p.ref,Je=h.useCallback(Ie=>{typeof Ze=="function"?Ze(Ie):Ze&&(Ze.current=Ie),A(Ie)},[Ze]),Ve=h.useMemo(()=>p?h.cloneElement(p,{onBlur:ge,onFocus:ut,onMouseEnter:st,onMouseLeave:Lt,onClick:Oe,onContextMenu:Re,ref:Je}):null,[p,ge,Oe,Re,ut,st,Lt,Je]);if(!Ve)return l.jsx(l.Fragment,{});if(g)return Ve;const vt=l.jsx(Det,{"data-ui":"Tooltip",...k,ref:xe,style:F,zOffset:_,$maxWidth:R,children:l.jsxs(J,{"data-ui":"Tooltip__card","data-placement":H,padding:b,radius:2,scheme:w,shadow:C,children:[m,l.jsx(Eet,{ref:gn,style:Y})]})});return l.jsxs(l.Fragment,{children:[Ve,ne&&l.jsx(l.Fragment,{children:y?l.jsx(Dm,{__unstable_name:typeof y=="string"?y:void 0,children:vt}):vt})]})});var oq=Object.freeze,Iet=Object.defineProperty,fT=(e,t)=>oq(Iet(e,"raw",{value:oq(t||e.slice())})),iq,sq,aq,lq;const Oet=P.div(iq||(iq=fT([`
  line-height: 0;
`]))),Pet=P(M)(sq||(sq=fT([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),Ret=wm(aq||(aq=fT([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),$et=P(Ew)(lq||(lq=fT([`
  animation: `,` 500ms linear infinite;
`])),Ret);function Met(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!qQe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function Fet(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const Let=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Bet="bottom-start",Net=["bottom-start","top-start"],zet=(e,t)=>t?t.value:e,Vet=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Het=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=Af,loading:f,onBlur:p,onChange:m,onFocus:g,onQueryChange:v,onSelect:b,openButton:x,options:y,padding:w=3,popover:C=Af,prefix:_,radius:S=3,readOnly:k,relatedElements:j,renderOption:E,renderPopover:T,renderValue:A=zet,suffix:D,value:I,...O}=t,[$,R]=h.useReducer(Fet,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:z,focused:F,listFocused:H,query:W,value:V}=$,q=h.useCallback(We=>{let{value:wt}=We;return l.jsx(J,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:wt})})},[a,w]),oe=typeof E=="function"?E:q,N=typeof s=="function"?s:Vet,G=h.useRef(null),Y=h.useRef(null),K=h.useRef(null),X=h.useRef(null),Q=h.useRef(!1),Z=h.useRef(V),ne=h.useRef(I),ae=h.useRef(!1),me=fr(n),ue="".concat(u,"-listbox"),Te=Array.isArray(y)?y:Vw,_e=ye(w),be=h.useMemo(()=>V!==null?Te.find(We=>We.value===V):void 0,[Te,V]),ge=h.useMemo(()=>Te.filter(We=>W?N(W,We):!0),[N,Te,W]),Oe=ge.length,Re=z?"".concat(u,"-option-").concat(z):void 0,ut=W!==null&&f||F&&W!==null,st=h.useCallback(We=>{setTimeout(()=>{if(ae.current)return;const wt=(j||[]).concat(G.current?[G.current]:[],Y.current?[Y.current]:[]);let er=!1;if(document.activeElement){for(const vn of wt)if(vn===document.activeElement||vn.contains(document.activeElement)){er=!0;break}}er===!1&&(R({type:"root/blur"}),ae.current=!1,v&&v(null),p&&p(We))},0)},[p,v,j]),Lt=h.useCallback(We=>{const wt=X.current,er=We.target instanceof HTMLElement?We.target:null,vn=(wt==null?void 0:wt.contains(er))||!1;vn!==Q.current&&(Q.current=vn,R({type:"root/setListFocused",listFocused:vn}))},[]),gn=h.useCallback(We=>{var wt;R({type:"value/change",value:We}),ae.current=!1,b&&b(We),Z.current=We,m&&m(We),v&&v(null),(wt=K.current)==null||wt.focus()},[m,b,v]),xe=h.useCallback(We=>{var wt,er;if(We.key==="ArrowDown"){if(We.preventDefault(),!Oe)return;const xo=ge.find(ec=>ec.value===z),gs=xo?ge.indexOf(xo):-1,zs=ge[(gs+1)%Oe];zs&&R({type:"root/setActiveValue",value:zs.value,listFocused:!0});return}if(We.key==="ArrowUp"){if(We.preventDefault(),!Oe)return;const xo=ge.find(ec=>ec.value===z),gs=xo?ge.indexOf(xo):-1,zs=ge[gs===-1?Oe-1:(Oe+gs-1)%Oe];zs&&R({type:"root/setActiveValue",value:zs.value,listFocused:!0});return}if(We.key==="Escape"){R({type:"root/escape"}),ae.current=!1,v&&v(null),(wt=K.current)==null||wt.focus();return}const vn=We.target,gi=X.current;if((gi===vn||gi!=null&&gi.contains(vn))&&!Let.includes(We.key)){(er=K.current)==null||er.focus();return}},[z,ge,Oe,v]),Ze=h.useCallback(We=>{const wt=We.currentTarget.value;R({type:"input/change",query:wt}),v&&v(wt)},[v]),Je=h.useCallback(We=>{F||(R({type:"input/focus"}),g&&g(We))},[F,g]),Ve=h.useCallback(()=>{ae.current=!0},[]),vt=h.useCallback(()=>{ae.current=!1},[]),Ie=h.useCallback(()=>{var We;R({type:"root/clear"}),Z.current="",m&&m(""),v&&v(null),(We=K.current)==null||We.focus()},[m,v]),Me=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==ne.current){ne.current=I,I!==void 0&&(R({type:"value/change",value:I}),Z.current=I);return}I!==Z.current&&(Z.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!F&&Z.current&&R({type:"root/setActiveValue",value:Z.current})},[F]),h.useEffect(()=>{const We=X.current;if(!We)return;const wt=ge.find(er=>er.value===z);if(wt){const er=ge.indexOf(wt),vn=We.childNodes[er];if(vn){if(XQe(vn))return;s0(vn)}}},[z,ge]);const et=h.useCallback(We=>{K.current=We,me.current=We},[me]),Zo=h.useMemo(()=>{if(!f&&!i&&V)return{"aria-label":"Clear",onFocus:Me}},[i,Me,f,V]),ms=h.useMemo(()=>_e.map(We=>We===0?0:We===1||We===2?1:We-2),[_e]),Ns=h.useMemo(()=>_e.map(We=>Math.max(We-1,0)),[_e]),Yt=h.useMemo(()=>typeof x=="object"?x:Af,[x]),qr=h.useCallback(We=>{R({type:"root/open",query:V?A(V,be):""}),Yt.onClick&&Yt.onClick(We),I$(()=>{var wt;return(wt=K.current)==null?void 0:wt.focus()})},[be,Yt,A,V]),Jl=h.useMemo(()=>!i&&!k&&x?l.jsx(M,{"aria-hidden":ut,padding:ms,children:l.jsx(ie,{"aria-label":"Open",disabled:ut,fontSize:a,icon:nl,mode:"bleed",padding:Ns,...Yt,onClick:qr})}):void 0,[i,ut,a,qr,x,ms,Ns,Yt,k]),cl=h.useMemo(()=>W===null?V!==null?A(V,be):"":W,[be,W,A,V]),mi=l.jsx(Lr,{...O,"aria-activedescendant":Re,"aria-autocomplete":"list","aria-expanded":ut,"aria-owns":ue,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:Zo,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&$et,id:u,inputMode:"search",onChange:Ze,onClear:Ie,onFocus:Je,padding:_e,prefix:_,radius:S,readOnly:k,ref:et,role:"combobox",spellCheck:!1,suffix:D||Jl,value:cl}),Ln=h.useCallback(We=>{var wt;We.key==="Tab"&&H&&((wt=K.current)==null||wt.focus())},[H]),Br=h.useMemo(()=>ge.length===0?null:l.jsx(Pet,{"data-ui":"AutoComplete__results",onKeyDown:Ln,padding:1,...d,tabIndex:-1,children:l.jsx(te,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ue,ref:X,role:"listbox",space:1,children:ge.map(We=>{const wt=z!==null?We.value===z:be===We;return l.jsx(Met,{id:"".concat(u,"-option-").concat(We.value),onSelect:gn,selected:wt,value:We.value,children:h.cloneElement(oe(We),{disabled:f,selected:wt,tabIndex:H&&wt?0:-1})},We.value)})})}),[z,be,ge,gn,Ln,u,d,ue,H,f,oe]),eo=h.useMemo(()=>T?T({content:Br,hidden:!ut,inputElement:K.current,onMouseEnter:Ve,onMouseLeave:vt},Y):Oe===0?null:l.jsx(an,{arrow:!1,constrainSize:!0,content:Br,fallbackPlacements:Net,matchReferenceWidth:!0,onMouseEnter:Ve,onMouseLeave:vt,open:ut,overflow:"auto",placement:Bet,portal:!0,radius:S,ref:Y,referenceElement:K.current,...C}),[Br,ut,Oe,Ve,vt,C,S,T]);return l.jsxs(Oet,{"data-ui":"Autocomplete",onBlur:st,onFocus:Lt,onKeyDown:xe,ref:G,children:[mi,eo]})}),c8=Het;var cq=Object.freeze,Uet=Object.defineProperty,LCe=(e,t)=>cq(Uet(e,"raw",{value:cq(t||e.slice())})),uq,dq;const Wet=P.ol(uq||(uq=LCe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),Yet=P(ie)(dq||(dq=LCe([`
  appearance: none;
  margin: -4px;
`]))),u8=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=ye(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,g]=h.useState(null),v=h.useCallback(()=>d(!1),[]),b=h.useCallback(()=>d(!0),[]);dr(v,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(an,{constrainSize:!0,content:l.jsx(te,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:g,children:l.jsx(Yet,{fontSize:1,mode:"bleed",onClick:u?v:b,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[v,b,o,u,x,c]);return l.jsx(Wet,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function qet(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function Get(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$position,r=>({"&&":{position:r}}))}const M$=Symbol.for("@sanity/ui/context/dialog");Qt[M$]=Qt[M$]||h.createContext({version:0});const BCe=Qt[M$];function Ket(){return h.useContext(BCe)}var fq=Object.freeze,Zet=Object.defineProperty,z0=(e,t)=>fq(Zet(e,"raw",{value:fq(t||e.slice())})),hq,pq,mq,gq,vq,yq;function F$(e,t,n){return!e||!t?!0:O$(e,n)||O$(t,n)}const Xet=P(us)(xCe,qet,Get),Qet=P(Qr)(hq||(hq=z0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),Jet=P(J)(pq||(pq=z0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),ett=P(U)(mq||(mq=z0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),ttt=P(J)(gq||(gq=z0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),ntt=P(M)(vq||(vq=z0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),rtt=P(M)(yq||(yq=z0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),ott=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:g,scheme:v,shadow:b,width:x}=t,y=Am(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,C=ch().element,_=ye(g),S=ye(b),k=ye(x),j=fr(n),[E,T]=h.useState(null),A=h.useRef(null),D=ol(),{isTopLayer:I}=D,O="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&s0(j.current)},[o,j]),cs(h.useCallback(H=>{if(!I||!p)return;const W=document.activeElement;W&&!F$(C,w,W)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,I,p,w])),dr(h.useCallback(H=>{if(!I||!f)return;const W=H.target;W&&!F$(C,w,W)||f()},[C,I,f,w]),[E]);const z=h.useCallback(H=>{T(H),j.current=H},[j]),F=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return l.jsx(Qet,{"data-ui":"DialogCard",width:k,children:l.jsx(Jet,{radius:_,ref:z,scheme:v,shadow:S,children:l.jsxs(ett,{direction:"column",children:[R&&l.jsx(ttt,{children:l.jsxs(U,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:O,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(ie,{"aria-label":"Close dialog",disabled:!p,icon:Mi,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(ntt,{flex:1,ref:F,tabIndex:-1,children:s}),c&&l.jsx(rtt,{children:c})]})})})}),Vi=h.forwardRef(function(t,n){var r,o;const i=Ket(),s=Ls(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:g,id:v,onActivate:b,onClickOutside:x,onClose:y,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:k,width:j=0,zOffset:E=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=Am(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=ch().element,O=ye(u),$=ye(C),R=ye(S),z=ye(j),F=ye(E),H=h.useRef(null),W=h.useRef(null),V=h.useRef(null),q=h.useRef(null),oe=h.useCallback(K=>{w==null||w(K);const X=K.target,Q=V.current;if(Q&&X===H.current){TCe(Q);return}if(Q&&X===W.current){s0(Q);return}Wc(K.target)&&(q.current=K.target)},[w]),N="".concat(v,"_label"),G=h.useRef(),Y=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const K=document.activeElement;if(K&&!F$(I,D,K)){const X=q.current;if(!X||!document.body.contains(X)){const Q=V.current;Q&&s0(Q);return}X.focus()}},0)},[I,D]);return l.jsx(Dm,{__unstable_name:_,children:l.jsxs(Xet,{...T,$padding:$,$position:R,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:v,onActivate:b,onClick:Y,onFocus:oe,ref:n,role:"dialog",zOffset:F,children:[l.jsx("div",{ref:H,tabIndex:0}),l.jsx(ott,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:g,id:v,onClickOutside:x,onClose:y,portal:_,radius:O,ref:V,scheme:k,shadow:d,width:z,children:f}),l.jsx("div",{ref:W,tabIndex:0})]})})});function L$(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(BCe.Provider,{value:o,children:t})}var bq=Object.freeze,itt=Object.defineProperty,NCe=(e,t)=>bq(itt(e,"raw",{value:bq(t||e.slice())})),xq,wq;const stt=P.kbd(xq||(xq=NCe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),att=P(j$)(wq||(wq=NCe([`
  &:not([hidden]) {
    display: block;
  }
`]))),d8=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=ye(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(stt,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Gt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(att,{fontSize:r,padding:i,radius:s,children:d},f))})})}),B$=Symbol.for("@sanity/ui/context/menu");Qt[B$]=Qt[B$]||h.createContext(null);const zCe=Qt[B$];function ltt(e){return o8(e)&&e.getAttribute("data-disabled")!=="true"||i8(e)&&!e.disabled}function og(e){return e.filter(ltt)}function ctt(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Cq=[];function utt(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,ctt(e,o));const r=(o,i)=>{const s=n.get(o)||Cq,a=n.get(i)||Cq,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function dtt(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,y)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),utt(i,o.current)),y){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),g=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=og(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const y=og(o.current),w=y[y.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const y=og(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_-1+w)%w;const S=y[_],k=o.current.indexOf(S);p(k);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const y=og(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_+1)%w;const S=y[_],k=o.current.indexOf(S);p(k);return}t&&t(x)},[t,n,p]),v=h.useCallback(x=>{const y=x.currentTarget,w=o.current.indexOf(y);p(w)},[p]),b=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const _=og(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=og(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:v,handleItemMouseLeave:b,handleKeyDown:g,mount:m,rootElement:i,setRootElement:s}}var _q=Object.freeze,ftt=Object.defineProperty,htt=(e,t)=>_q(ftt(e,"raw",{value:_q(t||e.slice())})),Sq;const ptt=P(M)(Sq||(Sq=htt([`
  outline: none;
  overflow: auto;
`]))),Bt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:g=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:v=1,...b}=t,x=fr(n),{isTopLayer:y}=ol(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:k,mount:j,rootElement:E,setRootElement:T}=dtt({onKeyDown:d,originElement:f,shouldFocus:g}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),dr(h.useCallback(I=>y&&s&&s(I),[y,s]),[E]),cs(h.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!E||!m))return m(E)},[m,E]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(zCe.Provider,{value:D,children:l.jsx(ptt,{"data-ui":"Menu",...b,onKeyDown:k,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(te,{space:v,children:r})})})}),Jt=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:g,preventOverflow:v}=t,[b,x]=h.useState(!1),[y,w]=h.useState(null),[C,_]=h.useState(null),[S,k]=h.useState([]),j=h.useRef(b);h.useEffect(()=>{u&&b&&!j.current&&u()},[u,b]),h.useEffect(()=>{c&&!b&&j.current&&c()},[c,b]),h.useEffect(()=>{j.current=b},[b]);const E=h.useCallback(()=>{x(V=>!V),w(null)},[]),T=h.useCallback(V=>{if(V.key==="ArrowDown"||V.key==="Enter"||V.key===" "){V.preventDefault(),x(!0),w("first");return}if(V.key==="ArrowUp"){V.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(V=>{const q=V.target;if(q instanceof Node&&!(C&&(q===C||C.contains(q)))){for(const oe of S)if(q===oe||oe.contains(q))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(V=>{const q=V.relatedTarget;if(q instanceof Node){for(const oe of S)if(oe===q||oe.contains(q))return;x(!1)}},[S]),O=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(V=>(k(q=>q.concat([V])),()=>{k(q=>q.filter(oe=>oe!==V))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:O,originElement:C,registerElement:$,shouldFocus:y}),[C,A,D,O,s,I,$,y]),z=Sr.isElement(a)?h.cloneElement(a,R):null,F=h.useCallback(V=>{typeof n=="function"?n(V):n&&(n.current=V),_(V)},[n]),H=h.useMemo(()=>Sr.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:E,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":b,ref:F,selected:b}):null,[i,E,T,s,b,F]),W=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:v,radius:g,scheme:f,...m||{}}),[o,d,g,f,p,v,m]);return l.jsx(an,{"data-ui":"MenuButton__popover",...W,content:z,open:b,children:H||l.jsx(l.Fragment,{})})});var kq=Object.freeze,mtt=Object.defineProperty,gtt=(e,t)=>kq(mtt(e,"raw",{value:kq(t||e.slice())})),Eq;const Rr=P.hr(Eq||(Eq=gtt([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var jq=Object.freeze,vtt=Object.defineProperty,VCe=(e,t)=>jq(vtt(e,"raw",{value:jq(t||e.slice())})),Tq,Aq;function ytt(){return fe(Tq||(Tq=VCe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function btt(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return fe(Aq||(Aq=VCe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),zt(i,c.enabled),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const HCe=P(M)(pd,ytt,btt);function UCe(){const e=h.useContext(zCe);if(!e)throw new Error("useMenu(): missing context value");if(!F0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function f8(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=UCe(),{activeElement:g,mount:v,onClickOutside:b,onEscape:x,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[k,j]=h.useState(!1),E=h.useRef(null),T=!!g&&g===_,[A,D]=h.useState(!1),I=h.useCallback(W=>{D(!1),w(W),j(!0)},[w]),O=h.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(W=>{i&&i(W),E.current="first",j(!0),requestAnimationFrame(()=>{E.current=null})},[i]),R=h.useCallback(()=>{j(!1),y&&y()},[y]),z=h.useCallback(()=>D(!0),[]);h.useEffect(()=>v(_),[v,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{k||D(!1)},[k]);const F=l.jsx(Bt,{onClickOutside:b,onEscape:x,onItemClick:R,onKeyDown:O,onMouseEnter:z,registerElement:C,shouldFocus:E.current,children:n}),H=h.useCallback(W=>{const V=W.currentTarget;if(document.activeElement===V&&W.key==="ArrowRight"){E.current="first",j(!0),D(!0),requestAnimationFrame(()=>{E.current=null});return}},[]);return l.jsx(an,{...a,content:F,"data-ui":"MenuGroup__popover",open:k,children:l.jsx(HCe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ye(c),$tone:f,onClick:$,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(U,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,Sr.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Hc,{})})})]})})})})}const Ne=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:g,paddingRight:v,paddingBottom:b,paddingLeft:x,pressed:y,radius:w=2,selected:C,space:_=3,text:S,tone:k="default",...j}=t,E=UCe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=E.onMouseEnter,onItemMouseLeave:O=E.onMouseLeave}=E,[$,R]=h.useState(null),z=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const F=fr(n),H=h.useCallback(q=>{i||(d&&d(q),D&&D())},[i,d,D]),W=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:g,paddingRight:v,paddingBottom:b,paddingLeft:x}),[f,p,m,g,v,b,x]),V=h.useCallback(q=>{F.current=q,R(q)},[F]);return l.jsxs(HCe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":z?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ye(w),$padding:ye(0),$tone:k,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:O,ref:V,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...W,children:l.jsxs(U,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,Sr.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(d8,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,Sr.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...W,children:o})]})});var Dq=Object.freeze,xtt=Object.defineProperty,o5=(e,t)=>Dq(xtt(e,"raw",{value:Dq(t||e.slice())})),Iq,Oq,Pq,Rq;const wtt=wm(Iq||(Iq=o5([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),Ctt=fe(Oq||(Oq=o5([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),wtt),_tt=fe(Rq||(Rq=o5([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?Ctt:fe(Pq||(Pq=o5([`
            background-color: var(--card-skeleton-color-from);
          `])))}),Stt=P(M)(pd,_tt),V0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(Stt,{...s,$animated:r,$radius:ye(i),$visible:a,ref:n})}),hT=P(V0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return gt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Li=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(hT,{...o,$size:i,ref:n,$style:"text"})}),i5=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(hT,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(hT,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(hT,{...o,$size:i,ref:n,$style:"code"})});var $q=Object.freeze,ktt=Object.defineProperty,Ett=(e,t)=>$q(ktt(e,"raw",{value:$q(t||e.slice())})),Mq;const jtt=P(ie)(Mq||(Mq=Ett([`
  max-width: 100%;
`]))),wx=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),g=h.useRef(!1),v=h.useCallback(()=>{g.current=!1},[]),b=h.useCallback(w=>{g.current=!0,u&&u(w)},[u]),x=fr(n);h.useEffect(()=>{i&&!g.current&&(m.current&&m.current.focus(),g.current=!0)},[i]);const y=w=>{m.current=w,x.current=w};return l.jsx(jtt,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:v,onFocus:b,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var Fq=Object.freeze,Ttt=Object.defineProperty,Att=(e,t)=>Fq(Ttt(e,"raw",{value:Fq(t||e.slice())})),Lq;function Dtt(e){return!!e}const Itt=P(Gt)(Lq||(Lq=Att([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),pT=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(Dtt),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(Itt,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),WCe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var Bq=Object.freeze,Ott=Object.defineProperty,YCe=(e,t)=>Bq(Ott(e,"raw",{value:Bq(t||e.slice())})),Nq,zq;const Ptt={error:"critical",warning:"caution",success:"positive",info:"primary"},Rtt={error:"alert",warning:"alert",success:"alert",info:"alert"},$tt=P(J)(Nq||(Nq=YCe([`
  pointer-events: all;
`]))),Mtt=P(U)(zq||(zq=YCe([`
  overflow-x: auto;
`])));function Ftt(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Ptt[i]:"default",c=i?Rtt[i]:"status";return l.jsx($tt,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(Mtt,{flex:1,padding:3,children:l.jsxs(te,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(ie,{as:"button",icon:Mi,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function Ltt(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const N$=Symbol.for("@sanity/ui/context/toast");Qt[N$]=Qt[N$]||h.createContext(null);const qCe=Qt[N$];var Vq=Object.freeze,Btt=Object.defineProperty,GCe=(e,t)=>Vq(Btt(e,"raw",{value:Vq(t||e.slice())})),Hq,Uq;const Ntt=P(us)(Hq||(Hq=GCe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),ztt=P.div(Uq||(Uq=GCe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Vtt=0;function h8(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),g=p.id||String(Vtt++),v=p.duration||5e3,b=()=>{var x;const y=(x=c.current[g])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===g);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),y!==void 0&&(clearTimeout(y),delete c.current[g])};return m(x=>x.filter(y=>y.id!==g).concat([{dismiss:b,id:g,params:{...p,duration:v}}])),c.current[g]&&(clearTimeout(c.current[g].timeoutId),delete c.current[g]),c.current[g]={timeoutId:setTimeout(b,v)},g},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=Ltt();return l.jsxs(qCe.Provider,{value:d,children:[t,f&&l.jsx(Ntt,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(ztt,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(sT,{initial:!1,children:s.map(p=>{let{dismiss:m,id:g,params:v}=p;return l.jsx(Yl.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(Ftt,{closable:v.closable,description:v.description,onClose:m,status:v.status,title:v.title})},g)})})})})})]})}function Io(){const e=h.useContext(qCe);if(!e)throw new Error("useToast(): missing context value");if(!F0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Htt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Utt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Wq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const z$=Symbol.for("@sanity/ui/context/tree");Qt[z$]=Qt[z$]||h.createContext(null);const s5=Qt[z$],KCe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=fr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[g,v]=h.useState({}),b=h.useRef(g);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{b.current=g},[g]);const x=h.useCallback((S,k,j,E)=>(v(T=>({...T,[k]:{element:S,expanded:j}})),E&&u(S),()=>{v(T=>{const A={...T};return delete A[k],A})}),[]),y=h.useCallback((S,k)=>{v(j=>{const E=j[S];return E?{...j,[S]:{...E,expanded:k}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:y,setFocusedElement:u,space:o,state:g}),[c,p,f,x,y,o,g]),C=h.useCallback(S=>{var k;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Utt(b.current,p,d.current);j&&(Wq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Htt(b.current,p,d.current);j&&(Wq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const E=b.current[j];if(!E)return;if(E.expanded)v(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&b.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(k=b.current[j])!=null&&k.expanded||v(E=>{const T=E[j];return T?{...E,[j]:{...T,expanded:!0}}:E});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(s5.Provider,{value:w,children:l.jsx(te,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));KCe.displayName="Tree";var Yq=Object.freeze,Wtt=Object.defineProperty,p8=(e,t)=>Yq(Wtt(e,"raw",{value:Yq(t||e.slice())})),qq,Gq,Kq;function Ytt(){return fe(qq||(qq=p8([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function qtt(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return fe(Gq||(Gq=p8([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected))}function Gtt(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return fe(Kq||(Kq=p8([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),pe(r[2]*t))}function ZCe(){const e=h.useContext(s5);if(!e)throw new Error("Tree: missing context value");return e}const Zq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=ZCe();return l.jsx(te,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var Xq=Object.freeze,Ktt=Object.defineProperty,Ztt=(e,t)=>Xq(Ktt(e,"raw",{value:Xq(t||e.slice())})),Qq;const Jq=h.memo(P.li(Ytt,qtt)),eG=P(M).attrs({forwardedAs:"a"})(Gtt),Xtt=P(L)(Qq||(Qq=Ztt([`
  & > svg {
    transition: transform 100ms;
  }
`]))),Cx=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:g,weight:v,...b}=t,x=h.useRef(null),y=h.useRef(null),w=ZCe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:k}=w,j=h.useId(),E=a||j,T=h.useMemo(()=>C.concat([E||""]),[E,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,O=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),z=h.useCallback(W=>{d&&d(W);const V=W.target;V instanceof HTMLElement&&(V.getAttribute("data-ui")==="TreeItem"||V.closest('[data-ui="TreeItem__box"]'))&&(W.stopPropagation(),S(A,!O),k(x.current))},[O,A,d,S,k]),F=h.useCallback(W=>{if(I&&W.key==="Enter"){const V=y.current||x.current;V==null||V.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),O,p)},[O,T,_,p]);const H=l.jsxs(U,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:v,children:h.createElement(s)}),!s&&l.jsx(Xtt,{muted:u,size:o,weight:v,children:l.jsx(Aj,{style:{transform:O?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:v,children:g})})]});return i?l.jsxs(Jq,{"data-selected":p?"":void 0,"data-tree-id":E,"data-tree-key":A,"data-ui":"TreeItem",...b,onClick:z,ref:x,role:"none",children:[l.jsx(eG,{$level:w.level,"aria-expanded":O,as:c,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:$,children:H}),l.jsx(s5.Provider,{value:R,children:n&&l.jsx(Zq,{hidden:!O,children:n})})]}):l.jsxs(Jq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":E,"data-tree-key":A,...b,"aria-expanded":O,onClick:z,onKeyDown:F,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(eG,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),l.jsx(s5.Provider,{value:R,children:n&&l.jsx(Zq,{expanded:O,children:n})})]})});function Ft(e){return typeof e=="function"}function m8(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var GI=m8(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function a5(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var tm=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Wp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(v){i=v instanceof GI?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Wp(f),m=p.next();!m.done;m=p.next()){var g=m.value;try{tG(g)}catch(v){i=i??[],v instanceof GI?i=ai(ai([],Ua(i)),Ua(v.errors)):i.push(v)}}}catch(v){r={error:v}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new GI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)tG(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&a5(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&a5(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),XCe=tm.EMPTY;function QCe(e){return e instanceof tm||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function tG(e){Ft(e)?e():e.unsubscribe()}var JCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},V$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=V$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,ai([e,t],Ua(n))):setTimeout.apply(void 0,ai([e,t],Ua(n)))},clearTimeout:function(e){var t=V$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function e2e(e){V$.setTimeout(function(){throw e})}function Gf(){}function fS(e){e()}var g8=function(e){ma(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,QCe(n)&&n.add(r)):r.destination=tnt,r}return t.create=function(n,r,o){return new _x(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(tm),Qtt=Function.prototype.bind;function KI(e,t){return Qtt.call(e,t)}var Jtt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){S2(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){S2(r)}else S2(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){S2(n)}},e}(),_x=function(e){ma(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&JCe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&KI(n.next,a),error:n.error&&KI(n.error,a),complete:n.complete&&KI(n.complete,a)}):s=n}return i.destination=new Jtt(s),i}return t}(g8);function S2(e){e2e(e)}function ent(e){throw e}var tnt={closed:!0,next:Gf,error:ent,complete:Gf},v8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function gd(e){return e}function nnt(e){return e.length===0?gd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var mt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=ont(t)?t:new _x(t,n,r);return fS(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=nG(n),new n(function(o,i){var s=new _x({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[v8]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nnt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=nG(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function nG(e){var t;return(t=e??JCe.Promise)!==null&&t!==void 0?t:Promise}function rnt(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function ont(e){return e&&e instanceof g8||rnt(e)&&QCe(e)}function t2e(e){return Ft(e==null?void 0:e.lift)}function pn(e){return function(t){if(t2e(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(e,t,n,r,o){return new n2e(e,t,n,r,o)}var n2e=function(e){ma(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(g8);function wl(){return pn(function(e,t){var n=null;e._refCount++;var r=Ut(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var int=function(e){ma(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,t2e(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new tm;var o=this.getSubject();r.add(this.source.subscribe(Ut(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=tm.EMPTY)}return r},t.prototype.refCount=function(){return wl()(this)},t}(mt),snt=m8(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_r=function(e){ma(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new rG(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new snt},t.prototype.next=function(n){var r=this;fS(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Wp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;fS(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;fS(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?XCe:(this.currentObservers=null,a.push(n),new tm(function(){r.currentObservers=null,a5(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new mt;return n.source=this,n},t.create=function(n,r){return new rG(n,r)},t}(mt),rG=function(e){ma(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:XCe},t}(_r),mT=function(e){ma(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(_r),y8={now:function(){return(y8.delegate||Date).now()},delegate:void 0},r2e=function(e){ma(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=y8);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(_r),ant=function(e){ma(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(tm),l5={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=l5.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,ai([e,t],Ua(n))):setInterval.apply(void 0,ai([e,t],Ua(n)))},clearInterval:function(e){var t=l5.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},o2e=function(e){ma(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),l5.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&l5.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a5(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ant),lnt=1,ZI,H$={};function oG(e){return e in H$?(delete H$[e],!0):!1}var i2e={setImmediate:function(e){var t=lnt++;return H$[t]=!0,ZI||(ZI=Promise.resolve()),ZI.then(function(){return oG(t)&&e()}),t},clearImmediate:function(e){oG(e)}},cnt=i2e.setImmediate,unt=i2e.clearImmediate,c5={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c5.delegate;return((n==null?void 0:n.setImmediate)||cnt).apply(void 0,ai([],Ua(e)))},clearImmediate:function(e){var t=c5.delegate;return((t==null?void 0:t.clearImmediate)||unt)(e)},delegate:void 0},dnt=function(e){ma(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=c5.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(c5.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(o2e),iG=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=y8.now,e}(),s2e=function(e){ma(t,e);function t(n,r){r===void 0&&(r=iG.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(iG),fnt=function(e){ma(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(s2e),hnt=new fnt(dnt),$l=new s2e(o2e),pnt=$l,Zn=new mt(function(e){return e.complete()});function mnt(e){return e?gnt(e):Zn}function gnt(e){return new mt(function(t){return e.schedule(function(){return t.complete()})})}function a2e(e){return e&&Ft(e.schedule)}function b8(e){return e[e.length-1]}function x8(e){return Ft(b8(e))?e.pop():void 0}function Yw(e){return a2e(b8(e))?e.pop():void 0}function vnt(e,t){return typeof b8(e)=="number"?e.pop():t}var w8=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function l2e(e){return Ft(e==null?void 0:e.then)}function c2e(e){return Ft(e[v8])}function u2e(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function d2e(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ynt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var f2e=ynt();function h2e(e){return Ft(e==null?void 0:e[f2e])}function p2e(e){return s6e(this,arguments,function(){var n,r,o,i;return I0e(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,lv(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,lv(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,lv(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function m2e(e){return Ft(e==null?void 0:e.getReader)}function Sn(e){if(e instanceof mt)return e;if(e!=null){if(c2e(e))return bnt(e);if(w8(e))return xnt(e);if(l2e(e))return wnt(e);if(u2e(e))return g2e(e);if(h2e(e))return Cnt(e);if(m2e(e))return _nt(e)}throw d2e(e)}function bnt(e){return new mt(function(t){var n=e[v8]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xnt(e){return new mt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function wnt(e){return new mt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,e2e)})}function Cnt(e){return new mt(function(t){var n,r;try{for(var o=Wp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function g2e(e){return new mt(function(t){Snt(e,t).catch(function(n){return t.error(n)})})}function _nt(e){return g2e(p2e(e))}function Snt(e,t){var n,r,o,i;return i6e(this,void 0,void 0,function(){var s,a;return I0e(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=a6e(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ru(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function v2e(e,t){return t===void 0&&(t=0),pn(function(n,r){n.subscribe(Ut(r,function(o){return Ru(r,e,function(){return r.next(o)},t)},function(){return Ru(r,e,function(){return r.complete()},t)},function(o){return Ru(r,e,function(){return r.error(o)},t)}))})}function y2e(e,t){return t===void 0&&(t=0),pn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function knt(e,t){return Sn(e).pipe(y2e(t),v2e(t))}function Ent(e,t){return Sn(e).pipe(y2e(t),v2e(t))}function jnt(e,t){return new mt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Tnt(e,t){return new mt(function(n){var r;return Ru(n,t,function(){r=e[f2e](),Ru(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function b2e(e,t){if(!e)throw new Error("Iterable cannot be null");return new mt(function(n){Ru(n,t,function(){var r=e[Symbol.asyncIterator]();Ru(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Ant(e,t){return b2e(p2e(e),t)}function x2e(e,t){if(e!=null){if(c2e(e))return knt(e,t);if(w8(e))return jnt(e,t);if(l2e(e))return Ent(e,t);if(u2e(e))return b2e(e,t);if(h2e(e))return Tnt(e,t);if(m2e(e))return Ant(e,t)}throw d2e(e)}function kr(e,t){return t?x2e(e,t):Sn(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Yw(e);return kr(e,n)}function Zu(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new mt(t?function(o){return t.schedule(r,0,o)}:r)}function Dnt(e){return!!e&&(e instanceof mt||Ft(e.lift)&&Ft(e.subscribe))}var gT=m8(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function _o(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new gT)}})})}function Int(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return pn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){r.next(e.call(t,i,o++))}))})}var Ont=Array.isArray;function Pnt(e,t){return Ont(t)?e.apply(void 0,ai([],Ua(t))):e(t)}function C8(e){return ce(function(t){return Pnt(e,t)})}var Rnt=Array.isArray,$nt=Object.getPrototypeOf,Mnt=Object.prototype,Fnt=Object.keys;function w2e(e){if(e.length===1){var t=e[0];if(Rnt(t))return{args:t,keys:null};if(Lnt(t)){var n=Fnt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Lnt(e){return e&&typeof e=="object"&&$nt(e)===Mnt}function C2e(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Wo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Yw(e),r=x8(e),o=w2e(e),i=o.args,s=o.keys;if(i.length===0)return kr([],n);var a=new mt(Bnt(i,n,s?function(c){return C2e(s,c)}:gd));return r?a.pipe(C8(r)):a}function Bnt(e,t,n){return n===void 0&&(n=gd),function(r){sG(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){sG(t,function(){var f=kr(e[d],t),p=!1;f.subscribe(Ut(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function sG(e,t,n){e?Ru(n,e,t):t()}function Nnt(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(v){return u<r?g(v):c.push(v)},g=function(v){i&&t.next(v),u++;var b=!1;Sn(n(v,d++)).subscribe(Ut(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var y=c.shift();s?Ru(t,s,function(){return g(y)}):g(y)};c.length&&u<r;)x();p()}catch(y){t.error(y)}}))};return e.subscribe(Ut(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ft(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ft(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(Sn(e(r,o)))},n):(typeof t=="number"&&(n=t),pn(function(r,o){return Nnt(r,o,e,n)}))}function vT(e){return e===void 0&&(e=1/0),ft(gd,e)}function znt(){return vT(1)}function Ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return znt()(kr(e,Yw(e)))}function po(e){return new mt(function(t){Sn(e()).subscribe(t)})}function Vnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=x8(e),r=w2e(e),o=r.args,i=r.keys,s=new mt(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(g){var v=!1;Sn(o[g]).subscribe(Ut(a,function(b){v||(v=!0,f--),u[g]=b},function(){return d--},void 0,function(){(!d||!v)&&(f||a.next(i?C2e(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(C8(n)):s}var Hnt=["addListener","removeListener"],Unt=["addEventListener","removeEventListener"],Wnt=["on","off"];function Bi(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Bi(e,t,n).pipe(C8(r));var o=Ua(Gnt(e)?Unt.map(function(a){return function(c){return e[a](t,c,n)}}):Ynt(e)?Hnt.map(aG(e,t)):qnt(e)?Wnt.map(aG(e,t)):[],2),i=o[0],s=o[1];if(!i&&w8(e))return ft(function(a){return Bi(a,t,n)})(Sn(e));if(!i)throw new TypeError("Invalid event target");return new mt(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function aG(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ynt(e){return Ft(e.addListener)&&Ft(e.removeListener)}function qnt(e){return Ft(e.on)&&Ft(e.off)}function Gnt(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function Knt(e,t,n){return po(function(){return e()?t:n})}function Yo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=pnt);var r=-1;return t!=null&&(a2e(t)?n=t:r=t),new mt(function(o){var i=Int(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Yw(e),r=vnt(e,1/0),o=e;return o.length?o.length===1?Sn(o[0]):vT(r)(kr(o,n)):Zn}var _8=new mt(Gf),Znt=Array.isArray;function Xnt(e){return e.length===1&&Znt(e[0])?e[0]:e}function Qnt(e,t){return function(n,r){return!e.call(t,n,r)}}function pt(e,t){return pn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function S8(e,t,n){return[pt(t,n)(Sn(e)),pt(Qnt(t,n))(Sn(e))]}function Jnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Xnt(e),e.length===1?Sn(e[0]):new mt(ert(e))}function ert(e){return function(t){for(var n=[],r=function(i){n.push(Sn(e[i]).subscribe(Ut(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function trt(e,t){return new mt(function(n){var r=e(),o=t(r),i=o?Sn(o):Zn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function nrt(e){return pn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Ut(n,function(u){r=!0,o=u,i||Sn(e(u)).subscribe(i=Ut(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function rrt(e,t){return t===void 0&&(t=$l),nrt(function(){return Yo(e,t)})}function Pn(e){return pn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Ut(n,void 0,void 0,function(s){i=Sn(e(s,Pn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function _2e(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Ut(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function S2e(e,t){return pn(_2e(e,t,arguments.length>=2,!1,!0))}var ort=function(e,t){return e.push(t),e};function k2e(){return pn(function(e,t){S2e(ort,[])(e).subscribe(t)})}function U$(e,t){return Ft(t)?ft(e,t,1):ft(e,1)}function irt(e){return new mt(function(t){return e.subscribe(t)})}var srt={connector:function(){return new _r}};function art(e,t){t===void 0&&(t=srt);var n=t.connector;return pn(function(r,o){var i=n();Sn(e(irt(i))).subscribe(o),o.add(r.subscribe(i))})}function k8(e){return pn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Ut(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Ut(n,s,Gf),Sn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function E8(e,t){return t===void 0&&(t=$l),pn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Ut(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function E2e(e){return pn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Pi(e){return e<=0?function(){return Zn}:pn(function(t,n){var r=0;t.subscribe(Ut(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function lrt(){return pn(function(e,t){e.subscribe(Ut(t,Gf))})}function yT(e){return ce(function(){return e})}function j2e(e,t){return t?function(n){return Ur(t.pipe(Pi(1),lrt()),n.pipe(j2e(e)))}:ft(function(n,r){return Sn(e(n,r)).pipe(Pi(1),yT(n))})}function T2e(e,t){t===void 0&&(t=$l);var n=Yo(e,t);return j2e(function(){return n})}function crt(e,t){return pn(function(n,r){var o=new Set;n.subscribe(Ut(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&Sn(t).subscribe(Ut(r,function(){return o.clear()},Gf))})}function Xn(e,t){return t===void 0&&(t=gd),e=e??urt,pn(function(n,r){var o,i=!0;n.subscribe(Ut(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function urt(e,t){return e===t}function A2e(e){return e===void 0&&(e=drt),pn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function drt(){return new gT}function D2e(e,t){return t?function(n){return n.pipe(D2e(function(r,o){return Sn(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:pn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Ut(r,function(a){i||(i=Ut(r,void 0,function(){i=null,s&&r.complete()}),Sn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function I2e(e){return pn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function O2e(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):gd,Pi(1),n?E2e(t):A2e(function(){return new gT}))}}function P2e(e,t,n,r){return pn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(g){a.forEach(g),g(i)},u=function(g){return c(function(v){return v.error(g)})},d=0,f=!1,p=new n2e(i,function(g){try{var v=e(g),b=a.get(v);if(!b){a.set(v,b=r?r():new _r);var x=m(v,b);if(i.next(x),n){var y=Ut(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(v)});p.add(Sn(n(x)).subscribe(y))}}b.next(s?s(g):g)}catch(w){u(w)}},function(){return c(function(g){return g.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(g,v){var b=new mt(function(x){d++;var y=v.subscribe(x);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return b.key=g,b}})}function frt(e){return e<=0?function(){return Zn}:pn(function(t,n){var r=[];t.subscribe(Ut(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Wp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function hrt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):gd,frt(1),n?E2e(t):A2e(function(){return new gT}))}}var prt=ft;function nm(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ft(function(){return e},t,n):(typeof t=="number"&&(n=t),ft(function(){return e},n))}function mrt(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?art(t,{connector:n}):function(r){return new int(r,n)}}function Cl(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return mrt(new r2e(e,t,r),o)(i)}}function da(e,t){return pn(_2e(e,t,arguments.length>=2,!0))}function fa(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new _r}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,g=!1,v=!1,b=function(){f==null||f.unsubscribe(),f=void 0},x=function(){b(),d=p=void 0,g=v=!1},y=function(){var w=d;x(),w==null||w.unsubscribe()};return pn(function(w,C){m++,!v&&!g&&b();var _=p=p??n();C.add(function(){m--,m===0&&!v&&!g&&(f=XI(y,c))}),_.subscribe(C),!d&&m>0&&(d=new _x({next:function(S){return _.next(S)},error:function(S){v=!0,b(),f=XI(x,o,S),_.error(S)},complete:function(){g=!0,b(),f=XI(x,s),_.complete()}}),Sn(w).subscribe(d))})(u)}}function XI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new _x({next:function(){o.unsubscribe(),e()}});return Sn(t.apply(void 0,ai([],Ua(n)))).subscribe(o)}}function Do(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,fa({connector:function(){return new r2e(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function R2e(e){return pt(function(t,n){return e<=n})}function ci(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Yw(e);return pn(function(r,o){(n?Ur(e,r,n):Ur(e,r)).subscribe(o)})}function it(e,t){return pn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Ut(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;Sn(e(c,d)).subscribe(o=Ut(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function grt(e,t){return Ft(t)?it(function(){return e},t):it(function(){return e})}function j8(e){return pn(function(t,n){Sn(e).subscribe(Ut(n,function(){return n.complete()},Gf)),!n.closed&&t.subscribe(n)})}function wn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?pn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Ut(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gd}function $2e(e,t){return pn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(b(),p&&r.complete())},g=function(){f=null,p&&r.complete()},v=function(x){return f=Sn(e(x)).subscribe(Ut(r,m,g))},b=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&v(x)}};n.subscribe(Ut(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?b():v(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function Sx(e,t,n){t===void 0&&(t=$l);var r=Yo(e,t);return $2e(function(){return r},n)}function wb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=x8(e);return pn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){Sn(e[f]).subscribe(Ut(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(gd))&&(a=null))},Gf))},d=0;d<i;d++)u(d);r.subscribe(Ut(o,function(f){if(c){var p=ai([f],Ua(s));o.next(n?n.apply(void 0,ai([],Ua(p))):p)}}))})}function vrt(e,t){var n=h.useCallback(function(){var s=new mT(e),a=s.asObservable().pipe(Xn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var M2e={exports:{}},F2e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=h;function yrt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var brt=typeof Object.is=="function"?Object.is:yrt,xrt=a0.useState,wrt=a0.useEffect,Crt=a0.useLayoutEffect,_rt=a0.useDebugValue;function Srt(e,t){var n=t(),r=xrt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Crt(function(){o.value=n,o.getSnapshot=t,QI(o)&&i({inst:o})},[e,n,t]),wrt(function(){return QI(o)&&i({inst:o}),e(function(){QI(o)&&i({inst:o})})},[e]),_rt(n),n}function QI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!brt(e,n)}catch{return!0}}function krt(e,t){return t()}var Ert=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?krt:Srt;F2e.useSyncExternalStore=a0.useSyncExternalStore!==void 0?a0.useSyncExternalStore:Ert;M2e.exports=F2e;var jrt=M2e.exports;function W$(e){return typeof e=="function"?e():e}var JI=new WeakMap;function lG(e,t){if(!JI.has(e)){var n={currentValue:t};n.observable=e.pipe(Do({refCount:!0,bufferSize:1}),wn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),JI.set(e,n)}return JI.get(e)}function Trt(e,t){var n=h.useMemo(function(){var s=lG(e,W$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=lG(e,W$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),jrt.useSyncExternalStore(o,r)}function yo(e,t,n){return Trt(h.useMemo(function(){return W$(e)},t),n)}var Art=function(e){return e};function L2e(e){e===void 0&&(e=Art);var t=new _r;return[t.pipe(e),function(n){return t.next(n)}]}var Drt=[];function bT(e,t){t===void 0&&(t=Drt);var n=h.useRef();n.current||(n.current=L2e());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Irt(){this.__data__=[],this.size=0}var Ort=Irt;function Prt(e,t){return e===t||e!==e&&t!==t}var xT=Prt,Rrt=xT;function $rt(e,t){for(var n=e.length;n--;)if(Rrt(e[n][0],t))return n;return-1}var wT=$rt,Mrt=wT,Frt=Array.prototype,Lrt=Frt.splice;function Brt(e){var t=this.__data__,n=Mrt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Lrt.call(t,n,1),--this.size,!0}var Nrt=Brt,zrt=wT;function Vrt(e){var t=this.__data__,n=zrt(t,e);return n<0?void 0:t[n][1]}var Hrt=Vrt,Urt=wT;function Wrt(e){return Urt(this.__data__,e)>-1}var Yrt=Wrt,qrt=wT;function Grt(e,t){var n=this.__data__,r=qrt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Krt=Grt,Zrt=Ort,Xrt=Nrt,Qrt=Hrt,Jrt=Yrt,eot=Krt;function H0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H0.prototype.clear=Zrt;H0.prototype.delete=Xrt;H0.prototype.get=Qrt;H0.prototype.has=Jrt;H0.prototype.set=eot;var CT=H0,tot=CT;function not(){this.__data__=new tot,this.size=0}var rot=not;function oot(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var iot=oot;function sot(e){return this.__data__.get(e)}var aot=sot;function lot(e){return this.__data__.has(e)}var cot=lot,uot=nh,dot=Ja,fot="[object AsyncFunction]",hot="[object Function]",pot="[object GeneratorFunction]",mot="[object Proxy]";function got(e){if(!dot(e))return!1;var t=uot(e);return t==hot||t==pot||t==fot||t==mot}var B2e=got,vot=Ul,yot=vot["__core-js_shared__"],bot=yot,e3=bot,cG=function(){var e=/[^.]+$/.exec(e3&&e3.keys&&e3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xot(e){return!!cG&&cG in e}var wot=xot,Cot=Function.prototype,_ot=Cot.toString;function Sot(e){if(e!=null){try{return _ot.call(e)}catch{}try{return e+""}catch{}}return""}var N2e=Sot,kot=B2e,Eot=wot,jot=Ja,Tot=N2e,Aot=/[\\^$.*+?()[\]{}|]/g,Dot=/^\[object .+?Constructor\]$/,Iot=Function.prototype,Oot=Object.prototype,Pot=Iot.toString,Rot=Oot.hasOwnProperty,$ot=RegExp("^"+Pot.call(Rot).replace(Aot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mot(e){if(!jot(e)||Eot(e))return!1;var t=kot(e)?$ot:Dot;return t.test(Tot(e))}var Fot=Mot;function Lot(e,t){return e==null?void 0:e[t]}var Bot=Lot,Not=Fot,zot=Bot;function Vot(e,t){var n=zot(e,t);return Not(n)?n:void 0}var Im=Vot,Hot=Im,Uot=Ul,Wot=Hot(Uot,"Map"),T8=Wot,Yot=Im,qot=Yot(Object,"create"),_T=qot,uG=_T;function Got(){this.__data__=uG?uG(null):{},this.size=0}var Kot=Got;function Zot(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xot=Zot,Qot=_T,Jot="__lodash_hash_undefined__",eit=Object.prototype,tit=eit.hasOwnProperty;function nit(e){var t=this.__data__;if(Qot){var n=t[e];return n===Jot?void 0:n}return tit.call(t,e)?t[e]:void 0}var rit=nit,oit=_T,iit=Object.prototype,sit=iit.hasOwnProperty;function ait(e){var t=this.__data__;return oit?t[e]!==void 0:sit.call(t,e)}var lit=ait,cit=_T,uit="__lodash_hash_undefined__";function dit(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cit&&t===void 0?uit:t,this}var fit=dit,hit=Kot,pit=Xot,mit=rit,git=lit,vit=fit;function U0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}U0.prototype.clear=hit;U0.prototype.delete=pit;U0.prototype.get=mit;U0.prototype.has=git;U0.prototype.set=vit;var yit=U0,dG=yit,bit=CT,xit=T8;function wit(){this.size=0,this.__data__={hash:new dG,map:new(xit||bit),string:new dG}}var Cit=wit;function _it(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Sit=_it,kit=Sit;function Eit(e,t){var n=e.__data__;return kit(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ST=Eit,jit=ST;function Tit(e){var t=jit(this,e).delete(e);return this.size-=t?1:0,t}var Ait=Tit,Dit=ST;function Iit(e){return Dit(this,e).get(e)}var Oit=Iit,Pit=ST;function Rit(e){return Pit(this,e).has(e)}var $it=Rit,Mit=ST;function Fit(e,t){var n=Mit(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Lit=Fit,Bit=Cit,Nit=Ait,zit=Oit,Vit=$it,Hit=Lit;function W0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W0.prototype.clear=Bit;W0.prototype.delete=Nit;W0.prototype.get=zit;W0.prototype.has=Vit;W0.prototype.set=Hit;var A8=W0,Uit=CT,Wit=T8,Yit=A8,qit=200;function Git(e,t){var n=this.__data__;if(n instanceof Uit){var r=n.__data__;if(!Wit||r.length<qit-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yit(r)}return n.set(e,t),this.size=n.size,this}var Kit=Git,Zit=CT,Xit=rot,Qit=iot,Jit=aot,est=cot,tst=Kit;function Y0(e){var t=this.__data__=new Zit(e);this.size=t.size}Y0.prototype.clear=Xit;Y0.prototype.delete=Qit;Y0.prototype.get=Jit;Y0.prototype.has=est;Y0.prototype.set=tst;var D8=Y0,nst="__lodash_hash_undefined__";function rst(e){return this.__data__.set(e,nst),this}var ost=rst;function ist(e){return this.__data__.has(e)}var sst=ist,ast=A8,lst=ost,cst=sst;function u5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ast;++t<n;)this.add(e[t])}u5.prototype.add=u5.prototype.push=lst;u5.prototype.has=cst;var kT=u5;function ust(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var dst=ust;function fst(e,t){return e.has(t)}var ET=fst,hst=kT,pst=dst,mst=ET,gst=1,vst=2;function yst(e,t,n,r,o,i){var s=n&gst,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&vst?new hst:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var g=e[f],v=t[f];if(r)var b=s?r(v,g,f,t,e,i):r(g,v,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!pst(t,function(x,y){if(!mst(m,y)&&(g===x||o(g,x,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(g===v||o(g,v,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var z2e=yst,bst=Ul,xst=bst.Uint8Array,V2e=xst;function wst(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var Cst=wst;function _st(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var I8=_st,fG=T0,hG=V2e,Sst=xT,kst=z2e,Est=Cst,jst=I8,Tst=1,Ast=2,Dst="[object Boolean]",Ist="[object Date]",Ost="[object Error]",Pst="[object Map]",Rst="[object Number]",$st="[object RegExp]",Mst="[object Set]",Fst="[object String]",Lst="[object Symbol]",Bst="[object ArrayBuffer]",Nst="[object DataView]",pG=fG?fG.prototype:void 0,t3=pG?pG.valueOf:void 0;function zst(e,t,n,r,o,i,s){switch(n){case Nst:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Bst:return!(e.byteLength!=t.byteLength||!i(new hG(e),new hG(t)));case Dst:case Ist:case Rst:return Sst(+e,+t);case Ost:return e.name==t.name&&e.message==t.message;case $st:case Fst:return e==t+"";case Pst:var a=Est;case Mst:var c=r&Tst;if(a||(a=jst),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=Ast,s.set(e,t);var d=kst(a(e),a(t),r,o,i,s);return s.delete(e),d;case Lst:if(t3)return t3.call(e)==t3.call(t)}return!1}var Vst=zst;function Hst(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var O8=Hst,Ust=Array.isArray,Jr=Ust,Wst=O8,Yst=Jr;function qst(e,t,n){var r=t(e);return Yst(e)?r:Wst(r,n(e))}var H2e=qst;function Gst(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var U2e=Gst;function Kst(){return[]}var W2e=Kst,Zst=U2e,Xst=W2e,Qst=Object.prototype,Jst=Qst.propertyIsEnumerable,mG=Object.getOwnPropertySymbols,eat=mG?function(e){return e==null?[]:(e=Object(e),Zst(mG(e),function(t){return Jst.call(e,t)}))}:Xst,P8=eat;function tat(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var nat=tat,rat=nh,oat=el,iat="[object Arguments]";function sat(e){return oat(e)&&rat(e)==iat}var aat=sat,gG=aat,lat=el,Y2e=Object.prototype,cat=Y2e.hasOwnProperty,uat=Y2e.propertyIsEnumerable,dat=gG(function(){return arguments}())?gG:function(e){return lat(e)&&cat.call(e,"callee")&&!uat.call(e,"callee")},jT=dat,d5={exports:{}};function fat(){return!1}var hat=fat;d5.exports;(function(e,t){var n=Ul,r=hat,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(d5,d5.exports);var TT=d5.exports,pat=9007199254740991,mat=/^(?:0|[1-9]\d*)$/;function gat(e,t){var n=typeof e;return t=t??pat,!!t&&(n=="number"||n!="symbol"&&mat.test(e))&&e>-1&&e%1==0&&e<t}var AT=gat,vat=9007199254740991;function yat(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vat}var R8=yat,bat=nh,xat=R8,wat=el,Cat="[object Arguments]",_at="[object Array]",Sat="[object Boolean]",kat="[object Date]",Eat="[object Error]",jat="[object Function]",Tat="[object Map]",Aat="[object Number]",Dat="[object Object]",Iat="[object RegExp]",Oat="[object Set]",Pat="[object String]",Rat="[object WeakMap]",$at="[object ArrayBuffer]",Mat="[object DataView]",Fat="[object Float32Array]",Lat="[object Float64Array]",Bat="[object Int8Array]",Nat="[object Int16Array]",zat="[object Int32Array]",Vat="[object Uint8Array]",Hat="[object Uint8ClampedArray]",Uat="[object Uint16Array]",Wat="[object Uint32Array]",or={};or[Fat]=or[Lat]=or[Bat]=or[Nat]=or[zat]=or[Vat]=or[Hat]=or[Uat]=or[Wat]=!0;or[Cat]=or[_at]=or[$at]=or[Sat]=or[Mat]=or[kat]=or[Eat]=or[jat]=or[Tat]=or[Aat]=or[Dat]=or[Iat]=or[Oat]=or[Pat]=or[Rat]=!1;function Yat(e){return wat(e)&&xat(e.length)&&!!or[bat(e)]}var qat=Yat;function Gat(e){return function(t){return e(t)}}var q0=Gat,f5={exports:{}};f5.exports;(function(e,t){var n=S0e,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(f5,f5.exports);var $8=f5.exports,Kat=qat,Zat=q0,vG=$8,yG=vG&&vG.isTypedArray,Xat=yG?Zat(yG):Kat,M8=Xat,Qat=nat,Jat=jT,elt=Jr,tlt=TT,nlt=AT,rlt=M8,olt=Object.prototype,ilt=olt.hasOwnProperty;function slt(e,t){var n=elt(e),r=!n&&Jat(e),o=!n&&!r&&tlt(e),i=!n&&!r&&!o&&rlt(e),s=n||r||o||i,a=s?Qat(e.length,String):[],c=a.length;for(var u in e)(t||ilt.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nlt(u,c)))&&a.push(u);return a}var q2e=slt,alt=Object.prototype;function llt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||alt;return e===n}var DT=llt;function clt(e,t){return function(n){return e(t(n))}}var G2e=clt,ult=G2e,dlt=ult(Object.keys,Object),flt=dlt,hlt=DT,plt=flt,mlt=Object.prototype,glt=mlt.hasOwnProperty;function vlt(e){if(!hlt(e))return plt(e);var t=[];for(var n in Object(e))glt.call(e,n)&&n!="constructor"&&t.push(n);return t}var K2e=vlt,ylt=B2e,blt=R8;function xlt(e){return e!=null&&blt(e.length)&&!ylt(e)}var uh=xlt,wlt=q2e,Clt=K2e,_lt=uh;function Slt(e){return _lt(e)?wlt(e):Clt(e)}var dh=Slt,klt=H2e,Elt=P8,jlt=dh;function Tlt(e){return klt(e,jlt,Elt)}var Z2e=Tlt,bG=Z2e,Alt=1,Dlt=Object.prototype,Ilt=Dlt.hasOwnProperty;function Olt(e,t,n,r,o,i){var s=n&Alt,a=bG(e),c=a.length,u=bG(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:Ilt.call(t,p)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var b=s;++f<c;){p=a[f];var x=e[p],y=t[p];if(r)var w=s?r(y,x,p,t,e,i):r(x,y,p,e,t,i);if(!(w===void 0?x===y||o(x,y,n,r,i):w)){v=!1;break}b||(b=p=="constructor")}if(v&&!b){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return i.delete(e),i.delete(t),v}var Plt=Olt,Rlt=Im,$lt=Ul,Mlt=Rlt($lt,"DataView"),Flt=Mlt,Llt=Im,Blt=Ul,Nlt=Llt(Blt,"Promise"),zlt=Nlt,Vlt=Im,Hlt=Ul,Ult=Vlt(Hlt,"Set"),X2e=Ult,Wlt=Im,Ylt=Ul,qlt=Wlt(Ylt,"WeakMap"),Q2e=qlt,Y$=Flt,q$=T8,G$=zlt,K$=X2e,Z$=Q2e,J2e=nh,G0=N2e,xG="[object Map]",Glt="[object Object]",wG="[object Promise]",CG="[object Set]",_G="[object WeakMap]",SG="[object DataView]",Klt=G0(Y$),Zlt=G0(q$),Xlt=G0(G$),Qlt=G0(K$),Jlt=G0(Z$),Yh=J2e;(Y$&&Yh(new Y$(new ArrayBuffer(1)))!=SG||q$&&Yh(new q$)!=xG||G$&&Yh(G$.resolve())!=wG||K$&&Yh(new K$)!=CG||Z$&&Yh(new Z$)!=_G)&&(Yh=function(e){var t=J2e(e),n=t==Glt?e.constructor:void 0,r=n?G0(n):"";if(r)switch(r){case Klt:return SG;case Zlt:return xG;case Xlt:return wG;case Qlt:return CG;case Jlt:return _G}return t});var qw=Yh,n3=D8,ect=z2e,tct=Vst,nct=Plt,kG=qw,EG=Jr,jG=TT,rct=M8,oct=1,TG="[object Arguments]",AG="[object Array]",k2="[object Object]",ict=Object.prototype,DG=ict.hasOwnProperty;function sct(e,t,n,r,o,i){var s=EG(e),a=EG(t),c=s?AG:kG(e),u=a?AG:kG(t);c=c==TG?k2:c,u=u==TG?k2:u;var d=c==k2,f=u==k2,p=c==u;if(p&&jG(e)){if(!jG(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new n3),s||rct(e)?ect(e,t,n,r,o,i):tct(e,t,c,n,r,o,i);if(!(n&oct)){var m=d&&DG.call(e,"__wrapped__"),g=f&&DG.call(t,"__wrapped__");if(m||g){var v=m?e.value():e,b=g?t.value():t;return i||(i=new n3),o(v,b,n,r,i)}}return p?(i||(i=new n3),nct(e,t,n,r,o,i)):!1}var act=sct,lct=act,IG=el;function e_e(e,t,n,r,o){return e===t?!0:e==null||t==null||!IG(e)&&!IG(t)?e!==e&&t!==t:lct(e,t,n,r,e_e,o)}var F8=e_e,cct=F8;function uct(e,t){return cct(e,t)}var dct=uct;const Ht=Ae(dct);var $p=[],fct=function(){return $p.some(function(e){return e.activeTargets.length>0})},hct=function(){return $p.some(function(e){return e.skippedTargets.length>0})},OG="ResizeObserver loop completed with undelivered notifications.",pct=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:OG}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=OG),window.dispatchEvent(e)},kx;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(kx||(kx={}));var Mp=function(e){return Object.freeze(e)},mct=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Mp(this)}return e}(),t_e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Mp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),L8=function(e){return e instanceof SVGElement&&"getBBox"in e},n_e=function(e){if(L8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},PG=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},gct=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Cb=typeof window<"u"?window:{},E2=new WeakMap,RG=/auto|scroll/,vct=/^tb|vertical/,yct=/msie|trident/i.test(Cb.navigator&&Cb.navigator.userAgent),rc=function(e){return parseFloat(e||"0")},vv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new mct((n?t:e)||0,(n?e:t)||0)},$G=Mp({devicePixelContentBoxSize:vv(),borderBoxSize:vv(),contentBoxSize:vv(),contentRect:new t_e(0,0,0,0)}),r_e=function(e,t){if(t===void 0&&(t=!1),E2.has(e)&&!t)return E2.get(e);if(n_e(e))return E2.set(e,$G),$G;var n=getComputedStyle(e),r=L8(e)&&e.ownerSVGElement&&e.getBBox(),o=!yct&&n.boxSizing==="border-box",i=vct.test(n.writingMode||""),s=!r&&RG.test(n.overflowY||""),a=!r&&RG.test(n.overflowX||""),c=r?0:rc(n.paddingTop),u=r?0:rc(n.paddingRight),d=r?0:rc(n.paddingBottom),f=r?0:rc(n.paddingLeft),p=r?0:rc(n.borderTopWidth),m=r?0:rc(n.borderRightWidth),g=r?0:rc(n.borderBottomWidth),v=r?0:rc(n.borderLeftWidth),b=f+u,x=c+d,y=v+m,w=p+g,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,k=o?x+w:0,j=r?r.width:rc(n.width)-S-_,E=r?r.height:rc(n.height)-k-C,T=j+b+_+y,A=E+x+C+w,D=Mp({devicePixelContentBoxSize:vv(Math.round(j*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:vv(T,A,i),contentBoxSize:vv(j,E,i),contentRect:new t_e(f,c,j,E)});return E2.set(e,D),D},o_e=function(e,t,n){var r=r_e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case kx.DEVICE_PIXEL_CONTENT_BOX:return s;case kx.BORDER_BOX:return o;default:return i}},bct=function(){function e(t){var n=r_e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Mp([n.borderBoxSize]),this.contentBoxSize=Mp([n.contentBoxSize]),this.devicePixelContentBoxSize=Mp([n.devicePixelContentBoxSize])}return e}(),i_e=function(e){if(n_e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},xct=function(){var e=1/0,t=[];$p.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new bct(u.target),f=i_e(u.target);a.push(d),u.lastReportedSize=o_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},MG=function(e){$p.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(i_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},wct=function(){var e=0;for(MG(e);fct();)e=xct(),MG(e);return hct()&&pct(),e>0},r3,s_e=[],Cct=function(){return s_e.splice(0).forEach(function(e){return e()})},_ct=function(e){if(!r3){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Cct()}).observe(n,r),r3=function(){n.textContent="".concat(t?t--:t++)}}s_e.push(e),r3()},Sct=function(e){_ct(function(){requestAnimationFrame(e)})},hS=0,kct=function(){return!!hS},Ect=250,jct={attributes:!0,characterData:!0,childList:!0,subtree:!0},FG=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],LG=function(e){return e===void 0&&(e=0),Date.now()+e},o3=!1,Tct=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Ect),!o3){o3=!0;var r=LG(t);Sct(function(){var o=!1;try{o=wct()}finally{if(o3=!1,t=r-LG(),!kct())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,jct)};document.body?n():Cb.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),FG.forEach(function(n){return Cb.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),FG.forEach(function(n){return Cb.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),X$=new Tct,BG=function(e){!hS&&e>0&&X$.start(),hS+=e,!hS&&X$.stop()},Act=function(e){return!L8(e)&&!gct(e)&&getComputedStyle(e).display==="inline"},Dct=function(){function e(t,n){this.target=t,this.observedBox=n||kx.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=o_e(this.target,this.observedBox,!0);return Act(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Ict=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),j2=new WeakMap,NG=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},T2=function(){function e(){}return e.connect=function(t,n){var r=new Ict(t,n);j2.set(t,r)},e.observe=function(t,n,r){var o=j2.get(t),i=o.observationTargets.length===0;NG(o.observationTargets,n)<0&&(i&&$p.push(o),o.observationTargets.push(new Dct(n,r&&r.box)),BG(1),X$.schedule())},e.unobserve=function(t,n){var r=j2.get(t),o=NG(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&$p.splice($p.indexOf(r),1),r.observationTargets.splice(o,1),BG(-1))},e.disconnect=function(t){var n=this,r=j2.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),a_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");T2.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!PG(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");T2.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!PG(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");T2.unobserve(this,t)},e.prototype.disconnect=function(){T2.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Oct=T0e,Pct=Ja,Rct="Expected a function";function $ct(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Rct);return Pct(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Oct(e,t,{leading:r,maxWait:t,trailing:o})}var Mct=$ct;const IT=Ae(Mct);var zG=T0,Fct=jT,Lct=Jr,VG=zG?zG.isConcatSpreadable:void 0;function Bct(e){return Lct(e)||Fct(e)||!!(VG&&e&&e[VG])}var Nct=Bct,zct=O8,Vct=Nct;function l_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Vct),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?l_e(a,t-1,n,r,o):zct(o,a):r||(o[o.length]=a)}return o}var K0=l_e;function Hct(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Yc=Hct,Uct=Jr,Wct=xm,Yct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qct=/^\w*$/;function Gct(e,t){if(Uct(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Wct(e)?!0:qct.test(e)||!Yct.test(e)||t!=null&&e in Object(t)}var B8=Gct,c_e=A8,Kct="Expected a function";function N8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kct);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(N8.Cache||c_e),n}N8.Cache=c_e;var u_e=N8;const OT=Ae(u_e);var Zct=u_e,Xct=500;function Qct(e){var t=Zct(e,function(r){return n.size===Xct&&n.clear(),r}),n=t.cache;return t}var Jct=Qct,eut=Jct,tut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nut=/\\(\\)?/g,rut=eut(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tut,function(n,r,o,i){t.push(o?i.replace(nut,"$1"):r||n)}),t}),d_e=rut,HG=T0,out=Yc,iut=Jr,sut=xm,aut=1/0,UG=HG?HG.prototype:void 0,WG=UG?UG.toString:void 0;function f_e(e){if(typeof e=="string")return e;if(iut(e))return out(e,f_e)+"";if(sut(e))return WG?WG.call(e):"";var t=e+"";return t=="0"&&1/e==-aut?"-0":t}var h_e=f_e,lut=h_e;function cut(e){return e==null?"":lut(e)}var qc=cut,uut=Jr,dut=B8,fut=d_e,hut=qc;function put(e,t){return uut(e)?e:dut(e,t)?[e]:fut(hut(e))}var Z0=put,mut=xm,gut=1/0;function vut(e){if(typeof e=="string"||mut(e))return e;var t=e+"";return t=="0"&&1/e==-gut?"-0":t}var Om=vut,yut=Z0,but=Om;function xut(e,t){t=yut(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[but(t[n++])];return n&&n==r?e:void 0}var Gw=xut,wut=D8,Cut=F8,_ut=1,Sut=2;function kut(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new wut;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?Cut(d,u,_ut|Sut,r,f):p))return!1}}return!0}var Eut=kut,jut=Ja;function Tut(e){return e===e&&!jut(e)}var p_e=Tut,Aut=p_e,Dut=dh;function Iut(e){for(var t=Dut(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Aut(o)]}return t}var Out=Iut;function Put(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var m_e=Put,Rut=Eut,$ut=Out,Mut=m_e;function Fut(e){var t=$ut(e);return t.length==1&&t[0][2]?Mut(t[0][0],t[0][1]):function(n){return n===e||Rut(n,e,t)}}var Lut=Fut,But=Gw;function Nut(e,t,n){var r=e==null?void 0:But(e,t);return r===void 0?n:r}var g_e=Nut;const Hn=Ae(g_e);function zut(e,t){return e!=null&&t in Object(e)}var Vut=zut,Hut=Z0,Uut=jT,Wut=Jr,Yut=AT,qut=R8,Gut=Om;function Kut(e,t,n){t=Hut(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Gut(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&qut(o)&&Yut(s,o)&&(Wut(e)||Uut(e)))}var Zut=Kut,Xut=Vut,Qut=Zut;function Jut(e,t){return e!=null&&Qut(e,t,Xut)}var v_e=Jut,edt=F8,tdt=g_e,ndt=v_e,rdt=B8,odt=p_e,idt=m_e,sdt=Om,adt=1,ldt=2;function cdt(e,t){return rdt(e)&&odt(t)?idt(sdt(e),t):function(n){var r=tdt(n,e);return r===void 0&&r===t?ndt(n,e):edt(t,r,adt|ldt)}}var udt=cdt;function ddt(e){return e}var Pm=ddt;const y_e=Ae(Pm);function fdt(e){return function(t){return t==null?void 0:t[e]}}var hdt=fdt,pdt=Gw;function mdt(e){return function(t){return pdt(t,e)}}var gdt=mdt,vdt=hdt,ydt=gdt,bdt=B8,xdt=Om;function wdt(e){return bdt(e)?vdt(xdt(e)):ydt(e)}var Cdt=wdt,_dt=Lut,Sdt=udt,kdt=Pm,Edt=Jr,jdt=Cdt;function Tdt(e){return typeof e=="function"?e:e==null?kdt:typeof e=="object"?Edt(e)?Sdt(e[0],e[1]):_dt(e):jdt(e)}var fh=Tdt;function Adt(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var Ddt=Adt,Idt=Ddt,Odt=Idt(),Pdt=Odt,Rdt=Pdt,$dt=dh;function Mdt(e,t){return e&&Rdt(e,t,$dt)}var Fdt=Mdt,Ldt=uh;function Bdt(e,t){return function(n,r){if(n==null)return n;if(!Ldt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var Ndt=Bdt,zdt=Fdt,Vdt=Ndt,Hdt=Vdt(zdt),b_e=Hdt,Udt=b_e,Wdt=uh;function Ydt(e,t){var n=-1,r=Wdt(e)?Array(e.length):[];return Udt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var x_e=Ydt;function qdt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Gdt=qdt,YG=xm;function Kdt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=YG(e),s=t!==void 0,a=t===null,c=t===t,u=YG(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Zdt=Kdt,Xdt=Zdt;function Qdt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Xdt(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Jdt=Qdt,i3=Yc,eft=Gw,tft=fh,nft=x_e,rft=Gdt,oft=q0,ift=Jdt,sft=Pm,aft=Jr;function lft(e,t,n){t.length?t=i3(t,function(i){return aft(i)?function(s){return eft(s,i.length===1?i[0]:i)}:i}):t=[sft];var r=-1;t=i3(t,oft(tft));var o=nft(e,function(i,s,a){var c=i3(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return rft(o,function(i,s){return ift(i,s,n)})}var w_e=lft;function cft(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var uft=cft,dft=uft,qG=Math.max;function fft(e,t,n){return t=qG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=qG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),dft(e,this,a)}}var C_e=fft;function hft(e){return function(){return e}}var pft=hft,mft=Im,gft=function(){try{var e=mft(Object,"defineProperty");return e({},"",{}),e}catch{}}(),__e=gft,vft=pft,GG=__e,yft=Pm,bft=GG?function(e,t){return GG(e,"toString",{configurable:!0,enumerable:!1,value:vft(t),writable:!0})}:yft,xft=bft,wft=800,Cft=16,_ft=Date.now;function Sft(e){var t=0,n=0;return function(){var r=_ft(),o=Cft-(r-n);if(n=r,o>0){if(++t>=wft)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var kft=Sft,Eft=xft,jft=kft,Tft=jft(Eft),S_e=Tft,Aft=Pm,Dft=C_e,Ift=S_e;function Oft(e,t){return Ift(Dft(e,t,Aft),e+"")}var X0=Oft,Pft=xT,Rft=uh,$ft=AT,Mft=Ja;function Fft(e,t,n){if(!Mft(n))return!1;var r=typeof t;return(r=="number"?Rft(n)&&$ft(t,n.length):r=="string"&&t in n)?Pft(n[t],e):!1}var z8=Fft,Lft=K0,Bft=w_e,Nft=X0,KG=z8,zft=Nft(function(e,t){if(e==null)return[];var n=t.length;return n>1&&KG(e,t[0],t[1])?t=[]:n>2&&KG(t[0],t[1],t[2])&&(t=[t[0]]),Bft(e,Lft(t,1),[])}),Vft=zft;const Rm=Ae(Vft);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p5(){return p5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p5.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(g,v){return o[v]!==g});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(v,b){for(v=String(v);v.length<b;)v=" "+v;return v};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function s3(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Hft=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uft=function(t){return t},k_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Wft=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Yft=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},qft=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},E_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},Gft=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=p5({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Uft,rangeExtractor:k_e,onChange:function(){},measureElement:qft,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=ig(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=ig(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),g=m?m.end:s+a,v=o.get(p),b=typeof v=="number"?v:n.options.estimateSize(f),x=g+b,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:g,size:b,end:x,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=ig(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Kft({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=ig(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=ig(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(p5({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=ig(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return s3(o[j_e(0,o.length-1,function(i){return s3(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=s3(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),g=m[0];Hft(g,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},j_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Kft(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=j_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zft=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Xft(e){var t=h.useReducer(function(){return{}},{})[1],n=h5({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Gft(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Zft(function(){return o._willUpdate()}),o}function T_e(e){return Xft(h5({observeElementRect:Wft,observeElementOffset:Yft,scrollToFn:E_e},e))}var Qft=Jft;function Jft(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:nht(a)?n?n(e,t):e===t:i?eht(e,t,n):tht(e,t,n)}function eht(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function tht(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function nht(e){return e!=="function"&&e!=="object"}const Xu=Ae(Qft);var Q$={exports:{}},a3,ZG;function rht(){if(ZG)return a3;ZG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;a3=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var g=f>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return a3}function oht(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=rht(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var v=f,b=Number(new Date),x=b-(d||b);v.diff=x,v.prev=d,v.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var k=m[y];C=S.call(v,k),m.splice(y,1),y--}return C}),n.formatArgs.call(v,m);var w=v.log||n.log;w.apply(v,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var iht=oht;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(p++,g==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=iht(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(Q$,Q$.exports);var sht=Q$.exports;const nf=Ae(sht);function aht(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var A_e=aht;function lht(e){return e!==e}var cht=lht;function uht(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var dht=uht,fht=A_e,hht=cht,pht=dht;function mht(e,t,n){return t===t?pht(e,t,n):fht(e,hht,n)}var V8=mht,ght=V8;function vht(e,t){var n=e==null?0:e.length;return!!n&&ght(e,t,0)>-1}var H8=vht;function yht(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var U8=yht,bht=kT,xht=H8,wht=U8,Cht=Yc,_ht=q0,Sht=ET,kht=200;function Eht(e,t,n,r){var o=-1,i=xht,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Cht(t,_ht(n))),r?(i=wht,s=!1):t.length>=kht&&(i=Sht,s=!1,t=new bht(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var D_e=Eht,jht=uh,Tht=el;function Aht(e){return Tht(e)&&jht(e)}var PT=Aht,Dht=D_e,Iht=K0,Oht=X0,XG=PT,Pht=Oht(function(e,t){return XG(e)?Dht(e,Iht(t,1,XG,!0)):[]}),Rht=Pht;const Ex=Ae(Rht);var $ht=kT,Mht=H8,Fht=U8,Lht=Yc,Bht=q0,QG=ET,Nht=Math.min;function zht(e,t,n){for(var r=n?Fht:Mht,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Lht(d,Bht(t))),c=Nht(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new $ht(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],g=t?t(m):m;if(m=n||m!==0?m:0,!(p?QG(p,g):r(u,g,n))){for(s=i;--s;){var v=a[s];if(!(v?QG(v,g):r(e[s],g,n)))continue e}p&&p.push(g),u.push(m)}}return u}var Vht=zht,Hht=PT;function Uht(e){return Hht(e)?e:[]}var Wht=Uht,Yht=Yc,qht=Vht,Ght=X0,Kht=Wht,Zht=Ght(function(e){var t=Yht(e,Kht);return t.length&&t[0]===e[0]?qht(t):[]}),Xht=Zht;const m5=Ae(Xht);var Qht=G2e,Jht=Qht(Object.getPrototypeOf,Object),W8=Jht,ept=nh,tpt=W8,npt=el,rpt="[object Object]",opt=Function.prototype,ipt=Object.prototype,I_e=opt.toString,spt=ipt.hasOwnProperty,apt=I_e.call(Object);function lpt(e){if(!npt(e)||ept(e)!=rpt)return!1;var t=tpt(e);if(t===null)return!0;var n=spt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&I_e.call(n)==apt}var O_e=lpt;const Er=Ae(O_e);var JG=__e;function cpt(e,t,n){t=="__proto__"&&JG?JG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var RT=cpt,upt=RT,dpt=xT,fpt=Object.prototype,hpt=fpt.hasOwnProperty;function ppt(e,t,n){var r=e[t];(!(hpt.call(e,t)&&dpt(r,n))||n===void 0&&!(t in e))&&upt(e,t,n)}var Y8=ppt,mpt=Y8,gpt=Z0,vpt=AT,eK=Ja,ypt=Om;function bpt(e,t,n,r){if(!eK(e))return e;t=gpt(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=ypt(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=eK(d)?d:vpt(t[o+1])?[]:{})}mpt(a,c,u),a=a[c]}return e}var xpt=bpt,wpt=Gw,Cpt=xpt,_pt=Z0;function Spt(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=wpt(e,s);n(a,s)&&Cpt(i,_pt(s,e),a)}return i}var P_e=Spt,kpt=P_e,Ept=v_e;function jpt(e,t){return kpt(e,t,function(n,r){return Ept(e,r)})}var Tpt=jpt,Apt=K0;function Dpt(e){var t=e==null?0:e.length;return t?Apt(e,1):[]}var R_e=Dpt;const In=Ae(R_e);var Ipt=R_e,Opt=C_e,Ppt=S_e;function Rpt(e){return Ppt(Opt(e,void 0,Ipt),e+"")}var q8=Rpt,$pt=Tpt,Mpt=q8,Fpt=Mpt(function(e,t){return e==null?{}:$pt(e,t)}),Lpt=Fpt;const St=Ae(Lpt),G8=re.createContext(null);function Gc(){const e=h.useContext(G8);if(!e)throw new Error("Router: missing context value");return e}function Bpt(e){return e.button===0}function Npt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Gc();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Npt(a)||!Bpt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Kw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Gc(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=K8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const $m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Kw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=K8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});const tK=Object.prototype.hasOwnProperty,zpt=tK.call.bind(tK);function Vpt(e){for(const t in e)if(zpt(e,t))return!1;return!0}function nK(e,t,n){return n&&{...e,[t]:n}}function Hpt(e){const{children:t,scope:n}=e,r=Gc(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=Vpt(u)?{}:nK(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=nK(r.state,n,u);i(f,d)},[i,r.state,n]),c=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return l.jsx(G8.Provider,{value:c,children:t})}function Upt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(G8.Provider,{value:c,children:e.children})}const rK={};function $_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Gc(),a=h.useMemo(()=>s(i?rK:r||rK),[s,r,i]),{onClick:c}=K8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const $T=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=$_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),Wpt=/^[a-zA-Z0-9_-]+$/;function Ypt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Wpt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function qpt(e){const[t]=e.split("?"),n=t.split("/").map(Ypt).filter(Boolean);return{raw:e,segments:n}}const J$=nf("state-router");function M_e(e){return Array.isArray(e)?e:e?[e]:[]}function Gpt(e){return e.map(t=>{let[n,r]=t;return[Kpt(n),r]})}const l3=1,oK=0;function Kpt(e){const t=[];let n=0,r=oK;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===l3)throw new Error("Nested brackets not supported");r=l3,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===l3)throw new Error("Unclosed bracket");break}r=oK,t.push(e.slice(n+1,i)),n=i+1}return t}function F_e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,g)=>{if(m.type==="dir")return m.name===r[g];const v=e.transform&&e.transform[m.name];return i[m.name]=v?v.toState(r[g]):r[g],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?M_e(e.children(i)):e.children,d=Xpt(e.scope,n);if(u.some(m=>{if(m){const g=m.scope?d.filter(v=>{let[b]=v;return m.scope===b[0]}):d;return c=F_e(m,a.join("/"),g),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[g,v]=m;return g.length===1?[[g[0],v]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function Zpt(e,t){J$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=F_e(e,n,Gpt(o));return J$("resolved: %o",i||null),i||null}function Xpt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function iK(e){return Er(e)}function c3(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function u3(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function L_e(e,t){if(!t)return u3(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(b=>b.type==="param").map(b=>b.name),s=iK(o)?Object.keys(o):[],a=m5(s,i),c=Ex(i,a),u=Ex(s,a);if(c.length>0)return c3(e,c,[]);const d=r.map(b=>{let[x,y]=b;return[[x],y]}),f=St(o,a);if(u.length===0)return u3(e,f,d);const p=M_e((typeof e.children=="function"?e.children(iK(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return c3(e,[],u);const m=St(o,u),v=p.map(b=>L_e(b,m)).find(b=>b.type==="ok");return v?u3(e,f,d,v):c3(e,[],u)}function Qpt(e,t){J$("Resolving path from state %o",t);const n=L_e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(sK).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(sK).join(", ")))}const{path:r,searchParams:o}=B_e(n),i=o.length>0?new URLSearchParams(tmt(o)).toString():"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function Jpt(e){return"[".concat(e,"]")}function emt(e){const[t,...n]=e;return n.length>0?[t,...n.map(Jpt)].join(""):t}function tmt(e){return e.map(t=>{let[n,r]=t;return[emt(n),r]})}function B_e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?B_e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:nmt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function nmt(e,t){const n=e.scope;return n?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function sK(e){return'"'.concat(e,'"')}function rmt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function omt(e){return e?btoa(JSON.stringify(e)):""}function imt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function smt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Ti={create:(e,t,n)=>uK(lK(e,t,n)),intents:e=>{const t=lmt(e).join("/");return Ti.create("".concat(t,"/:intent"),[Ti.create(":params",{transform:{params:{toState:imt,toPath:smt}}},[Ti.create(":payload",{transform:{payload:{toState:rmt,toPath:omt}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=lK(...n);return uK({...o,scope:e})}};function aK(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function amt(e){return e&&"_isRoute"in e}function lK(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||amt(t)?{path:e,children:aK(t)}:n?{path:e,...t,children:aK(n)}:{path:e,...t}}function lmt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const cmt={};function cK(e){return e.split("/").every(t=>!t)}function uK(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=qpt(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return Qpt(this,s)},decode(s){return Zpt(this,s)},isRoot:cK,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(cmt)},getRedirectBase(s){if(cK(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function MT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y_e;const{state:t}=Gc();return h.useMemo(()=>e(t),[e,t])}function umt(e){function t(n){const r=Gc();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}umt(e=>e.children(e.router));function dmt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ml.apply(this,arguments)}var eM="data-focus-lock",N_e="data-focus-lock-disabled",fmt="data-no-focus-lock",hmt="data-autofocus-inside",pmt="data-no-autofocus";function mmt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gmt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function vmt(e,t){return gmt(t||null,function(n){return e.forEach(function(r){return mmt(r,n)})})}var d3={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function z_e(e){return e}function V_e(e,t){t===void 0&&(t=z_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function Z8(e,t){return t===void 0&&(t=z_e),V_e(e,t)}function ymt(e){e===void 0&&(e={});var t=V_e(null);return t.options=Eo({async:!0,ssr:!1},e),t}var H_e=Z8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),U_e=Z8(),bmt=Z8(),xmt=ymt({async:!0}),wmt=[],X8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,g=t.crossFrame,v=t.autoFocus;t.allowTextSelection;var b=t.group,x=t.className,y=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?wmt:C,S=t.as,k=S===void 0?"div":S,j=t.lockProps,E=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,O=t.onDeactivation,$=h.useState({}),R=$[0],z=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),F=h.useCallback(function(){c.current=!1,O&&O(a.current)},[O]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(K){var X=u.current;if(X&&X.focus){var Q=typeof A=="function"?A(X):A;if(Q){var Z=typeof Q=="object"?Q:void 0;u.current=null,K?Promise.resolve().then(function(){return X.focus(Z)}):X.focus(Z)}}},[A]),W=h.useCallback(function(K){c.current&&H_e.useMedium(K)},[]),V=U_e.useMedium,q=h.useCallback(function(K){a.current!==K&&(a.current=K,s(K))},[]),oe=Ml((r={},r[N_e]=f&&"disabled",r[eM]=b,r),E),N=p!==!0,G=N&&p!=="tail",Y=vmt([n,q]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:d3}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:d3}):null],!f&&h.createElement(T,{id:R,sideCar:xmt,observed:i,disabled:f,persistentFocus:m,crossFrame:g,autoFocus:v,whiteList:y,shards:_,onActivation:z,onDeactivation:F,returnFocus:H,focusOptions:D}),h.createElement(k,Ml({ref:Y},oe,{className:x,onBlur:V,onFocus:W}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:d3}))});X8.propTypes={};X8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const W_e=X8;function l0(e,t){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},l0(e,t)}function Y_e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l0(e,t)}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Cmt(e,t){if(Fl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_e(e){var t=Cmt(e,"string");return Fl(t)==="symbol"?t:String(t)}function Be(e,t,n){return t=q_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _mt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){Y_e(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return re.createElement(o,this.props)},d}(h.PureComponent);return Be(c,"displayName","SideEffect("+n(o)+")"),c}}var Kc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},g5=function(e){return Array.isArray(e)?e:[e]},G_e=function(e){return Array.isArray(e)?e[0]:e},Smt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},K_e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Z_e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},kmt=function(e,t){return!e||Z_e(e)||!Smt(e)&&t(K_e(e))},X_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=kmt(t,X_e.bind(void 0,e));return e.set(t,r),r},Emt=function(e,t){return e&&!Z_e(e)?Amt(e)?t(K_e(e)):!1:!0},Q_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Emt(t,Q_e.bind(void 0,e));return e.set(t,r),r},J_e=function(e){return e.dataset},jmt=function(e){return e.tagName==="BUTTON"},eSe=function(e){return e.tagName==="INPUT"},tSe=function(e){return eSe(e)&&e.type==="radio"},Tmt=function(e){return!((eSe(e)||jmt(e))&&(e.type==="hidden"||e.disabled))},Amt=function(e){var t=e.getAttribute(pmt);return![!0,"true",""].includes(t)},Q8=function(e){var t;return!!(e&&(!((t=J_e(e))===null||t===void 0)&&t.focusGuard))},v5=function(e){return!Q8(e)},Dmt=function(e){return!!e},Imt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},nSe=function(e,t,n){return Kc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Imt)},Omt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],J8=Omt.join(","),Pmt="".concat(J8,", [data-focus-guard]"),rSe=function(e,t){return Kc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Pmt:J8)?[r]:[],rSe(r))},[])},Rmt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?FT([e.contentDocument.body],t):[e]},FT=function(e,t){return e.reduce(function(n,r){var o,i=rSe(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return Rmt(a,t)}));return n.concat(s,r.parentNode?Kc(r.parentNode.querySelectorAll(J8)).filter(function(a){return a===r}):[])},[])},$mt=function(e){var t=e.querySelectorAll("[".concat(hmt,"]"));return Kc(t).map(function(n){return FT([n])}).reduce(function(n,r){return n.concat(r)},[])},e9=function(e,t){return Kc(e).filter(function(n){return X_e(t,n)}).filter(function(n){return Tmt(n)})},dK=function(e,t){return t===void 0&&(t=new Map),Kc(e).filter(function(n){return Q_e(t,n)})},tM=function(e,t,n){return nSe(e9(FT(e,n),t),!0,n)},fK=function(e,t){return nSe(e9(FT(e),t),!1)},Mmt=function(e,t){return e9($mt(e),t)},yv=function(e,t){return e.shadowRoot?yv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Kc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?yv(o,t):!1}return yv(n,t)})},Fmt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},oSe=function(e){return e.parentNode?oSe(e.parentNode):e},t9=function(e){var t=g5(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(eM);return n.push.apply(n,o?Fmt(Kc(oSe(r).querySelectorAll("[".concat(eM,'="').concat(o,'"]:not([').concat(N_e,'="disabled"])')))):[r]),n},[])},Lmt=function(e){try{return e()}catch{return}},jx=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?jx(t.shadowRoot):t instanceof HTMLIFrameElement&&Lmt(function(){return t.contentWindow.document})?jx(t.contentWindow.document):t}},Bmt=function(e,t){return e===t},Nmt=function(e,t){return!!Kc(e.querySelectorAll("iframe")).some(function(n){return Bmt(n,t)})},iSe=function(e,t){return t===void 0&&(t=jx(G_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:t9(e).some(function(n){return yv(n,t)||Nmt(n,t)})},zmt=function(e){e===void 0&&(e=document);var t=jx(e);return t?Kc(e.querySelectorAll("[".concat(fmt,"]"))).some(function(n){return yv(n,t)}):!1},Vmt=function(e,t){return t.filter(tSe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},n9=function(e,t){return tSe(e)&&e.name?Vmt(e,t):e},Hmt=function(e){var t=new Set;return e.forEach(function(n){return t.add(n9(n,e))}),e.filter(function(n){return t.has(n)})},hK=function(e){return e[0]&&e.length>1?n9(e[0],e):e[0]},pK=function(e,t){return e.length>1?e.indexOf(n9(e[t],e)):t},sSe="NEW_FOCUS",Umt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=Q8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),g=Hmt(t),v=n!==void 0?g.indexOf(n):-1,b=v-(r?g.indexOf(r):c),x=pK(e,0),y=pK(e,o-1);if(c===-1||d===-1)return sSe;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return y;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(b)>1)return d;if(c<=p)return y;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Wmt=function(e){return function(t){var n,r=(n=J_e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Ymt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=dK(r.filter(Wmt(n)));return o&&o.length?hK(o):hK(dK(t))},nM=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&nM(e.parentNode.host||e.parentNode,t),t},f3=function(e,t){for(var n=nM(e),r=nM(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},aSe=function(e,t,n){var r=g5(e),o=g5(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=f3(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=f3(i,c);u&&(!s||yv(u,s)?s=u:s=f3(u,s))})}),s},qmt=function(e,t){return e.reduce(function(n,r){return n.concat(Mmt(r,t))},[])},Gmt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Dmt)},Kmt=function(e,t){var n=jx(g5(e).length>0?document:G_e(e).ownerDocument),r=t9(e).filter(v5),o=aSe(n||e,e,r),i=new Map,s=fK(r,i),a=tM(r,i).filter(function(m){var g=m.node;return v5(g)});if(!(!a[0]&&(a=s,!a[0]))){var c=fK([o],i).map(function(m){var g=m.node;return g}),u=Gmt(c,a),d=u.map(function(m){var g=m.node;return g}),f=Umt(d,c,n,t);if(f===sSe){var p=Ymt(s,d,qmt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Zmt=function(e){var t=t9(e).filter(v5),n=aSe(e,e,t),r=new Map,o=tM([n],r,!0),i=tM(t,r).filter(function(s){var a=s.node;return v5(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:Q8(a)}})},Xmt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},h3=0,p3=!1,lSe=function(e,t,n){n===void 0&&(n={});var r=Kmt(e,t);if(!p3&&r){if(h3>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),p3=!0,setTimeout(function(){p3=!1},1);return}h3++,Xmt(r.node,n.focusOptions),h3--}};function r9(e){setTimeout(e,1)}var Qmt=function(){return document&&document.activeElement===document.body},Jmt=function(){return Qmt()||zmt()},bv=null,Qg=null,xv=null,Tx=!1,egt=function(){return!0},tgt=function(t){return(bv.whiteList||egt)(t)},ngt=function(t,n){xv={observerNode:t,portaledElement:n}},rgt=function(t){return xv&&xv.portaledElement===t};function mK(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var ogt=function(t){return t&&"current"in t?t.current:t},igt=function(t){return t?!!Tx:Tx==="meanwhile"},sgt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},agt=function(t,n){return n.some(function(r){return sgt(t,r,r)})},y5=function(){var t=!1;if(bv){var n=bv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||xv&&xv.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(ogt).filter(Boolean));if((!d||tgt(d))&&(o||igt(a)||!Jmt()||!Qg&&i)&&(u&&!(iSe(f)||d&&agt(d,f)||rgt(d))&&(document&&!Qg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=lSe(f,Qg,{focusOptions:c}),xv={})),Tx=!1,Qg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Zmt(f),g=m.map(function(v){var b=v.node;return b}).indexOf(p);g>-1&&(m.filter(function(v){var b=v.guard,x=v.node;return b&&x.dataset.focusAutoGuard}).forEach(function(v){var b=v.node;return b.removeAttribute("tabIndex")}),mK(g,m.length,1,m),mK(g,-1,-1,m))}}}return t},cSe=function(t){y5()&&t&&(t.stopPropagation(),t.preventDefault())},o9=function(){return r9(y5)},lgt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||ngt(r,n)},cgt=function(){return null},uSe=function(){Tx="just",r9(function(){Tx="meanwhile"})},ugt=function(){document.addEventListener("focusin",cSe),document.addEventListener("focusout",o9),window.addEventListener("blur",uSe)},dgt=function(){document.removeEventListener("focusin",cSe),document.removeEventListener("focusout",o9),window.removeEventListener("blur",uSe)};function fgt(e){return e.filter(function(t){var n=t.disabled;return!n})}function hgt(e){var t=e.slice(-1)[0];t&&!bv&&ugt();var n=bv,r=n&&t&&t.id===n.id;bv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Qg=null,(!r||n.observed!==t.observed)&&t.onActivation(),y5(),r9(y5)):(dgt(),Qg=null)}H_e.assignSyncMedium(lgt);U_e.assignMedium(o9);bmt.assignMedium(function(e){return e({moveFocusInside:lSe,focusInside:iSe})});const pgt=_mt(fgt,hgt)(cgt);var dSe=h.forwardRef(function(t,n){return h.createElement(W_e,Ml({sideCar:pgt,ref:n},t))}),fSe=W_e.propTypes||{};fSe.sideCar;dmt(fSe,["sideCar"]);dSe.propTypes={};const vd=dSe;var hSe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hSe);var mgt=hSe.exports;const ggt=Ae(mgt);function Mm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const vgt="modulepreload",ygt=function(e){return"/"+e},gK={},i9=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ygt(i),i in gK)return;gK[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":vgt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},bgt=typeof navigator>"u"?!1:navigator.product==="ReactNative",pSe={timeout:bgt?6e4:12e4},xgt=function(t){const n={...pSe,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=mSe(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function mSe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?mSe(pSe.timeout):{connect:t,socket:t}}const wgt=/^https?:\/\//i,Cgt=function(t){if(!wgt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var m3=function(e){return e.replace(/^\s+|\s+$/g,"")},_gt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Sgt=function(e){if(!e)return{};for(var t={},n=m3(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=m3(o.slice(0,i)).toLowerCase(),a=m3(o.slice(i+1));typeof t[s]>"u"?t[s]=a:_gt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const kgt=Ae(Sgt),Egt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function jgt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const Tgt=["request","response","progress","error","abort"],vK=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function gSe(e,t){const n=[],r=vK.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[xgt],validateOptions:[Cgt]});function o(i){const s=(g,v,b)=>{let x=g,y=v;if(!x)try{y=c("onResponse",v,b)}catch(w){y=null,x=w}x=x&&c("onError",x,b),x?a.error.publish(x):y&&a.response.publish(y)},a=Tgt.reduce((g,v)=>(g[v]=jgt(),g),{}),c=Egt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(g=>{f=t(g,(v,b)=>s(v,b,g))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return vK.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>gSe(n,t),e.forEach(o.use),o}var vSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},_a=(e,t,n)=>(vSe(e,t,"read from private field"),n?n.call(e):t.get(e)),Ph=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Td=(e,t,n,r)=>(vSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pS,mS,_g,gS,Fd,vS,yS;class ySe{constructor(){this.readyState=0,this.responseType="",Ph(this,pS,void 0),Ph(this,mS,void 0),Ph(this,_g,void 0),Ph(this,gS,{}),Ph(this,Fd,void 0),Ph(this,vS,{}),Ph(this,yS,void 0)}open(t,n,r){Td(this,pS,t),Td(this,mS,n),Td(this,_g,""),this.readyState=1,this.onreadystatechange(),Td(this,Fd,void 0)}abort(){_a(this,Fd)&&_a(this,Fd).abort()}getAllResponseHeaders(){return _a(this,_g)}setRequestHeader(t,n){_a(this,gS)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Td(this,vS,t),Td(this,yS,n)}send(t){const n=this.responseType!=="arraybuffer",r={..._a(this,vS),method:_a(this,pS),headers:_a(this,gS),body:t};typeof AbortController=="function"&&_a(this,yS)&&(Td(this,Fd,new AbortController),typeof EventTarget<"u"&&_a(this,Fd).signal instanceof EventTarget&&(r.signal=_a(this,Fd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(_a(this,mS),r).then(o=>(o.headers.forEach((i,s)=>{Td(this,_g,_a(this,_g)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}pS=new WeakMap;mS=new WeakMap;_g=new WeakMap;gS=new WeakMap;Fd=new WeakMap;vS=new WeakMap;yS=new WeakMap;const rM=typeof XMLHttpRequest=="function"?"xhr":"fetch",Agt=rM==="xhr"?XMLHttpRequest:ySe,Dgt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:rM,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new Agt;a instanceof ySe&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{b(!0),d=!0},a.onreadystatechange=()=>{v(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:rM,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>g("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function g(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function v(){u&&(b(),i.socket=setTimeout(()=>g("ESOCKETTIMEDOUT"),u.socket))}function b(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;b(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:kgt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}b(),f=!0,t(null,y())}}},Igt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dgt;return gSe(e,t)};var yK={exports:{}},g3,bK;function Ogt(){if(bK)return g3;bK=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;g3=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var g=f>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return g3}function Pgt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=Ogt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,g;function v(...b){if(!v.enabled)return;const x=v,y=Number(new Date),w=y-(f||y);x.diff=w,x.prev=f,x.curr=y,f=y,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,k)=>{if(S==="%%")return"%";C++;const j=n.formatters[k];if(typeof j=="function"){const E=b[C];S=j.call(x,E),b.splice(C,1),C--}return S}),n.formatArgs.call(x,b),(x.log||n.log).apply(x,b)}return v.namespace=d,v.useColors=n.useColors(),v.color=n.selectColor(d),v.extend=r,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(d)),g),set:b=>{p=b}}),typeof n.init=="function"&&n.init(v),v}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Rgt=Pgt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=Rgt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(yK,yK.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function xK(e){return Object.prototype.toString.call(e)==="[object Object]"}function ti(e){var t,n;return xK(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(xK(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const $gt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Mgt=["boolean","string","number"];function Fgt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!$gt(t)&&(Mgt.indexOf(typeof t)!==-1||Array.isArray(t)||ti(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Lgt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let Ly={};typeof globalThis<"u"?Ly=globalThis:typeof window<"u"?Ly=window:typeof global<"u"?Ly=global:typeof self<"u"&&(Ly=self);var Bgt=Ly;function Ngt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Bgt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function zgt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class Vgt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const wK=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new Vgt(r),n(this.reason))})}};wK.source=()=>{let e;return{token:new wK(n=>{e=n}),cancel:e}};var bSe=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Hgt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Ugt=e=>{const t=e.maxRetries||5,n=e.retryDelay||Wgt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(Hgt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Wgt(e){return 100*Math.pow(2,e)+Math.random()*100}const s9=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ugt({shouldRetry:bSe,...e})};s9.shouldRetry=bSe;const v3=5;class Ygt extends Error{constructor(t){const n=xSe(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class qgt extends Error{constructor(t){const n=xSe(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function xSe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Zgt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(Ggt(t)){const r=t.error.items||[],o=r.slice(0,v3).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>v3&&(i+=`
...and `.concat(r.length-v3," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||Kgt(e),n)}function Ggt(e){return CK(e)&&CK(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function CK(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Kgt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Zgt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Xgt={onResponse:e=>{if(e.statusCode>=500)throw new qgt(e);if(e.statusCode>=400)throw new Ygt(e);return e}},Qgt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function _K(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=Igt([n>0?s9({retryDelay:r,maxRetries:n,shouldRetry:Jgt}):{},...e,Qgt,Fgt(),Lgt(),zgt(),Xgt,Ngt({implementation:mt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Jgt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:s9.shouldRetry(e,t,n)}function wSe(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const SK=["image","file"],kK=["before","after","replace"],CSe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},evt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},tvt=e=>{if(SK.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(SK.join(", ")))},_b=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},_Se=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},b5=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));_Se(e,t._id)},nvt=(e,t,n)=>{const r="insert(at, selector, items)";if(kK.indexOf(e)===-1){const o=kK.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},SSe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},kSe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var ESe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wv=(e,t,n)=>(ESe(e,t,"read from private field"),n?n.call(e):t.get(e)),jSe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},TSe=(e,t,n,r)=>(ESe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Sg,kg;class ASe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return _b("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return nvt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...wSe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return _b(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const rvt=class DSe extends ASe{constructor(t,n,r){super(t,n),jSe(this,Sg,void 0),TSe(this,Sg,r)}clone(){return new DSe(this.selection,{...this.operations},wv(this,Sg))}commit(t){if(!wv(this,Sg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return wv(this,Sg).mutate({patch:this.serialize()},r)}};Sg=new WeakMap;let Sb=rvt;const ovt=class ISe extends ASe{constructor(t,n,r){super(t,n),jSe(this,kg,void 0),TSe(this,kg,r)}clone(){return new ISe(this.selection,{...this.operations},wv(this,kg))}commit(t){if(!wv(this,kg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return wv(this,kg).mutate({patch:this.serialize()},r)}};kg=new WeakMap;let kb=ovt;var OSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},rf=(e,t,n)=>(OSe(e,t,"read from private field"),n?n.call(e):t.get(e)),PSe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},RSe=(e,t,n,r)=>(OSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qh,Gh;const $Se={returnDocuments:!1};class MSe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return _b("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return _b(n,t),b5(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return _b(n,t),b5(n,t),this._add({[n]:t})}delete(t){return _Se("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const ivt=class FSe extends MSe{constructor(t,n,r){super(t,r),PSe(this,qh,void 0),RSe(this,qh,n)}clone(){return new FSe([...this.operations],rf(this,qh),this.trxId)}commit(t){if(!rf(this,qh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return rf(this,qh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$Se,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof kb)return this._add({patch:t.serialize()});if(r){const i=n(new kb(t,{},rf(this,qh)));if(!(i instanceof kb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};qh=new WeakMap;let LSe=ivt;const svt=class BSe extends MSe{constructor(t,n,r){super(t,r),PSe(this,Gh,void 0),RSe(this,Gh,n)}clone(){return new BSe([...this.operations],rf(this,Gh),this.trxId)}commit(t){if(!rf(this,Gh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return rf(this,Gh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$Se,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Sb)return this._add({patch:t.serialize()});if(r){const i=n(new Sb(t,{},rf(this,Gh)));if(!(i instanceof Sb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Gh=new WeakMap;let NSe=svt;const avt="https://www.sanity.io/help/";function a9(e){return avt+e}function lvt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const LT=e=>lvt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),cvt=LT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),uvt=LT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),dvt=LT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(a9("js-client-browser-token")," for more information and how to hide this warning.")]),fvt=LT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(a9("js-client-api-version"))]),hvt="apicdn.sanity.io",x5={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},pvt=["localhost","127.0.0.1","0.0.0.0"],mvt=e=>pvt.indexOf(e)!==-1,gvt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},zSe=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},VSe=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||fvt();const r=Object.assign({},x5,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=a9("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&zSe(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'undefined'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&mvt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?dvt():typeof r.useCdn>"u"&&cvt(),o&&evt(r.projectId),r.dataset&&CSe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?kSe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===x5.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,gvt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?hvt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},vvt="X-Sanity-Project-ID";function yvt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[vvt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const HSe=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},bvt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,xvt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:bvt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},l9=e=>e.type==="response",wvt=e=>e.body,Cvt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),_vt=11264;function USe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Zw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function WSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:Q0(e,"doc",n),json:!0,tag:r.tag};return Xw(e,t,o).pipe(pt(l9),ce(i=>i.body.documents&&i.body.documents[0]))}function YSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:Q0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Xw(e,t,o).pipe(pt(l9),ce(i=>{const s=Cvt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function qSe(e,t,n,r){return b5("createIfNotExists",n),BT(e,t,n,"createIfNotExists",r)}function GSe(e,t,n,r){return b5("createOrReplace",n),BT(e,t,n,"createOrReplace",r)}function KSe(e,t,n,r){return Zw(e,t,"mutate",{mutations:[{delete:wSe(n)}]},r)}function ZSe(e,t,n,r){let o;n instanceof kb||n instanceof Sb?o={patch:n.serialize()}:n instanceof LSe||n instanceof NSe?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Zw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Zw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":HSe(r),c=!i&&a.length<_vt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:g}=o,v=Q0(e,n,u),b={method:c?"GET":"POST",uri:v,json:!0,body:c?void 0:r,query:i&&xvt(o),timeout:f,headers:g,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Xw(e,t,b).pipe(pt(l9),ce(wvt),ce(x=>{if(!i)return x;const y=x.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?y[0]&&y[0].id:y.map(_=>_.id);return{transactionId:x.transactionId,results:y,[w]:C}}))}function BT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Zw(e,t,"mutate",{mutations:[i]},s)}function Xw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:kSe(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(zSe(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,uvt()))}const u=yvt(i,Object.assign({},n,{url:c9(e,o,a)})),d=new mt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(Svt(n.signal)):d}function Ll(e,t,n){return Xw(e,t,n).pipe(pt(o=>o.type==="response"),ce(o=>o.body))}function Q0(e,t,n){const r=e.config(),o=SSe(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function c9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function Svt(e){return t=>new mt(n=>{const r=()=>n.error(Evt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const kvt=!!globalThis.DOMException;function Evt(e){var t,n;if(kvt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var XSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},w5=(e,t,n)=>(XSe(e,t,"read from private field"),n?n.call(e):t.get(e)),C5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_5=(e,t,n,r)=>(XSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bS,xS,wS,CS;class jvt{constructor(t,n){C5(this,bS,void 0),C5(this,xS,void 0),_5(this,bS,t),_5(this,xS,n)}upload(t,n,r){return QSe(w5(this,bS),w5(this,xS),t,n,r)}}bS=new WeakMap;xS=new WeakMap;class Tvt{constructor(t,n){C5(this,wS,void 0),C5(this,CS,void 0),_5(this,wS,t),_5(this,CS,n)}upload(t,n,r){const o=QSe(w5(this,wS),w5(this,CS),t,n,r);return _o(o.pipe(pt(i=>i.type==="response"),ce(i=>i.body.document)))}}wS=new WeakMap;CS=new WeakMap;function QSe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};tvt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=SSe(e.config()),a=n==="image"?"images":"files",c=Avt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:g,source:v}=c,b={label:d,title:f,description:p,filename:g,meta:i,creditLine:m};return v&&(b.sourceId=v.id,b.sourceName=v.name,b.sourceUrl=v.url),Xw(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:r})}function Avt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Dvt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Ivt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Ovt=16e3-1200,Pvt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Rvt={includeResult:!0};function JSe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...Dvt(n,Rvt),tag:a},u=Ivt(c,Pvt),d=HSe({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(Q0(this,"listen",d));if(f.length>Ovt)return new mt(v=>v.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,g={};return(o||i)&&(g.withCredentials=!0),o&&(g.headers={Authorization:"Bearer ".concat(o)}),new mt(v=>{let b;E().then(D=>{b=D}).catch(D=>{v.error(D),A()});let x,y=!1;function w(){y||(j(),!y&&b.readyState===b.CLOSED&&(k(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){v.error($vt(D))}function _(D){const I=eke(D);return I instanceof Error?v.error(I):v.next(I)}function S(){y=!0,k(),v.complete()}function k(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",C),b.removeEventListener("disconnect",S),p.forEach(D=>b.removeEventListener(D,_)),b.close())}function j(){m&&v.next({type:"reconnect"})}async function E(){const{default:D}=await i9(()=>import("./browser-cff639a0.js").then(O=>O.b),[]),I=new D(f,g);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(O=>I.addEventListener(O,_)),I}function T(){E().then(D=>{b=D}).catch(D=>{v.error(D),A()})}function A(){y=!0,k()}return A})}function eke(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function $vt(e){if(e instanceof Error)return e;const t=eke(e);return t instanceof Error?t:new Error(Mvt(t))}function Mvt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var tke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ji=(e,t,n)=>(tke(e,t,"read from private field"),n?n.call(e):t.get(e)),S5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},k5=(e,t,n,r)=>(tke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Kh,Zh,Xh,Qh;class Fvt{constructor(t,n){S5(this,Kh,void 0),S5(this,Zh,void 0),k5(this,Kh,t),k5(this,Zh,n)}create(t,n){return Cv(ji(this,Kh),ji(this,Zh),"PUT",t,n)}edit(t,n){return Cv(ji(this,Kh),ji(this,Zh),"PATCH",t,n)}delete(t){return Cv(ji(this,Kh),ji(this,Zh),"DELETE",t)}list(){return Ll(ji(this,Kh),ji(this,Zh),{uri:"/datasets",tag:null})}}Kh=new WeakMap;Zh=new WeakMap;class Lvt{constructor(t,n){S5(this,Xh,void 0),S5(this,Qh,void 0),k5(this,Xh,t),k5(this,Qh,n)}create(t,n){return _o(Cv(ji(this,Xh),ji(this,Qh),"PUT",t,n))}edit(t,n){return _o(Cv(ji(this,Xh),ji(this,Qh),"PATCH",t,n))}delete(t){return _o(Cv(ji(this,Xh),ji(this,Qh),"DELETE",t))}list(){return _o(Ll(ji(this,Xh),ji(this,Qh),{uri:"/datasets",tag:null}))}}Xh=new WeakMap;Qh=new WeakMap;function Cv(e,t,n,r,o){return CSe(r),Ll(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var nke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},of=(e,t,n)=>(nke(e,t,"read from private field"),n?n.call(e):t.get(e)),E5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},j5=(e,t,n,r)=>(nke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),By,Ny,zy,Vy;class Bvt{constructor(t,n){E5(this,By,void 0),E5(this,Ny,void 0),j5(this,By,t),j5(this,Ny,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ll(of(this,By),of(this,Ny),{uri:n})}getById(t){return Ll(of(this,By),of(this,Ny),{uri:"/projects/".concat(t)})}}By=new WeakMap;Ny=new WeakMap;class Nvt{constructor(t,n){E5(this,zy,void 0),E5(this,Vy,void 0),j5(this,zy,t),j5(this,Vy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return _o(Ll(of(this,zy),of(this,Vy),{uri:n}))}getById(t){return _o(Ll(of(this,zy),of(this,Vy),{uri:"/projects/".concat(t)}))}}zy=new WeakMap;Vy=new WeakMap;var rke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},T5=(e,t,n)=>(rke(e,t,"read from private field"),n?n.call(e):t.get(e)),A5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},D5=(e,t,n,r)=>(rke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_S,SS,kS,ES;class zvt{constructor(t,n){A5(this,_S,void 0),A5(this,SS,void 0),D5(this,_S,t),D5(this,SS,n)}getById(t){return Ll(T5(this,_S),T5(this,SS),{uri:"/users/".concat(t)})}}_S=new WeakMap;SS=new WeakMap;class Vvt{constructor(t,n){A5(this,kS,void 0),A5(this,ES,void 0),D5(this,kS,t),D5(this,ES,n)}getById(t){return _o(Ll(T5(this,kS),T5(this,ES),{uri:"/users/".concat(t)}))}}kS=new WeakMap;ES=new WeakMap;var oke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(oke(e,t,"read from private field"),n?n.call(e):t.get(e)),I5=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},O5=(e,t,n,r)=>(oke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Jh,Po,ep,Co;const Hvt=class oM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x5;I5(this,Jh,void 0),I5(this,Po,void 0),this.listen=JSe,this.config(n),O5(this,Po,t),this.assets=new jvt(this,Dt(this,Po)),this.datasets=new Fvt(this,Dt(this,Po)),this.projects=new Bvt(this,Dt(this,Po)),this.users=new zvt(this,Dt(this,Po))}clone(){return new oM(Dt(this,Po),this.config())}config(t){if(t===void 0)return{...Dt(this,Jh)};if(Dt(this,Jh)&&Dt(this,Jh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return O5(this,Jh,VSe(t,Dt(this,Jh)||{})),this}withConfig(t){return new oM(Dt(this,Po),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return USe(this,Dt(this,Po),t,n,r)}getDocument(t,n){return WSe(this,Dt(this,Po),t,n)}getDocuments(t,n){return YSe(this,Dt(this,Po),t,n)}create(t,n){return BT(this,Dt(this,Po),t,"create",n)}createIfNotExists(t,n){return qSe(this,Dt(this,Po),t,n)}createOrReplace(t,n){return GSe(this,Dt(this,Po),t,n)}delete(t,n){return KSe(this,Dt(this,Po),t,n)}mutate(t,n){return ZSe(this,Dt(this,Po),t,n)}patch(t,n){return new Sb(t,n,this)}transaction(t){return new NSe(t,this)}request(t){return Ll(this,Dt(this,Po),t)}getUrl(t,n){return c9(this,t,n)}getDataUrl(t,n){return Q0(this,t,n)}};Jh=new WeakMap;Po=new WeakMap;let Uvt=Hvt;const Wvt=class iM{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x5;I5(this,ep,void 0),I5(this,Co,void 0),this.listen=JSe,this.config(n),O5(this,Co,t),this.assets=new Tvt(this,Dt(this,Co)),this.datasets=new Lvt(this,Dt(this,Co)),this.projects=new Nvt(this,Dt(this,Co)),this.users=new Vvt(this,Dt(this,Co)),this.observable=new Uvt(t,n)}clone(){return new iM(Dt(this,Co),this.config())}config(t){if(t===void 0)return{...Dt(this,ep)};if(Dt(this,ep)&&Dt(this,ep).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),O5(this,ep,VSe(t,Dt(this,ep)||{})),this}withConfig(t){return new iM(Dt(this,Co),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _o(USe(this,Dt(this,Co),t,n,r))}getDocument(t,n){return _o(WSe(this,Dt(this,Co),t,n))}getDocuments(t,n){return _o(YSe(this,Dt(this,Co),t,n))}create(t,n){return _o(BT(this,Dt(this,Co),t,"create",n))}createIfNotExists(t,n){return _o(qSe(this,Dt(this,Co),t,n))}createOrReplace(t,n){return _o(GSe(this,Dt(this,Co),t,n))}delete(t,n){return _o(KSe(this,Dt(this,Co),t,n))}mutate(t,n){return _o(ZSe(this,Dt(this,Co),t,n))}patch(t,n){return new kb(t,n,this)}transaction(t){return new LSe(t,this)}request(t){return _o(Ll(this,Dt(this,Co),t))}dataRequest(t,n,r){return _o(Zw(this,Dt(this,Co),t,n,r))}getUrl(t,n){return c9(this,t,n)}getDataUrl(t,n){return Q0(this,t,n)}};ep=new WeakMap;Co=new WeakMap;let Yvt=Wvt;function qvt(e,t){return{requester:_K(e,{}).defaultRequester,createClient:i=>new t(_K(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Gvt=[];const Kvt=qvt(Gvt,Yvt),ike=Kvt.createClient;var Zvt=nh,Xvt=Jr,Qvt=el,Jvt="[object String]";function e0t(e){return typeof e=="string"||!Xvt(e)&&Qvt(e)&&Zvt(e)==Jvt}var t0t=e0t;const NT=Ae(t0t);function n0t(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var r0t=n0t;function o0t(e){return function(t){return e==null?void 0:e[t]}}var i0t=o0t,s0t=i0t,a0t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},l0t=s0t(a0t),c0t=l0t,u0t=c0t,d0t=qc,f0t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h0t="\\u0300-\\u036f",p0t="\\ufe20-\\ufe2f",m0t="\\u20d0-\\u20ff",g0t=h0t+p0t+m0t,v0t="["+g0t+"]",y0t=RegExp(v0t,"g");function b0t(e){return e=d0t(e),e&&e.replace(f0t,u0t).replace(y0t,"")}var ske=b0t;const EK=Ae(ske);var x0t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function w0t(e){return e.match(x0t)||[]}var C0t=w0t,_0t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function S0t(e){return _0t.test(e)}var k0t=S0t,ake="\\ud800-\\udfff",E0t="\\u0300-\\u036f",j0t="\\ufe20-\\ufe2f",T0t="\\u20d0-\\u20ff",A0t=E0t+j0t+T0t,lke="\\u2700-\\u27bf",cke="a-z\\xdf-\\xf6\\xf8-\\xff",D0t="\\xac\\xb1\\xd7\\xf7",I0t="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",O0t="\\u2000-\\u206f",P0t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uke="A-Z\\xc0-\\xd6\\xd8-\\xde",R0t="\\ufe0e\\ufe0f",dke=D0t+I0t+O0t+P0t,fke="['’]",jK="["+dke+"]",$0t="["+A0t+"]",hke="\\d+",M0t="["+lke+"]",pke="["+cke+"]",mke="[^"+ake+dke+hke+lke+cke+uke+"]",F0t="\\ud83c[\\udffb-\\udfff]",L0t="(?:"+$0t+"|"+F0t+")",B0t="[^"+ake+"]",gke="(?:\\ud83c[\\udde6-\\uddff]){2}",vke="[\\ud800-\\udbff][\\udc00-\\udfff]",Eg="["+uke+"]",N0t="\\u200d",TK="(?:"+pke+"|"+mke+")",z0t="(?:"+Eg+"|"+mke+")",AK="(?:"+fke+"(?:d|ll|m|re|s|t|ve))?",DK="(?:"+fke+"(?:D|LL|M|RE|S|T|VE))?",yke=L0t+"?",bke="["+R0t+"]?",V0t="(?:"+N0t+"(?:"+[B0t,gke,vke].join("|")+")"+bke+yke+")*",H0t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",U0t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",W0t=bke+yke+V0t,Y0t="(?:"+[M0t,gke,vke].join("|")+")"+W0t,q0t=RegExp([Eg+"?"+pke+"+"+AK+"(?="+[jK,Eg,"$"].join("|")+")",z0t+"+"+DK+"(?="+[jK,Eg+TK,"$"].join("|")+")",Eg+"?"+TK+"+"+AK,Eg+"+"+DK,U0t,H0t,hke,Y0t].join("|"),"g");function G0t(e){return e.match(q0t)||[]}var K0t=G0t,Z0t=C0t,X0t=k0t,Q0t=qc,J0t=K0t;function e1t(e,t,n){return e=Q0t(e),t=n?void 0:t,t===void 0?X0t(e)?J0t(e):Z0t(e):e.match(t)||[]}var xke=e1t;const wke=Ae(xke);var t1t=r0t,n1t=ske,r1t=xke,o1t="['’]",i1t=RegExp(o1t,"g");function s1t(e){return function(t){return t1t(r1t(n1t(t).replace(i1t,"")),e,"")}}var u9=s1t;function a1t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var Cke=a1t,l1t=Cke;function c1t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:l1t(e,t,n)}var _ke=c1t,u1t="\\ud800-\\udfff",d1t="\\u0300-\\u036f",f1t="\\ufe20-\\ufe2f",h1t="\\u20d0-\\u20ff",p1t=d1t+f1t+h1t,m1t="\\ufe0e\\ufe0f",g1t="\\u200d",v1t=RegExp("["+g1t+u1t+p1t+m1t+"]");function y1t(e){return v1t.test(e)}var Ske=y1t;function b1t(e){return e.split("")}var x1t=b1t,kke="\\ud800-\\udfff",w1t="\\u0300-\\u036f",C1t="\\ufe20-\\ufe2f",_1t="\\u20d0-\\u20ff",S1t=w1t+C1t+_1t,k1t="\\ufe0e\\ufe0f",E1t="["+kke+"]",sM="["+S1t+"]",aM="\\ud83c[\\udffb-\\udfff]",j1t="(?:"+sM+"|"+aM+")",Eke="[^"+kke+"]",jke="(?:\\ud83c[\\udde6-\\uddff]){2}",Tke="[\\ud800-\\udbff][\\udc00-\\udfff]",T1t="\\u200d",Ake=j1t+"?",Dke="["+k1t+"]?",A1t="(?:"+T1t+"(?:"+[Eke,jke,Tke].join("|")+")"+Dke+Ake+")*",D1t=Dke+Ake+A1t,I1t="(?:"+[Eke+sM+"?",sM,jke,Tke,E1t].join("|")+")",O1t=RegExp(aM+"(?="+aM+")|"+I1t+D1t,"g");function P1t(e){return e.match(O1t)||[]}var R1t=P1t,$1t=x1t,M1t=Ske,F1t=R1t;function L1t(e){return M1t(e)?F1t(e):$1t(e)}var Ike=L1t,B1t=_ke,N1t=Ske,z1t=Ike,V1t=qc;function H1t(e){return function(t){t=V1t(t);var n=N1t(t)?z1t(t):void 0,r=n?n[0]:t.charAt(0),o=n?B1t(n,1).join(""):t.slice(1);return r[e]()+o}}var U1t=H1t,W1t=U1t,Y1t=W1t("toUpperCase"),d9=Y1t;const Oke=Ae(d9);var q1t=u9,G1t=d9,K1t=q1t(function(e,t,n){return e+(n?" ":"")+G1t(t)}),Z1t=K1t;const un=Ae(Z1t);let X1t=e=>crypto.getRandomValues(new Uint8Array(e)),Q1t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},J1t=(e,t=21)=>Q1t(e,t,X1t),eyt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var tyt=["presence","listen"],P5=globalThis&&globalThis.__assign||function(){return P5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},P5.apply(this,arguments)},nyt=J1t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),ryt="♥";function IK(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:iyt(t,"v1"),id:n})}function oyt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function iyt(e,t){return P5(P5({},e),{apiVersion:t})}var syt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?nyt:r,i=S8(e.pipe(it(function(m){return Bi(m,"message")})),function(m){return m.data===ryt}),s=i[0],a=i[1],c=a.pipe(ft(function(m){var g=oyt(m.data),v=g[0],b=g[1];return v?(console.warn("Unable to parse message: %s",v.message),Zn):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Zn):ve(b)}),fa()),u=n?Wo([n,e]).pipe(Xn(function(m,g){var v=m[0],b=m[1],x=g[0],y=g[1];return v===x&&b===y}),it(function(m){var g=m[0],v=m[1];return g?d(v,"authorization",{authorization:"Bearer ".concat(g)}).pipe(Pi(1),yT(v)):ve(v)}),Do({refCount:!0,bufferSize:1})):e;function d(m,g,v){v===void 0&&(v={});var b=o();return nn(c.pipe(pt(function(x){return x.id===b}),ce(function(x){return x.result})),po(function(){return m.send(IK(g,v,b)),Zn}))}function f(m,g){return u.pipe(Pi(1),ft(function(v){return d(v,m,g).pipe(Pi(1))}))}function p(m,g){return u.pipe(Pi(1),ft(function(v){return d(v,"".concat(m,"_subscribe"),g).pipe(Pi(1),ft(function(b){return c.pipe(pt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===b}),ce(function(x){return x.params.result}),I2e(function(){v.readyState!==v.CLOSED&&v.readyState!==v.CLOSING&&v.send(IK("".concat(m,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:nn(u,s,a).pipe(ce(function(){return new Date})),request:function(m,g){return ayt(m)?p(m,g):f(m,g)}}};function ayt(e){return tyt.includes(e)}var lyt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),OK=function(e){lyt(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function cyt(e){return function(t){return new mt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new OK("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new OK("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var uyt=function(e,t){return function(n){return Jnt(n,Yo(e).pipe(ft(function(){return t})))}},PK;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(PK||(PK={}));var dyt=function(e){return e};function fyt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=cyt(function(i,s){return new window.WebSocket(i,s)});return syt(o(e).pipe(n?uyt(n,Zu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):dyt,Do({refCount:!0}),j8(Bi(window,"beforeunload"))),{token$:r})}function hyt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var pyt=hyt,myt=Y8,gyt=RT;function vyt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?gyt(n,a,c):myt(n,a,c)}return n}var J0=vyt,yyt=J0,byt=dh;function xyt(e,t){return e&&yyt(t,byt(t),e)}var wyt=xyt;function Cyt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var _yt=Cyt,Syt=Ja,kyt=DT,Eyt=_yt,jyt=Object.prototype,Tyt=jyt.hasOwnProperty;function Ayt(e){if(!Syt(e))return Eyt(e);var t=kyt(e),n=[];for(var r in e)r=="constructor"&&(t||!Tyt.call(e,r))||n.push(r);return n}var Dyt=Ayt,Iyt=q2e,Oyt=Dyt,Pyt=uh;function Ryt(e){return Pyt(e)?Iyt(e,!0):Oyt(e)}var f9=Ryt,$yt=J0,Myt=f9;function Fyt(e,t){return e&&$yt(t,Myt(t),e)}var Lyt=Fyt,R5={exports:{}};R5.exports;(function(e,t){var n=Ul,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(R5,R5.exports);var Byt=R5.exports;function Nyt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var h9=Nyt,zyt=J0,Vyt=P8;function Hyt(e,t){return zyt(e,Vyt(e),t)}var Uyt=Hyt,Wyt=O8,Yyt=W8,qyt=P8,Gyt=W2e,Kyt=Object.getOwnPropertySymbols,Zyt=Kyt?function(e){for(var t=[];e;)Wyt(t,qyt(e)),e=Yyt(e);return t}:Gyt,Pke=Zyt,Xyt=J0,Qyt=Pke;function Jyt(e,t){return Xyt(e,Qyt(e),t)}var ebt=Jyt,tbt=H2e,nbt=Pke,rbt=f9;function obt(e){return tbt(e,rbt,nbt)}var p9=obt,ibt=Object.prototype,sbt=ibt.hasOwnProperty;function abt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&sbt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var lbt=abt,RK=V2e;function cbt(e){var t=new e.constructor(e.byteLength);return new RK(t).set(new RK(e)),t}var m9=cbt,ubt=m9;function dbt(e,t){var n=t?ubt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var fbt=dbt,hbt=/\w*$/;function pbt(e){var t=new e.constructor(e.source,hbt.exec(e));return t.lastIndex=e.lastIndex,t}var mbt=pbt,$K=T0,MK=$K?$K.prototype:void 0,FK=MK?MK.valueOf:void 0;function gbt(e){return FK?Object(FK.call(e)):{}}var vbt=gbt,ybt=m9;function bbt(e,t){var n=t?ybt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var xbt=bbt,wbt=m9,Cbt=fbt,_bt=mbt,Sbt=vbt,kbt=xbt,Ebt="[object Boolean]",jbt="[object Date]",Tbt="[object Map]",Abt="[object Number]",Dbt="[object RegExp]",Ibt="[object Set]",Obt="[object String]",Pbt="[object Symbol]",Rbt="[object ArrayBuffer]",$bt="[object DataView]",Mbt="[object Float32Array]",Fbt="[object Float64Array]",Lbt="[object Int8Array]",Bbt="[object Int16Array]",Nbt="[object Int32Array]",zbt="[object Uint8Array]",Vbt="[object Uint8ClampedArray]",Hbt="[object Uint16Array]",Ubt="[object Uint32Array]";function Wbt(e,t,n){var r=e.constructor;switch(t){case Rbt:return wbt(e);case Ebt:case jbt:return new r(+e);case $bt:return Cbt(e,n);case Mbt:case Fbt:case Lbt:case Bbt:case Nbt:case zbt:case Vbt:case Hbt:case Ubt:return kbt(e,n);case Tbt:return new r;case Abt:case Obt:return new r(e);case Dbt:return _bt(e);case Ibt:return new r;case Pbt:return Sbt(e)}}var Ybt=Wbt,qbt=Ja,LK=Object.create,Gbt=function(){function e(){}return function(t){if(!qbt(t))return{};if(LK)return LK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),g9=Gbt,Kbt=g9,Zbt=W8,Xbt=DT;function Qbt(e){return typeof e.constructor=="function"&&!Xbt(e)?Kbt(Zbt(e)):{}}var Jbt=Qbt,ext=qw,txt=el,nxt="[object Map]";function rxt(e){return txt(e)&&ext(e)==nxt}var oxt=rxt,ixt=oxt,sxt=q0,BK=$8,NK=BK&&BK.isMap,axt=NK?sxt(NK):ixt,lxt=axt,cxt=qw,uxt=el,dxt="[object Set]";function fxt(e){return uxt(e)&&cxt(e)==dxt}var hxt=fxt,pxt=hxt,mxt=q0,zK=$8,VK=zK&&zK.isSet,gxt=VK?mxt(VK):pxt,vxt=gxt,yxt=D8,bxt=pyt,xxt=Y8,wxt=wyt,Cxt=Lyt,_xt=Byt,Sxt=h9,kxt=Uyt,Ext=ebt,jxt=Z2e,Txt=p9,Axt=qw,Dxt=lbt,Ixt=Ybt,Oxt=Jbt,Pxt=Jr,Rxt=TT,$xt=lxt,Mxt=Ja,Fxt=vxt,Lxt=dh,Bxt=f9,Nxt=1,zxt=2,Vxt=4,Rke="[object Arguments]",Hxt="[object Array]",Uxt="[object Boolean]",Wxt="[object Date]",Yxt="[object Error]",$ke="[object Function]",qxt="[object GeneratorFunction]",Gxt="[object Map]",Kxt="[object Number]",Mke="[object Object]",Zxt="[object RegExp]",Xxt="[object Set]",Qxt="[object String]",Jxt="[object Symbol]",ewt="[object WeakMap]",twt="[object ArrayBuffer]",nwt="[object DataView]",rwt="[object Float32Array]",owt="[object Float64Array]",iwt="[object Int8Array]",swt="[object Int16Array]",awt="[object Int32Array]",lwt="[object Uint8Array]",cwt="[object Uint8ClampedArray]",uwt="[object Uint16Array]",dwt="[object Uint32Array]",Nn={};Nn[Rke]=Nn[Hxt]=Nn[twt]=Nn[nwt]=Nn[Uxt]=Nn[Wxt]=Nn[rwt]=Nn[owt]=Nn[iwt]=Nn[swt]=Nn[awt]=Nn[Gxt]=Nn[Kxt]=Nn[Mke]=Nn[Zxt]=Nn[Xxt]=Nn[Qxt]=Nn[Jxt]=Nn[lwt]=Nn[cwt]=Nn[uwt]=Nn[dwt]=!0;Nn[Yxt]=Nn[$ke]=Nn[ewt]=!1;function jS(e,t,n,r,o,i){var s,a=t&Nxt,c=t&zxt,u=t&Vxt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Mxt(e))return e;var d=Pxt(e);if(d){if(s=Dxt(e),!a)return Sxt(e,s)}else{var f=Axt(e),p=f==$ke||f==qxt;if(Rxt(e))return _xt(e,a);if(f==Mke||f==Rke||p&&!o){if(s=c||p?{}:Oxt(e),!a)return c?Ext(e,Cxt(s,e)):kxt(e,wxt(s,e))}else{if(!Nn[f])return o?e:{};s=Ixt(e,f,a)}}i||(i=new yxt);var m=i.get(e);if(m)return m;i.set(e,s),Fxt(e)?e.forEach(function(b){s.add(jS(b,t,n,b,e,i))}):$xt(e)&&e.forEach(function(b,x){s.set(x,jS(b,t,n,x,e,i))});var g=u?c?Txt:jxt:c?Bxt:Lxt,v=d?void 0:g(e);return bxt(v||e,function(b,x){v&&(x=b,b=e[x]),xxt(s,x,jS(b,t,n,x,e,i))}),s}var v9=jS;function fwt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hwt=fwt,pwt=Gw,mwt=Cke;function gwt(e,t){return t.length<2?e:pwt(e,mwt(t,0,-1))}var vwt=gwt,ywt=Z0,bwt=hwt,xwt=vwt,wwt=Om;function Cwt(e,t){return t=ywt(t,e),e=xwt(e,t),e==null||delete e[wwt(bwt(t))]}var _wt=Cwt,Swt=O_e;function kwt(e){return Swt(e)?void 0:e}var Ewt=kwt,jwt=Yc,Twt=v9,Awt=_wt,Dwt=Z0,Iwt=J0,Owt=Ewt,Pwt=q8,Rwt=p9,$wt=1,Mwt=2,Fwt=4,Lwt=Pwt(function(e,t){var n={};if(e==null)return n;var r=!1;t=jwt(t,function(i){return i=Dwt(i,e),r||(r=i.length>1),i}),Iwt(e,Rwt(e),n),r&&(n=Twt(n,$wt|Mwt|Fwt,Owt));for(var o=t.length;o--;)Awt(n,t[o]);return n}),Bwt=Lwt;const Ni=Ae(Bwt);var Nwt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Qw=Ae(Nwt);var zwt=Jr;function Vwt(){if(!arguments.length)return[];var e=arguments[0];return zwt(e)?e:[e]}var Hwt=Vwt;const Jw=Ae(Hwt);var Uwt=Yc,Wwt=fh,Ywt=x_e,qwt=Jr;function Gwt(e,t){var n=qwt(e)?Uwt:Ywt;return n(e,Wwt(t))}var Kwt=Gwt,Zwt=K0,Xwt=Kwt;function Qwt(e,t){return Zwt(Xwt(e,t),1)}var Jwt=Qwt;const eCt=Ae(Jwt);var tCt="Expected a function";function nCt(e){if(typeof e!="function")throw new TypeError(tCt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Fke=nCt;const rCt=Ae(Fke);var oCt=Yc,iCt=fh,sCt=P_e,aCt=p9;function lCt(e,t){if(e==null)return{};var n=oCt(aCt(e),function(r){return[r]});return t=iCt(t),sCt(e,n,function(r,o){return t(r,o[0])})}var Lke=lCt;const cCt=Ae(Lke);var uCt=fh,dCt=Fke,fCt=Lke;function hCt(e,t){return fCt(e,dCt(uCt(t)))}var pCt=hCt;const Bke=Ae(pCt);function mCt(e){return e===void 0}var gCt=mCt;const Nke=Ae(gCt);var vCt=qc,yCt=d9;function bCt(e){return yCt(vCt(e).toLowerCase())}var zke=bCt;const Fm=Ae(zke);var xCt=Yc,wCt=h9,CCt=Jr,_Ct=xm,SCt=d_e,kCt=Om,ECt=qc;function jCt(e){return CCt(e)?xCt(e,kCt):_Ct(e)?[e]:wCt(SCt(ECt(e)))}var TCt=jCt;const ACt=Ae(TCt);function DCt(){}var y9=DCt;const Vke=Ae(y9);var y3=X2e,ICt=y9,OCt=I8,PCt=1/0,RCt=y3&&1/OCt(new y3([,-0]))[1]==PCt?function(e){return new y3(e)}:ICt,$Ct=RCt,MCt=kT,FCt=H8,LCt=U8,BCt=ET,NCt=$Ct,zCt=I8,VCt=200;function HCt(e,t,n){var r=-1,o=FCt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=LCt;else if(i>=VCt){var u=t?null:NCt(e);if(u)return zCt(u);s=!1,o=BCt,c=new MCt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var zT=HCt,UCt=fh,WCt=zT;function YCt(e,t){return e&&e.length?WCt(e,UCt(t)):[]}var qCt=YCt;const Kf=Ae(qCt),ds=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],HK=[...ds],b3={name:"any",type:null,jsonType:"any"},GCt={get(){return b3},extend(e,t){const n=Object.assign(St(b3,HK),e,{type:b3,of:e.of.map(o=>({name:o.name,type:t(Ni(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,HK),{type:o});return r(s)}}}}};var hh={prepare:e=>({title:String(e)})};const UK=[...ds],x3={name:"string",title:"String",type:null,jsonType:"string"},KCt={get(){return x3},extend(e){const t=Object.assign(St(x3,UK),e,{type:x3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,UK),{type:r});return n(i)}}}}},WK=[...ds,"rows"],w3={name:"text",title:"Text",type:null,jsonType:"string"},ZCt={get(){return w3},extend(e){const t=Object.assign(St(w3,WK),e,{type:w3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,WK),{type:r});return n(i)}}}}},YK=[...ds],C3={name:"datetime",title:"Datetime",type:null,jsonType:"string"},XCt={get(){return C3},extend(e){const t=Object.assign(St(C3,YK),e,{type:C3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,YK),{type:r});return n(i)}}}}},qK=[...ds],_3={name:"date",title:"Datetime",type:null,jsonType:"string"},QCt={get(){return _3},extend(e){const t=Object.assign(St(_3,qK),e,{type:_3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,qK),{type:r});return n(i)}}}}},GK=[...ds],S3={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},JCt={get(){return S3},extend(e){const t=Object.assign(St(S3,GK),e,{type:S3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,GK),{type:r});return n(i)}}}}},KK=[...ds],k3={name:"url",title:"Url",type:null,jsonType:"string"},e2t={get(){return k3},extend(e){const t=Object.assign(St(k3,KK),e,{type:k3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,KK),{type:r});return n(i)}}}}},ZK=[...ds],E3={name:"email",title:"Email",type:null,jsonType:"string"},t2t={get(){return E3},extend(e){const t=Object.assign(St(E3,ZK),e,{type:E3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,ZK),{type:r});return n(i)}}}}},XK=[...ds],j3={name:"number",title:"Number",type:null,jsonType:"number"},n2t={get(){return j3},extend(e){const t=Object.assign(St(j3,XK),e,{type:j3,preview:hh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,XK),{type:r});return n(i)}}}}};function Un(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function r2t(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function lM(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>lM(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(r2t(St(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(lM(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function o2t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return lM(e,n,0)}const i2t={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function s2t(e){return t=>({title:o2t(St(t,e),i2t)})}function a2t(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const Hke=["title","name","label","heading","header","caption"],l2t=["description",...Hke];function Uke(e,t){return Qw(e.to||[]).some(n=>n.type===t)}function QK(e){return Uke(e,"sanity.imageAsset")}function c2t(e){const t=e.fields||[],n=t.find(QK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(QK));return r?"".concat(r.name,".asset"):void 0}function JK(e){return Uke(e,"sanity.fileAsset")}function u2t(e){const t=e.fields||[],n=t.find(JK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(JK));return r?"".concat(r.name,".asset"):void 0}function d2t(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(a2t).map(u=>u.name);let o=Hke.find(u=>n.includes(u)||r.includes(u)),i=l2t.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=c2t(t);if(!o){const u=u2t(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:s2t(u)}}return{select:Bke({title:o,description:i,media:s?s.name:a},Nke)}}function f2t(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function h2t(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function p2t(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function m2t(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...St(e,["prepare","component"]),select:p2t(t)}:{...St(e,["prepare","component"]),select:t}}function eC(e){return function(){return f2t(e),h2t(e),m2t(e.preview||(e.options||{}).preview)||d2t(e)}}const g2t=["title","name","label","heading","header","caption","description"],v2t=["string","boolean","number"],eZ=e=>v2t.includes(e.type);function y2t(e){let t=g2t.filter(n=>e.fields.some(r=>eZ(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(eZ).map(n=>n.name)),t.map(n=>({name:n,title:Fm(un(n)),by:[{field:n,direction:"asc"}]}))}function tZ(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Er(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:ACt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const _v=Symbol("__cachedStringFields"),b2t=e=>e.type&&e.type.name==="reference",x2t=["style","list"],b9=e=>e.name==="block"||e.type&&b9(e.type),w2t=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(b9);function VT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?C2t(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!b2t(e)?_2t(e,t,i,r,o):i}function C2t(e,t,n,r,o){return e.of.reduce((i,s)=>VT(s,t,i,r,o-1),n)}function _2t(e,t,n,r,o){const i=b9(e);return e.fields.reduce((s,a)=>{if(i&&x2t.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return VT(a.type,t,s,r.concat(c),o-1)},n)}const Wke=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],nZ={title:10,subtitle:5,description:1.5};function Yke(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in nZ).map(r=>({weight:nZ[r],path:n[r].split(".")})):[]}function S2t(e,t){return e[_v]||(e[_v]=Kf([...Wke,...Yke(e),...E2t(e,t).map(n=>({weight:1,path:n})),...j2t(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[_v]}function k2t(e){return e[_v]||(e[_v]=Kf([...Wke,...Yke(e)],t=>t.path.join("."))),e[_v]}function E2t(e,t){return VT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function j2t(e,t){return VT(e,(r,o,i)=>w2t(o)?[...r,i]:r,[],[],t)}function T2t(e){return k2t(e)}function A2t(e){return S2t(e,4)}const rZ=[...ds,"orderings","__experimental_search","blockEditor","icon"],qke={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(St(this.get(),rZ),n,{type:this.get(),title:n.title||(n.name?un(n.name):""),options:r,orderings:n.orderings||y2t(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Un({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||un(a)}))})});return Un(o,"fieldsets",()=>HT(n,o.fields)),Un(o,"groups",()=>D2t(n,o.fields)),Un(o,"preview",eC(n)),Un(o,"__experimental_search",()=>{const s=n.__experimental_search?tZ(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?tZ(n):a):A2t(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,St(a,rZ),{title:a.title||n.title||(n.name?un(n.name):""),type:s});return Un(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function HT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));n[o.name]={title:un(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function D2t(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));if(n[o.name]={title:un(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:un(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Jw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:un(e.name),"'"));a.fields.push(o)})}),eCt(n).filter(o=>o.fields.length>0)}const I2t={name:"_ref",title:"Referenced document ID",type:"string"},O2t={name:"_weak",title:"Weak reference",type:"boolean"},P2t=[I2t,O2t],oZ=[...ds],T3={name:"reference",title:"Reference",type:null,jsonType:"object"};function R2t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function $2t(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(R2t(Qw(e.to).map(t=>t.title),"or").toLowerCase())}const M2t={get(){return T3},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(St(T3,oZ),e,{type:T3});return Un(n,"fields",()=>P2t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Un(n,"fieldsets",()=>HT(e,n.fields)),Un(n,"to",()=>Qw(e.to).map(o=>t(o))),Un(n,"title",()=>e.title||$2t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,oZ),{type:o});return r(s)}}}}},F2t={name:"_ref",title:"Referenced document ID",type:"string"},L2t={name:"_weak",title:"Weak reference marker",type:"boolean"},B2t={name:"_dataset",title:"Target dataset",type:"string"},N2t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},z2t=[F2t,L2t,B2t,N2t],iZ=[...ds],A3={name:"crossDatasetReference",type:null,jsonType:"object"};function V2t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function H2t(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(V2t(Qw(e.to).map(t=>t.title||Fm(t.type)),"or").toLowerCase())}const U2t={get(){return A3},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(St(A3,iZ),e,{type:A3});return Un(n,"fields",()=>z2t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Un(n,"to",()=>Qw(e.to).map(o=>({...o,__experimental_search:T2t(o)}))),Un(n,"title",()=>e.title||H2t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,iZ),{type:o});return r(s)}}}}},W2t={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},Y2t={name:"hotspot",type:"sanity.imageHotspot"},q2t={name:"crop",type:"sanity.imageCrop"},sZ=[...ds],aZ={name:"image",title:"Image",type:null,jsonType:"object"},G2t={},K2t={get(){return aZ},extend(e,t){const n={...e.options||G2t};let r=[Y2t,q2t];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[W2t,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(St(this.get(),sZ),i,{type:aZ,title:i.title||(i.name?un(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Un(p,"type",()=>t({...f,title:c.title||un(u)}))})});return Un(s,"fieldsets",()=>HT(i,s.fields)),Un(s,"preview",eC(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,St(u,sZ),{type:c});return a(d)}}}}},Z2t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},lZ=[...ds],D3={name:"file",title:"File",type:null,jsonType:"object"},X2t={accept:""},Q2t={get(){return D3},extend(e,t){const n={...e.options||X2t},r=[Z2t,...e.fields||[]],o={...e,fields:r},i=Object.assign(St(D3,lZ),o,{type:D3,title:o.title||(o.name?un(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Un(f,"type",()=>t({...d,title:a.title||un(c)}))})});return Un(i,"fieldsets",()=>HT(o,i.fields)),Un(i,"preview",eC(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,St(c,lZ),{type:a});return s(u)}}}}},J2t={name:"document",title:"Document",type:null,jsonType:"object"},e_t={get(){return J2t},extend:qke.extend},cZ=[...ds],I3={name:"array",type:null,jsonType:"array",of:[]},t_t={get(){return I3},extend(e,t){const n=Object.assign(St(I3,cZ),e,{type:I3});return Un(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,cZ),{type:o});return r(s)}}}}},n_t={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},r_t={type:"text",name:"text",title:"Text"},o_t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},uZ={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},i_t=[uZ.bullet,uZ.numbered],fu={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},s_t=[fu.normal,fu.h1,fu.h2,fu.h3,fu.h4,fu.h5,fu.h6,fu.blockquote],a_t={title:"Strong",value:"strong"},l_t={title:"Italic",value:"em"},c_t={title:"Code",value:"code"},u_t={title:"Underline",value:"underline"},d_t={title:"Strike",value:"strike-through"},X1={strong:a_t,em:l_t,code:c_t,underline:u_t,strikeThrough:d_t},f_t=[X1.strong,X1.em,X1.code,X1.underline,X1.strikeThrough],dZ=["type","name","title","jsonType","description","options","fieldsets","icon"],O3={name:"block",title:"Block",type:null,jsonType:"object"},h_t={},p_t={get(){return O3},extend(e,t){const n={...e.options||h_t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=y_t(r,s),u=g_t(o),d=v_t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||Gke},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),g=Object.assign(St(O3,dZ),a,{type:O3,options:n});return Un(g,"fields",()=>m.map(b=>{const{name:x,...y}=b;return{name:x,type:t(y)}})),Un(g,"preview",eC(e)),v(g);function v(b){return{get(){return b},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const y=Object.assign({},b,St(x,dZ),{type:b});return v(y)}}}}};function m_t(e){return e.some(t=>t.value==="normal")?e:[fu.normal,...e]}function g_t(e){return{name:"style",title:"Style",type:"string",options:{list:m_t(e||s_t)}}}function v_t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||i_t}}}const Gke=[n_t];function y_t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[r_t,o_t],annotations:e&&e.annotations?e.annotations:Gke,decorators:e&&e.decorators?e.decorators:f_t},...t.filter(n=>n.type!=="span")]}}const fZ=["type","name","title","jsonType","description","options","fieldsets","icon"],P3={name:"span",title:"Span",type:null,jsonType:"object"},b_t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},x_t={name:"text",title:"Text",type:"string"},w_t={},C_t={get(){return P3},extend(e,t){const n={...e.options||w_t},{annotations:r=[],marks:o=[]}=e,i=[b_t,x_t],s=Object.assign(St(P3,fZ),e,{type:P3,options:n});return Un(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Un(s,"annotations",()=>r.map(t)),Un(s,"marks",()=>o.map(t)),Un(s,"preview",eC(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,St(u,fZ),{type:c});return a(d)}}}}};var __t=Object.freeze({__proto__:null,any:GCt,array:t_t,block:p_t,boolean:JCt,crossDatasetReference:U2t,date:QCt,datetime:XCt,document:e_t,email:t2t,file:Q2t,image:K2t,number:n2t,object:qke,reference:M2t,span:C_t,string:KCt,text:ZCt,url:e2t});function S_t(e){const t=Object.assign(Object.create(null),__t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let k_t=class Kke{static compile(t){return new Kke(t)}constructor(t){this._original=t,this._registry=S_t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const x9=k_t;var E_t=zT;function j_t(e){return e&&e.length?E_t(e):[]}var T_t=j_t;const mo=Ae(T_t),A_t={},D_t=Object.freeze(Object.defineProperty({__proto__:null,default:A_t},Symbol.toStringTag,{value:"Module"})),I_t=A4e(D_t);var w9=typeof Map=="function"&&Map.prototype,R3=Object.getOwnPropertyDescriptor&&w9?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$5=w9&&R3&&typeof R3.get=="function"?R3.get:null,hZ=w9&&Map.prototype.forEach,C9=typeof Set=="function"&&Set.prototype,$3=Object.getOwnPropertyDescriptor&&C9?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,M5=C9&&$3&&typeof $3.get=="function"?$3.get:null,pZ=C9&&Set.prototype.forEach,O_t=typeof WeakMap=="function"&&WeakMap.prototype,Eb=O_t?WeakMap.prototype.has:null,P_t=typeof WeakSet=="function"&&WeakSet.prototype,jb=P_t?WeakSet.prototype.has:null,R_t=typeof WeakRef=="function"&&WeakRef.prototype,mZ=R_t?WeakRef.prototype.deref:null,$_t=Boolean.prototype.valueOf,M_t=Object.prototype.toString,F_t=Function.prototype.toString,L_t=String.prototype.match,_9=String.prototype.slice,sf=String.prototype.replace,B_t=String.prototype.toUpperCase,gZ=String.prototype.toLowerCase,Zke=RegExp.prototype.test,vZ=Array.prototype.concat,vc=Array.prototype.join,N_t=Array.prototype.slice,yZ=Math.floor,cM=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M3=Object.getOwnPropertySymbols,uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,c0=typeof Symbol=="function"&&typeof Symbol.iterator=="object",zi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===c0||"symbol")?Symbol.toStringTag:null,Xke=Object.prototype.propertyIsEnumerable,bZ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function xZ(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Zke.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-yZ(-e):yZ(e);if(r!==e){var o=String(r),i=_9.call(t,o.length+1);return sf.call(o,n,"$&_")+"."+sf.call(sf.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return sf.call(t,n,"$&_")}var dM=I_t,wZ=dM.custom,CZ=Jke(wZ)?wZ:null,z_t=function e(t,n,r,o){var i=n||{};if(Hd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Hd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Hd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Hd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Hd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return t5e(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?xZ(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?xZ(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return fM(t)?"[Array]":"[Object]";var f=iSt(i,r);if(typeof o>"u")o=[];else if(e5e(o,t)>=0)return"[Circular]";function p(I,O,$){if(O&&(o=N_t.call(o),o.push(O)),$){var R={depth:i.depth};return Hd(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!_Z(t)){var m=Z_t(t),g=A2(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+vc.call(g,", ")+" }":"")}if(Jke(t)){var v=c0?sf.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):uM.call(t);return typeof t=="object"&&!c0?Q1(v):v}if(nSt(t)){for(var b="<"+gZ.call(String(t.nodeName)),x=t.attributes||[],y=0;y<x.length;y++)b+=" "+x[y].name+"="+Qke(V_t(x[y].value),"double",i);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+gZ.call(String(t.nodeName))+">",b}if(fM(t)){if(t.length===0)return"[]";var w=A2(t,p);return f&&!oSt(w)?"["+hM(w,f)+"]":"[ "+vc.call(w,", ")+" ]"}if(U_t(t)){var C=A2(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!Xke.call(t,"cause")?"{ ["+String(t)+"] "+vc.call(vZ.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+vc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(CZ&&typeof t[CZ]=="function"&&dM)return dM(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(X_t(t)){var _=[];return hZ&&hZ.call(t,function(I,O){_.push(p(O,t,!0)+" => "+p(I,t))}),SZ("Map",$5.call(t),_,f)}if(eSt(t)){var S=[];return pZ&&pZ.call(t,function(I){S.push(p(I,t))}),SZ("Set",M5.call(t),S,f)}if(Q_t(t))return F3("WeakMap");if(tSt(t))return F3("WeakSet");if(J_t(t))return F3("WeakRef");if(Y_t(t))return Q1(p(Number(t)));if(G_t(t))return Q1(p(cM.call(t)));if(q_t(t))return Q1($_t.call(t));if(W_t(t))return Q1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===As)return"{ [object globalThis] }";if(!H_t(t)&&!_Z(t)){var k=A2(t,p),j=bZ?bZ(t)===Object.prototype:t instanceof Object||t.constructor===Object,E=t instanceof Object?"":"null prototype",T=!j&&zi&&Object(t)===t&&zi in t?_9.call(ph(t),8,-1):E?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||E?"["+vc.call(vZ.call([],T||[],E||[]),": ")+"] ":"");return k.length===0?D+"{}":f?D+"{"+hM(k,f)+"}":D+"{ "+vc.call(k,", ")+" }"}return String(t)};function Qke(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function V_t(e){return sf.call(String(e),/"/g,"&quot;")}function fM(e){return ph(e)==="[object Array]"&&(!zi||!(typeof e=="object"&&zi in e))}function H_t(e){return ph(e)==="[object Date]"&&(!zi||!(typeof e=="object"&&zi in e))}function _Z(e){return ph(e)==="[object RegExp]"&&(!zi||!(typeof e=="object"&&zi in e))}function U_t(e){return ph(e)==="[object Error]"&&(!zi||!(typeof e=="object"&&zi in e))}function W_t(e){return ph(e)==="[object String]"&&(!zi||!(typeof e=="object"&&zi in e))}function Y_t(e){return ph(e)==="[object Number]"&&(!zi||!(typeof e=="object"&&zi in e))}function q_t(e){return ph(e)==="[object Boolean]"&&(!zi||!(typeof e=="object"&&zi in e))}function Jke(e){if(c0)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!uM)return!1;try{return uM.call(e),!0}catch{}return!1}function G_t(e){if(!e||typeof e!="object"||!cM)return!1;try{return cM.call(e),!0}catch{}return!1}var K_t=Object.prototype.hasOwnProperty||function(e){return e in this};function Hd(e,t){return K_t.call(e,t)}function ph(e){return M_t.call(e)}function Z_t(e){if(e.name)return e.name;var t=L_t.call(F_t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function e5e(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function X_t(e){if(!$5||!e||typeof e!="object")return!1;try{$5.call(e);try{M5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Q_t(e){if(!Eb||!e||typeof e!="object")return!1;try{Eb.call(e,Eb);try{jb.call(e,jb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function J_t(e){if(!mZ||!e||typeof e!="object")return!1;try{return mZ.call(e),!0}catch{}return!1}function eSt(e){if(!M5||!e||typeof e!="object")return!1;try{M5.call(e);try{$5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function tSt(e){if(!jb||!e||typeof e!="object")return!1;try{jb.call(e,jb);try{Eb.call(e,Eb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function nSt(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function t5e(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return t5e(_9.call(e,0,t.maxStringLength),t)+r}var o=sf.call(sf.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rSt);return Qke(o,"single",t)}function rSt(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+B_t.call(t.toString(16))}function Q1(e){return"Object("+e+")"}function F3(e){return e+" { ? }"}function SZ(e,t,n,r){var o=r?hM(n,r):vc.call(n,", ");return e+" ("+t+") {"+o+"}"}function oSt(e){for(var t=0;t<e.length;t++)if(e5e(e[t],`
`)>=0)return!1;return!0}function iSt(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=vc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:vc.call(Array(t+1),n)}}function hM(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+vc.call(e,","+n)+`
`+t.prev}function A2(e,t){var n=fM(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Hd(e,o)?t(e[o],e):""}var i=typeof M3=="function"?M3(e):[],s;if(c0){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Hd(e,c)&&(n&&String(Number(c))===c&&c<e.length||c0&&s["$"+c]instanceof Symbol||(Zke.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof M3=="function")for(var u=0;u<i.length;u++)Xke.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Jg=Ae(z_t);function sSt(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var aSt=sSt,lSt=b_e;function cSt(e,t,n,r){return lSt(e,function(o,i,s){t(r,o,n(o),s)}),r}var uSt=cSt,dSt=aSt,fSt=uSt,hSt=fh,pSt=Jr;function mSt(e,t){return function(n,r){var o=pSt(n)?dSt:fSt,i=t?t():{};return o(n,e,hSt(r),i)}}var S9=mSt,gSt=S9,vSt=gSt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ySt=vSt;const k9=Ae(ySt);var bSt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Is=Ae(bSt);var E9={exports:{}};const L3=[],kZ=[],n5e=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)kZ[d]=e.charCodeAt(i+d),L3[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===kZ[d]?c:c+1,c=L3[d],a=L3[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};E9.exports=n5e;E9.exports.default=n5e;var xSt=E9.exports;const wSt=Ae(xSt),CSt="https://docs.sanity.io/help/";function r5e(e){return CSt+e}const ot={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function o5e(e,t,n){if(n&&!Object.keys(ot).some(r=>ot[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const De=(e,t)=>o5e("error",e,t),Vr=(e,t)=>o5e("warning",e,t);function _St(e){return In(e.map(t=>i5e(t))).filter(t=>t.problems.length>0)}function Lm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Hn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return i5e(c,d)}):[[{path:i,problems:[De("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...In(a)]}}const SSt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],EZ=Lm("fields"),kSt=Lm("fields"),ESt=Lm("fields"),jSt=Lm("of"),TSt=Lm("to",e=>"to"in e?SSt(e.to):[]),ASt=Lm("marks.annotations"),DSt=Lm("of"),ISt=(e,t)=>[...ASt(e,t),...DSt(e,t)];function OSt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function i5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return EZ(e,t);case"document":return EZ(e,t);case"array":return jSt(e,t);case"reference":return TSt(e,t);case"block":return ISt(e,t);case"image":return kSt(e,t);case"file":return ESt(e,t);default:return OSt(e,t)}}function UT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const PSt=e=>e,RSt={name:"type",type:null},$St=["any","time","date"];function MSt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PSt;const r=Object.create(null),o=Object.create(null),i=t.map(g=>g.name),s=$St.concat(i),a=e.map(g=>g&&g.name).filter(Boolean);t.forEach(g=>{r[g.name]=g}),e.forEach((g,v)=>{o[g&&g.name||"__unnamed_".concat(v)]={}});function c(g){return g==="type"?RSt:r[g]||o[g]||null}const u=mo(In(UT(a)));function d(g){return u.includes(g)}function f(){return a.concat(i)}function p(g){return g==="type"||s.includes(g)}const m=g=>(v,b)=>n(v,{visit:m(!1),isRoot:g,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:b});return t.forEach(g=>{Object.assign(r[g.name],m(g))}),e.forEach((g,v)=>{Object.assign(o[g&&g.name||"__unnamed_".concat(v)],m(!0)(g,v))}),{get(g){const v=o[g]||r[g];if(v)return v;throw new Error("No such type: ".concat(g))},has(g){return g in o||g in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const s5e=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],a5e=s5e.map(e=>e.name);function FSt(e,t){return MSt(e,s5e,t)}const LSt=/^Symbol\(react\..+\)$/;function D2(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&LSt.test(String(e==null?void 0:e.$$typeof))}function l5e(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!D2(t.input)&&n.push(Vr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Jg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!D2(t.field)&&n.push(Vr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Jg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!D2(t.item)&&n.push(Vr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Jg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!D2(t.preview)&&n.push(Vr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Jg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const jZ=/^[A-Za-z]+[0-9A-Za-z_]*$/,BSt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function NSt(e){return typeof e!="string"?[De('Field names must be strings. Saw "'.concat(Jg(e),'"'),ot.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[De('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),ot.OBJECT_FIELD_NAME_INVALID)]:jZ.test(e)?BSt.test(e)?[]:[Vr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),ot.OBJECT_FIELD_NAME_INVALID]:[De('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(jZ),")."),ot.OBJECT_FIELD_NAME_INVALID)]}function j9(e,t){if(!Er(e))return[De("Incorrect type for field definition - should be an object, saw ".concat(Jg(e)),ot.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?NSt(e.name):[De("Missing field name",ot.OBJECT_FIELD_NAME_INVALID)]),n.push(...l5e(e)),n}function zSt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function T9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[De('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),ot.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");zSt(o).forEach(s=>{n.push(De("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),ot.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(De("Object should have at least one field",ot.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(De("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),ot.STANDALONE_BLOCK_TYPE))}return n}function VSt(e){return Er(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[De('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Er(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(De('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[De('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[De('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var c5e=(e,t)=>{let n=T9(e.fields),r=e.preview;if(r){const o=VSt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(De('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:j9(o).concat(c||[])}}),_problems:n}},HSt=(e,t)=>{const n=c5e(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Er(r)&&typeof r!="function"&&n._problems.push(De('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(De('Found property "initialValues" - did you mean "initialValue"?')),n};function USt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var WSt=(e,t)=>{const n=Array.isArray(e.to)||Er(e.to),r=USt(e),o=In([n?UT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.REFERENCE_TO_INVALID)):De('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(De('The reference type should define at least one accepted type. Please check the "to" property.',ot.REFERENCE_TO_INVALID)),o.push(...YSt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function YSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Er(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Er(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}function TZ(e){return e==="string"||e==="number"||e==="boolean"}function qSt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function Tb(e){return'"'.concat(e,'"')}function AZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function DZ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Is(Object.keys(e).map(Tb))):Tb(e)}var GSt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const g=e.of.reduce((v,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&a5e.includes(b.name))return v.concat(De('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&t.getType(b.name))return v.concat(Vr('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return v.concat(De('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',ot.ARRAY_OF_ARRAY));if(b)return v;const y="Found ".concat(b===null?"null":typeof b,", expected member declaration");return v.concat(De("Found invalid type member declaration in array at index ".concat(x,": ").concat(y),ot.ARRAY_OF_INVALID))},[]);if(g.length>0)return{...e,of:[],_problems:g}}const s=In([i?UT(e.of,g=>"".concat(g.name,";").concat(g.type)).map(g=>De("Found ".concat(g.length,' members with same type, but not unique names "').concat(g[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),ot.ARRAY_OF_NOT_UNIQUE)):De('The array type is missing or having an invalid value for the required "of" property',ot.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(g=>g.type==="object"&&typeof g.name>"u");a.some(g=>g.type==="block")&&c&&s.push(De("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",ot.ARRAY_OF_INVALID));const[d,f]=k9(a,g=>{var v;return TZ(g.type)||TZ((v=t.getType(g.type))==null?void 0:v.jsonType)}),p=d.length>0&&f.length>0;if(p){const g=d.map(b=>b.type),v=f.map(b=>b.type);s.push(De("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(AZ(g)," ").concat(Is(g.map(Tb))," and object type").concat(AZ(v)," ").concat(Is(v.map(Tb)),")"),ot.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(v=>{var b;const x=(b=v==null?void 0:v.value)!=null?b:v;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Is(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(De("An invalid entry found in options.list: ".concat(DZ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),ot.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(v=>{const b=v._type||"object";f.some(y=>qSt(b,y))||s.push(De("An invalid entry found in options.list: ".concat(DZ(v),'. Must be an object with "_type" set to ').concat(Is(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":Tb(y)),{conjunction:"or"})),ot.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Vr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},KSt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Vr('Heads up! The "slugifyFn" option has been renamed to "slugify".',ot.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},ZSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...T9(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(De("Invalid type for file `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(De("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:j9(i).concat(u||[])}}),_problems:n}};const IZ=["dimensions","hasAlpha","isOpaque"];var XSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...T9(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>IZ.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(De("Invalid type for image `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Vr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!IZ.includes(u))}):c.length>0&&n.push(De("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...g}=t.visit(p,d);return{name:f,...g,_problems:j9(u).concat(m||[])}}),_problems:n}};function u5e(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return u5e(r,t,n)}const la=e=>Array.isArray(e)?"array":typeof e,tC=e=>'"'.concat(e,'"'),QSt=["components","lists","marks","name","of","options","styles","title","type","validation"],JSt=["decorators","annotations"],ekt=["blockEditor","title","value","component"],tkt=["blockEditor","title","value","icon","component"],nkt=["title","value","icon","component"],OZ=["file","image","object","reference"];function rkt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!QSt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Is(a.map(tC))))),i&&(i=okt(e.marks,t,n)),r&&(r=skt(r,t,n)),o&&(o=ikt(o,t,n)),s&&(s=ckt(s,t,n)),{...Ni(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function okt(e,t,n){let r=e.decorators,o=e.annotations;if(!Er(e))return n.push(De('"marks" declaration should be an object, got '.concat(la(e)))),n;const i=Object.keys(e).filter(s=>!JSt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Is(i.map(tC))))),r&&!Array.isArray(r)?n.push(De('"marks.decorators" declaration should be an array, got '.concat(la(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=akt(r,t,n)),o&&!Array.isArray(o)?n.push(De('"marks.annotations" declaration should be an array, got '.concat(la(o)))):o&&(o=lkt(o,t,n)),{...e,decorators:r,annotations:o}}function ikt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Er(r)){n.push(De("List must be an object, got ".concat(la(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!nkt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for list ".concat(i,": ").concat(Is(s.map(tC))))),r.value?typeof r.value!="string"?n.push(De("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(la(r.value)))):r.title||n.push(Vr("List type ".concat(i,' is missing recommended "title" property'))):n.push(De("List #".concat(o,' is missing required "value" property')))}),e):(n.push(De('"lists" declaration should be an array, got '.concat(la(e)))),n)}function skt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Er(r)){n.push(De("Style must be an object, got ".concat(la(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!ekt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for style ".concat(i,": ").concat(Is(s.map(tC))))),r.value?typeof r.value!="string"?n.push(De("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(la(r.value)))):r.title||n.push(Vr("Style ".concat(i,' is missing recommended "title" property'))):n.push(De("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Vr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(De('"styles" declaration should be an array, got '.concat(la(e)))),n)}function akt(e,t,n){return e.forEach((r,o)=>{if(!Er(r)){n.push(De("Annotation must be an object, got ".concat(la(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!tkt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for decorator ".concat(i,": ").concat(Is(s.map(tC))))),r.value?typeof r.value!="string"?n.push(De("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(la(r.value)))):r.title||n.push(Vr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(De("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Vr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function lkt(e,t,n){return e.map(r=>{var o,i;if(!Er(r))return{...r,_problems:[De("Annotation must be an object, got ".concat(la(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!u5e(a,"object",t)&&s.push(De('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Vr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function ckt(e,t,n){if(!Array.isArray(e)){n.push(De('"of" declaration should be an array, got '.concat(la(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Vr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=a5e.filter(a=>!OZ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[De("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(OZ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function ukt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[De('Type has propery "fields", but is not an object/document type.')]:[]}const dkt=e=>'"'.concat(e,'"');function fkt(e,t){const n=t.getTypeNames();if(!e)return[De("Type is missing a type. Valid types are: ".concat(Is(n)),ot.TYPE_MISSING_TYPE)];if(typeof e!="string")return[De('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Is(n)),ot.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[wSt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(Is(o.map(dkt),{conjunction:"or"}),"?"):"";return[De("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Is(n)))]}return[]}function hkt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Vr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Vr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Vr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Vr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Vr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var PZ=(e,t)=>({...e,_problems:[...fkt(e.type,t),...ukt(e,t),...hkt(e)].filter(Boolean)}),pkt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[De("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",ot.TYPE_INVALID)]};const r=[];return mkt(e)?r.push(De("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",ot.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(De('Invalid type name: "'.concat(e.name,'" is a reserved name.'),ot.TYPE_NAME_RESERVED)):r.push(De("Missing type name",ot.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(De('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...l5e(e)),"title"in e&&typeof e.title!="string"&&r.push(Vr("Type title is not a string.",ot.TYPE_TITLE_INVALID)),{...e,_problems:r}};function mkt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function gkt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const vkt=/^[a-z0-9~][-_a-z0-9]+$/;function ykt(e){return e.length>=2&&e.toLowerCase()===e&&vkt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var bkt=(e,t)=>{const n=Array.isArray(e.to)||Er(e.to),r=gkt(e),o=In([n?UT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.CROSS_DATASET_REFERENCE_INVALID)):De('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(De('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',ot.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(De("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),ot.CROSS_DATASET_REFERENCE_INVALID)),Er(i.preview)||o.push(De('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),ot.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=ykt(e.dataset);i!==!0&&o.push(De(i,ot.CROSS_DATASET_REFERENCE_INVALID))}else o.push(De("A cross dataset reference must specify a `dataset`",ot.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(De('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',ot.CROSS_DATASET_REFERENCE_INVALID)),o.push(...xkt(e)),{...e,_problems:o}};function xkt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Er(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Er(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}const wkt={array:GSt,object:c5e,slug:KSt,file:ZSt,image:XSt,block:rkt,document:HSt,reference:WSt,crossDatasetReference:bkt},Ckt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function RZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function _kt(e){return FSt(e,(t,n)=>{const r=t&&t.type&&wkt[t.type]||Ckt(n);return n.isRoot?RZ(pkt,PZ,r)(t,n):RZ(PZ,r)(t,n)})}const pM="__experimental_actions",d5e=["create","update","delete","publish"],B3=d5e,Skt=e=>pM in e?e[pM]:d5e,kkt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(pM," should be an array with any of the actions ").concat(B3.join(", ")));const n=Ex(t,B3);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(B3.join(", ")));return t},Ekt=e=>kkt(e.name,Skt(e)),$Z=(e,t)=>Ekt(e).includes(t);var jkt=v9,Tkt=1,Akt=4;function Dkt(e){return jkt(e,Tkt|Akt)}var Ikt=Dkt;const Okt=Ae(Ikt);function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Pkt(e){return qe(1,arguments),e instanceof Date||Fl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ke(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Fl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Qu(e){if(qe(1,arguments),!Pkt(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Rkt(e,t){qe(2,arguments);var n=Ke(e).getTime(),r=At(t);return new Date(n+r)}function f5e(e,t){qe(2,arguments);var n=At(t);return Rkt(e,-n)}var $kt=864e5;function Mkt(e){qe(1,arguments);var t=Ke(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/$kt)+1}function u0(e){qe(1,arguments);var t=1,n=Ke(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function h5e(e){qe(1,arguments);var t=Ke(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=u0(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=u0(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Fkt(e){qe(1,arguments);var t=h5e(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=u0(n);return r}var Lkt=6048e5;function p5e(e){qe(1,arguments);var t=Ke(e),n=u0(t).getTime()-Fkt(t).getTime();return Math.round(n/Lkt)+1}var Bkt={};function yd(){return Bkt}function rm(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=yd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getUTCDay(),g=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function A9(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),p=yd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var v=rm(g,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var x=rm(b,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Nkt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=yd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=A9(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var g=rm(m,t);return g}var zkt=6048e5;function m5e(e,t){qe(1,arguments);var n=Ke(e),r=rm(n,t).getTime()-Nkt(n,t).getTime();return Math.round(r/zkt)+1}function bn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Vkt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return bn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):bn(r+1,2)},d:function(t,n){return bn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return bn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return bn(t.getUTCHours(),n.length)},m:function(t,n){return bn(t.getUTCMinutes(),n.length)},s:function(t,n){return bn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return bn(i,n.length)}};const Ad=Vkt;var sg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hkt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Ad.y(t,n)},Y:function(t,n,r,o){var i=A9(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return bn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):bn(s,n.length)},R:function(t,n){var r=h5e(t);return bn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return bn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return bn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return bn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Ad.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return bn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=m5e(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):bn(i,n.length)},I:function(t,n,r){var o=p5e(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):bn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ad.d(t,n)},D:function(t,n,r){var o=Mkt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):bn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return bn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return bn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return bn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=sg.noon:o===0?i=sg.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=sg.evening:o>=12?i=sg.afternoon:o>=4?i=sg.morning:i=sg.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Ad.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ad.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):bn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):bn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ad.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ad.s(t,n)},S:function(t,n){return Ad.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return FZ(s);case"XXXX":case"XX":return tp(s);case"XXXXX":case"XXX":default:return tp(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return FZ(s);case"xxxx":case"xx":return tp(s);case"xxxxx":case"xxx":default:return tp(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+MZ(s,":");case"OOOO":default:return"GMT"+tp(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+MZ(s,":");case"zzzz":default:return"GMT"+tp(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return bn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return bn(s,n.length)}};function MZ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+bn(i,2)}function FZ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+bn(Math.abs(e)/60,2)}return tp(e,t)}function tp(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=bn(Math.floor(o/60),2),s=bn(o%60,2);return r+i+n+s}const Ukt=Hkt;var LZ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},g5e=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Wkt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return LZ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",LZ(o,n)).replace("{{time}}",g5e(i,n))},Ykt={p:g5e,P:Wkt};const mM=Ykt;function F5(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var qkt=["D","DD"],Gkt=["YY","YYYY"];function v5e(e){return qkt.indexOf(e)!==-1}function y5e(e){return Gkt.indexOf(e)!==-1}function L5(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kkt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zkt=function(t,n,r){var o,i=Kkt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const Xkt=Zkt;function N3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Qkt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jkt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e5t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t5t={date:N3({formats:Qkt,defaultWidth:"full"}),time:N3({formats:Jkt,defaultWidth:"full"}),dateTime:N3({formats:e5t,defaultWidth:"full"})};const n5t=t5t;var r5t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o5t=function(t,n,r,o){return r5t[t]};const i5t=o5t;function J1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var s5t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a5t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l5t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c5t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u5t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d5t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f5t=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},h5t={ordinalNumber:f5t,era:J1({values:s5t,defaultWidth:"wide"}),quarter:J1({values:a5t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:J1({values:l5t,defaultWidth:"wide"}),day:J1({values:c5t,defaultWidth:"wide"}),dayPeriod:J1({values:u5t,defaultWidth:"wide",formattingValues:d5t,defaultFormattingWidth:"wide"})};const p5t=h5t;function ey(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?g5t(a,function(f){return f.test(s)}):m5t(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function m5t(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function g5t(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function v5t(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var y5t=/^(\d+)(th|st|nd|rd)?/i,b5t=/\d+/i,x5t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w5t={any:[/^b/i,/^(a|c)/i]},C5t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_5t={any:[/1/i,/2/i,/3/i,/4/i]},S5t={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k5t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},E5t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j5t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T5t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A5t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D5t={ordinalNumber:v5t({matchPattern:y5t,parsePattern:b5t,valueCallback:function(t){return parseInt(t,10)}}),era:ey({matchPatterns:x5t,defaultMatchWidth:"wide",parsePatterns:w5t,defaultParseWidth:"any"}),quarter:ey({matchPatterns:C5t,defaultMatchWidth:"wide",parsePatterns:_5t,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ey({matchPatterns:S5t,defaultMatchWidth:"wide",parsePatterns:k5t,defaultParseWidth:"any"}),day:ey({matchPatterns:E5t,defaultMatchWidth:"wide",parsePatterns:j5t,defaultParseWidth:"any"}),dayPeriod:ey({matchPatterns:T5t,defaultMatchWidth:"any",parsePatterns:A5t,defaultParseWidth:"any"})};const I5t=D5t;var O5t={code:"en-US",formatDistance:Xkt,formatLong:n5t,formatRelative:i5t,localize:p5t,match:I5t,options:{weekStartsOn:0,firstWeekContainsDate:1}};const b5e=O5t;var P5t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$5t=/^'([^]*?)'?$/,M5t=/''/g,F5t=/[a-zA-Z]/;function oi(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,g,v,b,x,y,w,C;qe(2,arguments);var _=String(t),S=yd(),k=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:b5e,j=At((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=At((m=(g=(v=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:S.weekStartsOn)!==null&&g!==void 0?g:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!Qu(T))throw new RangeError("Invalid time value");var A=F5(T),D=f5e(T,A),I={firstWeekContainsDate:j,weekStartsOn:E,locale:k,_originalDate:T},O=_.match(R5t).map(function($){var R=$[0];if(R==="p"||R==="P"){var z=mM[R];return z($,k.formatLong)}return $}).join("").match(P5t).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return L5t($);var z=Ukt[R];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&y5e($)&&L5($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&v5e($)&&L5($,t,String(e)),z(D,$,k.localize,I);if(R.match(F5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return O}function L5t(e){var t=e.match($5t);return t?t[1].replace(M5t,"'"):e}var B5t=qc,N5t=0;function z5t(e){var t=++N5t;return B5t(e)+t}var V5t=z5t;const x5e=Ae(V5t);function Ji(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function D9(e,t){qe(2,arguments);var n=Ke(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function d0(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=yd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getDay(),g=(m<f?7:0)+m-f;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function Zf(e){qe(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var H5t=864e5;function U5t(e,t){qe(2,arguments);var n=Zf(e),r=Zf(t),o=n.getTime()-F5(n),i=r.getTime()-F5(r);return Math.round((o-i)/H5t)}function W5t(e,t){qe(2,arguments);var n=At(t),r=n*7;return Ji(e,r)}function Ab(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var WT=6e4,YT=36e5,Y5t=1e3;function Xd(e,t){qe(2,arguments);var n=Zf(e),r=Zf(t);return n.getTime()===r.getTime()}function q5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function G5t(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()-r.getFullYear()}function BZ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function w5e(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=BZ(n,r),i=Math.abs(U5t(n,r));n.setDate(n.getDate()-o*i);var s=+(BZ(n,r)===-o),a=o*(i-s);return a===0?0:a}function I9(e,t){return qe(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var NZ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},K5t="trunc";function qT(e){return e?NZ[e]:NZ[K5t]}function Z5t(e,t,n){qe(2,arguments);var r=I9(e,t)/YT;return qT(n==null?void 0:n.roundingMethod)(r)}function X5t(e,t,n){qe(2,arguments);var r=I9(e,t)/WT;return qT(n==null?void 0:n.roundingMethod)(r)}function B5(e){qe(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function Q5t(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function J5t(e){qe(1,arguments);var t=Ke(e);return B5(t).getTime()===Q5t(t).getTime()}function eEt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=Ab(n,r),i=Math.abs(q5t(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=Ab(n,r)===-o;J5t(Ke(e))&&i===1&&Ab(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function tEt(e,t,n){qe(2,arguments);var r=I9(e,t)/1e3;return qT(n==null?void 0:n.roundingMethod)(r)}function nEt(e,t,n){qe(2,arguments);var r=w5e(e,t)/7;return qT(n==null?void 0:n.roundingMethod)(r)}function rEt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=Ab(n,r),i=Math.abs(G5t(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=Ab(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function zZ(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(0,0),t}function C5e(e,t){qe(1,arguments);var n=e||{},r=Ke(n.start),o=Ke(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=d0(r,t),a=d0(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Ke(u)),u=W5t(u,1),u.setHours(15);return c}function _5e(e){qe(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function VZ(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(59,999),t}function oEt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function iEt(e){qe(1,arguments);var t=Ke(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function sEt(e){qe(1,arguments);var t=Ke(e),n=t.getMinutes();return n}function aEt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getFullYear(),p=yd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,m),g.setHours(0,0,0,0);var v=d0(g,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var x=d0(b,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function lEt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=yd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=aEt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var g=d0(m,t);return g}var cEt=6048e5;function S5e(e,t){qe(1,arguments);var n=Ke(e),r=d0(n,t).getTime()-lEt(n,t).getTime();return Math.round(r/cEt)+1}function k5e(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function gM(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()>r.getTime()}function E5e(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()<r.getTime()}function HZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uEt(e,t){if(e){if(typeof e=="string")return HZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HZ(e,t)}}function UZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=uEt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l0(e,t)}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function j5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dEt(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function cn(e){var t=j5e();return function(){var r=Ax(e),o;if(t){var i=Ax(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dEt(this,o)}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q_e(r.key),r)}}function Zt(e,t,n){return t&&WZ(e.prototype,t),n&&WZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var fEt=10,T5e=function(){function e(){Kt(this,e),Be(this,"priority",void 0),Be(this,"subPriority",0)}return Zt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),hEt=function(e){ln(n,e);var t=cn(n);function n(r,o,i,s,a){var c;return Kt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Zt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(T5e),pEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",fEt),Be(ze(r),"subPriority",-1),r}return Zt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(T5e),mn=function(){function e(){Kt(this,e),Be(this,"incompatibleTokens",void 0),Be(this,"priority",void 0),Be(this,"subPriority",void 0)}return Zt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new hEt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),mEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",140),Be(ze(r),"incompatibleTokens",["R","u","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),Zr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Pr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function _c(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*YT+i*WT+s*Y5t),rest:t.slice(n[0].length)}}function A5e(e){return Pr(Zr.anyDigitsSigned,e)}function Wr(e,t){switch(e){case 1:return Pr(Zr.singleDigit,t);case 2:return Pr(Zr.twoDigits,t);case 3:return Pr(Zr.threeDigits,t);case 4:return Pr(Zr.fourDigits,t);default:return Pr(new RegExp("^\\d{1,"+e+"}"),t)}}function N5(e,t){switch(e){case 1:return Pr(Zr.singleDigitSigned,t);case 2:return Pr(Zr.twoDigitsSigned,t);case 3:return Pr(Zr.threeDigitsSigned,t);case 4:return Pr(Zr.fourDigitsSigned,t);default:return Pr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function O9(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function D5e(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function I5e(e){return e%400===0||e%4===0&&e%100!==0}var gEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Xr(Wr(4,o),a);case"yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Wr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=D5e(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),vEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Xr(Wr(4,o),a);case"Yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Wr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=A9(o,a);if(s.isTwoDigitYear){var u=D5e(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),rm(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),rm(o,a)}}]),n}(mn),yEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return N5(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),u0(a)}}]),n}(mn),bEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return N5(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),xEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",120),Be(ze(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Wr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),wEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",120),Be(ze(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Wr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),CEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Be(ze(r),"priority",110),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Xr(Pr(Zr.month,o),a);case"MM":return Xr(Wr(2,o),a);case"Mo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),_Et=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",110),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Xr(Pr(Zr.month,o),a);case"LL":return Xr(Wr(2,o),a);case"Lo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function SEt(e,t,n){qe(2,arguments);var r=Ke(e),o=At(t),i=m5e(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var kEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",100),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Pr(Zr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return rm(SEt(o,s,a),a)}}]),n}(mn);function EEt(e,t){qe(2,arguments);var n=Ke(e),r=At(t),o=p5e(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var jEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",100),Be(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Pr(Zr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return u0(EEt(o,s))}}]),n}(mn),TEt=[31,28,31,30,31,30,31,31,30,31,30,31],AEt=[31,29,31,30,31,30,31,31,30,31,30,31],DEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"subPriority",1),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Pr(Zr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=I5e(s),c=o.getUTCMonth();return a?i>=1&&i<=AEt[c]:i>=1&&i<=TEt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),IEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"subpriority",1),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Pr(Zr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=I5e(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function P9(e,t,n){var r,o,i,s,a,c,u,d;qe(2,arguments);var f=yd(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ke(e),g=At(t),v=m.getUTCDay(),b=g%7,x=(b+7)%7,y=(x<p?7:0)+g-v;return m.setUTCDate(m.getUTCDate()+y),m}var OEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=P9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),PEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Xr(Wr(i.length,o),c);case"eo":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=P9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),REt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Xr(Wr(i.length,o),c);case"co":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=P9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function $Et(e,t){qe(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Ke(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var MEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Wr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Xr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Xr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Xr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Xr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=$Et(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),FEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(O9(s),0,0,0),o}}]),n}(mn),LEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(O9(s),0,0,0),o}}]),n}(mn),BEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["a","b","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(O9(s),0,0,0),o}}]),n}(mn),NEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Pr(Zr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),zEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Pr(Zr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(mn),VEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Pr(Zr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),HEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Pr(Zr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(mn),UEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",60),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Pr(Zr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(mn),WEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",50),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Pr(Zr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Wr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(mn),YEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",30),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Xr(Wr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(mn),qEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",10),Be(ze(r),"incompatibleTokens",["t","T","x"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return _c(Cc.basicOptionalMinutes,o);case"XX":return _c(Cc.basic,o);case"XXXX":return _c(Cc.basicOptionalSeconds,o);case"XXXXX":return _c(Cc.extendedOptionalSeconds,o);case"XXX":default:return _c(Cc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),GEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",10),Be(ze(r),"incompatibleTokens",["t","T","X"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return _c(Cc.basicOptionalMinutes,o);case"xx":return _c(Cc.basic,o);case"xxxx":return _c(Cc.basicOptionalSeconds,o);case"xxxxx":return _c(Cc.extendedOptionalSeconds,o);case"xxx":default:return _c(Cc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),KEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",40),Be(ze(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return A5e(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(mn),ZEt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",20),Be(ze(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return A5e(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(mn),XEt={G:new mEt,y:new gEt,Y:new vEt,R:new yEt,u:new bEt,Q:new xEt,q:new wEt,M:new CEt,L:new _Et,w:new kEt,I:new jEt,d:new DEt,D:new IEt,E:new OEt,e:new PEt,c:new REt,i:new MEt,a:new FEt,b:new LEt,B:new BEt,h:new NEt,H:new zEt,K:new VEt,k:new HEt,m:new UEt,s:new WEt,S:new YEt,X:new qEt,x:new GEt,t:new KEt,T:new ZEt},QEt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JEt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ejt=/^'([^]*?)'?$/,tjt=/''/g,njt=/\S/,rjt=/[a-zA-Z]/;function ojt(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,g,v,b,x,y,w,C,_;qe(3,arguments);var S=String(e),k=String(t),j=yd(),E=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:b5e;if(!E.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((g=(v=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:j.weekStartsOn)!==null&&v!==void 0?v:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(k==="")return S===""?Ke(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:E},I=[new pEt],O=k.match(JEt).map(function(X){var Q=X[0];if(Q in mM){var Z=mM[Q];return Z(X,E.formatLong)}return X}).join("").match(QEt),$=[],R=UZ(O),z;try{var F=function(){var Q=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&y5e(Q)&&L5(Q,k,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&v5e(Q)&&L5(Q,k,e);var Z=Q[0],ne=XEt[Z];if(ne){var ae=ne.incompatibleTokens;if(Array.isArray(ae)){var me=$.find(function(Te){return ae.includes(Te.token)||Te.token===Z});if(me)throw new RangeError("The format string mustn't contain `".concat(me.fullToken,"` and `").concat(Q,"` at the same time"))}else if(ne.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(Q,"` and any other token at the same time"));$.push({token:Z,fullToken:Q});var ue=ne.run(S,Q,E.match,D);if(!ue)return{v:new Date(NaN)};I.push(ue.setter),S=ue.rest}else{if(Z.match(rjt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(Q==="''"?Q="'":Z==="'"&&(Q=ijt(Q)),S.indexOf(Q)===0)S=S.slice(Q.length);else return{v:new Date(NaN)}}};for(R.s();!(z=R.n()).done;){var H=F();if(Fl(H)==="object")return H.v}}catch(X){R.e(X)}finally{R.f()}if(S.length>0&&njt.test(S))return new Date(NaN);var W=I.map(function(X){return X.priority}).sort(function(X,Q){return Q-X}).filter(function(X,Q,Z){return Z.indexOf(X)===Q}).map(function(X){return I.filter(function(Q){return Q.priority===X}).sort(function(Q,Z){return Z.subPriority-Q.subPriority})}).map(function(X){return X[0]}),V=Ke(n);if(isNaN(V.getTime()))return new Date(NaN);var q=f5e(V,F5(V)),oe={},N=UZ(W),G;try{for(N.s();!(G=N.n()).done;){var Y=G.value;if(!Y.validate(q,D))return new Date(NaN);var K=Y.set(q,oe,D);Array.isArray(K)?(q=K[0],oEt(oe,K[1])):q=K}}catch(X){N.e(X)}finally{N.f()}return q}function ijt(e){return e.match(ejt)[1].replace(tjt,"'")}function O5e(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function sjt(e,t){qe(2,arguments);var n=At(t);return Ji(e,-n)}function ajt(e,t){var n;qe(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=djt(e),i;if(o.date){var s=fjt(o.date,r);i=hjt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=pjt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=mjt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var I2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ljt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cjt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ujt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function djt(e){var t={},n=e.split(I2.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],I2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(I2.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=I2.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function fjt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function hjt(e,t){if(t===null)return new Date(NaN);var n=e.match(ljt);if(!n)return new Date(NaN);var r=!!n[4],o=ty(n[1]),i=ty(n[2])-1,s=ty(n[3]),a=ty(n[4]),c=ty(n[5])-1;if(r)return xjt(t,a,c)?gjt(t,a,c):new Date(NaN);var u=new Date(0);return!yjt(t,i,s)||!bjt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function ty(e){return e?parseInt(e):1}function pjt(e){var t=e.match(cjt);if(!t)return NaN;var n=z3(t[1]),r=z3(t[2]),o=z3(t[3]);return wjt(n,r,o)?n*YT+r*WT+o*1e3:NaN}function z3(e){return e&&parseFloat(e.replace(",","."))||0}function mjt(e){if(e==="Z")return 0;var t=e.match(ujt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return Cjt(r,o)?n*(r*YT+o*WT):NaN}function gjt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var vjt=[31,null,31,30,31,30,31,31,30,31,30,31];function P5e(e){return e%400===0||e%4===0&&e%100!==0}function yjt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(vjt[t]||(P5e(e)?29:28))}function bjt(e,t){return t>=1&&t<=(P5e(e)?366:365)}function xjt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function wjt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Cjt(e,t){return t>=0&&t<=59}function R5e(e,t){qe(2,arguments);var n=Ke(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=iEt(s);return n.setMonth(r,Math.min(i,a)),n}function _jt(e,t){if(qe(2,arguments),Fl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ke(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=R5e(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function Sjt(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setDate(r),n}function V3(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setHours(r),n}function TS(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return n.setMinutes(r),n}function kjt(e,t){qe(2,arguments);var n=Ke(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function YZ(){return Zf(Date.now())}function Ejt(e,t){qe(2,arguments);var n=At(t);return D9(e,-n)}function qZ(e,t){if(qe(2,arguments),!t||Fl(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,c=t.seconds?At(t.seconds):0,u=Ejt(e,r+n*12),d=sjt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,g=new Date(d.getTime()-m);return g}const R9=[],$9=[],$5e=new Set,nC=new Map,rC=new Map,M5e=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,z5=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),F5e=(e,t,n)=>{if(!e.length||$5e.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return z5(c===""?t[u-1]:c,d)})}return t},L5e=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?z5(e,o):t.has(o)?z5(e,t.get(o)):F5e(o,e,r)},B5e=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:F5e(o,o,r)===o},Hr=(e,t,n)=>{const r=t===1?Hr.singular(e):Hr.plural(e);return n?"".concat(t," ").concat(r):r};Hr.plural=e=>L5e(e,rC,nC,R9);Hr.singular=e=>L5e(e,nC,rC,$9);Hr.addPluralRule=(e,t)=>{R9.push([M5e(e),t])};Hr.addSingularRule=(e,t)=>{$9.push([M5e(e),t])};Hr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();rC.set(r,n),nC.set(n,r)};Hr.addUncountableRule=e=>{if(typeof e=="string"){$5e.add(e.toLowerCase());return}Hr.addPluralRule(e,"$0"),Hr.addSingularRule(e,"$0")};Hr.isPlural=e=>B5e(e,rC,nC,R9);Hr.isSingular=e=>B5e(e,nC,rC,$9);const jjt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],Tjt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],Ajt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],Djt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of jjt)Hr.addIrregularRule(e,t);for(const[e,t]of Tjt)Hr.addPluralRule(e,t);for(const[e,t]of Ajt)Hr.addSingularRule(e,t);for(const e of Djt)Hr.addUncountableRule(e);var N5e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(As,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(A[O]=I[O])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,O=new Array(D);I<D;I++)O[I]=A[I];return O}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var O=0;return function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],O=D[2],$=D[3];if(!I||!O||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=O.split("x"),z=R[0],F=R[1],H=+z,W=+F,V=isFinite(H)&&isFinite(W);if(!V)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:W,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),g(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function g(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var v=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(A){var D=n({},A||{}),I=D.source;delete D.source;var O=f(I);if(!O)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=O.asset._ref||O.asset._id||"",R=a($),z=Math.round(O.crop.left*R.width),F=Math.round(O.crop.top*R.height),H={left:z,top:F,width:Math.round(R.width-O.crop.right*R.width-z),height:Math.round(R.height-O.crop.bottom*R.height-F)},W=O.hotspot.height*R.height/2,V=O.hotspot.width*R.width/2,q=O.hotspot.x*R.width,oe=O.hotspot.y*R.height,N={left:q-V,top:oe-W,right:q+V,bottom:oe+W};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,y({crop:H,hotspot:N},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,O=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,z=R.left,F=R.top,H=R.width,W=R.height,V=z!==0||F!==0||W!==A.asset.height||H!==A.asset.width;V&&$.push("rect="+z+","+F+","+H+","+W)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var q=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return q&&$.push("flip="+q),v.forEach(function(oe){var N=oe[0],G=oe[1];typeof A[N]<"u"?$.push(G+"="+encodeURIComponent(A[N])):typeof A[G]<"u"&&$.push(G+"="+encodeURIComponent(A[G]))}),$.length===0?O:O+"?"+$.join("&")}function y(A,D){var I,O=D.width,$=D.height;if(!(O&&$))return{width:O,height:$,rect:A.crop};var R=A.crop,z=A.hotspot,F=O/$,H=R.width/R.height;if(H>F){var W=Math.round(R.height),V=Math.round(W*F),q=Math.max(0,Math.round(R.top)),oe=Math.round((z.right-z.left)/2+z.left),N=Math.max(0,Math.round(oe-V/2));N<R.left?N=R.left:N+V>R.left+R.width&&(N=R.left+R.width-V),I={left:N,top:q,width:V,height:W}}else{var G=R.width,Y=Math.round(G/F),K=Math.max(0,Math.round(R.left)),X=Math.round((z.bottom-z.top)/2+z.top),Q=Math.max(0,Math.round(X-Y/2));Q<R.top?Q=R.top:Q+Y>R.top+R.height&&(Q=R.top+R.height-Y),I={left:K,top:Q,width:G,height:Y}}return{width:O,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function k(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=v,I=i(D),O;!(O=I()).done;){var $=O.value,R=$[0],z=$[1];if(A===R||A===z)return R}return A}function E(A){if(S(A)){var D=A.config(),I=D.apiHost,O=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:O,dataset:$})}var z=A;if(k(z)){var F=z.clientConfig,H=F.apiHost,W=F.projectId,V=F.dataset,q=H||"https://api.sanity.io";return new T(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:W,dataset:V})}return new T(null,A)}var T=function(){function A(I,O){this.options=void 0,this.options=I?n({},I.options||{},O||{}):n({},O||{})}var D=A.prototype;return D.withOptions=function(O){var $=O.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var z in O)if(O.hasOwnProperty(z)){var F=j(z);R[F]=O[z]}return new A(this,n({baseUrl:$},R))},D.image=function(O){return this.withOptions({source:O})},D.dataset=function(O){return this.withOptions({dataset:O})},D.projectId=function(O){return this.withOptions({projectId:O})},D.bg=function(O){return this.withOptions({bg:O})},D.dpr=function(O){return this.withOptions(O&&O!==1?{dpr:O}:{})},D.width=function(O){return this.withOptions({width:O})},D.height=function(O){return this.withOptions({height:O})},D.focalPoint=function(O,$){return this.withOptions({focalPoint:{x:O,y:$}})},D.maxWidth=function(O){return this.withOptions({maxWidth:O})},D.minWidth=function(O){return this.withOptions({minWidth:O})},D.maxHeight=function(O){return this.withOptions({maxHeight:O})},D.minHeight=function(O){return this.withOptions({minHeight:O})},D.size=function(O,$){return this.withOptions({width:O,height:$})},D.blur=function(O){return this.withOptions({blur:O})},D.sharpen=function(O){return this.withOptions({sharpen:O})},D.rect=function(O,$,R,z){return this.withOptions({rect:{left:O,top:$,width:R,height:z}})},D.format=function(O){return this.withOptions({format:O})},D.invert=function(O){return this.withOptions({invert:O})},D.orientation=function(O){return this.withOptions({orientation:O})},D.quality=function(O){return this.withOptions({quality:O})},D.forceDownload=function(O){return this.withOptions({download:O})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(O){if(w.indexOf(O)===-1)throw new Error('Invalid fit mode "'+O+'"');return this.withOptions({fit:O})},D.crop=function(O){if(C.indexOf(O)===-1)throw new Error('Invalid crop mode "'+O+'"');return this.withOptions({crop:O})},D.saturation=function(O){return this.withOptions({saturation:O})},D.auto=function(O){if(_.indexOf(O)===-1)throw new Error('Invalid auto mode "'+O+'"');return this.withOptions({auto:O})},D.pad=function(O){return this.withOptions({pad:O})},D.url=function(){return b(this.options)},D.toString=function(){return this.url()},A}();return E})})(N5e);var Ijt=N5e.exports;const GT=Ae(Ijt);function Ojt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dx(e,t)}function vM(e){return vM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vM(e)}function Dx(e,t){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Dx(e,t)}function Pjt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(e,t,n){return Pjt()?AS=Reflect.construct.bind():AS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&Dx(u,s.prototype),u},AS.apply(null,arguments)}function Rjt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function yM(e){var t=typeof Map=="function"?new Map:void 0;return yM=function(r){if(r===null||!Rjt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return AS(r,arguments,vM(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Dx(o,r)},yM(e)}var O2=Object.freeze({left:0,top:0,bottom:0,right:0}),P2=Object.freeze({x:.5,y:.5,height:1,width:1}),$jt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=O2.top,a=O2.bottom,c=O2.left,u=O2.right;return n===s&&r===a&&o===c&&i===u},Mjt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=P2.x,a=P2.y,c=P2.width,u=P2.height;return n===s&&r===a&&o===c&&i===u},M9=function(e){Ojt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(yM(Error));function Fjt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function Ljt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(Fjt(t))return;throw t}}}var Qd="https://cdn.sanity.io",Bjt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,Njt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,z5e=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,V5e=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function zjt(e){return oC(e)&&typeof e._ref=="string"}function Vjt(e){return oC(e)&&typeof e._id=="string"}function Hjt(e){return oC(e)&&typeof e.path=="string"}function Ujt(e){return oC(e)&&typeof e.url=="string"}function Wjt(e){var t=e;return oC(t)&&t.asset&&typeof t.asset=="object"}function oC(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function Yjt(e){if(z5e.test(e))return e;if(!e.startsWith(Qd+"/"))throw new M9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Qd.length+1,n)}var qjt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function Gjt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+qjt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function Kjt(e){var t=H5e(e),n=Gjt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function H5e(e){var t=Wjt(e)?e.asset:e,n="";typeof t=="string"?n=Zjt(t):zjt(t)?n=t._ref:Vjt(t)?n=t._id:Hjt(t)?n=ev(Qd+"/"+t.path):Ujt(t)&&(n=ev(t.url));var r=n&&V5e.test(n);if(!r)throw new M9(e);return n}var U5e=Ljt(H5e);function Zjt(e){if(V5e.test(e))return e;if(e.indexOf(Qd+"/images")===0||e.indexOf(Qd+"/files")===0)return ev(e);if(z5e.test(e))return ev(Qd+"/"+e);if(Qjt(e))return ev(Qd+"/files/a/b/"+e);if(Xjt(e))return ev(Qd+"/images/a/b/"+e);throw new M9(e)}function ev(e){var t=Yjt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function Xjt(e){return Njt.test(e)}function Qjt(e){return Bjt.test(e)}function GZ(e){var t=U5e(e);return t?t.startsWith("file-"):!1}function Db(e){var t=U5e(e);return t?t.startsWith("image-"):!1}function Jjt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var eTt=Jjt;const KT=Ae(eTt);var tTt=RT,nTt=S9,rTt=nTt(function(e,t,n){tTt(e,n,t)}),oTt=rTt;const F9=Ae(oTt);var iTt=qc;function sTt(e){return iTt(e).toLowerCase()}var aTt=sTt;const Sv=Ae(aTt);var lTt=K0,cTt=X0,uTt=zT,dTt=PT,fTt=cTt(function(e){return uTt(lTt(e,1,dTt,!0))}),hTt=fTt;const W5e=Ae(hTt);function pTt(){}var L9=pTt,mTt=g9,gTt=L9;function V5(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}V5.prototype=mTt(gTt.prototype);V5.prototype.constructor=V5;var B9=V5,KZ=Q2e,vTt=KZ&&new KZ,yTt=vTt,ZZ=yTt,bTt=y9,xTt=ZZ?function(e){return ZZ.get(e)}:bTt,Y5e=xTt,wTt={},CTt=wTt,XZ=CTt,_Tt=Object.prototype,STt=_Tt.hasOwnProperty;function kTt(e){for(var t=e.name+"",n=XZ[t],r=STt.call(XZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var q5e=kTt,ETt=g9,jTt=L9,TTt=4294967295;function H5(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=TTt,this.__views__=[]}H5.prototype=ETt(jTt.prototype);H5.prototype.constructor=H5;var N9=H5,ATt=N9,DTt=B9,ITt=h9;function OTt(e){if(e instanceof ATt)return e.clone();var t=new DTt(e.__wrapped__,e.__chain__);return t.__actions__=ITt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var PTt=OTt,RTt=N9,QZ=B9,$Tt=L9,MTt=Jr,FTt=el,LTt=PTt,BTt=Object.prototype,NTt=BTt.hasOwnProperty;function U5(e){if(FTt(e)&&!MTt(e)&&!(e instanceof RTt)){if(e instanceof QZ)return e;if(NTt.call(e,"__wrapped__"))return LTt(e)}return new QZ(e)}U5.prototype=$Tt.prototype;U5.prototype.constructor=U5;var zTt=U5,VTt=N9,HTt=Y5e,UTt=q5e,WTt=zTt;function YTt(e){var t=UTt(e),n=WTt[t];if(typeof n!="function"||!(t in VTt.prototype))return!1;if(e===n)return!0;var r=HTt(n);return!!r&&e===r[0]}var qTt=YTt,JZ=B9,GTt=q8,KTt=Y5e,H3=q5e,ZTt=Jr,eX=qTt,XTt="Expected a function",QTt=8,JTt=32,eAt=128,tAt=256;function nAt(e){return GTt(function(t){var n=t.length,r=n,o=JZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(XTt);if(o&&!s&&H3(i)=="wrapper")var s=new JZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=H3(i),c=a=="wrapper"?KTt(i):void 0;c&&eX(c[0])&&c[1]==(eAt|QTt|JTt|tAt)&&!c[4].length&&c[9]==1?s=s[H3(c[0])].apply(s,c[3]):s=i.length==1&&eX(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&ZTt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var rAt=nAt,oAt=rAt,iAt=oAt(),sAt=iAt;const aAt=Ae(sAt);var lAt=V8;function cAt(e,t){for(var n=e.length;n--&&lAt(t,e[n],0)>-1;);return n}var uAt=cAt,dAt=V8;function fAt(e,t){for(var n=-1,r=e.length;++n<r&&dAt(t,e[n],0)>-1;);return n}var hAt=fAt,pAt=h_e,mAt=k0e,gAt=_ke,vAt=uAt,yAt=hAt,tX=Ike,bAt=qc;function xAt(e,t,n){if(e=bAt(e),e&&(n||t===void 0))return mAt(e);if(!e||!(t=pAt(t)))return e;var r=tX(e),o=tX(t),i=yAt(r,o),s=vAt(r,o)+1;return gAt(r,i,s).join("")}var wAt=xAt;const CAt=Ae(wAt);var R2,_At=new Uint8Array(16);function SAt(){if(!R2&&(R2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!R2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R2(_At)}const kAt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function EAt(e){return typeof e=="string"&&kAt.test(e)}var Xo=[];for(var U3=0;U3<256;++U3)Xo.push((U3+256).toString(16).substr(1));function jAt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Xo[e[t+0]]+Xo[e[t+1]]+Xo[e[t+2]]+Xo[e[t+3]]+"-"+Xo[e[t+4]]+Xo[e[t+5]]+"-"+Xo[e[t+6]]+Xo[e[t+7]]+"-"+Xo[e[t+8]]+Xo[e[t+9]]+"-"+Xo[e[t+10]]+Xo[e[t+11]]+Xo[e[t+12]]+Xo[e[t+13]]+Xo[e[t+14]]+Xo[e[t+15]]).toLowerCase();if(!EAt(n))throw TypeError("Stringified UUID is invalid");return n}function bd(e,t,n){e=e||{};var r=e.random||(e.rng||SAt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return jAt(r)}var TAt=w_e,nX=Jr;function AAt(e,t,n,r){return e==null?[]:(nX(t)||(t=t==null?[]:[t]),n=r?void 0:n,nX(n)||(n=n==null?[]:[n]),TAt(e,t,n))}var DAt=AAt;const e1=Ae(DAt);function IAt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function bM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function iC(e){const[t,n]=e;return[t,n]}function rX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function z9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function ZT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function V9(e){let t=e.map(f=>iC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Et?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Gn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[An,i]),t[r[o-1]+1][0]=Gn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=XT(t)),t=G5e(t),s=1;s<t.length;){if(t[s-1][0]===An&&t[s][0]===Gn){const f=t[s-1][1],p=t[s][1],m=rX(f,p),g=rX(p,f);m>=g?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Et,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(g>=f.length/2||g>=p.length/2)&&(t.splice(s,0,[Et,f.substring(0,g)]),t[s-1][0]=Gn,t[s-1][1]=p.substring(0,p.length-g),t[s+1][0]=An,t[s+1][1]=f.substring(g),s++),s++}s++}return t}const oX=/[^a-zA-Z0-9]/,iX=/\s/,sX=/[\r\n]/,OAt=/\n\r?\n$/,PAt=/^\r?\n\r?\n/;function G5e(e){const t=e.map(o=>iC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(oX),u=a.match(oX),d=c&&s.match(iX),f=u&&a.match(iX),p=d&&s.match(sX),m=f&&a.match(sX),g=p&&o.match(OAt),v=m&&i.match(PAt);return g||v?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Et&&t[r+1][0]===Et){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=ZT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function XT(e){let t=e.map(u=>iC(u));t.push([Et,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Gn:o++,s+=t[n][1],n++;break;case An:r++,i+=t[n][1],n++;break;case Et:r+o>1?(r!==0&&o!==0&&(a=z9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Et?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Et,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=ZT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[An,i]),n++),s.length&&(t.splice(n,0,[Gn,s]),n++),n++):n!==0&&t[n-1][0]===Et?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Et&&t[n+1][0]===Et&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=XT(t)),t}function RAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function H9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>iC(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Et?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===An?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&RAt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[An,s]),n[o[i-1]+1][0]=Gn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=XT(n)),n}function $At(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,g=0,v=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return aX(e,t,w,C,n)}}}for(let x=-b+g;x<=b-v;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)v+=2;else if(C>o)g+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],k=s+S-_;if(w=r-w,S>=w)return aX(e,t,S,k,n)}}}}return[[An,e],[Gn,t]]}function aX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=om(i,s,{checkLines:!1,deadline:o}),d=om(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function MAt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=lX(r,o,Math.ceil(r.length/4)),s=lX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function lX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=z9(e.slice(n),t.slice(o)),f=ZT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function FAt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function LAt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function BAt(e,t,n){let r=e,o=t;const i=LAt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=om(r,o,{checkLines:!1,deadline:n.deadline});FAt(a,s),a=V9(a),a.push([Et,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Gn:d++,p+=a[c][1];break;case An:u++,f+=a[c][1];break;case Et:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=om(f,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)a.splice(c,0,m[g]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function NAt(e,t,n){let r;if(!e)return[[Gn,t]];if(!t)return[[An,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Gn,o.substring(0,s)],[Et,i],[Gn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=An,r[2][0]=An),r;if(i.length===1)return[[An,e],[Gn,t]];const a=MAt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=om(c,d,n),g=om(u,f,n);return m.concat([[Et,p]],g)}return n.checkLines&&e.length>100&&t.length>100?BAt(e,t,n):$At(e,t,n.deadline)}const An=-1,Gn=1,Et=0;function sC(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=om(e,t,VAt(n||{}));return UAt(r),r}function om(e,t,n){let r=e,o=t;if(r===o)return r?[[Et,r]]:[];let i=z9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=ZT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=NAt(r,o,n);return s&&c.unshift([Et,s]),a&&c.push([Et,a]),c=XT(c),c}function zAt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function VAt(e){return{checkLines:!0,deadline:zAt(e.timeout||1),...e}}function $2(e,t,n){return n===1?e+t:t+e}function M2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function HAt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function cX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Gn){o===null&&(o=s);continue}else if(u===An){i===null&&(i=s);continue}else if(u===Et){if(o===null&&i===null){const[f,p]=M2(e[t][1],n);e[t][1]=f,e[s][1]=$2(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&HAt(e,o,i,n)){const[u,d]=M2(e[o][1],r),[f]=M2(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=$2(e[t][1],d,n);return}const[a,c]=M2(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Gn,c]),i!==null&&i>=s&&i++):e[o][1]=$2(e[o][1],c,r),i===null?e.splice(s,0,[An,c]):e[i][1]=$2(e[i][1],c,r)}function UAt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];IAt(i)&&n===Et&&cX(e,t,1),bM(o)&&n===Et&&cX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const WAt={threshold:.5,distance:1e3};function YAt(e){return{...WAt,...e}}const qAt=32;function GAt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>qAt)throw new Error("Pattern too long for this browser.");const o=YAt(r),i=KAt(t);function s(g,v){const b=g/t.length,x=Math.abs(n-v);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,f=p;d<f;)s(g,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let v=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<g)-1;for(let y=b;y>=v;y--){const w=i[e.charAt(y-1)];if(g===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(g,y-1);if(C<=a)if(a=C,c=y-1,c>n)v=Math.max(1,2*n-c);else break}}if(s(g+1,n)>a)break;m=x}return c}function KAt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function W3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return GAt(e,t,r)}function W5(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function U9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Gn&&(t[n]=e[n][1]);return t.join("")}function K5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==An&&(t[n]=e[n][1]);return t.join("")}function af(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=Z5e(r)}return t}function ZAt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=Z5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>iC(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function Z5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Ud=32,W9=4,XAt={margin:4};function Y3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...XAt,...e}}function X5e(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=sC(e,t,{checkLines:!0});return r.length>2&&(r=V9(r),r=H9(r)),q3(e,r,Y3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return q3(U9(e),e,Y3(n));if(typeof e=="string"&&t&&Array.isArray(t))return q3(e,t,Y3(n));throw new Error("Unknown call format to make()")}function q3(e,t,n){if(t.length===0)return[];const r=[];let o=W5(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[g,v]=m,b=v.length,x=af(v);switch(!i&&g!==Et&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),g){case Gn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+v+f.substring(a);break;case An:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case Et:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(uX(o,d,n),r.push(o),o=W5(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}g!==Gn&&(s+=b,c+=x),g!==An&&(a+=b,u+=x)}return i&&(uX(o,d,n),r.push(o)),r}function uX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Ud-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&bM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Et,s]);const a=s.length,c=af(s);let u=e.start2+e.length1+o;u<t.length&&bM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Et,d]);const f=d.length,p=af(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function QAt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Gn:n+=s.length;break;case An:r+=s.length;break;case Et:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function dX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Gn&&(n+=e[s][1].length),e[s][0]!==An&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===An?i:i+(t-o)}function JAt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Et)i.unshift([Et,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Et)i.push([Et,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function eDt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W9;const n=Ud;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=W5(i-a.length,s-a.length);let u=!0;if(a!==""){const p=af(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Et,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],g=af(m);if(p===Gn){c.length2+=m.length,c.utf8Length2+=g,s+=m.length;const v=o.diffs.shift();v&&c.diffs.push(v),u=!1}else p===An&&c.diffs.length===1&&c.diffs[0][0]===Et&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=g,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),g=af(m),c.length1+=m.length,c.utf8Length1+=g,i+=m.length,p===Et?(c.length2+=m.length,c.utf8Length2+=g,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=K5e(c.diffs),a=a.substring(a.length-t);const d=U9(o.diffs).substring(0,t),f=af(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Et?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Et,d])),u||e.splice(++r,0,c)}}}function Q5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=ZAt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||W9,s=n.deleteThreshold||.4,a=JAt(o,i);r=a+r+a,eDt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=U9(o[d].diffs);let m,g=-1;if(p.length>Ud?(m=W3(r,p.substring(0,Ud),f),m!==-1&&(g=W3(r,p.substring(p.length-Ud),f+p.length-Ud),(g===-1||m>=g)&&(m=-1))):m=W3(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let v;if(g===-1?v=r.substring(m,m+p.length):v=r.substring(m,g+Ud),p===v)r=r.substring(0,m)+K5e(o[d].diffs)+r.substring(m+p.length);else{let b=sC(p,v,{checkLines:!1});if(p.length>Ud&&QAt(b)/p.length>s)u[d]=!1;else{b=G5e(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Et&&(y=dX(b,x)),C[0]===Gn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===An&&(r=r.substring(0,m+y)+r.substring(m+dX(b,x+C[1].length))),C[0]!==An&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function J5e(e){return e.map(tDt).join("")}function tDt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Gn:u="+";break;case An:u="-";break;case Et:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const nDt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function eEe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(nDt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=W5(F2(o[1]),F2(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=F2(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=F2(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=af(c)-c.length;if(a==="-")i.diffs.push([An,c]),i.length1-=u;else if(a==="+")i.diffs.push([Gn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Et,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function F2(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var tEe;function Le(){return tEe.apply(null,arguments)}function rDt(e){tEe=e}function Bl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Fp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Y9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(dn(e,t))return!1;return!0}function xs(e){return e===void 0}function Ju(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function aC(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function nEe(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function lf(e,t){for(var n in t)dn(t,n)&&(e[n]=t[n]);return dn(t,"toString")&&(e.toString=t.toString),dn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Zc(e,t,n,r){return EEe(e,t,n,r,!0).utc()}function oDt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function jt(e){return e._pf==null&&(e._pf=oDt()),e._pf}var xM;Array.prototype.some?xM=Array.prototype.some:xM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function q9(e){if(e._isValid==null){var t=jt(e),n=xM.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function QT(e){var t=Zc(NaN);return e!=null?lf(jt(t),e):jt(t).userInvalidated=!0,t}var fX=Le.momentProperties=[],G3=!1;function G9(e,t){var n,r,o,i=fX.length;if(xs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),xs(t._i)||(e._i=t._i),xs(t._f)||(e._f=t._f),xs(t._l)||(e._l=t._l),xs(t._strict)||(e._strict=t._strict),xs(t._tzm)||(e._tzm=t._tzm),xs(t._isUTC)||(e._isUTC=t._isUTC),xs(t._offset)||(e._offset=t._offset),xs(t._pf)||(e._pf=jt(t)),xs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=fX[n],o=t[r],xs(o)||(e[r]=o);return e}function lC(e){G9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),G3===!1&&(G3=!0,Le.updateOffset(this),G3=!1)}function Nl(e){return e instanceof lC||e!=null&&e._isAMomentObject!=null}function rEe(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function il(e,t){var n=!0;return lf(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])dn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}rEe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var hX={};function oEe(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),hX[e]||(rEe(t),hX[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function Xc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function iDt(e){var t,n;for(n in e)dn(e,n)&&(t=e[n],Xc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function wM(e,t){var n=lf({},e),r;for(r in t)dn(t,r)&&(Fp(e[r])&&Fp(t[r])?(n[r]={},lf(n[r],e[r]),lf(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)dn(e,r)&&!dn(t,r)&&Fp(e[r])&&(n[r]=lf({},n[r]));return n}function K9(e){e!=null&&this.set(e)}var CM;Object.keys?CM=Object.keys:CM=function(e){var t,n=[];for(t in e)dn(e,t)&&n.push(t);return n};var sDt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function aDt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Xc(r)?r.call(t,n):r}function Nc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var Z9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K3={},kv={};function rt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(kv[e]=o),t&&(kv[t[0]]=function(){return Nc(o.apply(this,arguments),t[1],t[2])}),n&&(kv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function lDt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function cDt(e){var t=e.match(Z9),n,r;for(n=0,r=t.length;n<r;n++)kv[t[n]]?t[n]=kv[t[n]]:t[n]=lDt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Xc(t[s])?t[s].call(o,e):t[s];return i}}function DS(e,t){return e.isValid()?(t=iEe(t,e.localeData()),K3[t]=K3[t]||cDt(t),K3[t](e)):e.localeData().invalidDate()}function iEe(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(L2.lastIndex=0;n>=0&&L2.test(e);)e=e.replace(L2,r),L2.lastIndex=0,n-=1;return e}var uDt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function dDt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Z9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var fDt="Invalid date";function hDt(){return this._invalidDate}var pDt="%d",mDt=/\d{1,2}/;function gDt(e){return this._ordinal.replace("%d",e)}var vDt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yDt(e,t,n,r){var o=this._relativeTime[n];return Xc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function bDt(e,t){var n=this._relativeTime[e>0?"future":"past"];return Xc(n)?n(t):n.replace(/%s/i,t)}var Ib={};function Hi(e,t){var n=e.toLowerCase();Ib[n]=Ib[n+"s"]=Ib[t]=e}function sl(e){return typeof e=="string"?Ib[e]||Ib[e.toLowerCase()]:void 0}function X9(e){var t={},n,r;for(r in e)dn(e,r)&&(n=sl(r),n&&(t[n]=e[r]));return t}var sEe={};function Ui(e,t){sEe[e]=t}function xDt(e){var t=[],n;for(n in e)dn(e,n)&&t.push({unit:n,priority:sEe[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function JT(e){return e%4===0&&e%100!==0||e%400===0}function Oa(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Oa(t)),n}function t1(e,t){return function(n){return n!=null?(aEe(this,e,n),Le.updateOffset(this,t),this):Y5(this,e)}}function Y5(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function aEe(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&JT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),iA(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function wDt(e){return e=sl(e),Xc(this[e])?this[e]():this}function CDt(e,t){if(typeof e=="object"){e=X9(e);var n=xDt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=sl(e),Xc(this[e]))return this[e](t);return this}var lEe=/\d/,ba=/\d\d/,cEe=/\d{3}/,Q9=/\d{4}/,eA=/[+-]?\d{6}/,hr=/\d\d?/,uEe=/\d\d\d\d?/,dEe=/\d\d\d\d\d\d?/,tA=/\d{1,3}/,J9=/\d{1,4}/,nA=/[+-]?\d{1,6}/,n1=/\d+/,rA=/[+-]?\d+/,_Dt=/Z|[+-]\d\d:?\d\d/gi,oA=/Z|[+-]\d\d(?::?\d\d)?/gi,SDt=/[+-]?\d+(\.\d{1,3})?/,cC=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,q5;q5={};function He(e,t,n){q5[e]=Xc(t)?t:function(r,o){return r&&n?n:t}}function kDt(e,t){return dn(q5,e)?q5[e](t._strict,t._locale):new RegExp(EDt(e))}function EDt(e){return ta(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function ta(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _M={};function $n(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Ju(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)_M[e[n]]=r}function uC(e,t){$n(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function jDt(e,t,n){t!=null&&dn(_M,e)&&_M[e](t,n._a,n,e)}var Ri=0,Eu=1,Sc=2,Ao=3,_l=4,ju=5,mp=6,TDt=7,ADt=8;function DDt(e,t){return(e%t+t)%t}var Gr;Array.prototype.indexOf?Gr=Array.prototype.indexOf:Gr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function iA(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=DDt(t,12);return e+=(t-n)/12,n===1?JT(e)?29:28:31-n%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});rt("MMMM",0,0,function(e){return this.localeData().months(this,e)});Hi("month","M");Ui("month",8);He("M",hr);He("MM",hr,ba);He("MMM",function(e,t){return t.monthsShortRegex(e)});He("MMMM",function(e,t){return t.monthsRegex(e)});$n(["M","MM"],function(e,t){t[Eu]=Mt(e)-1});$n(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Eu]=o:jt(n).invalidMonth=e});var IDt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fEe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hEe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ODt=cC,PDt=cC;function RDt(e,t){return e?Bl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||hEe).test(t)?"format":"standalone"][e.month()]:Bl(this._months)?this._months:this._months.standalone}function $Dt(e,t){return e?Bl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[hEe.test(t)?"format":"standalone"][e.month()]:Bl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function MDt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Zc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null))}function FDt(e,t,n){var r,o,i;if(this._monthsParseExact)return MDt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Zc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function pEe(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!Ju(t))return e}return n=Math.min(e.date(),iA(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function mEe(e){return e!=null?(pEe(this,e),Le.updateOffset(this,!0),this):Y5(this,"Month")}function LDt(){return iA(this.year(),this.month())}function BDt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||gEe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(dn(this,"_monthsShortRegex")||(this._monthsShortRegex=ODt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function NDt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||gEe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(dn(this,"_monthsRegex")||(this._monthsRegex=PDt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gEe(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Zc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=ta(t[o]),n[o]=ta(n[o]);for(o=0;o<24;o++)r[o]=ta(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}rt("Y",0,0,function(){var e=this.year();return e<=9999?Nc(e,4):"+"+e});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");Hi("year","y");Ui("year",1);He("Y",rA);He("YY",hr,ba);He("YYYY",J9,Q9);He("YYYYY",nA,eA);He("YYYYYY",nA,eA);$n(["YYYYY","YYYYYY"],Ri);$n("YYYY",function(e,t){t[Ri]=e.length===2?Le.parseTwoDigitYear(e):Mt(e)});$n("YY",function(e,t){t[Ri]=Le.parseTwoDigitYear(e)});$n("Y",function(e,t){t[Ri]=parseInt(e,10)});function Ob(e){return JT(e)?366:365}Le.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var vEe=t1("FullYear",!0);function zDt(){return JT(this.year())}function VDt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Ix(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function G5(e,t,n){var r=7+t-n,o=(7+Ix(e,0,r).getUTCDay()-t)%7;return-o+r-1}function yEe(e,t,n,r,o){var i=(7+n-r)%7,s=G5(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=Ob(c)+a):a>Ob(e)?(c=e+1,u=a-Ob(e)):(c=e,u=a),{year:c,dayOfYear:u}}function Ox(e,t,n){var r=G5(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+$u(s,t,n)):o>$u(e.year(),t,n)?(i=o-$u(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function $u(e,t,n){var r=G5(e,t,n),o=G5(e+1,t,n);return(Ob(e)-r+o)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");Hi("week","w");Hi("isoWeek","W");Ui("week",5);Ui("isoWeek",5);He("w",hr);He("ww",hr,ba);He("W",hr);He("WW",hr,ba);uC(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function HDt(e){return Ox(e,this._week.dow,this._week.doy).week}var UDt={dow:0,doy:6};function WDt(){return this._week.dow}function YDt(){return this._week.doy}function qDt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function GDt(e){var t=Ox(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});rt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});rt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");Hi("day","d");Hi("weekday","e");Hi("isoWeekday","E");Ui("day",11);Ui("weekday",11);Ui("isoWeekday",11);He("d",hr);He("e",hr);He("E",hr);He("dd",function(e,t){return t.weekdaysMinRegex(e)});He("ddd",function(e,t){return t.weekdaysShortRegex(e)});He("dddd",function(e,t){return t.weekdaysRegex(e)});uC(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:jt(n).invalidWeekday=e});uC(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function KDt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ZDt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function e7(e,t){return e.slice(t,7).concat(e.slice(0,t))}var XDt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bEe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),QDt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),JDt=cC,eIt=cC,tIt=cC;function nIt(e,t){var n=Bl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?e7(n,this._week.dow):e?n[e.day()]:n}function rIt(e){return e===!0?e7(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function oIt(e){return e===!0?e7(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function iIt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Zc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1||(o=Gr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Gr.call(this._minWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function sIt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return iIt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Zc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function aIt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=KDt(e,this.localeData()),this.add(e-t,"d")):t}function lIt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function cIt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ZDt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function uIt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||t7.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(dn(this,"_weekdaysRegex")||(this._weekdaysRegex=JDt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function dIt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||t7.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=eIt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function fIt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||t7.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tIt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function t7(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Zc([2e3,1]).day(i),a=ta(this.weekdaysMin(s,"")),c=ta(this.weekdaysShort(s,"")),u=ta(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function n7(){return this.hours()%12||12}function hIt(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,n7);rt("k",["kk",2],0,hIt);rt("hmm",0,0,function(){return""+n7.apply(this)+Nc(this.minutes(),2)});rt("hmmss",0,0,function(){return""+n7.apply(this)+Nc(this.minutes(),2)+Nc(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+Nc(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+Nc(this.minutes(),2)+Nc(this.seconds(),2)});function xEe(e,t){rt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}xEe("a",!0);xEe("A",!1);Hi("hour","h");Ui("hour",13);function wEe(e,t){return t._meridiemParse}He("a",wEe);He("A",wEe);He("H",hr);He("h",hr);He("k",hr);He("HH",hr,ba);He("hh",hr,ba);He("kk",hr,ba);He("hmm",uEe);He("hmmss",dEe);He("Hmm",uEe);He("Hmmss",dEe);$n(["H","HH"],Ao);$n(["k","kk"],function(e,t,n){var r=Mt(e);t[Ao]=r===24?0:r});$n(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});$n(["h","hh"],function(e,t,n){t[Ao]=Mt(e),jt(n).bigHour=!0});$n("hmm",function(e,t,n){var r=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[_l]=Mt(e.substr(r)),jt(n).bigHour=!0});$n("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[_l]=Mt(e.substr(r,2)),t[ju]=Mt(e.substr(o)),jt(n).bigHour=!0});$n("Hmm",function(e,t,n){var r=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[_l]=Mt(e.substr(r))});$n("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[_l]=Mt(e.substr(r,2)),t[ju]=Mt(e.substr(o))});function pIt(e){return(e+"").toLowerCase().charAt(0)==="p"}var mIt=/[ap]\.?m?\.?/i,gIt=t1("Hours",!0);function vIt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var CEe={calendar:sDt,longDateFormat:uDt,invalidDate:fDt,ordinal:pDt,dayOfMonthOrdinalParse:mDt,relativeTime:vDt,months:IDt,monthsShort:fEe,week:UDt,weekdays:XDt,weekdaysMin:QDt,weekdaysShort:bEe,meridiemParse:mIt},br={},ny={},Px;function yIt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function pX(e){return e&&e.toLowerCase().replace("_","-")}function bIt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=pX(e[t]).split("-"),n=i.length,r=pX(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=sA(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&yIt(i,r)>=n-1)break;n--}t++}return Px}function xIt(e){return e.match("^[^/\\\\]*$")!=null}function sA(e){var t=null,n;if(br[e]===void 0&&typeof module<"u"&&module&&module.exports&&xIt(e))try{t=Px._abbr,n=require,n("./locale/"+e),Df(t)}catch{br[e]=null}return br[e]}function Df(e,t){var n;return e&&(xs(t)?n=xd(e):n=r7(e,t),n?Px=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Px._abbr}function r7(e,t){if(t!==null){var n,r=CEe;if(t.abbr=e,br[e]!=null)oEe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=br[e]._config;else if(t.parentLocale!=null)if(br[t.parentLocale]!=null)r=br[t.parentLocale]._config;else if(n=sA(t.parentLocale),n!=null)r=n._config;else return ny[t.parentLocale]||(ny[t.parentLocale]=[]),ny[t.parentLocale].push({name:e,config:t}),null;return br[e]=new K9(wM(r,t)),ny[e]&&ny[e].forEach(function(o){r7(o.name,o.config)}),Df(e),br[e]}else return delete br[e],null}function wIt(e,t){if(t!=null){var n,r,o=CEe;br[e]!=null&&br[e].parentLocale!=null?br[e].set(wM(br[e]._config,t)):(r=sA(e),r!=null&&(o=r._config),t=wM(o,t),r==null&&(t.abbr=e),n=new K9(t),n.parentLocale=br[e],br[e]=n),Df(e)}else br[e]!=null&&(br[e].parentLocale!=null?(br[e]=br[e].parentLocale,e===Df()&&Df(e)):br[e]!=null&&delete br[e]);return br[e]}function xd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Px;if(!Bl(e)){if(t=sA(e),t)return t;e=[e]}return bIt(e)}function CIt(){return CM(br)}function o7(e){var t,n=e._a;return n&&jt(e).overflow===-2&&(t=n[Eu]<0||n[Eu]>11?Eu:n[Sc]<1||n[Sc]>iA(n[Ri],n[Eu])?Sc:n[Ao]<0||n[Ao]>24||n[Ao]===24&&(n[_l]!==0||n[ju]!==0||n[mp]!==0)?Ao:n[_l]<0||n[_l]>59?_l:n[ju]<0||n[ju]>59?ju:n[mp]<0||n[mp]>999?mp:-1,jt(e)._overflowDayOfYear&&(t<Ri||t>Sc)&&(t=Sc),jt(e)._overflowWeeks&&t===-1&&(t=TDt),jt(e)._overflowWeekday&&t===-1&&(t=ADt),jt(e).overflow=t),e}var _It=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,SIt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kIt=/Z|[+-]\d\d(?::?\d\d)?/,B2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Z3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],EIt=/^\/?Date\((-?\d+)/i,jIt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,TIt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _Ee(e){var t,n,r=e._i,o=_It.exec(r)||SIt.exec(r),i,s,a,c,u=B2.length,d=Z3.length;if(o){for(jt(e).iso=!0,t=0,n=u;t<n;t++)if(B2[t][1].exec(o[1])){s=B2[t][0],i=B2[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(Z3[t][1].exec(o[3])){a=(o[2]||" ")+Z3[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(kIt.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),s7(e)}else e._isValid=!1}function AIt(e,t,n,r,o,i){var s=[DIt(e),fEe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function DIt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function IIt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function OIt(e,t,n){if(e){var r=bEe.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return jt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function PIt(e,t,n){if(e)return TIt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function SEe(e){var t=jIt.exec(IIt(e._i)),n;if(t){if(n=AIt(t[4],t[3],t[2],t[5],t[6],t[7]),!OIt(t[1],n,e))return;e._a=n,e._tzm=PIt(t[8],t[9],t[10]),e._d=Ix.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),jt(e).rfc2822=!0}else e._isValid=!1}function RIt(e){var t=EIt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(_Ee(e),e._isValid===!1)delete e._isValid;else return;if(SEe(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=il("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function jg(e,t,n){return e??t??n}function $It(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function i7(e){var t,n,r=[],o,i,s;if(!e._d){for(o=$It(e),e._w&&e._a[Sc]==null&&e._a[Eu]==null&&MIt(e),e._dayOfYear!=null&&(s=jg(e._a[Ri],o[Ri]),(e._dayOfYear>Ob(s)||e._dayOfYear===0)&&(jt(e)._overflowDayOfYear=!0),n=Ix(s,0,e._dayOfYear),e._a[Eu]=n.getUTCMonth(),e._a[Sc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ao]===24&&e._a[_l]===0&&e._a[ju]===0&&e._a[mp]===0&&(e._nextDay=!0,e._a[Ao]=0),e._d=(e._useUTC?Ix:VDt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ao]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(jt(e).weekdayMismatch=!0)}}function MIt(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=jg(t.GG,e._a[Ri],Ox(ur(),1,4).year),r=jg(t.W,1),o=jg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=Ox(ur(),i,s),n=jg(t.gg,e._a[Ri],u.year),r=jg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>$u(n,i,s)?jt(e)._overflowWeeks=!0:c!=null?jt(e)._overflowWeekday=!0:(a=yEe(n,r,o,i,s),e._a[Ri]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function s7(e){if(e._f===Le.ISO_8601){_Ee(e);return}if(e._f===Le.RFC_2822){SEe(e);return}e._a=[],jt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=iEe(e._f,e._locale).match(Z9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(kDt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&jt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),kv[i]?(r?jt(e).empty=!1:jt(e).unusedTokens.push(i),jDt(i,r,e)):e._strict&&!r&&jt(e).unusedTokens.push(i);jt(e).charsLeftOver=a-c,t.length>0&&jt(e).unusedInput.push(t),e._a[Ao]<=12&&jt(e).bigHour===!0&&e._a[Ao]>0&&(jt(e).bigHour=void 0),jt(e).parsedDateParts=e._a.slice(0),jt(e).meridiem=e._meridiem,e._a[Ao]=FIt(e._locale,e._a[Ao],e._meridiem),u=jt(e).era,u!==null&&(e._a[Ri]=e._locale.erasConvertYear(u,e._a[Ri])),i7(e),o7(e)}function FIt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function LIt(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){jt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=G9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],s7(t),q9(t)&&(s=!0),i+=jt(t).charsLeftOver,i+=jt(t).unusedTokens.length*10,jt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));lf(e,n||t)}function BIt(e){if(!e._d){var t=X9(e._i),n=t.day===void 0?t.date:t.day;e._a=nEe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),i7(e)}}function NIt(e){var t=new lC(o7(kEe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kEe(e){var t=e._i,n=e._f;return e._locale=e._locale||xd(e._l),t===null||n===void 0&&t===""?QT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Nl(t)?new lC(o7(t)):(aC(t)?e._d=t:Bl(n)?LIt(e):n?s7(e):zIt(e),q9(e)||(e._d=null),e))}function zIt(e){var t=e._i;xs(t)?e._d=new Date(Le.now()):aC(t)?e._d=new Date(t.valueOf()):typeof t=="string"?RIt(e):Bl(t)?(e._a=nEe(t.slice(0),function(n){return parseInt(n,10)}),i7(e)):Fp(t)?BIt(e):Ju(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function EEe(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Fp(e)&&Y9(e)||Bl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,NIt(i)}function ur(e,t,n,r){return EEe(e,t,n,r,!1)}var VIt=il("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:QT()}),HIt=il("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:QT()});function jEe(e,t){var n,r;if(t.length===1&&Bl(t[0])&&(t=t[0]),!t.length)return ur();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function UIt(){var e=[].slice.call(arguments,0);return jEe("isBefore",e)}function WIt(){var e=[].slice.call(arguments,0);return jEe("isAfter",e)}var YIt=function(){return Date.now?Date.now():+new Date},ry=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qIt(e){var t,n=!1,r,o=ry.length;for(t in e)if(dn(e,t)&&!(Gr.call(ry,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[ry[r]]){if(n)return!1;parseFloat(e[ry[r]])!==Mt(e[ry[r]])&&(n=!0)}return!0}function GIt(){return this._isValid}function KIt(){return ql(NaN)}function aA(e){var t=X9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=qIt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=xd(),this._bubble()}function IS(e){return e instanceof aA}function SM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ZIt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function TEe(e,t){rt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Nc(~~(n/60),2)+t+Nc(~~n%60,2)})}TEe("Z",":");TEe("ZZ","");He("Z",oA);He("ZZ",oA);$n(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=a7(oA,e)});var XIt=/([\+\-]|\d\d)/gi;function a7(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(XIt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function l7(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Nl(e)||aC(e)?e.valueOf():ur(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):ur(e).local()}function kM(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function QIt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=a7(oA,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=kM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?IEe(this,ql(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:kM(this)}function JIt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function e3t(e){return this.utcOffset(0,e)}function t3t(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(kM(this),"m")),this}function n3t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=a7(_Dt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function r3t(e){return this.isValid()?(e=e?ur(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function o3t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function i3t(){if(!xs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return G9(e,this),e=kEe(e),e._a?(t=e._isUTC?Zc(e._a):ur(e._a),this._isDSTShifted=this.isValid()&&ZIt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function s3t(){return this.isValid()?!this._isUTC:!1}function a3t(){return this.isValid()?this._isUTC:!1}function AEe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var l3t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,c3t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ql(e,t){var n=e,r=null,o,i,s;return IS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ju(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=l3t.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[Sc])*o,h:Mt(r[Ao])*o,m:Mt(r[_l])*o,s:Mt(r[ju])*o,ms:Mt(SM(r[mp]*1e3))*o}):(r=c3t.exec(e))?(o=r[1]==="-"?-1:1,n={y:Rh(r[2],o),M:Rh(r[3],o),w:Rh(r[4],o),d:Rh(r[5],o),h:Rh(r[6],o),m:Rh(r[7],o),s:Rh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=u3t(ur(n.from),ur(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new aA(n),IS(e)&&dn(e,"_locale")&&(i._locale=e._locale),IS(e)&&dn(e,"_isValid")&&(i._isValid=e._isValid),i}ql.fn=aA.prototype;ql.invalid=KIt;function Rh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function mX(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function u3t(e,t){var n;return e.isValid()&&t.isValid()?(t=l7(t,e),e.isBefore(t)?n=mX(e,t):(n=mX(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function DEe(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(oEe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=ql(n,r),IEe(this,o,e),this}}function IEe(e,t,n,r){var o=t._milliseconds,i=SM(t._days),s=SM(t._months);e.isValid()&&(r=r??!0,s&&pEe(e,Y5(e,"Month")+s*n),i&&aEe(e,"Date",Y5(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var d3t=DEe(1,"add"),f3t=DEe(-1,"subtract");function OEe(e){return typeof e=="string"||e instanceof String}function h3t(e){return Nl(e)||aC(e)||OEe(e)||Ju(e)||m3t(e)||p3t(e)||e===null||e===void 0}function p3t(e){var t=Fp(e)&&!Y9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function m3t(e){var t=Bl(e),n=!1;return t&&(n=e.filter(function(r){return!Ju(r)&&OEe(e)}).length===0),t&&n}function g3t(e){var t=Fp(e)&&!Y9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function v3t(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function y3t(e,t){arguments.length===1&&(arguments[0]?h3t(arguments[0])?(e=arguments[0],t=void 0):g3t(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ur(),r=l7(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(Xc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ur(n)))}function b3t(){return new lC(this)}function x3t(e,t){var n=Nl(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function w3t(e,t){var n=Nl(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function C3t(e,t,n,r){var o=Nl(e)?e:ur(e),i=Nl(t)?t:ur(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function _3t(e,t){var n=Nl(e)?e:ur(e),r;return this.isValid()&&n.isValid()?(t=sl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function S3t(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function k3t(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function E3t(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=l7(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=sl(t),t){case"year":i=OS(this,r)/12;break;case"month":i=OS(this,r);break;case"quarter":i=OS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Oa(i)}function OS(e,t){if(e.date()<t.date())return-OS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function j3t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function T3t(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?DS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",DS(n,"Z")):DS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function A3t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function D3t(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=DS(this,e);return this.localeData().postformat(t)}function I3t(e,t){return this.isValid()&&(Nl(e)&&e.isValid()||ur(e).isValid())?ql({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function O3t(e){return this.from(ur(),e)}function P3t(e,t){return this.isValid()&&(Nl(e)&&e.isValid()||ur(e).isValid())?ql({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function R3t(e){return this.to(ur(),e)}function PEe(e){var t;return e===void 0?this._locale._abbr:(t=xd(e),t!=null&&(this._locale=t),this)}var REe=il("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function $Ee(){return this._locale}var K5=1e3,Ev=60*K5,Z5=60*Ev,MEe=(365*400+97)*24*Z5;function jv(e,t){return(e%t+t)%t}function FEe(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-MEe:new Date(e,t,n).valueOf()}function LEe(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-MEe:Date.UTC(e,t,n)}function $3t(e){var t,n;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?LEe:FEe,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=jv(t+(this._isUTC?0:this.utcOffset()*Ev),Z5);break;case"minute":t=this._d.valueOf(),t-=jv(t,Ev);break;case"second":t=this._d.valueOf(),t-=jv(t,K5);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function M3t(e){var t,n;if(e=sl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?LEe:FEe,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Z5-jv(t+(this._isUTC?0:this.utcOffset()*Ev),Z5)-1;break;case"minute":t=this._d.valueOf(),t+=Ev-jv(t,Ev)-1;break;case"second":t=this._d.valueOf(),t+=K5-jv(t,K5)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function F3t(){return this._d.valueOf()-(this._offset||0)*6e4}function L3t(){return Math.floor(this.valueOf()/1e3)}function B3t(){return new Date(this.valueOf())}function N3t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function z3t(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function V3t(){return this.isValid()?this.toISOString():null}function H3t(){return q9(this)}function U3t(){return lf({},jt(this))}function W3t(){return jt(this).overflow}function Y3t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");He("N",c7);He("NN",c7);He("NNN",c7);He("NNNN",rOt);He("NNNNN",oOt);$n(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?jt(n).era=o:jt(n).invalidEra=e});He("y",n1);He("yy",n1);He("yyy",n1);He("yyyy",n1);He("yo",iOt);$n(["y","yy","yyy","yyyy"],Ri);$n(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ri]=n._locale.eraYearOrdinalParse(e,o):t[Ri]=parseInt(e,10)});function q3t(e,t){var n,r,o,i=this._eras||xd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function G3t(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function K3t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function Z3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function X3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Q3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function J3t(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function eOt(e){return dn(this,"_erasNameRegex")||u7.call(this),e?this._erasNameRegex:this._erasRegex}function tOt(e){return dn(this,"_erasAbbrRegex")||u7.call(this),e?this._erasAbbrRegex:this._erasRegex}function nOt(e){return dn(this,"_erasNarrowRegex")||u7.call(this),e?this._erasNarrowRegex:this._erasRegex}function c7(e,t){return t.erasAbbrRegex(e)}function rOt(e,t){return t.erasNameRegex(e)}function oOt(e,t){return t.erasNarrowRegex(e)}function iOt(e,t){return t._eraYearOrdinalRegex||n1}function u7(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(ta(s[o].name)),e.push(ta(s[o].abbr)),n.push(ta(s[o].narrow)),r.push(ta(s[o].name)),r.push(ta(s[o].abbr)),r.push(ta(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function lA(e,t){rt(0,[e,e.length],0,t)}lA("gggg","weekYear");lA("ggggg","weekYear");lA("GGGG","isoWeekYear");lA("GGGGG","isoWeekYear");Hi("weekYear","gg");Hi("isoWeekYear","GG");Ui("weekYear",1);Ui("isoWeekYear",1);He("G",rA);He("g",rA);He("GG",hr,ba);He("gg",hr,ba);He("GGGG",J9,Q9);He("gggg",J9,Q9);He("GGGGG",nA,eA);He("ggggg",nA,eA);uC(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});uC(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function sOt(e){return BEe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function aOt(e){return BEe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function lOt(){return $u(this.year(),1,4)}function cOt(){return $u(this.isoWeekYear(),1,4)}function uOt(){var e=this.localeData()._week;return $u(this.year(),e.dow,e.doy)}function dOt(){var e=this.localeData()._week;return $u(this.weekYear(),e.dow,e.doy)}function BEe(e,t,n,r,o){var i;return e==null?Ox(this,r,o).year:(i=$u(e,r,o),t>i&&(t=i),fOt.call(this,e,t,n,r,o))}function fOt(e,t,n,r,o){var i=yEe(e,t,n,r,o),s=Ix(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}rt("Q",0,"Qo","quarter");Hi("quarter","Q");Ui("quarter",7);He("Q",lEe);$n("Q",function(e,t){t[Eu]=(Mt(e)-1)*3});function hOt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");Hi("date","D");Ui("date",9);He("D",hr);He("DD",hr,ba);He("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});$n(["D","DD"],Sc);$n("Do",function(e,t){t[Sc]=Mt(e.match(hr)[0])});var NEe=t1("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");Hi("dayOfYear","DDD");Ui("dayOfYear",4);He("DDD",tA);He("DDDD",cEe);$n(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function pOt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}rt("m",["mm",2],0,"minute");Hi("minute","m");Ui("minute",14);He("m",hr);He("mm",hr,ba);$n(["m","mm"],_l);var mOt=t1("Minutes",!1);rt("s",["ss",2],0,"second");Hi("second","s");Ui("second",15);He("s",hr);He("ss",hr,ba);$n(["s","ss"],ju);var gOt=t1("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Hi("millisecond","ms");Ui("millisecond",16);He("S",tA,lEe);He("SS",tA,ba);He("SSS",tA,cEe);var cf,zEe;for(cf="SSSS";cf.length<=9;cf+="S")He(cf,n1);function vOt(e,t){t[mp]=Mt(("0."+e)*1e3)}for(cf="S";cf.length<=9;cf+="S")$n(cf,vOt);zEe=t1("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function yOt(){return this._isUTC?"UTC":""}function bOt(){return this._isUTC?"Coordinated Universal Time":""}var je=lC.prototype;je.add=d3t;je.calendar=y3t;je.clone=b3t;je.diff=E3t;je.endOf=M3t;je.format=D3t;je.from=I3t;je.fromNow=O3t;je.to=P3t;je.toNow=R3t;je.get=wDt;je.invalidAt=W3t;je.isAfter=x3t;je.isBefore=w3t;je.isBetween=C3t;je.isSame=_3t;je.isSameOrAfter=S3t;je.isSameOrBefore=k3t;je.isValid=H3t;je.lang=REe;je.locale=PEe;je.localeData=$Ee;je.max=HIt;je.min=VIt;je.parsingFlags=U3t;je.set=CDt;je.startOf=$3t;je.subtract=f3t;je.toArray=N3t;je.toObject=z3t;je.toDate=B3t;je.toISOString=T3t;je.inspect=A3t;typeof Symbol<"u"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});je.toJSON=V3t;je.toString=j3t;je.unix=L3t;je.valueOf=F3t;je.creationData=Y3t;je.eraName=Z3t;je.eraNarrow=X3t;je.eraAbbr=Q3t;je.eraYear=J3t;je.year=vEe;je.isLeapYear=zDt;je.weekYear=sOt;je.isoWeekYear=aOt;je.quarter=je.quarters=hOt;je.month=mEe;je.daysInMonth=LDt;je.week=je.weeks=qDt;je.isoWeek=je.isoWeeks=GDt;je.weeksInYear=uOt;je.weeksInWeekYear=dOt;je.isoWeeksInYear=lOt;je.isoWeeksInISOWeekYear=cOt;je.date=NEe;je.day=je.days=aIt;je.weekday=lIt;je.isoWeekday=cIt;je.dayOfYear=pOt;je.hour=je.hours=gIt;je.minute=je.minutes=mOt;je.second=je.seconds=gOt;je.millisecond=je.milliseconds=zEe;je.utcOffset=QIt;je.utc=e3t;je.local=t3t;je.parseZone=n3t;je.hasAlignedHourOffset=r3t;je.isDST=o3t;je.isLocal=s3t;je.isUtcOffset=a3t;je.isUtc=AEe;je.isUTC=AEe;je.zoneAbbr=yOt;je.zoneName=bOt;je.dates=il("dates accessor is deprecated. Use date instead.",NEe);je.months=il("months accessor is deprecated. Use month instead",mEe);je.years=il("years accessor is deprecated. Use year instead",vEe);je.zone=il("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",JIt);je.isDSTShifted=il("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",i3t);function xOt(e){return ur(e*1e3)}function wOt(){return ur.apply(null,arguments).parseZone()}function VEe(e){return e}var fn=K9.prototype;fn.calendar=aDt;fn.longDateFormat=dDt;fn.invalidDate=hDt;fn.ordinal=gDt;fn.preparse=VEe;fn.postformat=VEe;fn.relativeTime=yDt;fn.pastFuture=bDt;fn.set=iDt;fn.eras=q3t;fn.erasParse=G3t;fn.erasConvertYear=K3t;fn.erasAbbrRegex=tOt;fn.erasNameRegex=eOt;fn.erasNarrowRegex=nOt;fn.months=RDt;fn.monthsShort=$Dt;fn.monthsParse=FDt;fn.monthsRegex=NDt;fn.monthsShortRegex=BDt;fn.week=HDt;fn.firstDayOfYear=YDt;fn.firstDayOfWeek=WDt;fn.weekdays=nIt;fn.weekdaysMin=oIt;fn.weekdaysShort=rIt;fn.weekdaysParse=sIt;fn.weekdaysRegex=uIt;fn.weekdaysShortRegex=dIt;fn.weekdaysMinRegex=fIt;fn.isPM=pIt;fn.meridiem=vIt;function X5(e,t,n,r){var o=xd(),i=Zc().set(r,t);return o[n](i,e)}function HEe(e,t,n){if(Ju(e)&&(t=e,e=void 0),e=e||"",t!=null)return X5(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=X5(e,r,n,"month");return o}function d7(e,t,n,r){typeof e=="boolean"?(Ju(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ju(t)&&(n=t,t=void 0),t=t||"");var o=xd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return X5(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=X5(t,(s+i)%7,r,"day");return a}function COt(e,t){return HEe(e,t,"months")}function _Ot(e,t){return HEe(e,t,"monthsShort")}function SOt(e,t,n){return d7(e,t,n,"weekdays")}function kOt(e,t,n){return d7(e,t,n,"weekdaysShort")}function EOt(e,t,n){return d7(e,t,n,"weekdaysMin")}Df("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=il("moment.lang is deprecated. Use moment.locale instead.",Df);Le.langData=il("moment.langData is deprecated. Use moment.localeData instead.",xd);var su=Math.abs;function jOt(){var e=this._data;return this._milliseconds=su(this._milliseconds),this._days=su(this._days),this._months=su(this._months),e.milliseconds=su(e.milliseconds),e.seconds=su(e.seconds),e.minutes=su(e.minutes),e.hours=su(e.hours),e.months=su(e.months),e.years=su(e.years),this}function UEe(e,t,n,r){var o=ql(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function TOt(e,t){return UEe(this,e,t,1)}function AOt(e,t){return UEe(this,e,t,-1)}function gX(e){return e<0?Math.floor(e):Math.ceil(e)}function DOt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=gX(EM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Oa(e/1e3),r.seconds=o%60,i=Oa(o/60),r.minutes=i%60,s=Oa(i/60),r.hours=s%24,t+=Oa(s/24),c=Oa(WEe(t)),n+=c,t-=gX(EM(c)),a=Oa(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function WEe(e){return e*4800/146097}function EM(e){return e*146097/4800}function IOt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=sl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+WEe(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(EM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function OOt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function wd(e){return function(){return this.as(e)}}var POt=wd("ms"),ROt=wd("s"),$Ot=wd("m"),MOt=wd("h"),FOt=wd("d"),LOt=wd("w"),BOt=wd("M"),NOt=wd("Q"),zOt=wd("y");function VOt(){return ql(this)}function HOt(e){return e=sl(e),this.isValid()?this[e+"s"]():NaN}function Bm(e){return function(){return this.isValid()?this._data[e]:NaN}}var UOt=Bm("milliseconds"),WOt=Bm("seconds"),YOt=Bm("minutes"),qOt=Bm("hours"),GOt=Bm("days"),KOt=Bm("months"),ZOt=Bm("years");function XOt(){return Oa(this.days()/7)}var vu=Math.round,tv={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function QOt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function JOt(e,t,n,r){var o=ql(e).abs(),i=vu(o.as("s")),s=vu(o.as("m")),a=vu(o.as("h")),c=vu(o.as("d")),u=vu(o.as("M")),d=vu(o.as("w")),f=vu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,QOt.apply(null,p)}function ePt(e){return e===void 0?vu:typeof e=="function"?(vu=e,!0):!1}function tPt(e,t){return tv[e]===void 0?!1:t===void 0?tv[e]:(tv[e]=t,e==="s"&&(tv.ss=t-1),!0)}function nPt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=tv,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},tv,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=JOt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var X3=Math.abs;function ag(e){return(e>0)-(e<0)||+e}function cA(){if(!this.isValid())return this.localeData().invalidDate();var e=X3(this._milliseconds)/1e3,t=X3(this._days),n=X3(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Oa(e/60),o=Oa(r/60),e%=60,r%=60,i=Oa(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=ag(this._months)!==ag(a)?"-":"",d=ag(this._days)!==ag(a)?"-":"",f=ag(this._milliseconds)!==ag(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var en=aA.prototype;en.isValid=GIt;en.abs=jOt;en.add=TOt;en.subtract=AOt;en.as=IOt;en.asMilliseconds=POt;en.asSeconds=ROt;en.asMinutes=$Ot;en.asHours=MOt;en.asDays=FOt;en.asWeeks=LOt;en.asMonths=BOt;en.asQuarters=NOt;en.asYears=zOt;en.valueOf=OOt;en._bubble=DOt;en.clone=VOt;en.get=HOt;en.milliseconds=UOt;en.seconds=WOt;en.minutes=YOt;en.hours=qOt;en.days=GOt;en.weeks=XOt;en.months=KOt;en.years=ZOt;en.humanize=nPt;en.toISOString=cA;en.toString=cA;en.toJSON=cA;en.locale=PEe;en.localeData=$Ee;en.toIsoString=il("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cA);en.lang=REe;rt("X",0,0,"unix");rt("x",0,0,"valueOf");He("x",rA);He("X",SDt);$n("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});$n("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
Le.version="2.29.4";rDt(ur);Le.fn=je;Le.min=UIt;Le.max=WIt;Le.now=YIt;Le.utc=Zc;Le.unix=xOt;Le.months=COt;Le.isDate=aC;Le.locale=Df;Le.invalid=QT;Le.duration=ql;Le.isMoment=Nl;Le.weekdays=SOt;Le.parseZone=wOt;Le.localeData=xd;Le.isDuration=IS;Le.monthsShort=_Ot;Le.weekdaysMin=EOt;Le.defineLocale=r7;Le.updateLocale=wIt;Le.locales=CIt;Le.weekdaysShort=kOt;Le.normalizeUnits=sl;Le.relativeTimeRounding=ePt;Le.relativeTimeThreshold=tPt;Le.calendarFormat=v3t;Le.prototype=je;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function uA(e,t){return Le(e).format(t)}function f7(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function h7(e){return window.crypto.getRandomValues(e)}var YEe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function rPt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&YEe(e,t)&&!p7(e[t]))return!1;return!0}function oPt(e){for(let t=0;t<e.length;t++)if(!p7(e[t]))return!1;return!0}function p7(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?oPt(e):t==="object"?rPt(e):!1}function iPt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&YEe(e,t)&&e[t]!==void 0)return!1;return!0}const sPt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function aPt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h7(t),t}function dC(e){const t=sPt();return aPt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const lPt=Object.prototype.toString;function cPt(e){switch(lPt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Ms(e){const t=cPt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var jM={exports:{}},Q3,vX;function uPt(){if(vX)return Q3;vX=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;Q3=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var g=f>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return Q3}function dPt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=uPt(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var v=f,b=Number(new Date),x=b-(d||b);v.diff=x,v.prev=d,v.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var k=m[y];C=S.call(v,k),m.splice(y,1),y--}return C}),n.formatArgs.call(v,m);var w=v.log||n.log;w.apply(v,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var fPt=dPt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(p++,g==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=fPt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(jM,jM.exports);var hPt=jM.exports;const Hy=Ae(hPt);var pPt=vPt,qEe="֑-߿יִ-﷽ﹰ-ﻼ",GEe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",mPt=new RegExp("^[^"+GEe+"]*["+qEe+"]"),gPt=new RegExp("^[^"+qEe+"]*["+GEe+"]");function vPt(e){return e=String(e||""),mPt.test(e)?"rtl":gPt.test(e)?"ltr":"neutral"}const KEe=Ae(pPt);function yX(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function bX(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function J3(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return bX(n.overflowY,t)||bX(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function N2(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var xX=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,c=typeof s=="function"?s:function(ue){return ue!==s};if(!yX(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;yX(m)&&c(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&J3(m)&&!J3(document.documentElement)||m!=null&&J3(m,a)&&p.push(m)}for(var g=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,C=y.width,_=y.top,S=y.right,k=y.bottom,j=y.left,E=o==="start"||o==="nearest"?_:o==="end"?k:_+w/2,T=i==="center"?j+C/2:i==="end"?S:j,A=[],D=0;D<p.length;D++){var I=p[D],O=I.getBoundingClientRect(),$=O.height,R=O.width,z=O.top,F=O.right,H=O.bottom,W=O.left;if(r==="if-needed"&&_>=0&&j>=0&&k<=v&&S<=g&&_>=z&&k<=H&&j>=W&&S<=F)return A;var V=getComputedStyle(I),q=parseInt(V.borderLeftWidth,10),oe=parseInt(V.borderTopWidth,10),N=parseInt(V.borderRightWidth,10),G=parseInt(V.borderBottomWidth,10),Y=0,K=0,X="offsetWidth"in I?I.offsetWidth-I.clientWidth-q-N:0,Q="offsetHeight"in I?I.offsetHeight-I.clientHeight-oe-G:0,Z="offsetWidth"in I?I.offsetWidth===0?0:R/I.offsetWidth:0,ne="offsetHeight"in I?I.offsetHeight===0?0:$/I.offsetHeight:0;if(f===I)Y=o==="start"?E:o==="end"?E-v:o==="nearest"?N2(x,x+v,v,oe,G,x+E,x+E+w,w):E-v/2,K=i==="start"?T:i==="center"?T-g/2:i==="end"?T-g:N2(b,b+g,g,q,N,b+T,b+T+C,C),Y=Math.max(0,Y+x),K=Math.max(0,K+b);else{Y=o==="start"?E-z-oe:o==="end"?E-H+G+Q:o==="nearest"?N2(z,H,$,oe,G+Q,E,E+w,w):E-(z+$/2)+Q/2,K=i==="start"?T-W-q:i==="center"?T-(W+R/2)+X/2:i==="end"?T-F+N+X:N2(W,F,R,q,N+X,T,T+C,C);var ae=I.scrollLeft,me=I.scrollTop;E+=me-(Y=Math.max(0,Math.min(me+Y/ne,I.scrollHeight-$/ne+Q))),T+=ae-(K=Math.max(0,Math.min(ae+K/Z,I.scrollWidth-R/Z+X)))}A.push({el:I,top:Y,left:K})}return A};function ZEe(e){return e===Object(e)&&Object.keys(e).length!==0}function yPt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function bPt(e){return e===!1?{block:"end",inline:"nearest"}:ZEe(e)?e:{block:"start",inline:"nearest"}}function xPt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(ZEe(t)&&typeof t.behavior=="function")return t.behavior(n?xX(e,t):[]);if(n){var r=bPt(t);return yPt(xX(e,r),r.behavior)}}function yl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function im(e){return!!e&&!!e[ha]}function sm(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===TPt}(e)||Array.isArray(e)||!!e[TX]||!!(!((t=e.constructor)===null||t===void 0)&&t[TX])||m7(e)||g7(e))}function Rx(e,t,n){n===void 0&&(n=!1),r1(e)===0?(n?Object.keys:w7)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function r1(e){var t=e[ha];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:m7(e)?2:g7(e)?3:0}function TM(e,t){return r1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wPt(e,t){return r1(e)===2?e.get(t):e[t]}function XEe(e,t,n){var r=r1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function CPt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function m7(e){return EPt&&e instanceof Map}function g7(e){return jPt&&e instanceof Set}function np(e){return e.o||e.t}function v7(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=APt(e);delete t[ha];for(var n=w7(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function y7(e,t){return t===void 0&&(t=!1),b7(e)||im(e)||!sm(e)||(r1(e)>1&&(e.set=e.add=e.clear=e.delete=_Pt),Object.freeze(e),t&&Rx(e,function(n,r){return y7(r,!0)},!0)),e}function _Pt(){yl(2)}function b7(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Oc(e){var t=DPt[e];return t||yl(18,e),t}function wX(){return $x}function eO(e,t){t&&(Oc("Patches"),e.u=[],e.s=[],e.v=t)}function Q5(e){AM(e),e.p.forEach(SPt),e.p=null}function AM(e){e===$x&&($x=e.l)}function CX(e){return $x={p:[],l:$x,h:e,m:!0,_:0}}function SPt(e){var t=e[ha];t.i===0||t.i===1?t.j():t.g=!0}function tO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Oc("ES5").S(t,e,r),r?(n[ha].P&&(Q5(t),yl(4)),sm(e)&&(e=J5(t,e),t.l||eE(t,e)),t.u&&Oc("Patches").M(n[ha].t,e,t.u,t.s)):e=J5(t,n,[]),Q5(t),t.u&&t.v(t.u,t.s),e!==QEe?e:void 0}function J5(e,t,n){if(b7(t))return t;var r=t[ha];if(!r)return Rx(t,function(a,c){return _X(e,r,t,a,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return eE(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=v7(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),Rx(i,function(a,c){return _X(e,r,o,a,c,n,s)}),eE(e,o,!1),n&&e.u&&Oc("Patches").N(r,n,e.u,e.s)}return r.o}function _X(e,t,n,r,o,i,s){if(im(o)){var a=J5(e,o,i&&t&&t.i!==3&&!TM(t.R,r)?i.concat(r):void 0);if(XEe(n,r,a),!im(a))return;e.m=!1}else s&&n.add(o);if(sm(o)&&!b7(o)){if(!e.h.D&&e._<1)return;J5(e,o),t&&t.A.l||eE(e,o)}}function eE(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&y7(t,n)}function nO(e,t){var n=e[ha];return(n?np(n):e)[t]}function SX(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function DM(e){e.P||(e.P=!0,e.l&&DM(e.l))}function rO(e){e.o||(e.o=v7(e.t))}function IM(e,t,n){var r=m7(t)?Oc("MapSet").F(t,n):g7(t)?Oc("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:wX(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=a,u=OM;s&&(c=[a],u=Uy);var d=Proxy.revocable(c,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):Oc("ES5").J(t,n);return(n?n.A:wX()).p.push(r),r}function kPt(e){return im(e)||yl(22,e),function t(n){if(!sm(n))return n;var r,o=n[ha],i=r1(n);if(o){if(!o.P&&(o.i<4||!Oc("ES5").K(o)))return o.t;o.I=!0,r=kX(n,i),o.I=!1}else r=kX(n,i);return Rx(r,function(s,a){o&&wPt(o.t,s)===a||XEe(r,s,t(a))}),i===3?new Set(r):r}(e)}function kX(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v7(e)}var EX,$x,x7=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",EPt=typeof Map<"u",jPt=typeof Set<"u",jX=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",QEe=x7?Symbol.for("immer-nothing"):((EX={})["immer-nothing"]=!0,EX),TX=x7?Symbol.for("immer-draftable"):"__$immer_draftable",ha=x7?Symbol.for("immer-state"):"__$immer_state",TPt=""+Object.prototype.constructor,w7=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,APt=Object.getOwnPropertyDescriptors||function(e){var t={};return w7(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},DPt={},OM={get:function(e,t){if(t===ha)return e;var n=np(e);if(!TM(n,t))return function(o,i,s){var a,c=SX(i,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!sm(r)?r:r===nO(e.t,t)?(rO(e),e.o[t]=IM(e.A.h,r,e)):r},has:function(e,t){return t in np(e)},ownKeys:function(e){return Reflect.ownKeys(np(e))},set:function(e,t,n){var r=SX(np(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=nO(np(e),t),i=o==null?void 0:o[ha];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(CPt(n,o)&&(n!==void 0||TM(e.t,t)))return!0;rO(e),DM(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return nO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,rO(e),DM(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=np(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){yl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){yl(12)}},Uy={};Rx(OM,function(e,t){Uy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Uy.deleteProperty=function(e,t){return Uy.set.call(this,e,t,void 0)},Uy.set=function(e,t,n){return OM.set.call(this,e[0],t,n,e[0])};var IPt=function(){function e(n){var r=this;this.O=jX,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var c=r;return function(v){var b=this;v===void 0&&(v=a);for(var x=arguments.length,y=Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];return c.produce(v,function(C){var _;return(_=i).call.apply(_,[b,C].concat(y))})}}var u;if(typeof i!="function"&&yl(6),s!==void 0&&typeof s!="function"&&yl(7),sm(o)){var d=CX(r),f=IM(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?Q5(d):AM(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return eO(d,s),tO(v,d)},function(v){throw Q5(d),v}):(eO(d,s),tO(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===QEe&&(u=void 0),r.D&&y7(u,!0),s){var m=[],g=[];Oc("Patches").M(o,u,m,g),s(m,g)}return u}yl(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,c=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){sm(n)||yl(8),im(n)&&(n=kPt(n));var r=CX(this),o=IM(this,n,void 0);return o[ha].C=!0,AM(r),o},t.finishDraft=function(n,r){var o=n&&n[ha],i=o.A;return eO(i,r),tO(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!jX&&yl(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=Oc("Patches").$;return im(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),pa=new IPt,C7=pa.produce;pa.produceWithPatches.bind(pa);pa.setAutoFreeze.bind(pa);pa.setUseProxies.bind(pa);pa.applyPatches.bind(pa);var AX=pa.createDraft.bind(pa),DX=pa.finishDraft.bind(pa),OPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ee.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},PPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},RPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=de.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},tE=new WeakMap,nE=new WeakMap,Pb=new WeakMap,JEe=new WeakMap,IX=new WeakMap,OX=new WeakMap,PX=new WeakMap,ee={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ee.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ee.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return ee.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ee.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ee.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ee.compare(e,t)===0},isBefore(e,t){return ee.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ee.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ee.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ee.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ee.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&ee.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ee.isAncestor(t,e)&&!ee.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(ee.equals(i,r)||ee.endsBefore(i,r)||ee.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(ee.equals(s,r)||ee.isAncestor(s,r))return null;ee.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;ee.equals(a,r)||ee.endsBefore(a,r)?r[a.length-1]-=1:ee.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(ee.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else ee.endsBefore(u,r)?r[u.length-1]+=1:ee.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(ee.equals(f,p))return r;if(ee.isAncestor(f,r)||ee.equals(f,r)){var m=p.slice();return ee.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else ee.isSibling(f,p)&&(ee.isAncestor(p,r)||ee.equals(p,r))?ee.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:ee.endsBefore(p,r)||ee.equals(p,r)||ee.isAncestor(p,r)?(ee.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):ee.endsBefore(f,r)&&(ee.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $Pt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Se.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of de.points(t))t[c]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Se.leaf(e,u),m=p.text.slice(0,d),g=p.text.slice(d);if(p.text=m+f+g,t)for(var[v,b]of de.points(t))t[b]=It.transform(v,n);break}case"merge_node":{var{path:x}=n,y=Se.get(e,x),w=ee.previous(x),C=Se.get(e,w),_=Se.parent(e,x),S=x[x.length-1];if(we.isText(y)&&we.isText(C))C.text+=y.text;else if(!we.isText(y)&&!we.isText(C))C.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(zo.stringify(y)," ").concat(zo.stringify(C)));if(_.children.splice(S,1),t)for(var[k,j]of de.points(t))t[j]=It.transform(k,n);break}case"move_node":{var{path:E,newPath:T}=n;if(ee.isAncestor(E,T))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Se.get(e,E),D=Se.parent(e,E),I=E[E.length-1];D.children.splice(I,1);var O=ee.transform(E,n),$=Se.get(e,ee.parent(O)),R=O[O.length-1];if($.children.splice(R,0,A),t)for(var[z,F]of de.points(t))t[F]=It.transform(z,n);break}case"remove_node":{var{path:H}=n,W=H[H.length-1],V=Se.parent(e,H);if(V.children.splice(W,1),t)for(var[q,oe]of de.points(t)){var N=It.transform(q,n);if(t!=null&&N!=null)t[oe]=N;else{var G=void 0,Y=void 0;for(var[K,X]of Se.texts(e))if(ee.compare(X,H)===-1)G=[K,X];else{Y=[K,X];break}var Q=!1;G&&Y&&(ee.equals(Y[1],H)?Q=!ee.hasPrevious(Y[1]):Q=ee.common(G[1],H).length<ee.common(Y[1],H).length),G&&!Q?(q.path=G[1],q.offset=G[0].text.length):Y?(q.path=Y[1],q.offset=0):t=null}}break}case"remove_text":{var{path:Z,offset:ne,text:ae}=n;if(ae.length===0)break;var me=Se.leaf(e,Z),ue=me.text.slice(0,ne),Te=me.text.slice(ne+ae.length);if(me.text=ue+Te,t)for(var[_e,be]of de.points(t))t[be]=It.transform(_e,n);break}case"set_node":{var{path:ge,properties:Oe,newProperties:Re}=n;if(ge.length===0)throw new Error("Cannot set properties on the root node!");var ut=Se.get(e,ge);for(var st in Re){if(st==="children"||st==="text")throw new Error('Cannot set the "'.concat(st,'" property of nodes!'));var Lt=Re[st];Lt==null?delete ut[st]:ut[st]=Lt}for(var gn in Oe)Re.hasOwnProperty(gn)||delete ut[gn];break}case"set_selection":{var{newProperties:xe}=n;if(xe==null)t=xe;else{if(t==null){if(!de.isRange(xe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(zo.stringify(xe)," when there is no current selection."));t=oy({},xe)}for(var Ze in xe){var Je=xe[Ze];if(Je==null){if(Ze==="anchor"||Ze==="focus")throw new Error('Cannot remove the "'.concat(Ze,'" selection property'));delete t[Ze]}else t[Ze]=Je}}break}case"split_node":{var{path:Ve,position:vt,properties:Ie}=n;if(Ve.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ve,"] because the root node cannot be split."));var Me=Se.get(e,Ve),et=Se.parent(e,Ve),Zo=Ve[Ve.length-1],ms;if(we.isText(Me)){var Ns=Me.text.slice(0,vt),Yt=Me.text.slice(vt);Me.text=Ns,ms=oy(oy({},Ie),{},{text:Yt})}else{var qr=Me.children.slice(0,vt),Jl=Me.children.slice(vt);Me.children=qr,ms=oy(oy({},Ie),{},{children:Jl})}if(et.children.splice(Zo+1,0,ms),t)for(var[cl,mi]of de.points(t))t[mi]=It.transform(cl,n);break}}return t},MPt={transform(e,t){e.children=AX(e.children);var n=e.selection&&AX(e.selection);try{n=$Pt(e,n,t)}finally{e.children=DX(e.children),n?e.selection=im(n)?DX(n):n:e.selection=null}}},FPt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},LPt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},eje=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(ti(r)&&ti(o)){if(!eje(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function BPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ed(e,t){if(e==null)return{};var n=BPt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var NPt=["anchor","focus"];function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var de={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return de.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=de.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(de.isRange(t)){if(de.includes(e,t.anchor)||de.includes(e,t.focus))return!0;var[n,r]=de.edges(e),[o,i]=de.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=de.edges(e),c=!1,u=!1;return It.isPoint(t)?(c=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(c=ee.compare(t,s.path)>=0,u=ee.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=ed(e,NPt),[r,o]=de.edges(e),[i,s]=de.edges(t),a=It.isBefore(r,i)?i:r,c=It.isBefore(o,s)?o:s;return It.isBefore(c,a)?null:zPt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!de.isCollapsed(e)},isForward(e){return!de.isBackward(e)},isRange(e){return ti(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=de.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C7(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=de.isCollapsed(r);de.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?de.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},MX=e=>ti(e)&&Se.isNodeList(e.children)&&!B.isEditor(e),Pe={isAncestor(e){return ti(e)&&Se.isNodeList(e.children)},isElement:MX,isElementList(e){return Array.isArray(e)&&e.every(t=>Pe.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return MX(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},VPt=["children"],HPt=["text"],FX=new WeakMap,Se={ancestor(e,t){var n=Se.get(e,t);if(we.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(zo.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ee.ancestors(t,n)){var o=Se.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(we.isText(e))throw new Error("Cannot get the child of a text node: ".concat(zo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(zo.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=Se.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Se.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}},common(e,t,n){var r=ee.common(t,n),o=Se.get(e,r);return[o,r]},descendant(e,t){var n=Se.get(e,t);if(B.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(zo.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Se.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Se.nodes(e,t))Pe.isElement(n)&&(yield[n,r])},extractProps(e){if(Pe.isAncestor(e)){var t=ed(e,VPt);return t}else{var t=ed(e,HPt);return t}},first(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(we.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(we.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(zo.stringify(e)));var n=C7({children:e.children},r=>{var[o,i]=de.edges(t),s=Se.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!de.includes(t,m)}});for(var[,a]of s){if(!de.includes(t,a)){var c=Se.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(ee.equals(a,i.path)){var d=Se.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(ee.equals(a,o.path)){var f=Se.leaf(r,a);f.text=f.text.slice(o.offset)}}B.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(zo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return we.isText(e)||Pe.isElement(e)||B.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=FX.get(e);if(t!==void 0)return t;var n=e.every(r=>Se.isNode(r));return FX.set(e,n),n},last(e,t){for(var n=t.slice(),r=Se.get(e,n);r&&!(we.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Se.get(e,t);if(!we.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(zo.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ee.levels(t,n)){var o=Se.get(e,r);yield[o,r]}},matches(e,t){return Pe.isElement(e)&&Pe.isElementProps(t)&&Pe.matches(e,t)||we.isText(e)&&we.isTextProps(t)&&we.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?ee.isBefore(a,i):ee.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!we.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;ee.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=Se.get(e,a);continue}if(a.length===0)break;if(!r){var d=ee.next(a);if(Se.has(e,d)){a=d,c=Se.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=ee.previous(a);a=f,c=Se.get(e,a);continue}a=ee.parent(a),c=Se.get(e,a),s.add(c)}},parent(e,t){var n=ee.parent(t),r=Se.get(e,n);if(we.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return we.isText(e)?e.text:e.children.map(Se.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of Se.nodes(e,t))we.isText(n)&&(yield[n,r])}};function LX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var nv={isNodeOperation(e){return nv.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!ti(e))return!1;switch(e.type){case"insert_node":return ee.isPath(e.path)&&Se.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ee.isPath(e.path)&&ti(e.properties);case"move_node":return ee.isPath(e.path)&&ee.isPath(e.newPath);case"remove_node":return ee.isPath(e.path)&&Se.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"set_node":return ee.isPath(e.path)&&ti(e.properties)&&ti(e.newProperties);case"set_selection":return e.properties===null&&de.isRange(e.newProperties)||e.newProperties===null&&de.isRange(e.properties)||ti(e.properties)&&ti(e.newProperties);case"split_node":return ee.isPath(e.path)&&typeof e.position=="number"&&ti(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>nv.isOperation(t))},isSelectionOperation(e){return nv.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return nv.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return mr(mr({},e),{},{type:"remove_node"});case"insert_text":return mr(mr({},e),{},{type:"remove_text"});case"merge_node":return mr(mr({},e),{},{type:"split_node",path:ee.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ee.equals(t,n))return e;if(ee.isSibling(n,t))return mr(mr({},e),{},{path:t,newPath:n});var r=ee.transform(n,e),o=ee.transform(ee.next(n),e);return mr(mr({},e),{},{path:r,newPath:o})}case"remove_node":return mr(mr({},e),{},{type:"insert_node"});case"remove_text":return mr(mr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return mr(mr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?mr(mr({},e),{},{properties:c,newProperties:null}):c==null?mr(mr({},e),{},{properties:null,newProperties:a}):mr(mr({},e),{},{properties:c,newProperties:a})}case"split_node":return mr(mr({},e),{},{type:"merge_node",path:ee.next(e.path)})}}},BX=new WeakMap,UPt=e=>{var t=BX.get(e);if(t!==void 0)return t;if(!ti(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||ti(e.marks))&&(e.selection===null||de.isRange(e.selection))&&Se.isNodeList(e.children)&&nv.isOperationList(e.operations);return BX.set(e,n),n},B={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return UPt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},WPt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ee.isPath)}};function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=ee.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ee.equals(e.path,t.path)},isPoint(e){return ti(e)&&typeof e.offset=="number"&&ee.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C7(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=ee.transform(i,t,n);break}case"insert_text":{ee.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{ee.equals(t.path,i)&&(r.offset+=t.position),r.path=ee.transform(i,t,n);break}case"remove_text":{ee.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(ee.equals(t.path,i)||ee.isAncestor(t.path,i))return null;r.path=ee.transform(i,t,n);break}case"split_node":{if(ee.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=ee.transform(i,t,zX(zX({},n),{},{affinity:"forward"})))}else r.path=ee.transform(i,t,n);break}}})}},VX=void 0,zo={setScrubber(e){VX=e},stringify(e){return JSON.stringify(e,VX)}},YPt=["text"],qPt=["anchor","focus"];function HX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var we={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=ed(i,YPt);return s}return eje(r?o(e):e,r?o(t):t)},isText(e){return ti(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>we.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[au({},e)];for(var r of t){var o=ed(r,qPt),[i,s]=de.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var g=f,v=void 0,b=void 0;if(d<c){var x=d-m;b=au(au({},g),{},{text:g.text.slice(x)}),g=au(au({},g),{},{text:g.text.slice(0,x)})}if(u>m){var y=u-m;v=au(au({},g),{},{text:g.text.slice(0,y)}),g=au(au({},g),{},{text:g.text.slice(y)})}Object.assign(g,o),v&&a.push(v),a.push(g),b&&a.push(b)}n=a}return n}},_7=e=>e.selection?e.selection:e.children.length>0?B.end(e,[]):[0],o1=(e,t)=>{var[n]=B.node(e,t);return r=>r===n},S7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?JPt(t):t,i=bt.None,s=bt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=dRt(d,f);if([i,s]=r?[s,p]:[p,i],rv(i,bt.ZWJ)&&rv(s,bt.ExtPict)&&(r?c=UX(t.substring(0,a)):c=UX(t.substring(0,t.length-a)),!c)||rv(i,bt.RI)&&rv(s,bt.RI)&&(u!==null?u=!u:r?u=!0:u=gRt(t.substring(0,t.length-a)),!u)||i!==bt.None&&s!==bt.None&&hRt(i,s))break;a+=d.length}return a||1},GPt=/\s/,KPt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ZPt=/['\u2018\u2019]/,XPt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=S7(t,n),[s,a]=k7(t,i,n);if(QPt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},k7=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},QPt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(GPt.test(t))return!1;if(ZPt.test(t)){var o=S7(n,r),[i,s]=k7(n,o,r);if(e(i,s,r))return!0}return!KPt.test(t)},JPt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(tRt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(eRt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},eRt=e=>e>=55296&&e<=56319,tRt=e=>e>=56320&&e<=57343,bt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(bt||(bt={}));var nRt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,rRt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,oRt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,iRt=/^[\u1100-\u115F\uA960-\uA97C]$/,sRt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,aRt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,lRt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,cRt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,uRt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,dRt=(e,t)=>{var n=bt.Any;return e.search(nRt)!==-1&&(n|=bt.Extend),t===8205&&(n|=bt.ZWJ),t>=127462&&t<=127487&&(n|=bt.RI),e.search(rRt)!==-1&&(n|=bt.Prepend),e.search(oRt)!==-1&&(n|=bt.SpacingMark),e.search(iRt)!==-1&&(n|=bt.L),e.search(sRt)!==-1&&(n|=bt.V),e.search(aRt)!==-1&&(n|=bt.T),e.search(lRt)!==-1&&(n|=bt.LV),e.search(cRt)!==-1&&(n|=bt.LVT),e.search(uRt)!==-1&&(n|=bt.ExtPict),n};function rv(e,t){return(e&t)!==0}var fRt=[[bt.L,bt.L|bt.V|bt.LV|bt.LVT],[bt.LV|bt.V,bt.V|bt.T],[bt.LVT|bt.T,bt.T],[bt.Any,bt.Extend|bt.ZWJ],[bt.Any,bt.SpacingMark],[bt.Prepend,bt.Any],[bt.ZWJ,bt.ExtPict],[bt.RI,bt.RI]];function hRt(e,t){return fRt.findIndex(n=>rv(e,n[0])&&rv(t,n[1]))===-1}var pRt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,UX=e=>e.search(pRt)!==-1,mRt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,gRt=e=>{var t=e.match(mRt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},vRt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=_7(e)}=n;if(ee.isPath(o)&&(o=B.range(e,o)),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var i=de.end(o);if(!r&&B.void(e,{at:i}))return;var s=de.start(o),a=B.pointRef(e,s),c=B.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&B.void(e,{at:o})||B.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function WX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=z2(z2(z2(z2({},MPt),FPt),LPt),vRt),yRt=(e,t)=>{for(var n of B.pathRefs(e))OPt.transform(n,t);for(var r of B.pointRefs(e))PPt.transform(r,t);for(var o of B.rangeRefs(e))RPt.transform(o,t);var i=tE.get(e)||[],s=nE.get(e)||new Set,a,c,u=g=>{if(g){var v=g.join(",");c.has(v)||(c.add(v),a.push(g))}};if(ee.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=ee.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);tE.set(e,a),nE.set(e,c),se.transform(e,t),e.operations.push(t),B.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Pb.get(e)||(Pb.set(e,!0),Promise.resolve().then(()=>{Pb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},bRt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ee.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=ee.levels(o),s=we.isText(r)?[]:Array.from(Se.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=ee.ancestors(a),u=ee.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(ee.equals(d,f))return[];var p=[],m=[];for(var g of ee.ancestors(d)){var v=ee.transform(g,t);p.push(v)}for(var b of ee.ancestors(f)){var x=ee.transform(b,t);m.push(x)}var y=m[m.length-1],w=f[f.length-1],C=y.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=ee.ancestors(_);return[...S]}case"split_node":{var{path:k}=t,j=ee.levels(k),E=ee.next(k);return[...j,E]}default:return[]}},xRt=e=>{var{selection:t}=e;return t?Se.fragment(e,t):[]},wRt=(e,t)=>{var[n,r]=t;if(!we.isText(n)){if(Pe.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=B.isEditor(n)?!1:Pe.isElement(n)&&(e.isInline(n)||n.children.length===0||we.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=Se.get(e,r);if(!we.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=we.isText(u)||Pe.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Pe.isElement(u)){if(e.isInline(u)){if(d==null||!we.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var g={text:""};se.insertNodes(e,g,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&we.isText(d)&&(we.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},CRt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},_Rt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=B.path(t,i),c=o==="lowest";for(var[u,d]of B.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!we.isText(u)){if(de.isRange(i)){if(ee.isAncestor(d,i.anchor.path)&&ee.isAncestor(d,i.focus.path))return[u,d]}else if(!ee.equals(a,d))return[u,d]}}};function YX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var SRt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!we.isText(f))return!1;var[m,g]=B.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=de.isExpanded(r),s=!1;if(!i){var[a,c]=B.node(e,r);if(a&&o(a,c)){var[u]=B.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=qX(qX({},B.marks(e)||{}),{},{[t]:n});e.marks=d,Pb.get(e)||e.onChange()}}};function GX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function KX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=B.point(t,n,{edge:"end"}),i=B.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of B.positions(t,KX(KX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function ZX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function XX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ERt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=B.start(t,[]),i=B.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of B.positions(t,XX(XX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},jRt=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},TRt=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&se.delete(e,{unit:t})},ARt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&de.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},DRt=(e,t)=>[B.start(e,t),B.end(e,t)];function QX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function JX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QX(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var IRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,JX(JX({},n),{},{match:r=>Pe.isElement(r)&&B.isElementReadOnly(t,r)}))},ORt=(e,t)=>B.point(e,t,{edge:"end"}),PRt=(e,t)=>{var n=B.path(e,t,{edge:"start"});return B.node(e,n)},RRt=(e,t)=>{var n=B.range(e,t);return Se.fragment(e,n)};function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $Rt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,tQ(tQ({},n),{},{match:r=>Pe.isElement(r)&&B.isVoid(t,r)}))},MRt=(e,t)=>t.children.some(n=>Pe.isElement(n)&&B.isBlock(e,n)),FRt=(e,t)=>t.children.some(n=>we.isText(n)||B.isInline(e,n)),LRt=(e,t)=>Se.has(e,t),BRt=(e,t)=>t.children.every(n=>we.isText(n)),NRt=e=>{se.splitNodes(e,{always:!0})},zRt=(e,t,n)=>{se.insertNodes(e,t,n)},VRt=e=>{se.splitNodes(e,{always:!0})};function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function HRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nQ(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var URt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=HRt({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},WRt=(e,t)=>!e.isInline(t),YRt=(e,t,n)=>B.isStart(e,t,n)||B.isEnd(e,t,n),qRt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&we.isText(r)&&r.text===""&&!e.isVoid(t)},GRt=(e,t,n)=>{var r=B.end(e,n);return It.equals(t,r)},KRt=e=>{var t=JEe.get(e);return t===void 0?!0:t},ZRt=(e,t,n)=>{if(t.offset!==0)return!1;var r=B.start(e,n);return It.equals(t,r)},XRt=(e,t)=>{var n=B.path(e,t,{edge:"end"});return B.node(e,n)},QRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=B.path(t,n,r),i=Se.leaf(t,o);return[i,o]};function*JRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=B.path(e,n);for(var[c,u]of Se.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Pe.isElement(c)&&B.isVoid(e,c)))break;r&&s.reverse(),yield*s}}var e$t=["text"],t$t=["text"],n$t=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(de.isExpanded(r)){var[o]=B.nodes(t,{match:we.isText});if(o){var[i]=o,s=ed(i,e$t);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=B.leaf(t,c);if(a.offset===0){var d=B.previous(t,{at:c,match:we.isText}),f=B.above(t,{match:x=>Pe.isElement(x)&&B.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=B.above(t,{match:x=>Pe.isElement(x)&&B.isBlock(t,x)});if(d&&p){var[m,g]=d,[,v]=p;ee.isAncestor(v,g)&&(u=m)}}}var b=ed(u,t$t);return b},r$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=B.after(t,s,{voids:o});if(a){var[,c]=B.last(t,[]),u=[a.path,c];if(ee.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(ee.isPath(s)){var[d]=B.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=B.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},o$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=B.path(t,n,r),i=Se.get(t,o);return[i,o]};function*i$t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(WPt.isSpan(n))u=n[0],d=n[1];else{var f=B.path(e,n,{edge:"start"}),p=B.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Se.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Pe.isElement(_)?!!(!s&&(B.isVoid(e,_)||B.isElementReadOnly(e,_))||a&&!B.isSelectable(e,_)):!1}}),g=[],v;for(var[b,x]of m)if(!(a&&Pe.isElement(b)&&!B.isSelectable(e,b))){var y=v&&ee.compare(x,v[1])===0;if(!(r==="highest"&&y)){if(!c(b,x)){if(o&&!y&&we.isText(b))return;continue}if(r==="lowest"&&y){v=[b,x];continue}var w=r==="lowest"?v:[b,x];w&&(o?g.push(w):yield w),v=[b,x]}}r==="lowest"&&v&&(o?g.push(v):yield v),o&&(yield*g)}}var s$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>tE.get(d)||[],s=d=>nE.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(B.isNormalizing(t)){if(r){var c=Array.from(Se.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));tE.set(t,c),nE.set(t,u)}i(t).length!==0&&B.withoutNormalizing(t,()=>{for(var d of i(t))if(Se.has(t,d)){var f=B.node(t,d),[p,m]=f;Pe.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var g=i(t),v=g.length,b=0;g.length!==0;){if(!t.shouldNormalize({dirtyPaths:g,iteration:b,initialDirtyPathsLength:v,operation:o}))return;var x=a(t);if(Se.has(t,x)){var y=B.node(t,x);t.normalizeNode(y,{operation:o})}b++,g=i(t)}})}},a$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=B.path(t,n,r),i=ee.parent(o),s=B.node(t,i);return s},l$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=B.pathRefs(t);return c.delete(i),i.current=null,a}},s=B.pathRefs(t);return s.add(i),i},c$t=e=>{var t=IX.get(e);return t||(t=new Set,IX.set(e,t)),t},u$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(ee.isPath(n)){if(i==="start"){var[,s]=Se.first(t,n);n=s}else if(i==="end"){var[,a]=Se.last(t,n);n=a}}return de.isRange(n)&&(i==="start"?n=de.start(n):i==="end"?n=de.end(n):n=ee.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},d$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=B.pointRefs(t);return c.delete(i),i.current=null,a}},s=B.pointRefs(t);return s.add(i),i},f$t=e=>{var t=OX.get(e);return t||(t=new Set,OX.set(e,t)),t},h$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(ee.isPath(n)){var i;if(o==="end"){var[,s]=Se.last(t,n);i=s}else{var[,a]=Se.first(t,n);i=a}var c=Se.get(t,i);if(!we.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(de.isRange(n)){var[u,d]=de.edges(n);return o==="start"?u:d}return n};function*p$t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=B.range(e,n),[c,u]=de.edges(a),d=o?u:c,f=!1,p="",m=0,g=0,v=0;for(var[b,x]of B.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Pe.isElement(b)){if(!i&&(e.isVoid(b)||e.isElementReadOnly(b))){yield B.start(e,x);continue}if(e.isInline(b))continue;if(B.hasInlines(e,b)){var y=ee.isAncestor(x,u.path)?u:B.end(e,x),w=ee.isAncestor(x,c.path)?c:B.start(e,x);p=B.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(we.isText(b)){var C=ee.equals(x,d.path);for(C?(g=o?d.offset:b.text.length-d.offset,v=d.offset):(g=b.text.length,v=o?g:0),(C||f||r==="offset")&&(yield{path:x,offset:v},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=k7(p,m,o)[1]}if(v=o?v-m:v+m,g=g-m,g<0){m=-g;break}m=0,yield{path:x,offset:v}}}}function _(S,k,j){return k==="character"?S7(S,j):k==="word"?XPt(S,j):k==="line"||k==="block"?S.length:1}}var m$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=B.before(t,s,{voids:o});if(a){var[,c]=B.first(t,[]),u=[a.path,c];if(ee.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(ee.isPath(s)){var[d]=B.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=B.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},g$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=B.rangeRefs(t);return c.delete(i),i.current=null,a}},s=B.rangeRefs(t);return s.add(i),i},v$t=e=>{var t=PX.get(e);return t||(t=new Set,PX.set(e,t)),t},y$t=(e,t,n)=>{if(de.isRange(t)&&!n)return t;var r=B.start(e,t),o=B.end(e,n||t);return{anchor:r,focus:o}};function rQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function b$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rQ(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var x$t=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!we.isText(d))return!1;var[p,m]=B.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=de.isExpanded(n),i=!1;if(!o){var[s,a]=B.node(e,n);if(s&&r(s,a)){var[c]=B.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=b$t({},B.marks(e)||{});delete u[t],e.marks=u,Pb.get(e)||e.onChange()}}},w$t=(e,t)=>{JEe.set(e,t)},C$t=(e,t)=>B.point(e,t,{edge:"start"}),_$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=B.range(t,n),[s,a]=de.edges(i),c="";for(var[u,d]of B.nodes(t,{at:i,match:we.isText,voids:o})){var f=u.text;ee.equals(d,a.path)&&(f=f.slice(0,a.offset)),ee.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},S$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=de.edges(n);if(i.offset!==0||s.offset!==0||de.isCollapsed(n)||ee.hasPrevious(s.path))return n;var a=B.above(t,{at:s,match:g=>Pe.isElement(g)&&B.isBlock(t,g),voids:o}),c=a?a[1]:[],u=B.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of B.nodes(t,{at:d,match:we.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||ee.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},k$t=(e,t)=>{var n=B.isNormalizing(e);B.setNormalizing(e,!1);try{t()}finally{B.setNormalizing(e,n)}B.normalize(e)},E$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(de.isRange(u)&&de.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=B.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var g={unit:s,distance:a},v=i?B.before(t,u,g)||B.start(t,[]):B.after(t,u,g)||B.end(t,[]);u={anchor:u,focus:v},d=!0}}if(ee.isPath(u)){se.removeNodes(t,{at:u,voids:c});return}if(!de.isCollapsed(u)){if(!d){var[,b]=de.edges(u),x=B.end(t,[]);It.equals(b,x)||(u=B.unhangRange(t,u,{voids:c}))}var[y,w]=de.edges(u),C=B.above(t,{match:ue=>Pe.isElement(ue)&&B.isBlock(t,ue),at:y,voids:c}),_=B.above(t,{match:ue=>Pe.isElement(ue)&&B.isBlock(t,ue),at:w,voids:c}),S=C&&_&&!ee.equals(C[1],_[1]),k=ee.equals(y.path,w.path),j=c?null:(r=B.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:B.elementReadOnly(t,{at:y,mode:"highest"}),E=c?null:(o=B.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:B.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=B.before(t,y);T&&C&&ee.isAncestor(C[1],T.path)&&(y=T)}if(E){var A=B.after(t,w);A&&_&&ee.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var O of B.nodes(t,{at:u,voids:c})){var[$,R]=O;I&&ee.compare(R,I)===0||(!c&&Pe.isElement($)&&(B.isVoid(t,$)||B.isElementReadOnly(t,$))||!ee.isCommon(R,y.path)&&!ee.isCommon(R,w.path))&&(D.push(O),I=R)}var z=Array.from(D,ue=>{var[,Te]=ue;return B.pathRef(t,Te)}),F=B.pointRef(t,y),H=B.pointRef(t,w),W="";if(!k&&!j){var V=F.current,[q]=B.leaf(t,V),{path:oe}=V,{offset:N}=y,G=q.text.slice(N);G.length>0&&(t.apply({type:"remove_text",path:oe,offset:N,text:G}),W=G)}if(z.reverse().map(ue=>ue.unref()).filter(ue=>ue!==null).forEach(ue=>se.removeNodes(t,{at:ue,voids:c})),!E){var Y=H.current,[K]=B.leaf(t,Y),{path:X}=Y,Q=k?y.offset:0,Z=K.text.slice(Q,w.offset);Z.length>0&&(t.apply({type:"remove_text",path:X,offset:Q,text:Z}),W=Z)}!k&&S&&H.current&&F.current&&se.mergeNodes(t,{at:H.current,hanging:!0,voids:c}),f&&i&&s==="character"&&W.length>1&&W.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,W.slice(0,W.length-a));var ne=F.unref(),ae=H.unref(),me=i?ne||ae:ae||ne;n.at==null&&me&&se.select(t,me)}}})},j$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=_7(t)}=r;if(n.length){if(de.isRange(s))if(o||(s=B.unhangRange(t,s,{voids:i})),de.isCollapsed(s))s=s.anchor;else{var[,a]=de.edges(s);if(!i&&B.void(t,{at:a}))return;var c=B.pointRef(t,a);se.delete(t,{at:s}),s=c.unref()}else ee.isPath(s)&&(s=B.start(t,s));if(!(!i&&B.void(t,{at:s}))){var u=B.above(t,{at:s,match:N=>Pe.isElement(N)&&B.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(B.isEnd(t,s,d)){var f=B.after(t,d);s=f}else if(B.isStart(t,s,d)){var p=B.before(t,d);s=p}}var m=B.above(t,{match:N=>Pe.isElement(N)&&B.isBlock(t,N),at:s,voids:i}),[,g]=m,v=B.isStart(t,s,g),b=B.isEnd(t,s,g),x=v&&b,y=!v||v&&b,w=!b,[,C]=Se.first({children:n},[]),[,_]=Se.last({children:n},[]),S=[],k=N=>{var[G,Y]=N,K=Y.length===0;return K?!1:x?!0:!(y&&ee.isAncestor(Y,C)&&Pe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&ee.isAncestor(Y,_)&&Pe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of Se.nodes({children:n},{pass:k}))k(j)&&S.push(j);var E=[],T=[],A=[],D=!0,I=!1;for(var[O]of S)Pe.isElement(O)&&!t.isInline(O)?(D=!1,I=!0,T.push(O)):D?E.push(O):A.push(O);var[$]=B.nodes(t,{at:s,match:N=>we.isText(N)||B.isInline(t,N),mode:"highest",voids:i}),[,R]=$,z=B.isStart(t,s,R),F=B.isEnd(t,s,R),H=B.pathRef(t,b&&!A.length?ee.next(g):g),W=B.pathRef(t,F?ee.next(R):R);se.splitNodes(t,{at:s,match:N=>I?Pe.isElement(N)&&B.isBlock(t,N):we.isText(N)||B.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!v||E.length>0)&&(!b||A.length>0),voids:i});var V=B.pathRef(t,!z||z&&F?ee.next(R):R);if(se.insertNodes(t,E,{at:V.current,match:N=>we.isText(N)||B.isInline(t,N),mode:"highest",voids:i}),x&&!E.length&&T.length&&!A.length&&se.delete(t,{at:g,voids:i}),se.insertNodes(t,T,{at:H.current,match:N=>Pe.isElement(N)&&B.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:W.current,match:N=>we.isText(N)||B.isInline(t,N),mode:"highest",voids:i}),!r.at){var q;if(A.length>0&&W.current?q=ee.previous(W.current):T.length>0&&H.current?q=ee.previous(H.current):V.current&&(q=ee.previous(V.current)),q){var oe=B.end(t,q);se.select(t,oe)}}V.unref(),H.unref(),W.unref()}}})},T$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=de.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=de.edges(o);se.select(t,s)}}else return},A$t=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},D$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=de.isBackward(r)?"focus":"anchor"),a==="end"&&(a=de.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?B.before(t,c,d):B.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?B.before(t,u,d):B.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},I$t=(e,t)=>{var{selection:n}=e;if(t=B.range(e,t),n){se.setSelection(e,t);return}if(!de.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(zo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function oQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var O$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=de.isBackward(o)?"focus":"anchor"),i==="end"&&(i=de.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:iQ(iQ({},c),n)})}},P$t=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},R$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(Se.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=_7(t),u=!0),u==null&&(u=!1),de.isRange(a))if(o||(a=B.unhangRange(t,a,{voids:i})),de.isCollapsed(a))a=a.anchor;else{var[,f]=de.edges(a),p=B.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){c==null&&(we.isText(d)?c=k=>we.isText(k):t.isInline(d)?c=k=>we.isText(k)||B.isInline(t,k):c=k=>Pe.isElement(k)&&B.isBlock(t,k));var[m]=B.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,g]=m,v=B.pathRef(t,g),b=B.isEnd(t,a,g);se.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=v.unref();a=b?ee.next(x):x}else return}var y=ee.parent(a),w=a[a.length-1];if(!(!i&&B.void(t,{at:y}))){for(var C of n){var _=y.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=ee.next(a)}if(a=ee.previous(a),u){var S=B.end(t,a);S&&se.select(t,S)}}}})},$$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=ee.isPath(r)?o1(t,r):C=>Pe.isElement(C)&&B.isBlock(t,C)),!!r){var a=B.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return B.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=B.node(t,ee.parent(d)),[p,m]=f,g=d[d.length-1],{length:v}=p.children;if(v===1){var b=ee.next(m);se.moveNodes(t,{at:d,to:b,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(g===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(g===v-1){var x=ee.next(m);se.moveNodes(t,{at:d,to:x,voids:i})}else{var y=ee.next(d),w=ee.next(m);se.splitNodes(t,{at:y,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},M$t=["text"],F$t=["children"],tje=(e,t)=>{if(Pe.isElement(t)){var n=t;return B.isVoid(e,t)?!0:n.children.length===1?tje(e,n.children[0]):!1}else return!B.isEditor(t)},L$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(ee.isPath(o)){var[c]=B.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Pe.isElement(T)&&B.isBlock(t,T);if(!i&&de.isRange(o)&&(o=B.unhangRange(t,o,{voids:s})),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var[,u]=de.edges(o),d=B.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=B.nodes(t,{at:o,match:r,voids:s,mode:a}),p=B.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,g]=f,[v,b]=p;if(!(g.length===0||b.length===0)){var x=ee.next(b),y=ee.common(g,b),w=ee.isSibling(g,b),C=Array.from(B.levels(t,{at:g}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),_=B.above(t,{at:g,mode:"highest",match:T=>C.includes(T)&&tje(t,T)}),S=_&&B.pathRef(t,_[1]),k,j;if(we.isText(m)&&we.isText(v)){var E=ed(m,M$t);j=v.text.length,k=E}else if(Pe.isElement(m)&&Pe.isElement(v)){var E=ed(m,F$t);j=v.children.length,k=E}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(zo.stringify(m)," ").concat(zo.stringify(v)));w||se.moveNodes(t,{at:g,to:x,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),Pe.isElement(v)&&B.isEmpty(t,v)||we.isText(v)&&v.text===""&&b[b.length-1]!==0?se.removeNodes(t,{at:b,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:k}),S&&S.unref()}}}})},B$t=(e,t)=>{B.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=ee.isPath(r)?o1(e,r):m=>Pe.isElement(m)&&B.isBlock(e,m));var a=B.pathRef(e,n),c=B.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,g]=m;return B.pathRef(e,g)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&ee.isSibling(p,f)&&ee.isAfter(p,f)&&(a.current=ee.next(a.current))}a.unref()}})},N$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ee.isPath(s)?o1(t,s):m=>Pe.isElement(m)&&B.isBlock(t,m)),!r&&de.isRange(s)&&(s=B.unhangRange(t,s,{voids:o}));var c=B.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,g]=m;return B.pathRef(t,g)});for(var d of u){var f=d.unref();if(f){var[p]=B.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},z$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=ee.isPath(i)?o1(t,i):j=>Pe.isElement(j)&&B.isBlock(t,j)),!c&&de.isRange(i)&&(i=B.unhangRange(t,i,{voids:f})),d&&de.isRange(i)){if(de.isCollapsed(i)&&B.leaf(t,i.anchor)[0].text.length>0)return;var p=B.rangeRef(t,i,{affinity:"inward"}),[m,g]=de.edges(i),v=u==="lowest"?"lowest":"highest",b=B.isEnd(t,g,g.path);se.splitNodes(t,{at:g,match:o,mode:v,voids:f,always:!b});var x=B.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:v,voids:f,always:!x}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,E)=>j!==E);for(var[y,w]of B.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var k in n)k==="children"||k==="text"||s(n[k],y[k])&&(S=!0,y.hasOwnProperty(k)&&(C[k]=y[k]),a?n[k]!=null&&(_[k]=a(y[k],n[k])):n[k]!=null&&(_[k]=n[k]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},V$t=(e,t)=>{if(de.isCollapsed(t))return t.anchor;var[,n]=de.edges(t),r=B.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},H$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=H=>Pe.isElement(H)&&B.isBlock(t,H)),de.isRange(s)&&(s=V$t(t,s)),ee.isPath(s)){var u=s,d=B.point(t,u),[f]=B.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=B.pointRef(t,s,{affinity:"backward"}),m;try{var[g]=B.nodes(t,{at:s,match:i,mode:r,voids:o});if(!g)return;var v=B.void(t,{at:s,mode:"highest"}),b=0;if(!o&&v){var[x,y]=v;if(Pe.isElement(x)&&t.isInline(x)){var w=B.after(t,y);if(!w){var C={text:""},_=ee.next(y);se.insertNodes(t,C,{at:_,voids:o}),w=B.point(t,_)}s=w,c=!0}var S=s.path.length-y.length;a=S+1,c=!0}m=B.pointRef(t,s);var k=s.path.length-a,[,j]=g,E=s.path.slice(0,k),T=a===0?s.offset:s.path[k]+b;for(var[A,D]of B.levels(t,{at:E,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Pe.isElement(A)&&B.isVoid(t,A))break;var O=p.current,$=B.isEnd(t,O,D);if(c||!p||!B.isEdge(t,O,D)){I=!0;var R=Se.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var z=m.current||B.end(t,[]);se.select(t,z)}}finally{var F;p.unref(),(F=m)===null||F===void 0||F.unref()}}})},U$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},W$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ee.isPath(s)?o1(t,s):m=>Pe.isElement(m)&&B.isBlock(t,m)),ee.isPath(s)&&(s=B.range(t,s));var c=de.isRange(s)?B.rangeRef(t,s):null,u=B.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,g]=m;return B.pathRef(t,g)}).reverse(),f=function(g){var v=g.unref(),[b]=B.node(t,v),x=B.range(t,v);o&&c&&(x=de.intersection(c.current,x)),se.liftNodes(t,{at:x,match:y=>Pe.isAncestor(b)&&b.children.includes(y),voids:i})};for(var p of d)f(p);c&&c.unref()}})};function sQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function aQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sQ(Object(n),!0).forEach(function(r){fs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(ee.isPath(c)?a=o1(t,c):t.isInline(n)?a=x=>Pe.isElement(x)&&B.isInline(t,x)||we.isText(x):a=x=>Pe.isElement(x)&&B.isBlock(t,x)),i&&de.isRange(c)){var[u,d]=de.edges(c),f=B.rangeRef(t,c,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&se.select(t,c)}var p=Array.from(B.nodes(t,{at:c,match:t.isInline(n)?x=>Pe.isElement(x)&&B.isBlock(t,x):x=>B.isEditor(x),mode:"lowest",voids:s}));for(var[,m]of p){var g=de.isRange(c)?de.intersection(c,B.range(t,m)):c;if(g){var v=Array.from(B.nodes(t,{at:g,match:a,mode:o,voids:s}));if(v.length>0){var b=function(){var[x]=v,y=v[v.length-1],[,w]=x,[,C]=y;if(w.length===0&&C.length===0)return"continue";var _=ee.equals(w,C)?ee.parent(w):ee.common(w,C),S=B.range(t,w,C),k=B.node(t,_),[j]=k,E=_.length+1,T=ee.next(C.slice(0,E)),A=aQ(aQ({},n),{},{children:[]});se.insertNodes(t,A,{at:T,voids:s}),se.moveNodes(t,{at:S,match:D=>Pe.isAncestor(j)&&j.children.includes(D),to:T.concat(0),voids:s})}();if(b==="continue")continue}}}}})},q$t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yRt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SRt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jRt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TRt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ARt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xRt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NRt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VRt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j$t(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zRt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return URt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wRt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x$t(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bRt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CRt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Rt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kRt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ERt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T$t(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E$t(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return A$t(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DRt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IRt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ORt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PRt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RRt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n$t(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MRt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FRt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LRt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BRt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R$t(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WRt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YRt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qRt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GRt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KRt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZRt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XRt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QRt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JRt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $$t(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L$t(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D$t(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return B$t(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r$t(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o$t(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i$t(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s$t(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a$t(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u$t(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l$t(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c$t(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h$t(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d$t(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f$t(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p$t(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m$t(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y$t(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g$t(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v$t(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return N$t(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return I$t(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return z$t(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w$t(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O$t(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P$t(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return H$t(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C$t(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _$t(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S$t(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return U$t(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return W$t(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Rt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k$t(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Y$t(e,...r)}};return e},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});var G$t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),oO={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},K$t={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:G$t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},nje={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var V2=1;V2<20;V2++)nje["f"+V2]=111+V2;function dA(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return rje(s,t)}),o=function(a){return r.some(function(c){return oje(c,a)})},i=n==null?o:o(n);return i}function Z$t(e,t){return dA(e,t)}function X$t(e,t){return dA(e,{byKey:!0},t)}function rje(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in oO)r[oO[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var g=E7(p),v=oO[g];(i===1||!v)&&(n?r.key=g:r.which=ije(p)),v&&(r[v]=m?null:!0)}}catch(b){c=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function oje(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function ije(e){e=E7(e);var t=nje[e]||e.toUpperCase().charCodeAt(0);return t}function E7(e){return e=e.toLowerCase(),e=K$t[e]||e,e}var Ei=Cd.default=dA,iO=Cd.isHotkey=dA;Cd.isCodeHotkey=Z$t;Cd.isKeyHotkey=X$t;Cd.parseHotkey=rje;Cd.compareHotkey=oje;Cd.toKeyCode=ije;Cd.toKeyName=E7;function fA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q$t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function f0(e,t){if(e==null)return{};var n=Q$t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var j7=h.createContext(null),Qc=()=>{var e=h.useContext(j7);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},sje=parseInt(re.version.split(".")[0],10),J$t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,lQ=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Ts=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Rb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Wy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),eMt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),aje=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),tMt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),nMt=Ts&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),rMt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),oMt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),iMt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dd=(!tMt||!nMt)&&!eMt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",T7=new WeakMap,A7=new WeakMap,lje=new WeakMap,RS=new WeakMap,PM=new WeakMap,Mx=new WeakMap,Lp=new WeakMap,RM=new WeakMap,hA=new WeakMap,$M=new WeakMap,gp=new WeakMap,vp=new WeakMap,$b=new WeakMap,MM=new WeakMap,D7=new WeakMap,Sl=new WeakMap,Tu=new WeakMap,_s=new WeakMap,Wd=new WeakMap,Yd=new WeakMap,cje=new WeakMap,h0=Symbol("placeholder"),uje=Symbol("mark-placeholder"),sMt=globalThis.Text,I7=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,aMt=e=>Xf(e)&&e.nodeType===8,$a=e=>Xf(e)&&e.nodeType===1,Xf=e=>{var t=I7(e);return!!t&&e instanceof t.Node},FM=e=>{var t=e&&e.anchorNode&&I7(e.anchorNode);return!!t&&e instanceof t.Selection},dje=e=>Xf(e)&&e.nodeType===3,lMt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,cMt=e=>{var[t,n]=e;if($a(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=fje(t,o,r?"backward":"forward"),r=o<n;$a(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=dMt(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},uMt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},fje=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(aMt(o)||$a(o)&&o.childNodes.length===0||$a(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},dMt=(e,t,n)=>{var[r]=fje(e,t,n);return r},hje=e=>{var t="";if(dje(e)&&e.nodeValue)return e.nodeValue;if($a(e)){for(var n of Array.from(e.childNodes))t+=hje(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},fMt=/data-slate-fragment="(.+?)"/m,hMt=e=>{var t=e.getData("text/html"),[,n]=t.match(fMt)||[];return n},O7=(e,t,n)=>{var{target:r}=t;if($a(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=he.getWindow(e);if(o.contains(r))return he.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:O7(e,i,n)},pMt=0;class mMt{constructor(){this.id="".concat(pMt++)}}var he={androidPendingDiffs:e=>_s.get(e),androidScheduleFlush:e=>{var t;(t=D7.get(e))===null||t===void 0||t()},blur:e=>{var t=he.toDOMNode(e,e),n=he.findDocumentOrShadowRoot(e);gp.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=he.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=he.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=he.toSlateNode(e,t.target),s=he.findPath(e,i);if(Pe.isElement(i)&&B.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=B.point(e,s,{edge:c?"start":"end"}),d=c?B.before(e,u):B.after(e,u);if(d){var f=B.range(e,d);return f}}var p,{document:m}=he.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var g=m.caretPositionFromPoint(n,r);g&&(p=m.createRange(),p.setStart(g.offsetNode,g.offset),p.setEnd(g.offsetNode,g.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var v=he.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return v},findKey:(e,t)=>{var n=RM.get(t);return n||(n=new mMt,RM.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=A7.get(r);if(o==null){if(B.isEditor(r))return n;break}var i=T7.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(zo.stringify(t)))},focus:e=>{var t=he.toDOMNode(e,e),n=he.findDocumentOrShadowRoot(e);gp.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=lje.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=he.toDOMNode(t,t),s;try{s=$a(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Xf(t)&&he.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return B.hasPath(e,n.path)&&B.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>he.hasEditableTarget(e,t)||he.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Xf(t)&&he.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!vp.get(e),isFocused:e=>!!gp.get(e),isReadOnly:e=>!!$M.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if($M.get(e))return!1;var n=he.hasTarget(e,t)&&he.toSlateNode(e,t);return Pe.isElement(n)&&B.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=hA.get(e),r=B.isEditor(t)?RS.get(e):n==null?void 0:n.get(he.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(zo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=B.node(e,t.path),r=he.toDOMNode(e,n),o;B.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),g=a+m,v=s[c+1];if(t.offset===g&&v!==null&&v!==void 0&&v.hasAttribute("data-slate-mark-placeholder")){var b,x=v.childNodes[0];o=[x instanceof sMt?x:v,(b=v.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=g){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=g}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(zo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=de.isBackward(t),i=he.toDOMPoint(e,n),s=de.isCollapsed(t)?i:he.toDOMPoint(e,r),a=he.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=$a(u)?u:u.parentElement,g=!!m.getAttribute("data-slate-zero-width"),v=$a(f)?f:f.parentElement,b=!!v.getAttribute("data-slate-zero-width");return c.setStart(u,g?1:d),c.setEnd(f,b?1:p),c},toSlateNode:(e,t)=>{var n=$a(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Mx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:cMt(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=he.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),g=m&&p.contains(m)?m:null,v=a.closest("[data-slate-leaf]"),b=null;if(v){if(c=v.closest('[data-slate-node="text"]'),c){var x=he.getWindow(e),y=x.document.createRange();y.setStart(c,0),y.setEnd(i,s);var w=y.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(O=>{if(Ts&&!r&&O.hasAttribute("data-slate-zero-width")&&O.textContent.length>0&&O.textContext!=="\uFEFF"){O.textContent.startsWith("\uFEFF")&&(O.textContent=O.textContent.slice(1));return}O.parentNode.removeChild(O)}),u=w.textContent.length,b=c}}else if(g){for(var _=g.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var k=_[S];if(he.hasDOMNode(e,k)){v=k;break}}v?(c=v.closest('[data-slate-node="text"]'),b=v,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(O=>{u-=O.textContent.length})):u=1}b&&u===b.textContent.length&&Ts&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||Rb&&(f=b.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(Ts&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&he.hasDOMNode(e,j,{editable:!0})){var E=he.toSlateNode(e,j),{path:T,offset:A}=B.start(e,he.findPath(e,E));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=he.toSlateNode(e,c),I=he.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=FM(t)?t.anchorNode:t.startContainer,s,a,c,u,d;if(i)if(FM(t)){if(Rb&&t.rangeCount>1){c=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let _=function(S){return S.childElementCount>0?_(S.children[0]):S};var m=f.startContainer,g=p.startContainer,v=_(m.children[f.startOffset]),b=_(g.children[p.startOffset]);u=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,v.childNodes.length>0?c=v.childNodes[0]:c=v,b instanceof HTMLElement?a=b.innerHTML.length:a=0}else f.startContainer===c?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,c=t.focusNode,u=t.focusOffset;aje&&uMt(s)||Rb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,c=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||c==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var x;c=s,u=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var y=he.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!y)return null;var w=d?y:he.toSlatePoint(e,[c,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var C={anchor:y,focus:w};return de.isExpanded(C)&&de.isForward(C)&&$a(c)&&B.void(e,{at:C.focus,mode:"highest"})&&(C=B.unhangRange(e,C,{voids:!0})),C}};function gMt(e,t){var{path:n,diff:r}=t;if(!B.hasPath(e,n))return!1;var o=Se.get(e,n);if(!we.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=ee.next(n);if(!B.hasPath(e,i))return!1;var s=Se.get(e,i);return we.isText(s)&&s.text.startsWith(r.text)}function pje(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function vMt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function yMt(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function mje(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=vMt(i,o),a=Math.min(i.length-s,o.length-s),c=yMt(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function bMt(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=pje(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return mje(e,{start:r,end:c,text:a})}function xMt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function LM(e,t){var{path:n,offset:r}=t;if(!B.hasPath(e,n))return null;var o=Se.get(e,n);if(!we.isText(o))return null;var i=B.above(e,{match:a=>Pe.isElement(a)&&B.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=B.next(e,{at:n,match:we.isText});if(!s||!ee.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function cQ(e,t){var n=LM(e,t.anchor);if(!n)return null;if(de.isCollapsed(t))return{anchor:n,focus:n};var r=LM(e,t.focus);return r?{anchor:n,focus:r}:null}function BM(e,t,n){var r=_s.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return ee.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&ee.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function uQ(e,t,n){var r=BM(e,t.anchor,n);if(!r)return null;if(de.isCollapsed(t))return{anchor:r,focus:r};var o=BM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function wMt(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!ee.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!ee.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!ee.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:ee.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:ee.transform(n,t,{affinity:"forward"})};case"merge_node":return ee.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:ee.transform(n,t)}:{diff:r,id:o,path:ee.transform(n,t)}}var i=ee.transform(n,t);return i?{diff:r,path:i,id:o}:null}function dQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dQ(Object(n),!0).forEach(function(r){fA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CMt=25,_Mt=200,SMt=function(){},kMt=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function EMt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Yd.get(t);if(Yd.delete(t),D){var{selection:I}=t,O=cQ(t,D);O&&(!I||!de.equals(O,I))&&se.select(t,O)}},f=()=>{var D=Wd.get(t);if(Wd.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?LM(t,D.at):cQ(t,D.at);if(!I)return;var O=B.range(t,I);(!t.selection||!de.equals(t.selection,O))&&se.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&B.rangeRef(t,t.selection,{affinity:"forward"});Tu.set(t,t.marks),SMt("flush",Wd.get(t),_s.get(t));for(var I=C(),O;O=($=_s.get(t))===null||$===void 0?void 0:$[0];){var $,R,z=Sl.get(t);z!==void 0&&(Sl.delete(t),t.marks=z),z&&u===!1&&(u=null);var F=xMt(O);(!t.selection||!de.equals(t.selection,F))&&se.select(t,F),O.diff.text?B.insertText(t,O.diff.text):B.deleteFragment(t),_s.set(t,(R=_s.get(t))===null||R===void 0?void 0:R.filter(V=>{var{id:q}=V;return q!==O.id})),gMt(t,O)||(I=!1,Wd.delete(t),Tu.delete(t),o="action",Yd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Yd.get(t)&&(!t.selection||!de.equals(H,t.selection))&&se.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var W=Tu.get(t);Tu.delete(t),W!==void 0&&(t.marks=W,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{vp.set(t,!1),p()},CMt)},g=D=>{vp.set(t,!0),i&&(clearTimeout(i),i=null)},v=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=PM.get(t);if(O){if(C()||I){O.style.display="none";return}O.style.removeProperty("display")}},b=(D,I)=>{var O,$=(O=_s.get(t))!==null&&O!==void 0?O:[];_s.set(t,$);var R=Se.leaf(t,D),z=$.findIndex(W=>ee.equals(W.path,D));if(z<0){var F=mje(R.text,I);F&&$.push({path:D,diff:I,id:c++}),v();return}var H=bMt(R.text,$[z].diff,I);if(!H){$.splice(z,1),v();return}$[z]=H2(H2({},$[z]),{},{diff:H})},x=function(I){var{at:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Yd.delete(t),n.cancel(),r.cancel(),w()&&p(),Wd.set(t,{at:O,run:I}),a=setTimeout(p)},y=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:O}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&O!=="insertText"&&O!=="insertCompositionText"&&(u=!1);var[z]=D.getTargetRanges();z&&($=he.toSlateRange(t,z,{exactMatch:!1,suppressThrow:!0}));var F=he.getWindow(t),H=F.getSelection();if(!$&&H&&(z=H,$=he.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var W=!0;if(O.startsWith("delete")){if(de.isExpanded($)){var[V,q]=de.edges($),oe=Se.leaf(t,V.path);if(oe.text.length===V.offset&&q.offset===0){var N=B.next(t,{at:V.path,match:we.isText});N&&ee.equals(N[1],q.path)&&($={anchor:q,focus:q})}}var G=O.endsWith("Backward")?"backward":"forward",[Y,K]=de.edges($),[X,Q]=B.leaf(t,Y.path),Z={text:"",start:Y.offset,end:K.offset},ne=_s.get(t),ae=ne==null?void 0:ne.find(Ve=>ee.equals(Ve.path,Q)),me=ae?[ae.diff,Z]:[Z],ue=pje(X.text,...me);if(ue.length===0&&(W=!1),de.isExpanded($)){if(W&&ee.equals($.anchor.path,$.focus.path)){var Te={path:$.anchor.path,offset:Y.offset},_e=B.range(t,Te,Te);return k(_e),b($.anchor.path,{text:"",end:K.offset,start:Y.offset})}return x(()=>B.deleteFragment(t,{direction:G}),{at:$})}}switch(O){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>B.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:be}=$;if(W&&de.isCollapsed($)){var ge=Se.leaf(t,be.path);if(be.offset<ge.text.length)return b(be.path,{text:"",start:be.offset,end:be.offset+1})}return x(()=>B.deleteForward(t),{at:$})}case"deleteContentBackward":{var Oe,{anchor:Re}=$,ut=FM(z)?z.isCollapsed:!!((Oe=z)!==null&&Oe!==void 0&&Oe.collapsed);return W&&ut&&de.isCollapsed($)&&Re.offset>0?b(Re.path,{text:"",start:Re.offset-1,end:Re.offset}):x(()=>B.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{B.deleteBackward(t,{unit:"line"}),B.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>B.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>B.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>B.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>B.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>B.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>B.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>B.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>B.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(kMt(R))return x(()=>he.insertData(t,R),{at:$});var st=R??"";if(Sl.get(t)&&(st=st.replace("\uFEFF","")),O==="insertText"&&/.*\n.*\n$/.test(st)&&(st=st.slice(0,-1)),st.includes(`
`))return x(()=>{var Ve=st.split(`
`);Ve.forEach((vt,Ie)=>{vt&&B.insertText(t,vt),Ie!==Ve.length-1&&B.insertSoftBreak(t)})},{at:$});if(ee.equals($.anchor.path,$.focus.path)){var[Lt,gn]=de.edges($),xe={start:Lt.offset,end:gn.offset,text:st};if(st&&u&&O==="insertCompositionText"){var Ze=u.start+u.text.search(/\S|$/),Je=xe.start+xe.text.search(/\S|$/);Je===Ze+1&&xe.end===u.start+u.text.length?(xe.start-=1,u=null,T()):u=!1}else O==="insertText"?u===null?u=xe:u&&de.isCollapsed($)&&u.end+u.text.length===Lt.offset?u=H2(H2({},u),{},{text:u.text+st}):u=!1:u=!1;if(W){b(Lt.path,xe);return}}return x(()=>B.insertText(t,st),{at:$})}}}},w=()=>!!Wd.get(t),C=()=>{var D;return!!((D=_s.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,k=D=>{Yd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var O=!I||!ee.equals(I.anchor.path,D.anchor.path),$=!I||!ee.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(O&&u||$)&&(u=!1),(O||C())&&(s=setTimeout(p,_Mt))}},j=()=>{(w()||!C())&&p()},E=D=>{C()||(v(!0),setTimeout(v))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(O=>O7(t,O,D))){var I;(I=cje.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:k,handleCompositionEnd:m,handleCompositionStart:g,handleDOMBeforeInput:y,handleKeyDown:E,handleDomMutations:A,handleInput:j}}function jMt(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Fx=PS?h.useLayoutEffect:h.useEffect;function TMt(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));Fx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var AMt=["node"];function fQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function DMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fQ(Object(n),!0).forEach(function(r){fA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var IMt={subtree:!0,childList:!0,characterData:!0},OMt=Ts?e=>{var{node:t}=e,n=f0(e,AMt);if(!Ts)return null;var r=Qc(),o=jMt(),[i]=h.useState(()=>EMt(DMt({editor:r},n)));return TMt(t,i.handleDomMutations,IMt),D7.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,PMt=["anchor","focus"],RMt=["anchor","focus"],$Mt=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),gje=(e,t)=>{var n=f0(e,PMt),r=f0(t,RMt);return e[h0]===t[h0]&&$Mt(n,r)},MMt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!de.equals(r,o)||!gje(r,o))return!1}return!0},FMt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!gje(r,o))return!1}return!0},LMt=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Qc(),s=he.findPath(i,o),a=ee.parent(s),c=n[uje]===!0;return i.isVoid(r)?re.createElement(sO,{length:Se.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&B.string(i,a)===""?re.createElement(sO,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?re.createElement(sO,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?re.createElement(hQ,{isTrailing:!0,text:n.text}):re.createElement(hQ,{text:n.text})},hQ=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return Fx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),re.createElement(BMt,{ref:r},i)},BMt=h.memo(h.forwardRef((e,t)=>re.createElement("span",{"data-slate-string":!0,ref:t},e.children))),sO=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),re.createElement("span",Object.assign({},o),!Ts||!n?"\uFEFF":null,n?re.createElement("br",null):null)};function NMt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function pQ(e){e.current&&(clearTimeout(e.current),e.current=null)}var zMt=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>re.createElement(HMt,Object.assign({},y))}=e,a=Qc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(NMt(c,y==null),y==null){var w;PM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(PM.set(a,y),!c.current){var C=window.ResizeObserver||a_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,y)})}c.current.observe(y),u.current=y}},[u,t,a]),g=re.createElement(LMt,{isLast:n,leaf:t,parent:o,text:r}),v=t[h0];if(h.useEffect(()=>(v?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(pQ(p),f(!1)),()=>pQ(p)),[v,f]),v&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Wy?"inherit":void 0},contentEditable:!1,ref:m}};g=re.createElement(re.Fragment,null,i(b),g)}var x={"data-slate-leaf":!0};return s({attributes:x,children:g,leaf:t,text:r})},VMt=re.memo(zMt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&we.equals(t.leaf,e.leaf)&&t.leaf[h0]===e.leaf[h0]),HMt=e=>{var{attributes:t,children:n}=e;return re.createElement("span",Object.assign({},t),n)},UMt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Qc(),c=h.useRef(null),u=we.decorations(s,t),d=he.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(re.createElement(VMt,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var g=h.useCallback(v=>{var b=hA.get(a);v?(b==null||b.set(d,v),Lp.set(s,v),Mx.set(v,s)):(b==null||b.delete(d),Lp.delete(s),c.current&&Mx.delete(c.current)),c.current=v},[c,a,d,s]);return re.createElement("span",{"data-slate-node":"text",ref:g},f)},vje=re.memo(UMt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&FMt(t.decorations,e.decorations)),WMt=e=>{var{decorations:t,element:n,renderElement:r=y=>re.createElement(qMt,Object.assign({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Qc(),c=KMt(),u=a.isInline(n),d=he.findKey(a,n),f=h.useCallback(y=>{var w=hA.get(a);y?(w==null||w.set(d,y),Lp.set(n,y),Mx.set(y,n)):(w==null||w.delete(d),Lp.delete(n))},[a,d,n]),p=wje({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&B.hasInlines(a,n)){var g=Se.string(n),v=KEe(g);v==="rtl"&&(m.dir=v)}if(B.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var b=u?"span":"div",[[x]]=Se.texts(n);p=re.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},re.createElement(vje,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),T7.set(x,0),A7.set(x,n)}return r({attributes:m,children:p,element:n})},YMt=re.memo(WMt,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&MMt(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&de.equals(e.selection,t.selection))),qMt=e=>{var{attributes:t,children:n,element:r}=e,o=Qc(),i=o.isInline(r)?"span":"div";return re.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},yje=h.createContext(()=>[]),GMt=()=>h.useContext(yje),bje=h.createContext(!1),xje=()=>h.useContext(bje),wje=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=GMt(),c=Qc(),u=he.findPath(c,n),d=[],f=Pe.isElement(n)&&!c.isInline(n)&&B.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),g=n.children[p],v=he.findKey(c,g),b=B.range(c,m),x=s&&de.intersection(b,s),y=a([g,m]);for(var w of t){var C=de.intersection(w,b);C&&y.push(C)}Pe.isElement(g)?d.push(re.createElement(bje.Provider,{key:"provider-".concat(v.id),value:!!x},re.createElement(YMt,{decorations:y,element:g,key:v.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(re.createElement(vje,{decorations:y,key:v.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:g})),T7.set(g,p),A7.set(g,n)}return d},Cje=h.createContext(!1),KMt=()=>h.useContext(Cje),_je=h.createContext(null),pA=()=>{var e=h.useContext(_je);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function ZMt(){var e=Qc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=he.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var XMt=3,QMt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},JMt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},e4t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},gr=e=>{var t=QMt[e],n=JMt[e],r=e4t[e],o=t&&iO(t),i=n&&iO(n),s=r&&iO(r);return a=>!!(o&&o(a)||lQ&&i&&i(a)||!lQ&&s&&s(a))},Tr={isBold:gr("bold"),isCompose:gr("compose"),isMoveBackward:gr("moveBackward"),isMoveForward:gr("moveForward"),isDeleteBackward:gr("deleteBackward"),isDeleteForward:gr("deleteForward"),isDeleteLineBackward:gr("deleteLineBackward"),isDeleteLineForward:gr("deleteLineForward"),isDeleteWordBackward:gr("deleteWordBackward"),isDeleteWordForward:gr("deleteWordForward"),isExtendBackward:gr("extendBackward"),isExtendForward:gr("extendForward"),isExtendLineBackward:gr("extendLineBackward"),isExtendLineForward:gr("extendLineForward"),isItalic:gr("italic"),isMoveLineBackward:gr("moveLineBackward"),isMoveLineForward:gr("moveLineForward"),isMoveWordBackward:gr("moveWordBackward"),isMoveWordForward:gr("moveWordForward"),isRedo:gr("redo"),isSoftBreak:gr("insertSoftBreak"),isSplitBlock:gr("splitBlock"),isTransposeCharacter:gr("transposeCharacter"),isUndo:gr("undo")},t4t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>O7(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},n4t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Sje extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,n4t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=t4t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Sje.contextType=j7;var r4t=Ts?Sje:e=>{var{children:t}=e;return re.createElement(re.Fragment,null,t)},o4t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],i4t=["text"];function mQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mQ(Object(n),!0).forEach(function(r){fA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s4t=e=>re.createElement(re.Fragment,null,wje(e)),a4t=e=>{var t=h.useCallback(N=>re.createElement(l4t,Object.assign({},N)),[]),{autoFocus:n,decorate:r=c4t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=u4t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,g=f0(e,o4t),v=pA(),[b,x]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:k}=ZMt(),[,j]=h.useReducer(N=>N+1,0);cje.set(v,j),$M.set(v,s);var E=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>IT(()=>{var N=T.current;if((Ts||!he.isComposing(v))&&(!E.isUpdatingSelection||N!=null&&N.isFlushing())&&!E.isDraggingInternally){var G=he.findDocumentOrShadowRoot(v),{activeElement:Y}=G,K=he.toDOMNode(v,v),X=G.getSelection();if(Y===K?(E.latestElement=Y,gp.set(v,!0)):gp.delete(v),!X)return se.deselect(v);var{anchorNode:Q,focusNode:Z}=X,ne=he.hasEditableTarget(v,Q)||he.isTargetInsideNonReadonlyVoid(v,Q),ae=he.hasEditableTarget(v,Z)||he.isTargetInsideNonReadonlyVoid(v,Z);if(ne&&ae){var me=he.toSlateRange(v,X,{exactMatch:!1,suppressThrow:!0});me&&(!he.isComposing(v)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(v,me):N==null||N.handleUserSelect(me))}s&&(!ne||!ae)&&se.deselect(v)}},100),[v,s,E]),D=h.useMemo(()=>_w(A,0),[A]);T.current=OMt({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),Fx(()=>{var N,G,Y;y.current&&(Y=I7(y.current))?(lje.set(v,Y),RS.set(v,y.current),Lp.set(v,y.current),Mx.set(y.current,v)):Lp.delete(v);var{selection:K}=v,X=he.findDocumentOrShadowRoot(v),Q=X.getSelection();if(!(!Q||!he.isFocused(v)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var Z=ue=>{var Te=Q.type!=="None";if(!(!K&&!Te)){var _e=Q.focusNode,be;if(Rb&&Q.rangeCount>1){var ge=Q.getRangeAt(0),Oe=Q.getRangeAt(Q.rangeCount-1);ge.startContainer===_e?be=Oe.endContainer:be=ge.startContainer}else be=Q.anchorNode;var Re=RS.get(v),ut=!1;if(Re.contains(be)&&Re.contains(_e)&&(ut=!0),Te&&ut&&K&&!ue){var st=he.toSlateRange(v,Q,{exactMatch:!0,suppressThrow:!0});if(st&&de.equals(st,K)){var Lt,gn;if(!E.hasMarkPlaceholder||(Lt=be)!==null&&Lt!==void 0&&(gn=Lt.parentElement)!==null&&gn!==void 0&&gn.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!he.hasRange(v,K)){v.selection=he.toSlateRange(v,Q,{exactMatch:!1,suppressThrow:!0});return}E.isUpdatingSelection=!0;var xe=K&&he.toDOMRange(v,K);return xe?(he.isComposing(v)&&!Ts?Q.collapseToEnd():de.isBackward(K)?Q.setBaseAndExtent(xe.endContainer,xe.endOffset,xe.startContainer,xe.startOffset):Q.setBaseAndExtent(xe.startContainer,xe.startOffset,xe.endContainer,xe.endOffset),d(v,xe)):Q.removeAllRanges(),xe}};Q.rangeCount<=1&&Z();var ne=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!Ts||!ne){setTimeout(()=>{E.isUpdatingSelection=!1});return}var ae=null,me=requestAnimationFrame(()=>{if(ne){var ue=Te=>{try{var _e=he.toDOMNode(v,v);_e.focus(),Z(Te)}catch{}};ue(),ae=setTimeout(()=>{ue(!0),E.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(me),ae&&clearTimeout(ae)}}});var I=h.useCallback(N=>{if(S(),!s&&he.hasEditableTarget(v,N.target)&&!d4t(N,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:Y}=v,{inputType:K}=N,X=N.dataTransfer||N.data||void 0,Q=K==="insertCompositionText"||K==="deleteCompositionText";if(Q&&he.isComposing(v))return;var Z=!1;if(K==="insertText"&&Y&&de.isCollapsed(Y)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&Y.anchor.offset!==0){var ne,ae;Z=!0,v.marks&&(Z=!1);var{anchor:me}=Y,[ue,Te]=he.toDOMPoint(v,me),_e=(ne=ue.parentElement)===null||ne===void 0?void 0:ne.closest("a"),be=he.getWindow(v);if(Z&&_e&&he.hasDOMNode(v,_e)){var ge,Oe=be==null?void 0:be.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Oe===ue&&((ge=Oe.textContent)===null||ge===void 0?void 0:ge.length)===Te&&(Z=!1)}if(Z&&ue.parentElement&&(be==null||(ae=be.getComputedStyle(ue.parentElement))===null||ae===void 0?void 0:ae.whiteSpace)==="pre"){var Re=B.above(v,{at:me.path,match:Ze=>Pe.isElement(Ze)&&B.isBlock(v,Ze)});Re&&Se.string(Re[0]).includes("	")&&(Z=!1)}}if(!K.startsWith("delete")||K.startsWith("deleteBy")){var[ut]=N.getTargetRanges();if(ut){var st=he.toSlateRange(v,ut,{exactMatch:!1,suppressThrow:!1});if(!Y||!de.equals(Y,st)){Z=!1;var Lt=!Q&&v.selection&&B.rangeRef(v,v.selection);se.select(v,st),Lt&&$b.set(v,Lt)}}}if(Q)return;if(Z||N.preventDefault(),Y&&de.isExpanded(Y)&&K.startsWith("delete")){var gn=K.endsWith("Backward")?"backward":"forward";B.deleteFragment(v,{direction:gn});return}switch(K){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{B.deleteFragment(v);break}case"deleteContent":case"deleteContentForward":{B.deleteForward(v);break}case"deleteContentBackward":{B.deleteBackward(v);break}case"deleteEntireSoftLine":{B.deleteBackward(v,{unit:"line"}),B.deleteForward(v,{unit:"line"});break}case"deleteHardLineBackward":{B.deleteBackward(v,{unit:"block"});break}case"deleteSoftLineBackward":{B.deleteBackward(v,{unit:"line"});break}case"deleteHardLineForward":{B.deleteForward(v,{unit:"block"});break}case"deleteSoftLineForward":{B.deleteForward(v,{unit:"line"});break}case"deleteWordBackward":{B.deleteBackward(v,{unit:"word"});break}case"deleteWordForward":{B.deleteForward(v,{unit:"word"});break}case"insertLineBreak":B.insertSoftBreak(v);break;case"insertParagraph":{B.insertBreak(v);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{K==="insertFromComposition"&&he.isComposing(v)&&(x(!1),vp.set(v,!1)),(X==null?void 0:X.constructor.name)==="DataTransfer"?he.insertData(v,X):typeof X=="string"&&(Z?w.current.push(()=>B.insertText(v,X)):B.insertText(v,X));break}}var xe=(G=$b.get(v))===null||G===void 0?void 0:G.unref();$b.delete(v),xe&&(!v.selection||!de.equals(v.selection,xe))&&se.select(v,xe)}},[v,A,S,o,s,D]),O=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),RS.delete(v),Lp.delete(v),y.current&&Dd&&y.current.removeEventListener("beforeinput",I)):Dd&&N.addEventListener("beforeinput",I),y.current=N},[A,D,v,I]);Fx(()=>{var N=he.getWindow(v);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var $=r([v,[]]),R=i&&v.children.length===1&&Array.from(Se.texts(v)).length===1&&Se.string(v)===""&&!b,z=h.useCallback(N=>{if(N&&R){var G;_((G=N.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else _(void 0)},[R]);if(R){var F=B.start(v,[]);$.push({[h0]:!0,placeholder:i,onPlaceholderResize:z,anchor:F,focus:F})}var{marks:H}=v;if(E.hasMarkPlaceholder=!1,v.selection&&de.isCollapsed(v.selection)&&H){var{anchor:W}=v.selection,V=Se.leaf(v,W.path),q=f0(V,i4t);if(!we.equals(V,H,{loose:!0})){E.hasMarkPlaceholder=!0;var oe=Object.fromEntries(Object.keys(q).map(N=>[N,null]));$.push(lg(lg(lg({[uje]:!0},oe),H),{},{anchor:W,focus:W}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=v;if(N){var{anchor:G}=N,Y=Se.leaf(v,G.path);if(H&&!we.equals(Y,H,{loose:!0})){Sl.set(v,H);return}}Sl.delete(v)})}),re.createElement(Cje.Provider,{value:s},re.createElement(yje.Provider,{value:r},re.createElement(r4t,{node:y,receivedUserInput:k},re.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},g,{spellCheck:Dd||!PS?g.spellCheck:!1,autoCorrect:Dd||!PS?g.autoCorrect:"false",autoCapitalize:Dd||!PS?g.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:lg(lg({},m?{}:lg({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!Dd&&!s&&!Ki(N,g.onBeforeInput)&&he.hasSelectableTarget(v,N.target)&&(N.preventDefault(),!he.isComposing(v))){var G=N.data;B.insertText(v,G)}},[g.onBeforeInput,v,s]),onInput:h.useCallback(N=>{if(!Ki(N,g.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[g.onInput]),onBlur:h.useCallback(N=>{if(!(s||E.isUpdatingSelection||!he.hasSelectableTarget(v,N.target)||Ki(N,g.onBlur))){var G=he.findDocumentOrShadowRoot(v);if(E.latestElement!==G.activeElement){var{relatedTarget:Y}=N,K=he.toDOMNode(v,v);if(Y!==K&&!($a(Y)&&Y.hasAttribute("data-slate-spacer"))){if(Y!=null&&Xf(Y)&&he.hasDOMNode(v,Y)){var X=he.toSlateNode(v,Y);if(Pe.isElement(X)&&!v.isVoid(X))return}if(Wy){var Q=G.getSelection();Q==null||Q.removeAllRanges()}gp.delete(v)}}}},[s,E.isUpdatingSelection,E.latestElement,v,g.onBlur]),onClick:h.useCallback(N=>{if(he.hasTarget(v,N.target)&&!Ki(N,g.onClick)&&Xf(N.target)){var G=he.toSlateNode(v,N.target),Y=he.findPath(v,G);if(!B.hasPath(v,Y)||Se.get(v,Y)!==G)return;if(N.detail===XMt&&Y.length>=1){var K=Y;if(!(Pe.isElement(G)&&B.isBlock(v,G))){var X,Q=B.above(v,{match:_e=>Pe.isElement(_e)&&B.isBlock(v,_e),at:Y});K=(X=Q==null?void 0:Q[1])!==null&&X!==void 0?X:Y.slice(0,1)}var Z=B.range(v,K);se.select(v,Z);return}if(s)return;var ne=B.start(v,Y),ae=B.end(v,Y),me=B.void(v,{at:ne}),ue=B.void(v,{at:ae});if(me&&ue&&ee.equals(me[1],ue[1])){var Te=B.range(v,ne);se.select(v,Te)}}},[v,g.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(he.hasSelectableTarget(v,N.target)){var G;if(he.isComposing(v)&&(x(!1),vp.set(v,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(N),Ki(N,g.onCompositionEnd)||Ts)return;if(!Wy&&!rMt&&!J$t&&!iMt&&!oMt&&N.data){var Y=Sl.get(v);Sl.delete(v),Y!==void 0&&(Tu.set(v,v.marks),v.marks=Y),B.insertText(v,N.data);var K=Tu.get(v);Tu.delete(v),K!==void 0&&(v.marks=K)}}},[g.onCompositionEnd,v]),onCompositionUpdate:h.useCallback(N=>{he.hasSelectableTarget(v,N.target)&&!Ki(N,g.onCompositionUpdate)&&(he.isComposing(v)||(x(!0),vp.set(v,!0)))},[g.onCompositionUpdate,v]),onCompositionStart:h.useCallback(N=>{if(he.hasSelectableTarget(v,N.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(N),Ki(N,g.onCompositionStart)||Ts)return;x(!0);var{selection:Y}=v;if(Y){if(de.isExpanded(Y)){B.deleteFragment(v);return}var K=B.above(v,{match:Z=>Pe.isElement(Z)&&B.isInline(v,Z),mode:"highest"});if(K){var[,X]=K;if(B.isEnd(v,Y.anchor,X)){var Q=B.after(v,X);se.setSelection(v,{anchor:Q,focus:Q})}}}}},[g.onCompositionStart,v]),onCopy:h.useCallback(N=>{he.hasSelectableTarget(v,N.target)&&!Ki(N,g.onCopy)&&!gQ(N)&&(N.preventDefault(),he.setFragmentData(v,N.clipboardData,"copy"))},[g.onCopy,v]),onCut:h.useCallback(N=>{if(!s&&he.hasSelectableTarget(v,N.target)&&!Ki(N,g.onCut)&&!gQ(N)){N.preventDefault(),he.setFragmentData(v,N.clipboardData,"cut");var{selection:G}=v;if(G)if(de.isExpanded(G))B.deleteFragment(v);else{var Y=Se.parent(v,G.anchor.path);B.isVoid(v,Y)&&se.delete(v)}}},[s,v,g.onCut]),onDragOver:h.useCallback(N=>{if(he.hasTarget(v,N.target)&&!Ki(N,g.onDragOver)){var G=he.toSlateNode(v,N.target);Pe.isElement(G)&&B.isVoid(v,G)&&N.preventDefault()}},[g.onDragOver,v]),onDragStart:h.useCallback(N=>{if(!s&&he.hasTarget(v,N.target)&&!Ki(N,g.onDragStart)){var G=he.toSlateNode(v,N.target),Y=he.findPath(v,G),K=Pe.isElement(G)&&B.isVoid(v,G)||B.void(v,{at:Y,voids:!0});if(K){var X=B.range(v,Y);se.select(v,X)}E.isDraggingInternally=!0,he.setFragmentData(v,N.dataTransfer,"drag")}},[s,v,g.onDragStart,E]),onDrop:h.useCallback(N=>{if(!s&&he.hasTarget(v,N.target)&&!Ki(N,g.onDrop)){N.preventDefault();var G=v.selection,Y=he.findEventRange(v,N),K=N.dataTransfer;se.select(v,Y),E.isDraggingInternally&&G&&!de.equals(G,Y)&&!B.void(v,{at:Y,voids:!0})&&se.delete(v,{at:G}),he.insertData(v,K),he.isFocused(v)||he.focus(v)}E.isDraggingInternally=!1},[s,v,g.onDrop,E]),onDragEnd:h.useCallback(N=>{!s&&E.isDraggingInternally&&g.onDragEnd&&he.hasTarget(v,N.target)&&g.onDragEnd(N),E.isDraggingInternally=!1},[s,E,g,v]),onFocus:h.useCallback(N=>{if(!s&&!E.isUpdatingSelection&&he.hasEditableTarget(v,N.target)&&!Ki(N,g.onFocus)){var G=he.toDOMNode(v,v),Y=he.findDocumentOrShadowRoot(v);if(E.latestElement=Y.activeElement,Rb&&N.target!==G){G.focus();return}gp.set(v,!0)}},[s,E,v,g.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&he.hasEditableTarget(v,N.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(N);var{nativeEvent:Y}=N;if(he.isComposing(v)&&Y.isComposing===!1&&(vp.set(v,!1),x(!1)),Ki(N,g.onKeyDown)||he.isComposing(v))return;var{selection:K}=v,X=v.children[K!==null?K.focus.path[0]:0],Q=KEe(Se.string(X))==="rtl";if(Tr.isRedo(Y)){N.preventDefault();var Z=v;typeof Z.redo=="function"&&Z.redo();return}if(Tr.isUndo(Y)){N.preventDefault();var ne=v;typeof ne.undo=="function"&&ne.undo();return}if(Tr.isMoveLineBackward(Y)){N.preventDefault(),se.move(v,{unit:"line",reverse:!0});return}if(Tr.isMoveLineForward(Y)){N.preventDefault(),se.move(v,{unit:"line"});return}if(Tr.isExtendLineBackward(Y)){N.preventDefault(),se.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(Tr.isExtendLineForward(Y)){N.preventDefault(),se.move(v,{unit:"line",edge:"focus"});return}if(Tr.isMoveBackward(Y)){N.preventDefault(),K&&de.isCollapsed(K)?se.move(v,{reverse:!Q}):se.collapse(v,{edge:"start"});return}if(Tr.isMoveForward(Y)){N.preventDefault(),K&&de.isCollapsed(K)?se.move(v,{reverse:Q}):se.collapse(v,{edge:"end"});return}if(Tr.isMoveWordBackward(Y)){N.preventDefault(),K&&de.isExpanded(K)&&se.collapse(v,{edge:"focus"}),se.move(v,{unit:"word",reverse:!Q});return}if(Tr.isMoveWordForward(Y)){N.preventDefault(),K&&de.isExpanded(K)&&se.collapse(v,{edge:"focus"}),se.move(v,{unit:"word",reverse:Q});return}if(Dd){if((aje||Wy)&&K&&(Tr.isDeleteBackward(Y)||Tr.isDeleteForward(Y))&&de.isCollapsed(K)){var ae=Se.parent(v,K.anchor.path);if(Pe.isElement(ae)&&B.isVoid(v,ae)&&(B.isInline(v,ae)||B.isBlock(v,ae))){N.preventDefault(),B.deleteBackward(v,{unit:"block"});return}}}else{if(Tr.isBold(Y)||Tr.isItalic(Y)||Tr.isTransposeCharacter(Y)){N.preventDefault();return}if(Tr.isSoftBreak(Y)){N.preventDefault(),B.insertSoftBreak(v);return}if(Tr.isSplitBlock(Y)){N.preventDefault(),B.insertBreak(v);return}if(Tr.isDeleteBackward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v);return}if(Tr.isDeleteForward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v);return}if(Tr.isDeleteLineBackward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"line"});return}if(Tr.isDeleteLineForward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"line"});return}if(Tr.isDeleteWordBackward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"word"});return}if(Tr.isDeleteWordForward(Y)){N.preventDefault(),K&&de.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"word"});return}}}},[s,v,g.onKeyDown]),onPaste:h.useCallback(N=>{!s&&he.hasEditableTarget(v,N.target)&&!Ki(N,g.onPaste)&&(!Dd||lMt(N.nativeEvent)||Wy)&&(N.preventDefault(),he.insertData(v,N.clipboardData))},[s,v,g.onPaste])}),re.createElement(s4t,{decorations:$,node:v,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:v.selection})))))},l4t=e=>{var{attributes:t,children:n}=e;return re.createElement("span",Object.assign({},t),n,Ts&&re.createElement("br",null))},c4t=()=>[],u4t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&de.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),xPt(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Ki=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},gQ=e=>Xf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),d4t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},f4t=h.createContext(!1),h4t=h.createContext({});function p4t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var m4t=["editor","children","onChange","initialValue"],g4t=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=f0(e,m4t),s=h.useRef(!1),[a,c]=re.useState(()=>{if(!Se.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(zo.stringify(o)));if(!B.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(zo.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=p4t(t),f=h.useCallback(()=>{r&&r(t.children),c(g=>({v:g.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(MM.set(t,f),()=>{MM.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(he.isFocused(t));return h.useEffect(()=>{m(he.isFocused(t))},[t]),Fx(()=>{var g=()=>m(he.isFocused(t));return sje>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),re.createElement(h4t.Provider,{value:u},re.createElement(_je.Provider,{value:a},re.createElement(j7.Provider,{value:a.editor},re.createElement(f4t.Provider,{value:p},n))))},vQ=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},yQ=(e,t,n)=>{var r=he.toDOMRange(e,t).getBoundingClientRect(),o=he.toDOMRange(e,n).getBoundingClientRect();return vQ(r,o)&&vQ(o,r)},v4t=(e,t)=>{var n=B.range(e,de.end(t)),r=Array.from(B.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(yQ(e,B.range(e,r[o]),n))return B.range(e,r[o],n);if(r.length<2)return B.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)yQ(e,B.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return B.range(e,r[i],n)};function bQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bQ(Object(n),!0).forEach(function(r){fA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var y4t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return hA.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=D7.get(r))===null||f===void 0||f(),!Sl.get(r)&&(p=_s.get(r))!==null&&p!==void 0&&p.length&&Sl.set(r,null),Tu.delete(r),a(u,d)},r.removeMark=u=>{var d;!Sl.get(r)&&(d=_s.get(r))!==null&&d!==void 0&&d.length&&Sl.set(r,null),Tu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&de.isCollapsed(r.selection)){var d=B.above(r,{match:g=>Pe.isElement(g)&&B.isBlock(r,g),at:r.selection});if(d){var[,f]=d,p=B.range(r,f,r.selection.anchor),m=v4t(r,p);de.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=_s.get(r);if(f!=null&&f.length){var p=f.map(S=>wMt(S,u)).filter(Boolean);_s.set(r,p)}var m=Yd.get(r);m&&Yd.set(r,uQ(r,m,u));var g=Wd.get(r);if(g!=null&&g.at){var v=It.isPoint(g==null?void 0:g.at)?BM(r,g.at,u):uQ(r,g.at,u);Wd.set(r,v?xQ(xQ({},g),{},{at:v}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...U2(r,u.path));break}case"set_selection":{var b;(b=$b.get(r))===null||b===void 0||b.unref(),$b.delete(r);break}case"insert_node":case"remove_node":{d.push(...U2(r,ee.parent(u.path)));break}case"merge_node":{var x=ee.previous(u.path);d.push(...U2(r,x));break}case"move_node":{var y=ee.common(ee.parent(u.path),ee.parent(u.newPath));d.push(...U2(r,y));break}}o(u);for(var[w,C]of d){var[_]=B.node(r,w);RM.set(_,C)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=de.edges(d),m=B.void(r,{at:f.path}),g=B.void(r,{at:p.path});if(!(de.isCollapsed(d)&&!m)){var v=he.toDOMRange(r,d),b=v.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),g){var[y]=g,w=v.cloneRange(),C=he.toDOMNode(r,y);w.setEndAfter(C),b=w.cloneContents()}if(m&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),dje(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),b.appendChild(_),x=_}var S=r.getFragment(),k=JSON.stringify(S),j=window.btoa(encodeURIComponent(k));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var E=b.ownerDocument.createElement("div");return E.appendChild(b),E.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(E),u.setData("text/html",E.innerHTML),u.setData("text/plain",hje(E)),b.ownerDocument.body.removeChild(E),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||hMt(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=sje<18?HUe.unstable_batchedUpdates:f=>f();d(()=>{var f=MM.get(r);f&&f(),i(u)})},r},U2=(e,t)=>{var n=[];for(var[r,o]of B.levels(e,{at:t})){var i=he.findKey(e,r);n.push([o,i])}return n},b4t=j0e,wQ=1/0,x4t=17976931348623157e292;function w4t(e){if(!e)return e===0?e:0;if(e=b4t(e),e===wQ||e===-wQ){var t=e<0?-1:1;return t*x4t}return e===e?e:0}var kje=w4t,C4t=kje;function _4t(e){var t=C4t(e),n=t%1;return t===t?n?t-n:t:0}var S4t=_4t,k4t=A_e,E4t=fh,j4t=S4t,T4t=Math.max;function A4t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:j4t(n);return o<0&&(o=T4t(r+o,0)),k4t(e,E4t(t),o)}var Eje=A4t;const P7=Ae(Eje);var D4t=v9,I4t=4;function O4t(e){return D4t(e,I4t)}var P4t=O4t;const jje=Ae(P4t);function $S(e){return!!e&&(typeof e=="object"||typeof e=="function")}function rE(e){return $S(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>$S(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>$S(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function aO(e){return $S(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function td(e){return!!e&&(typeof e=="object"||typeof e=="function")}function CQ(e){return td(e)?e.jsonType==="object":!1}function R4t(e){return td(e)?e.jsonType==="array":!1}function $4t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function M4t(e){return td(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function F4t(e){if(!td(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(VM),n=e.fields.find(NM),r=e.fields.find(zM);return VM(t)&&NM(n)&&zM(r)}function NM(e){return!td(e)||e.name!=="style"?!1:td(e.type)&&e.type.jsonType==="string"}function zM(e){return!td(e)||e.name!=="listItem"?!1:td(e.type)&&e.type.jsonType==="string"}function VM(e){return!td(e)||e.name!=="children"||!R4t(e.type)?!1:e.type.of.some(M4t)}function R7(e){return e.type?R7(e.type):e.name==="block"}function L4t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(R7);if(!F4t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(VM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&CQ(c)),a=e.of.filter(c=>c.name!==r.name&&CQ(c));return{styles:B4t(r),decorators:z4t(i),annotations:N4t(i),lists:V4t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function B4t(e){const t=e.fields.find(NM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=Tje(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function N4t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function z4t(e){return e.decorators}function V4t(e){const t=e.fields.find(zM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=Tje(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function Tje(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>$4t(n)?n:{title:n,value:n}):[]}const H4t=Object.prototype.toString;function Aje(e){switch(H4t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function U4t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h7(t),t}const Dje=[];for(let e=0;e<256;++e)Dje[e]=(e+256).toString(16).substring(1);function HM(e){return U4t(e).reduce((t,n)=>t+Dje[n],"").slice(0,e)}const W4t=["pre","textarea","code"],p0="normal",Es=Object.freeze({_type:"block",markDefs:[],style:p0}),MS=Object.freeze({_type:"span",marks:[]}),oE={p:Es,blockquote:{...Es,style:"blockquote"}},Ije={span:{object:"text"}},iE={ol:{object:null},ul:{object:null}},sE={h1:{...Es,style:"h1"},h2:{...Es,style:"h2"},h3:{...Es,style:"h3"},h4:{...Es,style:"h4"},h5:{...Es,style:"h5"},h6:{...Es,style:"h6"}},Y4t={br:{...Es,style:p0}},Oje={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},Pje={li:{...Es,style:p0,level:1,listItem:"bullet"}},q4t={...oE,...Ije,...iE,...Pje,...sE,...Y4t};mo(Object.values(q4t).filter(e=>"style"in e).map(e=>e.style));mo(Object.values(Oje));const am={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var G4t=(e,t)=>{function n(r){var o,i;if(r.nodeType===am.BOOLEAN_TYPE&&!W4t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const K4t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var Z4t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,am.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(K4t.join("|"),t,null,am.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const X4t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,Q4t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],J4t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],eFt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function tFt(e){return X4t.test(e)}var nFt=(e,t)=>{var n;if(!tFt(e))return t;const r=t.evaluate(Q4t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,am.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(J4t.join("|"),t,null,am.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=eFt[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},rFt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,am.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,am.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},oFt=[G4t,nFt,rFt,Z4t];function iFt(e){const t=L4t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Ar(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function sFt(e,t){const n=t(aFt(e));return oFt.forEach(r=>{r(e,n)}),n}function aFt(e){return e.trim()}function lFt(){if(Aje(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function cFt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),rE(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function uFt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function dFt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function _Q(e){return[" "," "].includes(e)}function fFt(e){return e.forEach(t=>{rE(t)&&t.children.forEach((n,r)=>{if(!Tv(n))return;const o=uFt(t,r),i=dFt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&Tv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&Tv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ht(i.marks,n.marks)&&_Q(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ht(o.marks,n.marks)&&_Q(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function hFt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!rE(o[r-1])&&rE(i))return i.children.push(n),t;const s={...Es,children:[n]};return t.push(s),t},[])}function pFt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function Tv(e){return e._type==="span"}function SQ(e){return e._type==="block"}function kQ(e){return e._type==="__decorator"}function EQ(e){return e._type==="__annotation"}function mh(e){return e.nodeType===1}function mFt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function gFt(e,t){return[{deserialize(n){if(Ar(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Ar(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...MS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Ar(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...MS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Ar(n)!=="blockquote")return;const o={...oE,...sE};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...oE,...sE},i=Ar(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Ar(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=Es),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Ar(n);if(!(!o||!(o in Ije)))return r(n.childNodes)}},{deserialize(n,r){if(Ar(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Ar(n);if(!(!o||!(o in iE)))return r(n.childNodes)}},{deserialize(n){if(Ar(n)==="br")return{...MS,text:`
`}}},{deserialize(n,r,o){const i=Ar(n),s=i?Pje[i]:void 0,a=Ar(n.parentNode)||"";if(!s||!n.parentNode||!iE[a])return;const c=mFt(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=Oje[Ar(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Ar(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=mh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:HM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const Rje=Object.keys(iE);function vFt(e){const t=mh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function yFt(e){const t=mh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function jQ(e){return mh(e)&&!!e.getAttribute("data-is-google-docs")}function bFt(e){const t=Ar(e.parentNode);if(!(t&&!Rje.includes(t)))return Ar(e.parentNode)==="ul"?"bullet":"number"}function xFt(e){let t=0;if(Ar(e)==="li"){let n=e.parentNode;for(;n;){const r=Ar(n);r&&Rje.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const wFt={...oE,...sE};function CFt(e,t){const n=Ar(e.firstChild),r=n&&wFt[n];return!r||!t.includes(r.style)?p0:r.style}function _Ft(e,t){return[{deserialize(n){if(mh(n)&&Ar(n)==="span"&&jQ(n)){const r={...MS,marks:[],text:n.textContent};return yFt(n)&&r.marks.push("strong"),vFt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Ar(n)==="li"&&jQ(n))return{...Es,listItem:bFt(n),level:xFt(n),style:CFt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function SFt(e){const t=mh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function kFt(e){const t=mh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function EFt(e){return mh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function jFt(){return[{deserialize(e,t){if(Ar(e)==="p"&&EFt(e))return{...Es,listItem:SFt(e),level:kFt(e),style:p0,children:t(e.childNodes)}}}]}function TFt(e,t){return[...jFt(),..._Ft(e,t),...gFt(e,t)]}class AFt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=fFt(cFt(hFt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(g=>In(m.children.map(v=>v.marks||[])).includes(g._key)))});const p=this.blockContentType.of.find(R7);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(pFt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const g=this.rules[m];if(!g.deserialize)continue;const v=g.deserialize(a,d,f),b=Aje(v);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(v!==void 0){{if(v===null)throw new Error("Deserializer rule returned `null`");Array.isArray(v)?p=v:kQ(v)?p=this.deserializeDecorator(v):EQ(v)?p=this.deserializeAnnotation(v):p=v}if(v&&!Array.isArray(v)&&SQ(v)&&"listItem"in v){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Ar(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,v.level=v.level?v.level+1:1}v&&!Array.isArray(v)&&SQ(v)&&v.style==="blockquote"&&v.children.forEach((x,y)=>{Tv(x)&&x.text==="\r"&&(x.text=`

`,(y===0||y===v.children.length-1)&&v.children.splice(y,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(kQ(d))return this.deserializeDecorator(d);if(Tv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(EQ(d))return this.deserializeAnnotation(d);if(Tv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=TFt(t,iFt(t));this.rules=[...o,...i];const s=r.parseHtml||lFt();this.blockContentType=t,this.parseHtml=a=>sFt(a,s).body}}function Lx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:HM(12)};const n={_key:HM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&aO(a)&&aO(c)&&Ht(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),aO(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function TQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new AFt(t,n).deserialize(e).map(o=>Lx(o))}function AQ(e){return x9.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function DQ(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find($je);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:DFt(o),decorators:IFt(a),lists:OFt(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function DFt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function IFt(e){return e.decorators}function OFt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function $je(e){return e.type?$je(e.type):e.name==="block"?e:null}const UM="sanity-pte:";Hy(UM);function Yr(e){const t="".concat(UM).concat(e);return Hy&&Hy.enabled(t)?Hy(t):Hy(UM)}const aE=()=>dC(12),Mje=h.createContext(aE),PFt=()=>{const e=h.useContext(Mje);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},lE=new WeakMap,FS=new WeakMap,W2=new WeakMap,iy=new WeakMap,sy=new WeakMap,ay=new WeakMap,WM=new WeakMap,ja=new WeakMap,cE=new WeakMap;function RFt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function YM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function fC(e){const[t,n]=e;return[t,n]}function IQ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function $7(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function mA(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function Fje(e){let t=e.map(f=>fC(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===_t?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Kn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Kn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=gA(t)),t=Lje(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Kn){const f=t[s-1][1],p=t[s][1],m=IQ(f,p),g=IQ(p,f);m>=g?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[_t,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(g>=f.length/2||g>=p.length/2)&&(t.splice(s,0,[_t,f.substring(0,g)]),t[s-1][0]=Kn,t[s-1][1]=p.substring(0,p.length-g),t[s+1][0]=Dn,t[s+1][1]=f.substring(g),s++),s++}s++}return t}const OQ=/[^a-zA-Z0-9]/,PQ=/\s/,RQ=/[\r\n]/,$Ft=/\n\r?\n$/,MFt=/^\r?\n\r?\n/;function Lje(e){const t=e.map(o=>fC(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(OQ),u=a.match(OQ),d=c&&s.match(PQ),f=u&&a.match(PQ),p=d&&s.match(RQ),m=f&&a.match(RQ),g=p&&o.match($Ft),v=m&&i.match(MFt);return g||v?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===_t&&t[r+1][0]===_t){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=mA(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function gA(e){let t=e.map(u=>fC(u));t.push([_t,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Kn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case _t:r+o>1?(r!==0&&o!==0&&(a=$7(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===_t?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[_t,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=mA(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Kn,s]),n++),n++):n!==0&&t[n-1][0]===_t?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===_t&&t[n+1][0]===_t&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=gA(t)),t}function FFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function Bje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>fC(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===_t?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&FFt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Kn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=gA(n)),n}function LFt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,g=0,v=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return $Q(e,t,w,C,n)}}}for(let x=-b+g;x<=b-v;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)v+=2;else if(C>o)g+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],k=s+S-_;if(w=r-w,S>=w)return $Q(e,t,S,k,n)}}}}return[[Dn,e],[Kn,t]]}function $Q(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=lm(i,s,{checkLines:!1,deadline:o}),d=lm(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function BFt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=MQ(r,o,Math.ceil(r.length/4)),s=MQ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function MQ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=$7(e.slice(n),t.slice(o)),f=mA(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function NFt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function zFt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function VFt(e,t,n){let r=e,o=t;const i=zFt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=lm(r,o,{checkLines:!1,deadline:n.deadline});NFt(a,s),a=Fje(a),a.push([_t,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Kn:d++,p+=a[c][1];break;case Dn:u++,f+=a[c][1];break;case _t:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=lm(f,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)a.splice(c,0,m[g]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function HFt(e,t,n){let r;if(!e)return[[Kn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Kn,o.substring(0,s)],[_t,i],[Kn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Kn,t]];const a=BFt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=lm(c,d,n),g=lm(u,f,n);return m.concat([[_t,p]],g)}return n.checkLines&&e.length>100&&t.length>100?VFt(e,t,n):LFt(e,t,n.deadline)}const Dn=-1,Kn=1,_t=0;function M7(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=lm(e,t,WFt(n||{}));return qFt(r),r}function lm(e,t,n){let r=e,o=t;if(r===o)return r?[[_t,r]]:[];let i=$7(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=mA(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=HFt(r,o,n);return s&&c.unshift([_t,s]),a&&c.push([_t,a]),c=gA(c),c}function UFt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function WFt(e){return{checkLines:!0,deadline:UFt(e.timeout||1),...e}}function Y2(e,t,n){return n===1?e+t:t+e}function q2(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function YFt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function FQ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Kn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===_t){if(o===null&&i===null){const[f,p]=q2(e[t][1],n);e[t][1]=f,e[s][1]=Y2(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&YFt(e,o,i,n)){const[u,d]=q2(e[o][1],r),[f]=q2(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=Y2(e[t][1],d,n);return}const[a,c]=q2(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Kn,c]),i!==null&&i>=s&&i++):e[o][1]=Y2(e[o][1],c,r),i===null?e.splice(s,0,[Dn,c]):e[i][1]=Y2(e[i][1],c,r)}function qFt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];RFt(i)&&n===_t&&FQ(e,t,1),YM(o)&&n===_t&&FQ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const GFt={threshold:.5,distance:1e3};function KFt(e){return{...GFt,...e}}const ZFt=32;function XFt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>ZFt)throw new Error("Pattern too long for this browser.");const o=KFt(r),i=QFt(t);function s(g,v){const b=g/t.length,x=Math.abs(n-v);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,f=p;d<f;)s(g,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let v=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<g)-1;for(let y=b;y>=v;y--){const w=i[e.charAt(y-1)];if(g===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(g,y-1);if(C<=a)if(a=C,c=y-1,c>n)v=Math.max(1,2*n-c);else break}}if(s(g+1,n)>a)break;m=x}return c}function QFt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function lO(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return XFt(e,t,r)}function uE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function F7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Kn&&(t[n]=e[n][1]);return t.join("")}function Nje(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function uf(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=zje(r)}return t}function JFt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=zje(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>fC(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function zje(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const qd=32,L7=4,e6t={margin:4};function cO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...e6t,...e}}function t6t(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=M7(e,t,{checkLines:!0});return r.length>2&&(r=Fje(r),r=Bje(r)),uO(e,r,cO(n))}if(e&&Array.isArray(e)&&typeof t>"u")return uO(F7(e),e,cO(n));if(typeof e=="string"&&t&&Array.isArray(t))return uO(e,t,cO(n));throw new Error("Unknown call format to make()")}function uO(e,t,n){if(t.length===0)return[];const r=[];let o=uE(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[g,v]=m,b=v.length,x=uf(v);switch(!i&&g!==_t&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),g){case Kn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+v+f.substring(a);break;case Dn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case _t:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(LQ(o,d,n),r.push(o),o=uE(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}g!==Kn&&(s+=b,c+=x),g!==Dn&&(a+=b,u+=x)}return i&&(LQ(o,d,n),r.push(o)),r}function LQ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<qd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&YM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([_t,s]);const a=s.length,c=uf(s);let u=e.start2+e.length1+o;u<t.length&&YM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([_t,d]);const f=d.length,p=uf(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function n6t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Kn:n+=s.length;break;case Dn:r+=s.length;break;case _t:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function BQ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Kn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function r6t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==_t)i.unshift([_t,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==_t)i.push([_t,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function o6t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L7;const n=qd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=uE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=uf(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([_t,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],g=uf(m);if(p===Kn){c.length2+=m.length,c.utf8Length2+=g,s+=m.length;const v=o.diffs.shift();v&&c.diffs.push(v),u=!1}else p===Dn&&c.diffs.length===1&&c.diffs[0][0]===_t&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=g,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),g=uf(m),c.length1+=m.length,c.utf8Length1+=g,i+=m.length,p===_t?(c.length2+=m.length,c.utf8Length2+=g,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=Nje(c.diffs),a=a.substring(a.length-t);const d=F7(o.diffs).substring(0,t),f=uf(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===_t?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([_t,d])),u||e.splice(++r,0,c)}}}function Vje(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=JFt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||L7,s=n.deleteThreshold||.4,a=r6t(o,i);r=a+r+a,o6t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=F7(o[d].diffs);let m,g=-1;if(p.length>qd?(m=lO(r,p.substring(0,qd),f),m!==-1&&(g=lO(r,p.substring(p.length-qd),f+p.length-qd),(g===-1||m>=g)&&(m=-1))):m=lO(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let v;if(g===-1?v=r.substring(m,m+p.length):v=r.substring(m,g+qd),p===v)r=r.substring(0,m)+Nje(o[d].diffs)+r.substring(m+p.length);else{let b=M7(p,v,{checkLines:!1});if(p.length>qd&&n6t(b)/p.length>s)u[d]=!1;else{b=Lje(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==_t&&(y=BQ(b,x)),C[0]===Kn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===Dn&&(r=r.substring(0,m+y)+r.substring(m+BQ(b,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function i6t(e){return e.map(s6t).join("")}function s6t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Kn:u="+";break;case Dn:u="-";break;case _t:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const a6t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function B7(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(a6t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=uE(G2(o[1]),G2(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=G2(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=G2(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=uf(c)-c.length;if(a==="-")i.diffs.push([Dn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Kn,c]),i.length2-=u;else if(a===" ")i.diffs.push([_t,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function G2(e){return parseInt(e,10)}function Hje(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function NQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=t6t(e,t),o=i6t(r);return{type:"diffMatchPatch",path:n,value:o}}function yu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function vl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Js(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const l6t=[],Uje="void-child";function Av(e,t){const n=t[e._key];return n&&Ht(e,n)?n:(t[e._key]=e,e)}function Pc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:Uje,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",g=d.children.map(v=>{const{_type:b,_key:x,...y}=v;return b!=="span"?(f=!0,Av({_type:b,_key:x,children:c,value:y,__inline:!0},r)):v});return!p&&!m&&!f&&Pe.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=l6t),Av({_type:i,_key:s,...a,children:g},r))}return Av({_type:i,_key:s,children:c,value:a},r)}):[]}function xr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:g,children:v,...b}=u;return Av({...b,...f,_key:p,_type:m},n)}return u});return a?Av({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return Av({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function dE(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Pe.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&we.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const rp=Yr("operationToPatches");rp.enabled=!1;function c6t(e){const t=e.block.name;function n(d,f,p){rp.enabled&&rp("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!g)throw new Error("Could not find child");const v=[{_key:m._key},"children",{_key:g._key},"text"],b=p[f.path[0]],x=d.isTextBlock(b)&&b.children[f.path[1]],y=d.isTextSpan(x)?x.text:"",w=NQ(y,g.text,v);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,v=d.isTextSpan(g)?g:void 0;if(g&&!v)throw new Error("Expected span");if(!v)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:v._key},"text"],x=p[f.path[0]],y=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(y)&&y.text,C=NQ(w||"",v.text,b);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=Bke({...d.children[f.path[0]],...f.newProperties},Nke);return[vl(xr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const g=p._key,v=m._key,b=[];return Object.keys(f.newProperties).forEach(x=>{const y=Hn(f.newProperties,x);b.push(vl(y,[{_key:g},"children",{_key:v},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],g=d.isTextBlock(m);if(f.path.length===1){const v=f.path[0]===0?"before":"after",b=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return x?[yu([xr([f.node],t)[0]],v,[{_key:x}])]:[Hje(p,[]),yu([xr([f.node],t)[0]],"before",[f.path[0]])]}else if(g&&f.path.length===2&&d.children[f.path[0]]){const v=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",b={...f.node};!b._type&&we.isText(b)&&(b._type="span",b.marks=[]);const y=xr([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[yu([y],v,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return rp("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],g=d.children[f.path[0]];if(!d.isTextBlock(g))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const v=p[f.path[0]];if(d.isTextBlock(v)){const b=xr([d.children[f.path[0]+1]],t)[0];b&&(m.push(yu([b],"after",[{_key:g._key}])),v.children.slice(f.position).forEach(y=>{const w=[{_key:v._key},"children",{_key:y._key}];m.push(Js(w))}))}return m}if(f.path.length===2){const v=g.children[f.path[1]];if(d.isTextSpan(v)){const b=xr([{...g,children:g.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(yu(b,"after",[{_key:g._key},"children",{_key:v._key}])),m.push(vl(v.text,[{_key:g._key},"children",{_key:v._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Js([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const g=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return g?[Js([{_key:m._key},"children",{_key:g._key}])]:(rp("Span not found in editor trying to remove node"),[])}else return rp("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],g=p[f.path[0]],v=d.children[f.path[0]];if(f.path.length===1)if(g!=null&&g._key){const b=xr([d.children[f.path[0]-1]],t)[0];m.push(vl(b,[{_key:b._key}])),m.push(Js([{_key:g._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(v)){const b=d.isTextBlock(g)&&g.children[f.path[1]]||void 0,x=v.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(vl(x.text,[{_key:g._key},"children",{_key:x._key},"text"])),b&&m.push(Js([{_key:g._key},"children",{_key:b._key}])))}else rp("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],g=p[f.path[0]],v=p[f.newPath[0]];if(f.path.length===1){const b=f.path[0]>f.newPath[0]?"before":"after";m.push(Js([{_key:g._key}])),m.push(yu([xr([g],t)[0]],b,[{_key:v._key}]))}else if(f.path.length===2&&d.isTextBlock(g)&&d.isTextBlock(v)){const b=g.children[f.path[1]],x=v.children[f.newPath[1]],y=f.newPath[1]===v.children.length?"after":"before",w=xr([g],t)[0].children[f.path[1]];m.push(Js([{_key:g._key},"children",{_key:b._key}])),m.push(yu([w],y,[{_key:v._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function zQ(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function VQ(e,t){if(!t)return[];const[n,r]=Array.from(B.nodes(t,{at:[],match:s=>Mr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Pe.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ht([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Pe.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function yp(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&zQ(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&zQ(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function LS(e,t){if(!e||!t)return null;const n={path:VQ(e.anchor,t),offset:e.anchor.offset},r={path:VQ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function fE(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const ly=Yr("API:editable");function u6t(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};se.select(o,{focus:i,anchor:i}),o.onChange()}he.focus(o)},blur:()=>{he.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...B.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=LS(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i)return xr([i],t.block.name,ja.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Se.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return xr([i],t.block.name,ja.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(B.nodes(o,{at:o.selection.focus.path.slice(0,1),match:g=>g._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(g=>g.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=Pc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Se.get(o,f);return p&&m._type!==t.span.name&&(ly("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),se.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=yp(xr(o.children,t.block.name,ja.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=Pc([{_key:n(),_type:i.name,...s||{}}],e)[0];return B.insertNode(o,c),o.onChange(),((a=yp(xr(o.children,t.block.name,ja.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=LS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=B.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[xr([a],t.block.name)[0],[{_key:a._key}]];const u=xr([a],t.block.name,ja.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(B.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=he.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=B.nodes(o,{at:o.selection,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=B.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{we.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=B.node(o,a.focus,{depth:1});if(Pe.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){se.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),de.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=B.node(o,a.focus,{depth:2});if(o.selection){B.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:we.isText,split:!0}),o.selection&&we.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),B.normalize(o),o.onChange();const f=yp(xr(o.children,t.block.name,ja.get(o)),o.selection,t);if(f&&typeof c._key=="string")return B.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:de.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=LS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){ly("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(ly("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Pe.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(ly("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Pe.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(ly("Removing annotation",i),s){if(de.isCollapsed(s)){const[a,c]=B.node(o,s,{depth:2});we.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,c),s=o.selection)}B.withoutNormalizing(o,()=>{if(s&&de.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:we.isText,split:!0}),o.onChange(),[...B.nodes(o,{at:s,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=B.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(we.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const g=[...(u.marks||[]).filter(v=>v!==m._key)];se.setNodes(o,{marks:g},{at:d,voids:!1,split:!1})}}))})}}),B.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=cE.get(o.selection);if(s)return s;i=yp(xr(o.children,t.block.name,ja.get(o)),o.selection,t),cE.set(o.selection,i)}return i},getValue:()=>xr(o.children,t.block.name,ja.get(o)),isCollapsedSelection:()=>!!o.selection&&de.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&de.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function d6t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const hE=new WeakMap;function Bx(e,t){const n=Wje(e);hE.set(e,!0),t(),hE.set(e,n)}function Wje(e){return hE.get(e)}function f6t(e,t){return function(r){hE.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!Wje(r)||!("_key"in s.node);B.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Pe.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:c});for(const[u,d]of Se.children(r,c))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const pE=new WeakMap;function qM(e,t){const n=Yje(e);pE.set(e,!1),t(),pE.set(e,n)}function Yje(e){return pE.get(e)}const HQ="before",UQ="after";function h6t(e,t,n){if(t!==HQ&&t!==UQ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(HQ," or ").concat(UQ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=WQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...WQ(s)),d}function WQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const YQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function p6t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function m6t(e,t){if(typeof t=="number")return t;const n=P7(e,t);return n===-1?!1:n}function g6t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!YQ(t.value,"from")||!YQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return p6t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=m6t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return h6t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=N7(n[i],{...t,path:o}),n}function v6t(e,t){const n=jje(e);if(t.path.length===0){if(t.type==="set"){if(!Cw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ni(n,r):(n[r]=N7(n[r],{...t,path:o}),n)}const qje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},y6t=Object.keys(qje);function b6t(e,t){if(!y6t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return qje[t.type](e,t.value)}const Gje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=Vje(B7(t),e,{allowExceedingIndices:!0});return n}},x6t=Object.keys(Gje);function w6t(e,t){if(!x6t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=Gje[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function C6t(e,t){return t.reduce(N7,e)}function _6t(e,t){return Array.isArray(e)?g6t(e,t):NT(e)?w6t(e,t):Cw(e)?v6t(e,t):b6t(e,t)}function N7(e,t){return _6t(e,t)}const Cr=Yr("applyPatches"),z7=Cr.enabled&&!0;function S6t(e){let t;return function(n,r){let o=!1;z7&&(Cr(`

NEW PATCH =============================================================`),Cr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=E6t(n,r,e);break;case"unset":o=T6t(n,r,t);break;case"set":o=j6t(n,r);break;case"diffMatchPatch":o=k6t(n,r);break;default:Cr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function k6t(e,t){const{block:n,child:r,childPath:o}=vA(e,t.path);if(!n)return Cr("Block not found"),!1;if(!r||!o)return Cr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!we.isText(r))return!1;const s=B7(t.value),[a]=Vje(s,r.text,{allowExceedingIndices:!0}),c=Bje(M7(r.text,a),5);js(e,"before");let u=0;for(const[d,f]of c)d===Kn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===Dn?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===_t&&(u+=f.length);return js(e,"after"),!0}function E6t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=vA(e,t.path);if(!r||!i)return Cr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:g}=t,v=Pc(m,{schemaTypes:n},WM.get(e)),b=i[0],x=g==="after"?b+1:b;return Cr("Inserting blocks at path [".concat(x,"]")),js(e,"before"),se.insertNodes(e,v,{at:[x]}),js(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return Cr("Child not found"),!1;const u=r&&Pc([{...r,children:a}],{schemaTypes:n},WM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return Cr("Inserting children at path ".concat(p)),js(e,"before"),u&&Pe.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),js(e,"after"),!0}function j6t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=vA(e,t.path);if(!r)return Cr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring setting void value"),!1;if(js(e,"before"),a&&i&&s){if(we.isText(n)&&we.isText(i)){const c=i.text;n.text!==c&&(Cr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else Cr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Pe.isElement(r)&&t.path.length===1&&o){Cr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=C6t([r.value],[t])[0];return se.setNodes(e,{...r,value:c},{at:o}),!0}return js(e,"after"),!0}function T6t(e,t,n){if(t.path.length===0){Cr("Removing everything"),js(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((c,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),js(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=vA(e,t.path);if(t.path.length===1){if(!r||!o)return Cr("Block not found"),!1;const a=o[0];return Cr("Removing block at path [".concat(a,"]")),js(e,"before"),se.removeNodes(e,{at:[a]}),js(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return Cr("Child not found"),!1;const a=s[1];return Cr("Unsetting child at path ".concat(JSON.stringify(s))),js(e,"before"),z7&&Cr("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),js(e,"after"),!0}return!1}function Kje(e){return typeof e=="object"&&"_key"in e}function js(e,t){z7&&(Cr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),Cr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function A6t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=Kje(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function vA(e,t){const{block:n,path:r}=A6t(e,t);if(!(Pe.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=Kje(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function Zje(e,t){const n=Xje(e)||!1;lE.set(e,!0),t(),lE.set(e,n)}function Xje(e){return lE.get(e)}function D6t(e){return FS.get(e)}const ei=Yr("plugin:withUndoRedo"),qQ=ei.enabled&&!1,Dv=new WeakMap,dO=new WeakMap,I6t=1e3,Qje=e=>{const t=Dv.get(e);return t===void 0?!0:t},O6t=e=>(dO.get(e)||dO.set(e,[]),dO.get(e)||[]);function P6t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=xr(o.children,r.name);const s=O6t(o);n&&o.subscriptions.push(()=>{ei("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){ei("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),Dv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{ei("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],g=$6t(c,m),v=Qje(o);let b=!0;if(v){if(p?u.length===0&&(b=R6t(c,m)||g):b=!1,p&&b)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[F6t(o)],c],timestamp:new Date};f.push(x),ei("Created new undo step",p)}for(;f.length>I6t;)f.shift();M6t(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(ei("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=In(f.map(m=>GQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),fE(!!o.selection);try{B.withoutNormalizing(o,()=>{Nx(o,()=>{f.map(nv.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){ei("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},Dv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(ei("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=In(f.map(m=>GQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),fE(!!o.selection);try{B.withoutNormalizing(o,()=>{Nx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){ei("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},Dv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function GQ(e,t,n,r,o){qQ&&(ei("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),ei("Operation ".concat(JSON.stringify(n))),ei("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return ei("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[KQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(ei("Skipping transformation that targeted removed block"),[]):(qQ&&(ei("Selection ".concat(JSON.stringify(e.selection))),ei("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[KQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return ei("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=L6t(e,i);return!s||!Ht({_key:s._key},t.path[0])?[i]:(B7(t.value).forEach(c=>{var u,d,f,p;let m=0,g=c.utf8Start1;const{diffs:v}=c;if(v.forEach((b,x)=>{const[y,w]=b;y===Kn?(m+=w.length,g+=w.length):y===Dn?(m-=w.length,g-=w.length):y===_t&&(v.slice(x).every(C=>{let[_]=C;return _===_t})||(g+=w.length))}),i.type==="insert_text"&&g<i.offset&&(i.offset+=m),i.type==="remove_text"&&g<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const b=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(b&&x||y&&w)&&([b,x,y,w].forEach(_=>{_&&g<_.offset&&(_.offset+=m)}),b&&x&&(i.properties={focus:b,anchor:x}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function KQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const R6t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ee.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ee.equals(e.path,t.path)),$6t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),M6t=e=>e.type!=="set_selection";function Nx(e,t){const n=Qje(e);Dv.set(e,!1),t(),Dv.set(e,n)}function F6t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function L6t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const K2=Yr("plugin:withPatches");function B6t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=S6t(i);return function(u){lE.set(u,!1),pE.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const g=f;f=[];let v=!1;Zje(u,()=>{B.withoutNormalizing(u,()=>{qM(u,()=>{Nx(u,()=>{Bx(u,()=>{g.forEach(b=>{(b.type==="insert"||b.type==="unset")&&fE(!!u.selection),K2.enabled&&K2("Handling remote patch ".concat(JSON.stringify(b))),v=a(u,b)})})})})}),v&&(u.normalize(),u.onChange())})},m=g=>{let{patches:v}=g;const b=v.filter(x=>x.origin!=="local");b.length!==0&&(f=f.concat(b),p())};return n&&u.subscriptions.push(()=>{K2("Subscribing to patches$");const g=n.subscribe(m);return()=>{K2("Unsubscribing to patches$"),g.unsubscribe()}}),u.apply=g=>{if(o)return d(g),u;let v=[];s=u.children;const b=dE(s,i);d(g);const x=dE(u.children,i);if(!Yje(u))return u;switch(b&&!x&&g.type!=="set_selection"&&v.push(yu(s,"before",[0])),g.type){case"insert_text":v=[...v,...r.insertTextPatch(u,g,s)];break;case"remove_text":v=[...v,...r.removeTextPatch(u,g,s)];break;case"remove_node":v=[...v,...r.removeNodePatch(u,g,s)];break;case"split_node":v=[...v,...r.splitNodePatch(u,g,s)];break;case"insert_node":v=[...v,...r.insertNodePatch(u,g,s)];break;case"set_node":v=[...v,...r.setNodePatch(u,g,s)];break;case"merge_node":v=[...v,...r.mergeNodePatch(u,g,s)];break;case"move_node":v=[...v,...r.moveNodePatch(u,g,s)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(g.type)&&(v=[...v,Js([])],t.next({type:"unset",previousValue:xr(s,i.block.name,ja.get(u))})),b&&v.length>0&&(v=[Hje([],[]),...v]),v.length>0&&v.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const N6t=Yr("plugin:withPlaceholderBlock");function z6t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(N6t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const Z2=Yr("plugin:withPortableTextBlockStyle");function V6t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!ee.equals(s,a.path)){const[c]=B.node(r,[a.path[0]+1,0]);if(we.isText(c)&&c.text===""){Z2("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...B.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...B.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(Z2("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...c,style:t},{at:u})):(i?Z2("Setting style '".concat(i,"'")):Z2("Setting default style",t),se.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const $h=Yr("plugin:withPortableTextLists"),fO=10;function H6t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?($h("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):($h("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...B.nodes(n,{at:n.selection,match:i=>Pe.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};$h("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...B.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;$h("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...B.nodes(n,{at:n.selection,match:o=>Pe.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&we.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Pe.isElement(i)&&($h("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...B.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,$h("Decrementing list level",Math.min(fO,Math.max(1,c)))):(c++,$h("Incrementing list level",Math.min(fO,Math.max(1,c)))),se.setNodes(n,{level:Math.min(fO,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...B.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Id=Yr("plugin:withPortableTextMarkModel");function U6t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=yp(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(v=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(v.type))&&n(i);const[f,p]=d,m=we.isText(f)&&f._type===e.span.name,g=i.isTextBlock(f);if(m||g){m&&!Array.isArray(f.marks)&&(Id("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const v of i.operations){if(v.type==="merge_node"&&v.path.length===1&&"markDefs"in v.properties&&v.properties._type===e.block.name&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0&&v.path[0]-1>=0){const[b,x]=B.node(i,[v.path[0]-1]);if(Id("Copying markDefs over to merged block",v),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[],w=mo([...y,...v.properties.markDefs]);Ht(w,b.markDefs)||(se.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(v.type==="split_node"&&v.path.length===1&&Pe.isElementProps(v.properties)&&v.properties._type===e.block.name&&"markDefs"in v.properties&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0&&v.path[0]+1<i.children.length){const[b,x]=B.node(i,[v.path[0]+1]);if(Id("Copying markDefs over to split block",v),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[];se.setNodes(i,{markDefs:mo([...y,...v.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(v.type==="split_node"&&v.path.length===2&&v.properties._type===e.span.name&&"marks"in v.properties&&Array.isArray(v.properties.marks)&&v.properties.marks.length>0&&v.path[0]+1<i.children.length){const[b,x]=B.node(i,[v.path[0]+1,0]);we.isText(b)&&b.text===""&&Array.isArray(b.marks)&&b.marks.length>0&&(se.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(v.type==="split_node"&&v.path.length===1&&v.properties._type===e.block.name&&"markDefs"in v.properties&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0){const[b,x]=B.node(i,[v.path[0]]);i.isTextBlock(b)&&b.children.length===1&&b.markDefs&&b.markDefs.length>0&&we.isText(b.children[0])&&b.children[0].text===""&&(!b.children[0].marks||b.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}g&&i.operations.some(v=>["split_node","remove_node","remove_text","merge_node"].includes(v.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&de.isCollapsed(m)&&((p=(f=B.marks(i))==null?void 0:f.marks)!=null&&p.some(g=>!c.includes(g)))){const[g]=Array.from(B.nodes(i,{mode:"lowest",at:m.focus,match:v=>v._type===e.span.name,voids:!1}))[0]||[void 0];if(we.isText(g)&&g.text.length===m.focus.offset&&Array.isArray(g.marks)&&g.marks.length>0){s(d),se.splitNodes(i,{match:we.isText,at:{...m.focus,offset:m.focus.offset}});const v=({...B.marks(i)||{}}.marks||[]).filter(b=>c.includes(b));se.setNodes(i,{marks:v},{at:ee.next(m.focus.path)}),Id("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(de.isExpanded(i.selection)){se.setNodes(i,{},{match:we.isText,split:!0});const f=[...B.nodes(i,{at:i.selection,match:we.isText})];if(In(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;B.withoutNormalizing(i,()=>{f.forEach(m=>{let[g,v]=m;const b=[...(Array.isArray(g.marks)?g.marks:[]).filter(x=>x!==d),d];se.setNodes(i,{marks:b},{at:v,match:we.isText,split:!0,hanging:!0})})}),B.normalize(i)}else{const f={...B.marks(i)||{}}.marks||[],p={...B.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(de.isExpanded(f))B.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:we.isText,split:!0}),i.selection&&[...B.nodes(i,{at:i.selection,match:we.isText})].forEach(m=>{let[g,v]=m;const b=i.children[v[0]];Pe.isElement(b)&&b.children.includes(g)&&se.setNodes(i,{marks:(Array.isArray(g.marks)?g.marks:[]).filter(x=>x!==d),_type:"span"},{at:v})})}),B.normalize(i);else{const p={...B.marks(i)||{}}.marks||[],m={...B.marks(i)||{},marks:p.filter(g=>g!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...B.marks(i)||{}}.marks||[];return de.isExpanded(i.selection)&&Array.from(B.nodes(i,{match:we.isText,at:i.selection})).forEach(p=>{const[m]=p;f=mo([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Id("Remove mark '".concat(d,"'")),B.removeMark(i,d)):(Id("Add mark '".concat(d,"'")),B.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(B.nodes(o,{at:B.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?B.node(o,ee.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];we.isText(s)&&we.isText(d)&&Ht(d.marks,s.marks)&&(Id("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=B.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>we.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ht(u,a.markDefs)||(Id("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const Jje=Yr("plugin:withPortableTextSelections"),W6t=Jje.enabled&&!1;function Y6t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=cE.get(o.selection);if(c)a=c;else{const u=o.children;a=yp(u,o.selection,t),cE.set(o.selection,a)}}W6t&&Jje("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const q6t=Yr("plugin:withSchemaTypes");function G6t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>th(s)&&s._type===t.block.name,o.isTextSpan=s=>oa(s)&&s._type==t.span.name,o.isListBlock=s=>k4e(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){q6t("Setting span type on text node without a type");const u=a,d=u._key||n();se.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const hO=Yr("plugin:withUtils");function K6t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!de.isExpanded(r)){const[o]=B.node(n,r.focus,{depth:2});if(!o||!we.isText(o)||o.text.length===0){hO("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=g=>g.match(/\s/g),d=a.split("").reverse().findIndex(g=>u(g)),f=d>-1?a.length-d:0,p=c.split("").findIndex(g=>u(g)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){hO("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}hO("pteExpandToWord: Can't expand to word here")}},n}}const pO=Yr("plugin:withHotKeys"),Z6t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function X6t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||Z6t,s=()=>Pc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(b=>{if(b==="marks")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Ei(x,u.nativeEvent)){u.preventDefault();const y=i[b];if(y){const w=y[x];pO("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(b==="custom")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(Ei(x,u.nativeEvent)){const y=i[b];if(y){const w=y[x];w(u,n)}}}});const d=Ei("enter",u.nativeEvent),f=Ei("tab",u.nativeEvent),p=Ei("shift+enter",u.nativeEvent),m=Ei("shift+tab",u.nativeEvent),g=Ei("backspace",u.nativeEvent),v=Ei("delete",u.nativeEvent);if(g&&c.selection&&c.selection.focus.path[0]>0&&de.isCollapsed(c.selection)){const b=ee.previous(c.selection.focus.path.slice(0,1)),x=Se.descendant(c,b),y=Se.descendant(c,c.selection.focus.path.slice(0,1));if(x&&y&&B.isVoid(c,x)&&c.selection.focus.offset===0){pO("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,b),c.onChange();return}}if(v&&c.selection&&c.selection.focus.offset===0&&de.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=Se.descendant(c,ee.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),y=Se.descendant(c,x);if(b&&y&&!B.isVoid(c,y)&&B.isVoid(c,b)){pO("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[b]=B.node(c,c.selection.focus,{depth:2}),[x]=oa(b)?B.node(c,c.selection.focus,{depth:1}):[],y=b&&th(x)&&oa(b)&&(b.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=de.edges(c.selection),C=B.isStart(c,w,w.path);b&&oa(b)&&(!y||C)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const b=c.selection.focus.path.slice(0,1),x=Se.descendant(c,b);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,y]=de.edges(c.selection);if(B.isEnd(c,y,y.path)){B.insertNode(c,s()),u.preventDefault();return}}if(x&&B.isVoid(c,x)){B.insertNode(c,s()),u.preventDefault();return}u.preventDefault(),c.insertBreak()}if(p){u.preventDefault(),c.insertText(`
`);return}if(Ei("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(Ei("mod+y",u.nativeEvent)||Ei("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function mE(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Js([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!Cw(a))return r={patches:[Js([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[vl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[vl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Js([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Js([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[vl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=mo(In(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(g=>g.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(g=>g._key===m):!1);if(p.length>0){const m=u.children.filter(g=>g._type===t.span.name&&Array.isArray(g.marks)&&g.marks.some(v=>p.includes(v)));if(m)return r={patches:m.map(g=>vl((g.marks||[]).filter(v=>!p.includes(v)),[{_key:a._key},"children",{_key:g._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[yu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,g)=>{if(!m._key){const v={...m,_key:n()};return r={patches:[vl(v,[{_key:a._key},"children",g])],description:"Child at index ".concat(g," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Js([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[vl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const hu=Yr("plugin:withInsertData");function Q6t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=de.edges(d),m=B.void(o,{at:f.path}),g=B.void(o,{at:p.path});if(de.isCollapsed(d)&&!m)return;const v=he.toDOMRange(o,d);let b=v.cloneContents();if(g){const[k]=g,j=v.cloneRange(),E=he.toDOMNode(o,k);j.setEndAfter(E),b=j.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(k=>{const j=k.getAttribute("data-slate-zero-width")==="n";k.textContent=j?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(k=>{k.removeAttribute("contentEditable"),k.removeAttribute("data-slate-inline"),k.removeAttribute("data-slate-leaf"),k.removeAttribute("data-slate-node"),k.removeAttribute("data-slate-spacer"),k.removeAttribute("data-slate-string"),k.removeAttribute("data-slate-zero-width"),k.removeAttribute("draggable");for(const j in k.attributes)k.hasAttribute(j)&&k.removeAttribute(j)});const x=b.ownerDocument.createElement("div");x.appendChild(b),x.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(x);const y=x.innerHTML;b.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=xr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",y),c.setData("application/json",_),c.setData("application/x-portable-text",_),hu("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),hu("Set fragment data",_,y)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(hu("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=tLt(o,Pc(p,{schemaTypes:t}),n,s),g=mE(p,t,n);if(!g.valid){const v="".concat((u=g.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:v,data:g}),hu("Invalid insert result",g),!1}return ZQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return hu("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){hu("Inserting data",c);let p,m,g;if(d)p=TQ(d,t.portableText).map(b=>Lx(b,{blockTypeName:i})),m=Pc(p,{schemaTypes:t}),g="HTML";else{const b=eLt(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(b,"</body></html>");p=TQ(x,t.portableText).map(y=>Lx(y,{blockTypeName:i})),m=Pc(p,{schemaTypes:t}),g="text"}const v=mE(p,t,n);if(!v.valid){const b=`Could not validate the resulting portable text to insert.
`.concat((u=v.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:v}),hu("Invalid insert result",v),!1}return hu("Inserting ".concat(g," fragment at ").concat(JSON.stringify(o.selection))),ZQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const J6t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function eLt(e){return String(e).replace(/[&<>"'`=/]/g,t=>J6t[t])}function tLt(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function ZQ(e,t,n){if(!e.selection)return;const[r,o]=B.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;hu("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ht(s,t[0].markDefs)||se.setNodes(e,{markDefs:mo([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}dE(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const XQ=new WeakMap,QQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():XQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=c6t(c),f=f6t(c,r),p=G6t({schemaTypes:c,keyGenerator:r}),m=u6t(o,c,r),g=B6t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),v=d6t(a||-1),b=H6t(c),x=P6t({readOnly:s,patches$:i,blockSchemaType:c.block}),y=U6t(c,u),w=V6t(c),C=z6t({keyGenerator:r,schemaTypes:c}),_=K6t(),S=Y6t(u,c);return n.destroy=()=>{const k=XQ.get(n);if(!k)throw new Error("Could not find pristine versions of editor functions");n.apply=k.apply,n.history={undos:[],redos:[]},n.normalizeNode=k.normalizeNode,n.onChange=k.onChange},s?{editor:p(f(y(w(_(C(b(S(m(n))))))))),subscribe:()=>Vke}:{editor:p(f(y(w(b(C(_(v(x(g(S(m(n)))))))))))),subscribe:()=>{const k=[];return e.subscriptions.forEach(j=>{k.push(j())}),()=>{k.forEach(j=>{j()})}}}},mO=Yr("component:PortableTextEditor:SlateContainer");function nLt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{mO("Creating new Slate editor instance");const{editor:u,subscribe:d}=QQ(y4t(q$t()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return ja.set(u,{}),WM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{mO("Re-initializing plugin chain"),QQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{mO("Destroying Slate editor"),s.destroy()},[s]),l.jsx(g4t,{editor:s,initialValue:c,children:e.children})}const eTe=h.createContext(null),i1=()=>{const e=h.useContext(eTe);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},tTe=h.createContext(null),bo=()=>{const e=h.useContext(tTe);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},rLt=h.createContext(void 0),nTe=h.createContext(!1),oLt=()=>{const e=h.useContext(nTe);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},oo=Yr("hook:useSyncValue"),JQ=new WeakMap;function iLt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=pA(),c=h.useRef(),u=h.useCallback(()=>{const f=JQ.get(t);if(s.current===f){oo("Value is the same object as previous, not need to sync");return}c.current&&f&&(oo("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(_w(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{JQ.set(t,p);const m=D6t(a),g=Xje(a);if(!n){if(m){oo("Has local changes, not syncing value right now"),d();return}if(g){oo("Has remote changes, not syncing value right now"),d();return}}let v=!1,b=!0;const x=!!a.selection;if((!p||p.length===0)&&(oo("Value is empty"),B.withoutNormalizing(a,()=>{Nx(a,()=>{qM(a,()=>{x&&se.deselect(a);const y=a.children.length;a.children.forEach((w,C)=>{se.removeNodes(a,{at:[y-1-C]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&se.select(a,[0,0])})})}),v=!0),p&&p.length>0){const y=Pc(p,{schemaTypes:i});B.withoutNormalizing(a,()=>{Zje(a,()=>{Nx(a,()=>{qM(a,()=>{const w=a.children.length;if(y.length<w){for(let C=w-1;C>y.length-1;C--)se.removeNodes(a,{at:[C]});v=!0}y.forEach((C,_)=>{const S=a.children[_];if(S&&!Ht(C,S)&&b){const j=[p[_]],E=mE(j,i,r);E.valid?(S._key===C._key?(oo.enabled&&oo("Updating block",S,C),aLt(a,C,S,_)):(oo.enabled&&oo("Replacing block",S,C),sLt(a,C,_)),v=!0):(o.next({type:"invalidValue",resolution:E.resolution,value:p}),b=!1)}if(!S&&b){const j=[p[_]],E=mE(j,i,r);oo.enabled&&oo("Validating and inserting new block in the end of the value",C),E.valid?Bx(a,()=>{se.insertNodes(a,C,{at:[_]})}):(oo("Invalid",E),o.next({type:"invalidValue",resolution:E.resolution,value:p}),b=!1)}})})})})})}if(!b){oo("Invalid value, returning");return}if(v){oo("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else oo("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function sLt(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),Bx(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function aLt(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(oo("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ht(i,a),u=!Ht(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){oo("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=we.isText(i)&&i._type==="span"&&we.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(oo("Updating changed inline object child",i),se.setNodes(e,{_key:Uje},{at:[...d,0],voids:!0}))}else a?(oo("Replacing child",i),se.removeNodes(e,{at:[r,s]}),Bx(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(oo("Inserting new child",i),Bx(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const pu=Yr("component:PortableTextEditor:Synchronizer"),eJ=pu.enabled&&!1,lLt=1e3;function cLt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=iLt({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=pA();h.useEffect(()=>{FS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){pu("Flushing pending patches"),eJ&&pu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const y=Ce.getValue(n);r({type:"mutation",patches:u.current,snapshot:y}),u.current=[]}FS.set(f,!1)},[f,n,r]),m=h.useCallback(y=>{if(B.isNormalizing(f)){p();return}y()},[p,f]),g=h.useMemo(()=>IT(()=>{m(g)},lLt,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{pu("Subscribing to editor changes$");const y=t.subscribe(w=>{switch(w.type){case"patch":FS.set(f,!0),u.current.push(w.patch),g(),r(w);break;case"selection":h.startTransition(()=>{eJ&&pu("Setting selection"),c(w.selection)}),r(w);break;default:r(w)}});return()=>{pu("Unsubscribing to changes$"),y.unsubscribe()}},[t,r,p,g,f,d]);const v=h.useCallback(()=>{pu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),b=h.useCallback(()=>{pu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",b)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",b))}));const x=h.useRef(!0);return h.useEffect(()=>{pu("Value from props changed, syncing new value"),d(s),x.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),x.current=!1)},[t,d,s]),l.jsx(Mje.Provider,{value:o,children:l.jsx(tTe.Provider,{value:n,children:l.jsx(rLt.Provider,{value:s,children:l.jsx(nTe.Provider,{value:i,children:l.jsx(eTe.Provider,{value:a,children:e.children})})})})})}const s1=Yr("component:PortableTextEditor");class Ce extends re.Component{constructor(t){if(super(t),this.change$=new _r,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=DQ(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:AQ(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=DQ(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:AQ(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||aE;return l.jsx(nLt,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(cLt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}Ce.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];Ce.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};Ce.blur=e=>{var t;s1("Host blurred"),(t=e.editable)==null||t.blur()};Ce.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};Ce.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};Ce.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};Ce.focus=e=>{var t;s1("Host requesting focus"),(t=e.editable)==null||t.focus()};Ce.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};Ce.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};Ce.getSelection=e=>e.editable?e.editable.getSelection():null;Ce.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};Ce.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};Ce.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};Ce.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};Ce.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};Ce.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};Ce.insertChild=(e,t,n)=>{var r;return s1("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};Ce.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};Ce.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};Ce.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};Ce.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};Ce.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};Ce.select=(e,t)=>{var n;s1("Host setting selection",t),(n=e.editable)==null||n.select(t)};Ce.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};Ce.toggleBlockStyle=(e,t)=>{var n;return s1("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};Ce.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};Ce.toggleMark=(e,t)=>{var n;s1("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function tJ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function uLt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ht({_key:s._key},o.path[0]))&&(n=tJ(o,t)),i&&t.find(s=>Ht({_key:s._key},i.path[0]))&&(r=tJ(i,t)),n&&r?{anchor:n,focus:r}:null}function dLt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const fLt=Yr("components:Leaf"),nJ=[],hLt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=re.useRef(null),u=bo(),d=xje(),[f,p]=h.useState(!1),[m,g]=h.useState(!1),v=n.props.parent,b=h.useMemo(()=>v?[{_key:v==null?void 0:v._key},"children",{_key:r._key}]:[],[v,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>mo((r.marks||nJ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:nJ,C=h.useMemo(()=>w.map(j=>{var E;return!x.includes(j)&&((E=v==null?void 0:v.markDefs)==null?void 0:E.find(T=>T._key===j))}).filter(Boolean),[w,v,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Ce.getSelection(u);j&&Ht(j.focus.path,b)&&Ce.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,b,u]);const S=h.useCallback(()=>{if(!_)return;fLt("Setting selection and focus from range");const j=window.getSelection();if(!j){g(!1);return}if(j&&j.rangeCount>0){const E=j.getRangeAt(0);c.current&&E.intersectsNode(c.current)?g(!0):g(!1)}else g(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(E=>{if(E.type==="blur"){p(!1),g(!1);return}if(E.type==="focus"){const T=Ce.getSelection(u);T&&Ht(T.focus.path,b)&&Ce.isCollapsedSelection(u)&&p(!0),S();return}E.type==="selection"&&(E.selection&&Ht(E.selection.focus.path,b)&&Ce.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[b,u,S,_]),h.useEffect(()=>S(),[S]);const k=h.useMemo(()=>{let j=n;if(we.isText(r)&&r._type===o.span.name&&(y.forEach(E=>{const T=o.decorators.find(A=>A.value===E);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),v&&C.length>0&&C.forEach(E=>{const T=o.annotations.find(A=>A.name===E._type);if(T)if(a){const A=Object.defineProperty({block:v,children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(dLt,{annotation:E,children:l.jsx("span",{ref:c,children:j})})}),v&&i)){const E=v.children.find(T=>T._key===r._key);if(E){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:b,schemaType:o.span,selected:m,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,v,n,f,r,y,b,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:k},r._key),[r,t,k])},X2=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var rJ=Object.freeze,pLt=Object.defineProperty,yA=(e,t)=>rJ(pLt(e,"raw",{value:rJ(t||e.slice())})),oJ,iJ,sJ,aJ;const mLt=P.div(oJ||(oJ=yA([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");P.span(iJ||(iJ=yA([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const gLt=P.div(sJ||(sJ=yA([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>yLt(e.listLevel),e=>xLt(e.listLevel,e.listStyle),e=>wLt(e.listLevel),e=>CLt(e.listLevel),e=>_Lt(e.listLevel)),vLt=P.div(aJ||(aJ=yA([""])));function yLt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const bLt=["●","○","■"];function xLt(e,t){const n=(e-1)%3;return t==="bullet"?bLt[n]:"*"}function wLt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function CLt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function _Lt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const oc=Yr("components:DraggableBlock"),lJ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Qc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>B.isVoid(i,n),[i,n]),d=h.useMemo(()=>B.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:he.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(E=>{const T=iy.get(i);if(!T||!f)return;E.preventDefault(),E.dataTransfer.dropEffect="move",sy.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,O=E.pageY,$=Math.abs(D-O);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",ay.set(i,R)):(R="bottom",ay.set(i,R)),T===n){E.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),g=h.useCallback(()=>{c(!1)},[]),v=h.useCallback(E=>{const T=sy.get(i);if(T){W2.set(i,!1),E.preventDefault(),E.stopPropagation(),sy.delete(i),s.current&&(oc("Removing drag ghost"),document.body.removeChild(s.current));const A=ay.get(i);ay.delete(i);let D=he.findPath(i,T);const I=he.findPath(i,n),O=ee.isBefore(I,D);if(A==="bottom"&&!O){if(D[0]>=i.children.length-1){oc("target is already at the bottom, not moving");return}const $=D;D=ee.next(D),oc("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&O&&D[0]!==i.children.length-1){const $=D;D=ee.previous(D),oc("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(ee.equals(D,I)){E.preventDefault(),oc("targetPath and myPath is the same, not moving");return}oc("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),se.moveNodes(i,{at:I,to:D}),i.onChange();return}oc("No target element, not doing anything")},[i,n]),b=h.useCallback(E=>{iy.get(i)&&(oc("On drop (prevented)",n),E.preventDefault(),E.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(E=>{if(!u){iy.delete(i);return}W2.set(i,!0),iy.set(i,n),E.stopPropagation();const T=E.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(E=>{if(!u||d){oc("Not dragging block"),iy.delete(i),W2.set(i,!1);return}if(oc("Drag start"),W2.set(i,!0),E.dataTransfer&&(E.dataTransfer.setData("application/portable-text","something"),E.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=E.clientX-D.left,O=E.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),E.dataTransfer.setDragImage(T,I,O)}}x(E)},[f,i,x,d,u]),w=a&&i.children[0]===sy.get(i),C=a&&i.children[i.children.length-1]===sy.get(i),_=ay.get(i),S=w||a&&!w&&!C&&_==="top",k=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:y,onDrag:x,onDragOver:m,onDragLeave:g,onDragEnd:v,onDrop:b,children:[S&&j,t,k&&j]})};Yr("components:Element");const SLt=[],kLt={display:"inline-block"},ELt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Qc(),p=xje(),m=h.useRef(null),g=h.useRef(null),v=p&&f.selection&&de.isCollapsed(f.selection)||!1,b=h.useMemo(()=>xr([r],o.block.name,ja.get(f))[0],[f,r,o.block.name]);let x=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const k=he.findPath(f,r),[j]=B.node(f,k,{depth:1}),E=o.inlineObjects.find(T=>T.name===r._type);if(!E)throw new Error("Could not find type for inline block element");if(Pe.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:g,style:kLt,contentEditable:!1,children:[a&&a({annotations:SLt,children:l.jsx(X2,{value:b}),editorElementRef:g,focused:v,path:T,schemaType:E,selected:p,type:E,value:b}),!a&&l.jsx(X2,{value:b})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const k="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const E=o.styles.find(I=>I.value===j);u&&E&&(x=u({block:r,children:n,focused:v,selected:p,value:j,path:w,schemaType:E,editorElementRef:m}));let T;if(k&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(b)&&k&&r.listItem){const I=o.lists.find(O=>O.value===r.listItem);c&&I?x=c({block:b,children:x,focused:v,selected:p,value:r.listItem,path:w,schemaType:I,level:b.level||1,editorElementRef:m}):x=l.jsx(gLt,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:l.jsx(vLt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:v,level:T,listItem:k?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:y,spellCheck:d,children:l.jsx(lJ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(k=>k.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const _=xr([r],o.block.name,ja.get(f))[0];let S;if(s){const k=Object.defineProperty({children:l.jsx(X2,{value:b}),editorElementRef:m,focused:v,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(k)}return l.jsxs("div",{...t,className:y,children:[n,l.jsxs(lJ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(mLt,{selected:p,children:l.jsx(X2,{value:b})})]})]},r._key)},jLt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function TLt(e){const t=h.useRef(null);return jLt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const ic=Yr("component:Editable"),ALt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},DLt=[],rTe=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:g,renderStyle:v,selection:b,scrollSelectionIntoView:x,spellCheck:y,...w}=t,C=bo(),_=oLt(),S=PFt(),k=TLt(n),[j,E]=h.useState(!1),{change$:T,schemaTypes:A}=C,D=pA(),I=A.block.name,O=h.useMemo(()=>Q6t(T,A,S),[T,S,A]),$=h.useMemo(()=>X6t(A,S,C,r),[r,S,C,A]);h.useMemo(()=>_?(ic("Editable is in read only mode"),O(D)):(ic("Editable is in edit mode"),O($(D))),[_,D,$,O]);const R=h.useCallback(X=>l.jsx(ELt,{...X,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:v,schemaTypes:A,spellCheck:y}),[A,y,_,d,f,m,v]),z=h.useCallback(X=>{const Q=l.jsx(hLt,{...X,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return g&&X.leaf.placeholder&&X.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:ALt,contentEditable:!1,children:g()}),Q]}):Q},[_,u,f,p,g,A]),F=h.useCallback(()=>{if(b){ic("Selection from props ".concat(JSON.stringify(b)));const X=uLt(b,xr(D.children,I));if(X!==null){ic("Normalized selection from props ".concat(JSON.stringify(X)));const Q=LS(X,D);Q&&(se.select(D,Q),D.operations.some(Z=>Z.type==="set_selection")||T.next({type:"selection",selection:X}),D.onChange())}}},[b,D,I,T]);h.useEffect(()=>{ic("Subscribing to editor changes$");const X=T.subscribe(Q=>{switch(Q.type){case"ready":F();break;case"invalidValue":E(!0);break;case"value":E(!1);break}});return()=>{ic("Unsubscribing to changes$"),X.unsubscribe()}},[T,F]),h.useEffect(()=>{b&&!j&&F()},[j,b,F]);const H=h.useCallback(X=>{c&&c(X)!==void 0&&X.preventDefault()},[c]),W=h.useCallback(X=>{if(X.preventDefault(),!!D.selection){if(!a){ic("Pasting normally"),D.insertData(X.clipboardData);return}new Promise(Q=>{const Z=Ce.getValue(C),ne=yp(Z,D.selection,A),ae=(ne==null?void 0:ne.focus.path)||[];Q(a({event:X,value:Z,path:ae,schemaTypes:A}))}).then(Q=>{if(ic("Custom paste function from client resolved",Q),T.next({type:"loading",isLoading:!0}),!Q||!Q.insert){ic("No result from custom paste handler, pasting normally"),D.insertData(X.clipboardData);return}if(Q&&Q.insert){D.insertFragment(Pc(Q.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",Q)}).catch(Q=>(T.next({type:"loading",isLoading:!1}),console.error(Q),Q))}},[T,a,C,A,D]),V=h.useCallback(X=>{if(i&&i(X),!X.isDefaultPrevented()){const Q=Ce.getSelection(C);T.next({type:"focus",event:X});const Z=Ce.getSelection(C);Q===Z&&T.next({type:"selection",selection:Q})}},[T,C,i]),q=h.useCallback(X=>{o&&o(X),X.isPropagationStopped()||T.next({type:"blur",event:X})},[T,o]),oe=h.useCallback(X=>{s&&s(X)},[s]),N=h.useCallback(()=>{let X=null;const Q=D.selection;try{X=D.selection&&he.toDOMRange(D,D.selection)}catch{fE(!0),se.deselect(D),se.select(D,[0,0]),D.onChange(),ic("Could not resolve selection (".concat(JSON.stringify(Q),"), unselecting"))}},[D]);h.useEffect(()=>{const X=new MutationObserver(N);return k.current&&X.observe(k.current,{childList:!0,subtree:!0}),()=>{X.disconnect()}},[N,k]);const G=h.useCallback(X=>{t.onKeyDown&&t.onKeyDown(X),X.isDefaultPrevented()||D.pteWithHotKeys(X)},[t,D]),Y=h.useMemo(()=>{if(x!==void 0)return x===null?Vke:(X,Q)=>{x(C,Q)}},[C,x]),K=h.useCallback(()=>dE(D.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:DLt,[A,D]);return h.useEffect(()=>{k.current=he.toDOMNode(D,D)},[D,k]),C?j?null:l.jsx(a4t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:K,onBlur:q,onCopy:H,onDOMBeforeInput:oe,onFocus:V,onKeyDown:G,onPaste:W,readOnly:_,renderPlaceholder:void 0,renderElement:R,renderLeaf:z,scrollSelectionIntoView:Y}):null});var ILt=D_e,OLt=K0,cJ=zT;function PLt(e,t,n){var r=e.length;if(r<2)return r?cJ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=ILt(i[o]||s,e[a],t,n));return cJ(OLt(i,1),t,n)}var RLt=PLt,$Lt=U2e,MLt=X0,FLt=RLt,LLt=PT,BLt=MLt(function(e){return FLt($Lt(e,LLt))}),NLt=BLt;const zLt=Ae(NLt);function oTe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(VLt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function VLt(e){return typeof e=="object"&&typeof e._key=="string"}class Yy extends Error{constructor(t,n,r){const o=oTe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const HLt=/^[a-z0-9][a-z0-9_.-]+$/i,ULt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,WLt=/^[a-z_]/i;function uJ(e,t,n){if(!WLt.test(e))throw new Yy("Keys must start with a letter (a-z)",n.concat(e),t);if(!ULt.test(e))throw new Yy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Yy("Keys must be strings",n.concat(e),t);if(!HLt.test(t))throw new Yy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const YLt=["_id","_type","_createdAt","_updatedAt","_rev"],GM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function qLt(e){return{...GM,...e,diffMatchPatch:{...GM.diffMatchPatch,...e.diffMatchPatch||{}}}}function bA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=qLt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?KLt(e,t,u,r,o):GLt(e,t,u,r,o):QLt(e,t,u,r,o)}function GLt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?dJ:hJ).map(d=>uJ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?dJ:hJ).map(d=>uJ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];bA(e[f],t[f],n,r.concat([f]),o)}return o}function KLt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>V7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);t8t(n)||!gO(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new Yy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return gO(s)&&gO(a)?ZLt(s,a,n,r,o):iTe(s,a,n,r,o)}function iTe(e,t,n,r,o){for(let i=0;i<e.length;i++)bA(e[i],V7(t[i],r,i,n),n,r.concat(i),o);return o}function ZLt(e,t,n,r,o){const i=fJ(e),s=fJ(t);if(!e8t(i.keys,s.keys))return iTe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=V7(s.index[c],r,a,n);bA(u,d,n,r.concat({_key:c}),o)}return o}function XLt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=sC(e,t),d=H9(u);c=J5e(X5e(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function QLt(e,t,n,r,o){const i=XLt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function dJ(e){return YLt.indexOf(e)===-1}function gO(e){const t=[];for(let n=0;n<e.length;n++){const r=JLt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function JLt(e){return typeof e=="object"&&e!==null&&e._key}function fJ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function e8t(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function V7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=oTe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function t8t(e){return!!e.ifRevisionID}function hJ(e){return!0}var n8t=RT,r8t=S9,o8t=Object.prototype,i8t=o8t.hasOwnProperty,s8t=r8t(function(e,t,n){i8t.call(e,n)?e[n].push(t):n8t(e,n,[t])}),a8t=s8t;const H7=Ae(a8t),pJ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,mJ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",vO=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return mJ(n.overflowY,t)||mJ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},Q2=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,l8t=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},gJ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!pJ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let g=e;for(;pJ(g)&&f(g);){if(g=l8t(g),g===p){m.push(g);break}g!=null&&g===document.body&&vO(g)&&!vO(document.documentElement)||g!=null&&vO(g,d)&&m.push(g)}const v=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:y}=window,{height:w,width:C,top:_,right:S,bottom:k,left:j}=e.getBoundingClientRect(),{top:E,right:T,bottom:A,left:D}=(R=>{const z=window.getComputedStyle(R);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-E:a==="end"?k+A:_+w/2-E+A,O=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const z=m[R],{height:F,width:H,top:W,right:V,bottom:q,left:oe}=z.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&k<=b&&S<=v&&_>=W&&k<=q&&j>=oe&&S<=V)return $;const N=getComputedStyle(z),G=parseInt(N.borderLeftWidth,10),Y=parseInt(N.borderTopWidth,10),K=parseInt(N.borderRightWidth,10),X=parseInt(N.borderBottomWidth,10);let Q=0,Z=0;const ne="offsetWidth"in z?z.offsetWidth-z.clientWidth-G-K:0,ae="offsetHeight"in z?z.offsetHeight-z.clientHeight-Y-X:0,me="offsetWidth"in z?z.offsetWidth===0?0:H/z.offsetWidth:0,ue="offsetHeight"in z?z.offsetHeight===0?0:F/z.offsetHeight:0;if(p===z)Q=a==="start"?I:a==="end"?I-b:a==="nearest"?Q2(y,y+b,b,Y,X,y+I,y+I+w,w):I-b/2,Z=c==="start"?O:c==="center"?O-v/2:c==="end"?O-v:Q2(x,x+v,v,G,K,x+O,x+O+C,C),Q=Math.max(0,Q+y),Z=Math.max(0,Z+x);else{Q=a==="start"?I-W-Y:a==="end"?I-q+X+ae:a==="nearest"?Q2(W,q,F,Y,X+ae,I,I+w,w):I-(W+F/2)+ae/2,Z=c==="start"?O-oe-G:c==="center"?O-(oe+H/2)+ne/2:c==="end"?O-V+K+ne:Q2(oe,V,H,G,K+ne,O,O+C,C);const{scrollLeft:Te,scrollTop:_e}=z;Q=ue===0?0:Math.max(0,Math.min(_e+Q/ue,z.scrollHeight-F/ue+ae)),Z=me===0?0:Math.max(0,Math.min(Te+Z/me,z.scrollWidth-H/me+ne)),I+=_e-Q,O+=Te-Z}$.push({el:z,top:Q,left:Z})}return $},c8t=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function zx(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(gJ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of gJ(e,c8t(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}function u8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function a1(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function U7(e){return"nodeType"in e}function Bs(e){var t,n;return e?a1(e)?e:U7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function W7(e){const{Document:t}=Bs(e);return e instanceof t}function hC(e){return a1(e)?!1:e instanceof Bs(e).HTMLElement}function sTe(e){return e instanceof Bs(e).SVGElement}function l1(e){return e?a1(e)?e.document:U7(e)?W7(e)?e:hC(e)||sTe(e)?e.ownerDocument:document:document:document}const zl=xA?h.useLayoutEffect:h.useEffect;function Y7(e){const t=h.useRef(e);return zl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function d8t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Vx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return zl(()=>{n.current!==e&&(n.current=e)},t),n}function pC(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function gE(e){const t=Y7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function KM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let yO={};function mC(e,t){return h.useMemo(()=>{if(t)return t;const n=yO[e]==null?0:yO[e]+1;return yO[e]=n,e+"-"+n},[e,t])}function aTe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Iv=aTe(1),Hx=aTe(-1);function f8t(e){return"clientX"in e&&"clientY"in e}function q7(e){if(!e)return!1;const{KeyboardEvent:t}=Bs(e.target);return t&&e instanceof t}function h8t(e){if(!e)return!1;const{TouchEvent:t}=Bs(e.target);return t&&e instanceof t}function ZM(e){if(h8t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return f8t(e)?{x:e.clientX,y:e.clientY}:null}const Ux=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ux.Translate.toString(e),Ux.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),vJ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function p8t(e){return e.matches(vJ)?e:e.querySelector(vJ)}const m8t={display:"none"};function g8t(e){let{id:t,value:n}=e;return re.createElement("div",{id:t,style:m8t},n)}function v8t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function y8t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const lTe=h.createContext(null);function b8t(e){const t=h.useContext(lTe);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function x8t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const w8t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},C8t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _8t(e){let{announcements:t=C8t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=w8t}=e;const{announce:i,announcement:s}=y8t(),a=mC("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),b8t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=re.createElement(re.Fragment,null,re.createElement(g8t,{id:r,value:o.draggable}),re.createElement(v8t,{id:a,announcement:s}));return n?wc.createPortal(d,n):d}var ko;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ko||(ko={}));function vE(){}function yJ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function S8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Vl=Object.freeze({x:0,y:0});function cTe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uTe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function k8t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function bJ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function dTe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function xJ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const E8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=xJ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=cTe(xJ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(uTe)},j8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=bJ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=bJ(c),d=o.reduce((p,m,g)=>p+cTe(u[g],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(uTe)};function T8t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const A8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=T8t(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(k8t)};function D8t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function fTe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vl}function I8t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const O8t=I8t(1);function P8t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function R8t(e,t,n){const r=P8t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const $8t={ignoreTransform:!1};function c1(e,t){t===void 0&&(t=$8t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Bs(e).getComputedStyle(e);u&&(n=R8t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function wJ(e){return c1(e,{ignoreTransform:!0})}function M8t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function F8t(e,t){return t===void 0&&(t=Bs(e).getComputedStyle(e)),t.position==="fixed"}function L8t(e,t){t===void 0&&(t=Bs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function wA(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(W7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!hC(o)||sTe(o)||n.includes(o))return n;const i=Bs(e).getComputedStyle(o);return o!==e&&L8t(o,i)&&n.push(o),F8t(o,i)?n:r(o.parentNode)}return e?r(e):n}function hTe(e){const[t]=wA(e,1);return t??null}function bO(e){return!xA||!e?null:a1(e)?e:U7(e)?W7(e)||e===l1(e).scrollingElement?window:hC(e)?e:null:null}function pTe(e){return a1(e)?e.scrollX:e.scrollLeft}function mTe(e){return a1(e)?e.scrollY:e.scrollTop}function XM(e){return{x:pTe(e),y:mTe(e)}}var No;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(No||(No={}));function gTe(e){return!xA||!e?!1:e===document.scrollingElement}function vTe(e){const t={x:0,y:0},n=gTe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const B8t={x:.2,y:.2};function N8t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=B8t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=vTe(e),m={x:0,y:0},g={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+v.height?(m.y=No.Backward,g.y=r*Math.abs((t.top+v.height-i)/v.height)):!d&&c>=t.bottom-v.height&&(m.y=No.Forward,g.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!p&&a>=t.right-v.width?(m.x=No.Forward,g.x=r*Math.abs((t.right-v.width-a)/v.width)):!f&&s<=t.left+v.width&&(m.x=No.Backward,g.x=r*Math.abs((t.left+v.width-s)/v.width)),{direction:m,speed:g}}function z8t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function yTe(e){return e.reduce((t,n)=>Iv(t,XM(n)),Vl)}function V8t(e){return e.reduce((t,n)=>t+pTe(n),0)}function H8t(e){return e.reduce((t,n)=>t+mTe(n),0)}function U8t(e,t){if(t===void 0&&(t=c1),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);hTe(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const W8t=[["x",["left","right"],V8t],["y",["top","bottom"],H8t]];let G7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wA(n),o=yTe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of W8t)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class Mb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Y8t(e){const{EventTarget:t}=Bs(e);return e instanceof t?e:l1(e)}function xO(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Aa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Aa||(Aa={}));function CJ(e){e.preventDefault()}function q8t(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const bTe={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},G8t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class K7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Mb(l1(n)),this.windowListeners=new Mb(Bs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Aa.Resize,this.handleCancel),this.windowListeners.add(Aa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Aa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&U8t(r),n(Vl)}handleKeyDown(t){if(q7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=bTe,coordinateGetter:s=G8t,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Vl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Hx(f,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=vTe(v),k=z8t(v),j={x:Math.min(b===Xt.Right?k.right-k.width/2:k.right,Math.max(b===Xt.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(b===Xt.Down?k.bottom-k.height/2:k.bottom,Math.max(b===Xt.Down?k.top:k.top+k.height/2,f.y))},E=b===Xt.Right&&!y||b===Xt.Left&&!w,T=b===Xt.Down&&!C||b===Xt.Up&&!x;if(E&&j.x!==f.x){const A=v.scrollLeft+p.x,D=b===Xt.Right&&A<=_.x||b===Xt.Left&&A>=S.x;if(D&&!p.y){v.scrollTo({left:A,behavior:a});return}D?m.x=v.scrollLeft-A:m.x=b===Xt.Right?v.scrollLeft-_.x:v.scrollLeft-S.x,m.x&&v.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=v.scrollTop+p.y,D=b===Xt.Down&&A<=_.y||b===Xt.Up&&A>=S.y;if(D&&!p.x){v.scrollTo({top:A,behavior:a});return}D?m.y=v.scrollTop-A:m.y=b===Xt.Down?v.scrollTop-_.y:v.scrollTop-S.y,m.y&&v.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,Iv(Hx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}K7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=bTe,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function _J(e){return!!(e&&"distance"in e)}function SJ(e){return!!(e&&"delay"in e)}class Z7{constructor(t,n,r){var o;r===void 0&&(r=Y8t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=l1(s),this.documentListeners=new Mb(this.document),this.listeners=new Mb(r),this.windowListeners=new Mb(Bs(s)),this.initialCoordinates=(o=ZM(i))!=null?o:Vl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Aa.Resize,this.handleCancel),this.windowListeners.add(Aa.DragStart,CJ),this.windowListeners.add(Aa.VisibilityChange,this.handleCancel),this.windowListeners.add(Aa.ContextMenu,CJ),this.documentListeners.add(Aa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(SJ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(_J(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Aa.Click,q8t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Aa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=ZM(t))!=null?n:Vl,u=Hx(o,c);if(!r&&a){if(_J(a)){if(a.tolerance!=null&&xO(u,a.tolerance))return this.handleCancel();if(xO(u,a.distance))return this.handleStart()}return SJ(a)&&xO(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const K8t={move:{name:"pointermove"},end:{name:"pointerup"}};class X7 extends Z7{constructor(t){const{event:n}=t,r=l1(n.target);super(t,K8t,r)}}X7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Z8t={move:{name:"mousemove"},end:{name:"mouseup"}};var QM;(function(e){e[e.RightClick=2]="RightClick"})(QM||(QM={}));class X8t extends Z7{constructor(t){super(t,Z8t,l1(t.event.target))}}X8t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===QM.RightClick?!1:(r==null||r({event:n}),!0)}}];const wO={move:{name:"touchmove"},end:{name:"touchend"}};class Q8t extends Z7{constructor(t){super(t,wO)}static setup(){return window.addEventListener(wO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(wO.move.name,t)};function t(){}}}Q8t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Fb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fb||(Fb={}));var yE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yE||(yE={}));function J8t(e){let{acceleration:t,activator:n=Fb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=yE.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=t9t({delta:f,disabled:!i}),[g,v]=d8t(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case Fb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fb.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const k=b.current.x*x.current.x,j=b.current.y*x.current.y;S.scrollBy(k,j)},[]),_=h.useMemo(()=>a===yE.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){v();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const k=u.indexOf(S),j=d[k];if(!j)continue;const{direction:E,speed:T}=N8t(S,j,y,t,p);for(const A of["x","y"])m[A][E[A]]||(T[A]=0,E[A]=0);if(T.x>0||T.y>0){v(),w.current=S,g(C,s),b.current=T,x.current=E;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,C,r,v,i,s,JSON.stringify(y),JSON.stringify(m),g,u,_,d,JSON.stringify(p)])}const e9t={x:{[No.Backward]:!1,[No.Forward]:!1},y:{[No.Backward]:!1,[No.Forward]:!1}};function t9t(e){let{delta:t,disabled:n}=e;const r=KM(t);return pC(o=>{if(n||!r||!o)return e9t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[No.Backward]:o.x[No.Backward]||i.x===-1,[No.Forward]:o.x[No.Forward]||i.x===1},y:{[No.Backward]:o.y[No.Backward]||i.y===-1,[No.Forward]:o.y[No.Forward]||i.y===1}}},[n,t,r])}function n9t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return pC(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function r9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Wx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Wx||(Wx={}));var JM;(function(e){e.Optimized="optimized"})(JM||(JM={}));const kJ=new Map;function o9t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=b(),p=Vx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),g=h.useRef(null),v=pC(x=>{if(f&&!n)return kJ;if(!x||x===kJ||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new G7(c(C),C):null;w.rect.current=_,_&&y.set(w.id,_)}return y}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},a))},[a,f,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case Wx.Always:return!1;case Wx.BeforeDragging:return n;default:return!n}}}function xTe(e,t){return pC(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function i9t(e,t){return xTe(e,t)}function s9t(e){let{callback:t,disabled:n}=e;const r=Y7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function CA(e){let{callback:t,disabled:n}=e;const r=Y7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function a9t(e){return new G7(c1(e),e)}function EJ(e,t,n){t===void 0&&(t=a9t);const[r,o]=h.useReducer(a,null),i=s9t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=CA({callback:o});return zl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function l9t(e){const t=xTe(e);return fTe(e,t)}const jJ=[];function c9t(e){const t=h.useRef(e),n=pC(r=>e?r&&r!==jJ&&e&&t.current&&e.parentNode===t.current.parentNode?r:wA(e):jJ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function u9t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=bO(i.target);s&&n(a=>a?(a.set(s,XM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=bO(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,XM(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=bO(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Iv(i,s),Vl):yTe(e):Vl,[e,t])}function TJ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Vl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Hx(e,n.current):Vl}function d9t(e){h.useEffect(()=>{if(!xA)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function f9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function wTe(e){return h.useMemo(()=>e?M8t(e):null,[e])}const CO=[];function h9t(e,t){t===void 0&&(t=c1);const[n]=e,r=wTe(n?Bs(n):null),[o,i]=h.useReducer(a,CO),s=CA({callback:i});return e.length>0&&o===CO&&i(),zl(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>gTe(c)?r:new G7(t(c),c)):CO}}function p9t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return hC(t)?t:e}function m9t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(hC(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=CA({callback:o}),s=h.useCallback(u=>{const d=p9t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=gE(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const g9t=[{sensor:X7,options:{}},{sensor:K7,options:{}}],v9t={current:{}},BS={draggable:{measure:wJ},droppable:{measure:wJ,strategy:Wx.WhileDragging,frequency:JM.Optimized},dragOverlay:{measure:c1}};class Lb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const y9t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:BS,measureDroppableContainers:vE,windowRect:null,measuringScheduled:!1},b9t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vE,draggableNodes:new Map,over:null,measureDroppableContainers:vE},_A=h.createContext(b9t),CTe=h.createContext(y9t);function x9t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lb}}}function w9t(e,t){switch(t.type){case ko.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ko.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case ko.DragEnd:case ko.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ko.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Lb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case ko.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Lb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case ko.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Lb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function C9t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(_A),i=KM(r),s=KM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!q7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=p8t(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function _9t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function S9t(e){return h.useMemo(()=>({draggable:{...BS.draggable,...e==null?void 0:e.draggable},droppable:{...BS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...BS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function k9t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;zl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=fTe(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=hTe(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const _Te=h.createContext({...Vl,scaleX:1,scaleY:1});var Gd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Gd||(Gd={}));const E9t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=g9t,collisionDetection:f=A8t,measuring:p,modifiers:m,...g}=t;const v=h.useReducer(w9t,void 0,x9t),[b,x]=v,[y,w]=x8t(),[C,_]=h.useState(Gd.Uninitialized),S=C===Gd.Initialized,{draggable:{active:k,nodes:j,translate:E},droppable:{containers:T}}=b,A=k?j.get(k):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Ln;return k!=null?{id:k,data:(Ln=A==null?void 0:A.data)!=null?Ln:v9t,rect:D}:null},[k,A]),O=h.useRef(null),[$,R]=h.useState(null),[z,F]=h.useState(null),H=Vx(g,Object.values(g)),W=mC("DndDescribedBy",s),V=h.useMemo(()=>T.getEnabled(),[T]),q=S9t(p),{droppableRects:oe,measureDroppableContainers:N,measuringScheduled:G}=o9t(V,{dragging:S,dependencies:[E.x,E.y],config:q.droppable}),Y=n9t(j,k),K=h.useMemo(()=>z?ZM(z):null,[z]),X=mi(),Q=i9t(Y,q.draggable.measure);k9t({activeNode:k?j.get(k):null,config:X.layoutShiftCompensation,initialRect:Q,measure:q.draggable.measure});const Z=EJ(Y,q.draggable.measure,Q),ne=EJ(Y?Y.parentElement:null),ae=h.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=ae.current.over)==null?void 0:n.id),ue=m9t({measure:q.dragOverlay.measure}),Te=(r=ue.nodeRef.current)!=null?r:Y,_e=S?(o=ue.rect)!=null?o:Z:null,be=!!(ue.nodeRef.current&&ue.rect),ge=l9t(be?null:Z),Oe=wTe(Te?Bs(Te):null),Re=c9t(S?me??Y:null),ut=h9t(Re),st=_9t(m,{transform:{x:E.x-ge.x,y:E.y-ge.y,scaleX:1,scaleY:1},activatorEvent:z,active:I,activeNodeRect:Z,containerNodeRect:ne,draggingNodeRect:_e,over:ae.current.over,overlayNodeRect:ue.rect,scrollableAncestors:Re,scrollableAncestorRects:ut,windowRect:Oe}),Lt=K?Iv(K,E):null,gn=u9t(Re),xe=TJ(gn),Ze=TJ(gn,[Z]),Je=Iv(st,xe),Ve=_e?O8t(_e,st):null,vt=I&&Ve?f({active:I,collisionRect:Ve,droppableRects:oe,droppableContainers:V,pointerCoordinates:Lt}):null,Ie=dTe(vt,"id"),[Me,et]=h.useState(null),Zo=be?st:Iv(st,Ze),ms=D8t(Zo,(i=Me==null?void 0:Me.rect)!=null?i:null,Z),Ns=h.useCallback((Ln,Br)=>{let{sensor:eo,options:We}=Br;if(O.current==null)return;const wt=j.get(O.current);if(!wt)return;const er=Ln.nativeEvent,vn=new eo({active:O.current,activeNode:wt,event:er,options:We,context:ae,onStart(xo){const gs=O.current;if(gs==null)return;const zs=j.get(gs);if(!zs)return;const{onDragStart:ec}=H.current,ou={active:{id:gs,data:zs.data,rect:D}};wc.unstable_batchedUpdates(()=>{ec==null||ec(ou),_(Gd.Initializing),x({type:ko.DragStart,initialCoordinates:xo,active:gs}),y({type:"onDragStart",event:ou})})},onMove(xo){x({type:ko.DragMove,coordinates:xo})},onEnd:gi(ko.DragEnd),onCancel:gi(ko.DragCancel)});wc.unstable_batchedUpdates(()=>{R(vn),F(Ln.nativeEvent)});function gi(xo){return async function(){const{active:zs,collisions:ec,over:ou,scrollAdjustedTranslate:Qm}=ae.current;let Eh=null;if(zs&&Qm){const{cancelDrop:jh}=H.current;Eh={activatorEvent:er,active:zs,collisions:ec,delta:Qm,over:ou},xo===ko.DragEnd&&typeof jh=="function"&&await Promise.resolve(jh(Eh))&&(xo=ko.DragCancel)}O.current=null,wc.unstable_batchedUpdates(()=>{x({type:xo}),_(Gd.Uninitialized),et(null),R(null),F(null);const jh=xo===ko.DragEnd?"onDragEnd":"onDragCancel";if(Eh){const R1=H.current[jh];R1==null||R1(Eh),y({type:jh,event:Eh})}})}}},[j]),Yt=h.useCallback((Ln,Br)=>(eo,We)=>{const wt=eo.nativeEvent,er=j.get(We);if(O.current!==null||!er||wt.dndKit||wt.defaultPrevented)return;const vn={active:er};Ln(eo,Br.options,vn)===!0&&(wt.dndKit={capturedBy:Br.sensor},O.current=We,Ns(eo,Br))},[j,Ns]),qr=r9t(d,Yt);d9t(d),zl(()=>{Z&&C===Gd.Initializing&&_(Gd.Initialized)},[Z,C]),h.useEffect(()=>{const{onDragMove:Ln}=H.current,{active:Br,activatorEvent:eo,collisions:We,over:wt}=ae.current;if(!Br||!eo)return;const er={active:Br,activatorEvent:eo,collisions:We,delta:{x:Je.x,y:Je.y},over:wt};wc.unstable_batchedUpdates(()=>{Ln==null||Ln(er),y({type:"onDragMove",event:er})})},[Je.x,Je.y]),h.useEffect(()=>{const{active:Ln,activatorEvent:Br,collisions:eo,droppableContainers:We,scrollAdjustedTranslate:wt}=ae.current;if(!Ln||O.current==null||!Br||!wt)return;const{onDragOver:er}=H.current,vn=We.get(Ie),gi=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,xo={active:Ln,activatorEvent:Br,collisions:eo,delta:{x:wt.x,y:wt.y},over:gi};wc.unstable_batchedUpdates(()=>{et(gi),er==null||er(xo),y({type:"onDragOver",event:xo})})},[Ie]),zl(()=>{ae.current={activatorEvent:z,active:I,activeNode:Y,collisionRect:Ve,collisions:vt,droppableRects:oe,draggableNodes:j,draggingNode:Te,draggingNodeRect:_e,droppableContainers:T,over:Me,scrollableAncestors:Re,scrollAdjustedTranslate:Je},D.current={initial:_e,translated:Ve}},[I,Y,vt,Ve,j,Te,_e,oe,T,Me,Re,Je]),J8t({...X,delta:E,draggingRect:Ve,pointerCoordinates:Lt,scrollableAncestors:Re,scrollableAncestorRects:ut});const Jl=h.useMemo(()=>({active:I,activeNode:Y,activeNodeRect:Z,activatorEvent:z,collisions:vt,containerNodeRect:ne,dragOverlay:ue,draggableNodes:j,droppableContainers:T,droppableRects:oe,over:Me,measureDroppableContainers:N,scrollableAncestors:Re,scrollableAncestorRects:ut,measuringConfiguration:q,measuringScheduled:G,windowRect:Oe}),[I,Y,Z,z,vt,ne,ue,j,T,oe,Me,N,Re,ut,q,G,Oe]),cl=h.useMemo(()=>({activatorEvent:z,activators:qr,active:I,activeNodeRect:Z,ariaDescribedById:{draggable:W},dispatch:x,draggableNodes:j,over:Me,measureDroppableContainers:N}),[z,qr,I,Z,x,W,j,Me,N]);return re.createElement(lTe.Provider,{value:w},re.createElement(_A.Provider,{value:cl},re.createElement(CTe.Provider,{value:Jl},re.createElement(_Te.Provider,{value:ms},u)),re.createElement(C9t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),re.createElement(_8t,{...a,hiddenTextDescribedById:W}));function mi(){const Ln=($==null?void 0:$.autoScrollEnabled)===!1,Br=typeof c=="object"?c.enabled===!1:c===!1,eo=S&&!Ln&&!Br;return typeof c=="object"?{...c,enabled:eo}:{enabled:eo}}}),j9t=h.createContext(null),AJ="button",T9t="Droppable";function A9t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=mC(T9t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(_A),{role:m=AJ,roleDescription:g="draggable",tabIndex:v=0}=o??{},b=(c==null?void 0:c.id)===t,x=h.useContext(b?_Te:j9t),[y,w]=gE(),[C,_]=gE(),S=f9t(s,t),k=Vx(n);zl(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:C,data:k}),()=>{const E=f.get(t);E&&E.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&m===AJ?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,v,b,g,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:b,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function D9t(){return h.useContext(CTe)}const I9t="Droppable",O9t={timeout:25};function P9t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=mC(I9t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(_A),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:b}={...O9t,...o},x=Vx(v??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},b)},[b]),w=CA({callback:y,disabled:g||!s}),C=h.useCallback((j,E)=>{w&&(E&&(w.unobserve(E),f.current=!1),j&&w.observe(j))},[w]),[_,S]=gE(C),k=Vx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),zl(()=>(a({type:ko.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:k}}),()=>a({type:ko.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:ko.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function STe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function R9t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function J2(e){return e!==null&&e>=0}function $9t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function M9t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const e_={scaleX:1,scaleY:1},F9t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=L9t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...e_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...e_}:s<o&&s>=i?{x:a.width+c,y:0,...e_}:{x:0,y:0,...e_}};function L9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const kTe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=STe(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},t_={scaleX:1,scaleY:1},B9t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...t_}:null}const c=N9t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...t_}:o<n&&o>=s?{x:0,y:a.height+c,...t_}:{x:0,y:0,...t_}};function N9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const ETe="Sortable",jTe=re.createContext({activeIndex:-1,containerId:ETe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kTe,disabled:{draggable:!1,droppable:!1}});function z9t(e){let{children:t,id:n,items:r,strategy:o=kTe,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=D9t(),f=mC(ETe,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),g=s!=null,v=s?m.indexOf(s.id):-1,b=u?m.indexOf(u.id):-1,x=h.useRef(m),y=!$9t(m,x.current),w=b!==-1&&v===-1||y,C=M9t(i);zl(()=>{y&&g&&d(m)},[y,m,g,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:v,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:R9t(m,c),strategy:o}),[v,f,C.draggable,C.droppable,w,m,b,c,p,o]);return re.createElement(jTe.Provider,{value:_},t)}const V9t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return STe(n,r,o).indexOf(t)},H9t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},U9t={duration:200,easing:"ease"},TTe="transform",W9t=Ux.Transition.toString({property:TTe,duration:0,easing:"linear"}),Y9t={roleDescription:"sortable"};function q9t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return zl(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=c1(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function ATe(e){let{animateLayoutChanges:t=H9t,attributes:n,disabled:r,data:o,getNewIndex:i=V9t,id:s,strategy:a,resizeObserverConfig:c,transition:u=U9t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:y}=h.useContext(jTe),w=G9t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:k,node:j,isOver:E,setNodeRef:T}=P9t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:O,setNodeRef:$,listeners:R,isDragging:z,over:F,setActivatorNodeRef:H,transform:W}=A9t({id:s,data:_,attributes:{...Y9t,...n},disabled:w.draggable}),V=u8t(T,$),q=!!A,oe=q&&!g&&J2(p)&&J2(b),N=!x&&z,G=N&&oe?W:null,K=oe?G??(a??y)({rects:v,activeNodeRect:I,activeIndex:p,overIndex:b,index:C}):null,X=J2(p)&&J2(b)?i({id:s,items:d,activeIndex:p,overIndex:b}):C,Q=A==null?void 0:A.id,Z=h.useRef({activeId:Q,items:d,newIndex:X,containerId:f}),ne=d!==Z.current.items,ae=t({active:A,containerId:f,isDragging:z,isSorting:q,id:s,index:C,items:d,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:u,wasDragging:Z.current.activeId!=null}),me=q9t({disabled:!ae,index:C,node:j,rect:k});return h.useEffect(()=>{q&&Z.current.newIndex!==X&&(Z.current.newIndex=X),f!==Z.current.containerId&&(Z.current.containerId=f),d!==Z.current.items&&(Z.current.items=d)},[q,X,f,d]),h.useEffect(()=>{if(Q===Z.current.activeId)return;if(Q&&!Z.current.activeId){Z.current.activeId=Q;return}const Te=setTimeout(()=>{Z.current.activeId=Q},50);return()=>clearTimeout(Te)},[Q]),{active:A,activeIndex:p,attributes:O,data:_,rect:k,index:C,newIndex:X,items:d,isOver:E,isSorting:q,isDragging:z,listeners:R,node:j,overIndex:b,over:F,setNodeRef:V,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:me??K,transition:ue()};function ue(){if(me||ne&&Z.current.newIndex===C)return W9t;if(!(N&&!q7(D)||!u)&&(q||ae))return Ux.Transition.toString({...u,property:TTe})}}function G9t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function bE(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const K9t=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],Z9t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(K9t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&c.push(f);break;case Xt.Up:r.top>p.top&&c.push(f);break;case Xt.Left:r.left>p.left&&c.push(f);break;case Xt.Right:r.left<p.left&&c.push(f);break}});const u=j8t({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=dTe(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,g=p==null?void 0:p.node.current;if(g&&m&&f&&p){const b=wA(g).some((S,k)=>a[k]!==S),x=DTe(f,p),y=X9t(f,p),w=b||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Hx(C,w)}}}};function DTe(e,t){return!bE(e)||!bE(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function X9t(e,t){return!bE(e)||!bE(t)||!DTe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Q9t=e=>{let{transform:t}=e;return{...t,y:0}},J9t=e=>{let{transform:t}=e;return{...t,x:0}};var e7t=xm;function t7t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!e7t(s):n(s,a)))var a=s,c=i}return c}var ITe=t7t;function n7t(e,t){return e<t}var r7t=n7t,o7t=ITe,i7t=r7t,s7t=Pm;function a7t(e){return e&&e.length?o7t(e,s7t,i7t):void 0}var l7t=a7t;const c7t=Ae(l7t);function u7t(e,t){return e>t}var d7t=u7t,f7t=ITe,h7t=d7t,p7t=Pm;function m7t(e){return e&&e.length?f7t(e,p7t,h7t):void 0}var g7t=m7t;const v7t=Ae(g7t);var e4={exports:{}},_O,DJ;function y7t(){if(DJ)return _O;DJ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;_O=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var g=f>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return _O}function b7t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=y7t(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var v=f,b=Number(new Date),x=b-(d||b);v.diff=x,v.prev=d,v.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var k=m[y];C=S.call(v,k),m.splice(y,1),y--}return C}),n.formatArgs.call(v,m);var w=v.log||n.log;w.apply(v,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var x7t=b7t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(p++,g==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=x7t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(e4,e4.exports);var w7t=e4.exports;const C7t=Ae(w7t),_7t=/[0-9]/,S7t=/^[a-zA-Z0-9_]$/,k7t=/^[a-zA-Z_]$/,OTe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},E7t=Object.keys(OTe);class j7t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(k7t)?r:null):r.match(S7t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(_7t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of E7t){const r=OTe[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function T7t(e){return new j7t(e).tokenize()}class A7t{constructor(t){this.tokens=T7t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function PTe(e){const t=new A7t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function D7t(e){const[t,n]=RTe(e);if(!t)throw new Error("Head cannot be null");return O7t(t,n)}function RTe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function I7t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function O7t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=RTe(n);return[r,I7t(o,t)]}return[n,t]})}function $Te(e){return Tg(e,!1)}function Tg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(Tg(e.rhs,!1)):"",r="".concat(Tg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push($Te(o));const i=r[0];i&&Tg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>Tg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(Tg(e.term,!1))}}class ea{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=SO(r,t);let o="end"in this.expr&&this.expr.end||n();o=SO(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return IJ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return IJ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new ea({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return D7t(this.expr).map(t=>{const[n,r]=t;return{head:n?new ea(n):null,tail:r?new ea(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new ea(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[SO(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return $Te(this.expr)}static fromPath(t){const n=PTe(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new ea(n)}static attributeReference(t){return new ea({type:"attribute",name:t})}static indexReference(t){return new ea({type:"index",value:t})}}function IJ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function SO(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class ov{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=In(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new ov(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new ov(new ea({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new ov(t.head,t.tail)):[new ov(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class bp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new bp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new ea({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new bp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new bp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:ea.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:ea.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=PTe(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new ov(null,new ea(n));return new bp(r.descend())}}function NS(e){return e!==null&&typeof e=="object"}class xE{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new xE(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return NS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return NS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!NS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new xE(this._value[t],this.path.concat(t)):null}get(){return this._value}}function P7t(e,t){const n=[],r=bp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new xE(t);return MTe(r,o),n}function MTe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{OJ(o.target,t).forEach(i=>{MTe(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(OJ(o,t))})}function OJ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return KT(n)}function R7t(e,t){return P7t(e,t).map(r=>({path:r.path,value:r.get()}))}const $7t=/^[a-z_$]+/;function FTe(e){let t="";return e.forEach((n,r)=>{t+=M7t(n,r===0)}),t}function M7t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(NS(e)){const n=e;return Object.keys(e).map(r=>F7t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&$7t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function F7t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class LTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function PJ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class RJ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,PJ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),PJ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function SA(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class L7t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=B7t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=N7t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=SA(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function B7t(e,t){let n=c7t(SA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function N7t(e,t){let n=v7t(SA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class BTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class z7t{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(SA(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function $J(e,t){if(typeof t!="string")return t;const[n]=Q5e(e,t,{allowExceedingIndices:!0});return n}class V7t{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=eEe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=$J(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=$J(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function NTe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(NTe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new BTe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new LTe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new z7t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new V7t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new RJ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new RJ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new L7t(e.id,u,d,f.items))}return t}class pc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new pc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return cy(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return cy(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!cy(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new pc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new pc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new pc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new pc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new pc(r,this.path)}setAttribute(t,n){if(!cy(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new pc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!cy(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new pc(n,this.path)}}function cy(e){return e!==null&&typeof e=="object"}let H7t=class{constructor(t){this.patches=NTe(t)}apply(t){const n=new pc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=bp.fromPath(i.path).setPayload(i);n=t4(s,n)}return n}};function t4(e,t){const n=e.payload instanceof LTe||e.payload instanceof BTe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,t4(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=t4(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&U7t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function U7t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const W7t=bd,Nt=C7t("mutator-document");class Rc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=W7t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new H7t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Nt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Nt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Rc({mutations:r})}}let Y7t=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Nt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Nt.enabled&&Nt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Nt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Nt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Nt.enabled&&(Nt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Nt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Nt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Nt("needRebase === %s",n)),n}return Nt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Nt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Nt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Nt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Nt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Rc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ht(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class n_{constructor(t){this.out=[],t?Nt("Reset mutation buffer to rev %s",t._rev):Nt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Nt("Purged mutation buffer"),n=new Rc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Nt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Nt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=R7t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=J5e(X5e(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=FTe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Rc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Rc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const q7t=1e3*60;class G7t{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Rc.applyAll(t,this.mutations)}squash(t){const n=Rc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const MJ=(e,t)=>e.concat(t.mutations);class K7t{constructor(t){this.committerRunning=!1,this.buffer=new n_(t),this.document=new Y7t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Nt("Document state reset to revision %s",t._rev):Nt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Nt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Nt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Nt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Nt("Committing local changes");const r=this.buffer.purge();this.commits.push(new G7t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new n_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Nt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Nt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,q7t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new n_(this.LOCAL),this.committerRunning=!1}};Nt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Nt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Nt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new n_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Nt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Nt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ht(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(MJ,[]),n.reduce(MJ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var zTe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(As)})(zTe);var Z7t=zTe.ExifReader,X7t=function(e){var t=new Z7t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[Q7t(o)]=n[o].description;return r};function Q7t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const J7t=Ae(X7t);var eBt=fh,tBt=uh,nBt=dh;function rBt(e){return function(t,n,r){var o=Object(t);if(!tBt(t)){var i=eBt(n);t=nBt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var oBt=rBt,iBt=oBt,sBt=Eje,aBt=iBt(sBt),lBt=aBt;const VTe=Ae(lBt);var cBt=Math.ceil,uBt=Math.max;function dBt(e,t,n,r){for(var o=-1,i=uBt(cBt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var fBt=dBt,hBt=fBt,pBt=z8,kO=kje;function mBt(e){return function(t,n,r){return r&&typeof r!="number"&&pBt(t,n,r)&&(n=r=void 0),t=kO(t),n===void 0?(n=t,t=0):n=kO(n),r=r===void 0?t<n?1:-1:kO(r),hBt(t,n,r,e)}}var gBt=mBt,vBt=gBt,yBt=vBt(),bBt=yBt;const Q7=Ae(bBt);var HTe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(v,b){var x="-",y="",w="",C=!0,_={},S,k,j,E,T,A,D,I,O,$,R,z,F,H,W="";if(typeof v!="string")return"";if(typeof b=="string"&&(x=b),D=s.en,I=i.en,typeof b=="object"){S=b.maintainCase||!1,_=b.custom&&typeof b.custom=="object"?b.custom:_,j=+b.truncate>1&&b.truncate||!1,E=b.uric||!1,T=b.uricNoSlash||!1,A=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),x=b.separator||x,E&&(W+=a),T&&(W+=c),A&&(W+=u),D=b.lang&&s[b.lang]&&C?s[b.lang]:C?s.en:{},I=b.lang&&i[b.lang]?i[b.lang]:b.lang===!1||b.lang===!0?{}:i.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(V){_[V+""]=V+""}),k=!0):k=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(V){_[V+""]=V+""}),Object.keys(_).forEach(function(V){var q;V.length>1?q=new RegExp("\\b"+p(V)+"\\b","gi"):q=new RegExp(p(V),"gi"),v=v.replace(q,_[V])});for(R in _)W+=R}for(W+=x,W=p(W),v=v.replace(/(^\s+|\s+$)/g,""),F=!1,H=!1,$=0,z=v.length;$<z;$++)R=v[$],m(R,_)?F=!1:I[R]?(R=F&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],F=!1):R in n?($+1<z&&r.indexOf(v[$+1])>=0?(w+=R,R=""):H===!0?(R=o[w]+n[R],w=""):R=F&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],F=!1,H=!1):R in o?(w+=R,R="",$===z-1&&(R=o[w]),H=!0):D[R]&&!(E&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=F||y.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=v[$+1]!==void 0&&v[$+1].match(/[A-Za-z0-9]/)?x:"",F=!0):(H===!0?(R=o[w]+R,w="",H=!1):F&&(/[A-Za-z0-9]/.test(R)||y.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),F=!1),y+=R.replace(new RegExp("[^\\w\\s"+W+"_-]","g"),x);return k&&(y=y.replace(/(\w)(\S*)/g,function(V,q,oe){var N=q.toUpperCase()+(oe!==null?oe:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&y.length>j&&(O=y.charAt(j)===x,y=y.slice(0,j),O||(y=y.slice(0,y.lastIndexOf(x)))),!S&&!k&&(y=y.toLowerCase()),y},f=function(v){return function(x){return d(x,v)}},p=function(v){return v.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(g,v){for(var b in v)if(v[b]===g)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(As)})(HTe);var xBt=HTe.exports,wBt=xBt;const UTe=Ae(wBt);function CBt(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function zS(e,t,n){return j5e()?zS=Reflect.construct.bind():zS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&l0(u,s.prototype),u},zS.apply(null,arguments)}function n4(e){var t=typeof Map=="function"?new Map:void 0;return n4=function(r){if(r===null||!CBt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return zS(r,arguments,Ax(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l0(o,r)},n4(e)}var iv=function(e){Y_e(t,e);function t(n){var r;return r=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,ze(r)}return t}(n4(Error));function EO(e){return Math.round(e*255)}function _Bt(e,t,n){return EO(e)+","+EO(t)+","+EO(n)}function FJ(e,t,n,r){if(r===void 0&&(r=_Bt),t===0)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,s=i*(1-Math.abs(o%2-1)),a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);var d=n-i/2,f=a+d,p=c+d,m=u+d;return r(f,p,m)}var LJ={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function SBt(e){if(typeof e!="string")return e;var t=e.toLowerCase();return LJ[t]?"#"+LJ[t]:e}var kBt=/^#[a-fA-F0-9]{6}$/,EBt=/^#[a-fA-F0-9]{8}$/,jBt=/^#[a-fA-F0-9]{3}$/,TBt=/^#[a-fA-F0-9]{4}$/,jO=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,ABt=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,DBt=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,IBt=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Yx(e){if(typeof e!="string")throw new iv(3);var t=SBt(e);if(t.match(kBt))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(EBt)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(jBt))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(TBt)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=jO.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=ABt.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var s=DBt.exec(t);if(s){var a=parseInt(""+s[1],10),c=parseInt(""+s[2],10)/100,u=parseInt(""+s[3],10)/100,d="rgb("+FJ(a,c,u)+")",f=jO.exec(d);if(!f)throw new iv(4,t,d);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10)}}var p=IBt.exec(t.substring(0,50));if(p){var m=parseInt(""+p[1],10),g=parseInt(""+p[2],10)/100,v=parseInt(""+p[3],10)/100,b="rgb("+FJ(m,g,v)+")",x=jO.exec(b);if(!x)throw new iv(4,t,b);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+p[4])>1?parseFloat(""+p[4])/100:parseFloat(""+p[4])}}throw new iv(5)}var OBt=function(t){return t.length===7&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t},BJ=OBt;function cg(e){var t=e.toString(16);return t.length===1?"0"+t:t}function r4(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return BJ("#"+cg(e)+cg(t)+cg(n));if(typeof e=="object"&&t===void 0&&n===void 0)return BJ("#"+cg(e.red)+cg(e.green)+cg(e.blue));throw new iv(6)}function PBt(e,t,n,r){if(typeof e=="string"&&typeof t=="number"){var o=Yx(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}else{if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?r4(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?r4(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}throw new iv(7)}function WTe(e,t,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):WTe(e,t,o)}}function RBt(e){return WTe(e,e.length,[])}function NJ(e){if(e==="transparent")return 0;var t=Yx(e),n=Object.keys(t).map(function(s){var a=t[s]/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}),r=n[0],o=n[1],i=n[2];return parseFloat((.2126*r+.7152*o+.0722*i).toFixed(3))}function $Bt(e,t,n){if(t==="transparent")return n;if(n==="transparent")return t;if(e===0)return n;var r=Yx(t),o=Ml({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),i=Yx(n),s=Ml({},i,{alpha:typeof i.alpha=="number"?i.alpha:1}),a=o.alpha-s.alpha,c=parseFloat(e)*2-1,u=c*a===-1?c:c+a,d=1+c*a,f=(u/d+1)/2,p=1-f,m={red:Math.floor(o.red*f+s.red*p),green:Math.floor(o.green*f+s.green*p),blue:Math.floor(o.blue*f+s.blue*p),alpha:o.alpha*parseFloat(e)+s.alpha*(1-parseFloat(e))};return PBt(m)}var MBt=RBt($Bt),sc=MBt,FBt=X0,LBt=z8;function BBt(e){return FBt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&LBt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var NBt=BBt,zBt=J0,VBt=NBt,HBt=dh,UBt=VBt(function(e,t,n,r){zBt(t,HBt(t),e,r)}),WBt=UBt;const YBt=Ae(WBt);var qBt=Yc;function GBt(e,t){return qBt(t,function(n){return e[n]})}var KBt=GBt,ZBt=KBt,XBt=dh;function QBt(e){return e==null?[]:ZBt(e,XBt(e))}var YTe=QBt;const JBt=Ae(YTe);var cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.SKIP=GTe;var qTe=cm.reduce=KTe;cm.withCustomPathSegment=cm.SKIP_MARKER=void 0;function J7(e,t){return nNt(e)||tNt(e,t)||eNt()}function eNt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function tNt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function nNt(e){if(Array.isArray(e))return e}function VS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?VS=function(n){return typeof n}:VS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},VS(e)}function kA(e,t,n){return t}function rNt(e){return Array.isArray(e)?"array":e===null?"null":VS(e)}var eB={_:"SKIP_MARKER"};cm.SKIP_MARKER=eB;function GTe(e){return[eB,e]}function tB(e,t,n,r){var o=t(e,n,r);return o===GTe?[!0,e]:Array.isArray(o)&&o[0]===eB?[!0,o[1]]:[!1,o]}function oNt(e,t,n,r){var o=tB(e,t,n,r),i=J7(o,2),s=i[1];return s}function iNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:kA,i=tB(e,t,n,r),s=J7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return nB(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function sNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:kA,i=tB(e,t,n,r),s=J7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return nB(u,t,d,r.concat(o(d,f,n)),o)},c)}function nB(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:kA,i=rNt(n);return i==="object"?iNt(e,t,n,r,o):i==="array"?sNt(e,t,n,r,o):oNt(e,t,n,r)}function KTe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:kA;return nB(n,t,e,[],r)}var aNt=function(t){return function(n,r,o){return KTe(n,r,o,t)}};cm.withCustomPathSegment=aNt;function rB(e){return t=>po(()=>{const n=new _r;return t.pipe($2e(()=>n,{leading:!0,trailing:!0}),D2e((r,o)=>x2e(e(r,o),$l).pipe(I2e(()=>{n.next()}))))})}var lNt=Object.defineProperty,cNt=(e,t,n)=>t in e?lNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zJ=(e,t,n)=>(cNt(e,typeof t!="symbol"?t+"":t,n),n);function uNt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dNt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(uNt(n));return new RegExp("^".concat(t.join("."),"$"))}class ZTe{constructor(t){zJ(this,"pattern"),zJ(this,"patternRe"),this.pattern=t,this.patternRe=dNt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var fNt=Object.defineProperty,hNt=(e,t,n)=>t in e?fNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uy=(e,t,n)=>(hNt(e,typeof t!="symbol"?t+"":t,n),n);class df{constructor(t){uy(this,"type","stream"),uy(this,"generator"),uy(this,"ticker"),uy(this,"isDone"),uy(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const pNt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function mNt(e){return pNt.test(e)?new Date(e):null}function gNt(e){const t=Mh(e.getUTCFullYear(),4),n=Mh(e.getUTCMonth()+1,2),r=Mh(e.getUTCDate(),2),o=Mh(e.getUTCHours(),2),i=Mh(e.getUTCMinutes(),2),s=Mh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(Mh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Mh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var vNt=Object.defineProperty,yNt=(e,t,n)=>t in e?vNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o4=(e,t,n)=>(yNt(e,typeof t!="symbol"?t+"":t,n),n);class _d{constructor(t,n){o4(this,"data"),o4(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield ir(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const $e=new _d(null,"null"),Fo=new _d(!0,"boolean"),ao=new _d(!1,"boolean");class m0{constructor(t){o4(this,"date"),this.date=t}static parseToValue(t){const n=mNt(t);return n?new _d(new m0(n),"datetime"):$e}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new m0(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return gNt(this.date)}toJSON(){return this.toString()}}function Va(e){return Number.isFinite(e)?new _d(e,"number"):$e}function Ha(e){return new _d(e,"string")}function i4(e){return new _d(e,"datetime")}function bNt(e){return new _d(e,"path")}function xNt(e){return e&&typeof e.next=="function"}function ir(e){return xNt(e)?new df(async function*(){for await(const t of e)yield ir(t)}):e==null?$e:new _d(e,g0(e))}function g0(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof ZTe?"path":e instanceof m0?"datetime":typeof e}function TO(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const wNt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,CNt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,XTe=/(\b\.+|\.+\b)/g,_Nt=1024;function SNt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function QTe(e){return e.replace(XTe,"").match(wNt)||[]}function kNt(e){return JTe(e).map(n=>r=>r.some(o=>n.test(o)))}function JTe(e){return(e.replace(XTe,"").match(CNt)||[]).map(n=>new RegExp("^".concat(n.slice(0,_Nt).replace(/\*/g,".*"),"$"),"i"))}async function wE(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const VJ={datetime:1,number:2,string:3,boolean:4};function xp(e,t){const n=g0(e),r=g0(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function ENt(e,t){const n=g0(e),r=g0(t),o=VJ[n]||100,i=VJ[r]||100;if(o!==i)return o-i;let s=xp(e,t);return s===null&&(s=0),s}const jNt={"==":function(t,n){return TO(t,n)?Fo:ao},"!=":function(t,n){return TO(t,n)?ao:Fo},">":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=xp(t.data,n.data);return r===null?$e:r>0?Fo:ao},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=xp(t.data,n.data);return r===null?$e:r>=0?Fo:ao},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=xp(t.data,n.data);return r===null?$e:r<0?Fo:ao},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=xp(t.data,n.data);return r===null?$e:r<=0?Fo:ao},in:async function(t,n){if(n.type==="path")return t.type!=="string"?$e:n.data.matches(t.data)?Fo:ao;if(n.isArray()){for await(const r of n)if(TO(t,r))return Fo;return ao}return $e},match:async function(t,n){let r=[],o=[];return await wE(t,a=>{r=r.concat(QTe(a))}),await wE(n,a=>{o=o.concat(kNt(a))})&&SNt(r,o)?Fo:ao},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?i4(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Va(t.data+n.data):t.type==="string"&&n.type==="string"?Ha(t.data+n.data):t.type==="object"&&n.type==="object"?ir({...t.data,...n.data}):t.type==="array"&&n.type==="array"?ir(t.data.concat(n.data)):t.isArray()&&n.isArray()?new df(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):$e},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?i4(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Va(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Va(t.data-n.data):$e},"*":r_((e,t)=>e*t),"/":r_((e,t)=>e/t),"%":r_((e,t)=>e%t),"**":r_((e,t)=>Math.pow(e,t))};function r_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Va(r)}return $e}}var TNt=Object.defineProperty,ANt=(e,t,n)=>t in e?TNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ug=(e,t,n)=>(ANt(e,typeof t!="symbol"?t+"":t,n),n);class qx{constructor(t,n,r,o,i){ug(this,"params"),ug(this,"source"),ug(this,"value"),ug(this,"parent"),ug(this,"context"),ug(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new qx(this.params,this.source,t,this.context,this.parent):new qx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function oB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oB;const r=DNt[e.type];return r(e,t,n)}function HJ(e,t){return"then"in e?e.then(t):t(e)}const DNt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return ir(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||$e;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return $e;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=jNt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):$e},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=xp(await a.get(),await c.get());if(d===null)return $e;const f=xp(await a.get(),await u.get());return f===null?$e:s?d>=0&&f<=0?Fo:ao:d>=0&&f<0?Fo:ao},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new df(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):$e},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return $e;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?ir(i.data[o]):$e},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return $e;const s=await i.get(),a=o<0?o+s.length:o;return ir(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return $e;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),ir(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return $e;const i=o.data._ref;if(typeof i!="string")return $e;if(t.context.dereference)return ir(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return $e},Value(e){let{value:t}=e;return ir(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return ir(o)},Array(e,t,n){let{elements:r}=e;return new df(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Fo:i.type!=="boolean"||s.type!=="boolean"?$e:ao},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?ao:i.type!=="boolean"||s.type!=="boolean"?$e:Fo},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?$e:o.data?ao:Fo},Neg(e,t,n){let{base:r}=e;return HJ(n(r,t),o=>o.type!=="number"?$e:Va(-o.data))},Pos(e,t,n){let{base:r}=e;return HJ(n(r,t),o=>o.type!=="number"?$e:Va(o.data))},Asc(){return $e},Desc(){return $e},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:$e},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new df(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):$e},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new df(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):$e}};function eAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ir(t.root),r=ir(t.dataset),o={...t.params},i=new qx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?ir(t.after):null,before:t.before?ir(t.before):null,dereference:t.dereference},null);return oB(e,i)}function qy(e){switch(e.type){case"Group":return qy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return qy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return qy(e.left)&&qy(e.right);default:return!1}default:return!1}}const INt=new qx({},$e,$e,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function AO(e){return qy(e)?tAe(e):null}function tAe(e){const t=oB(e,INt,tAe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function ONt(e){if(e.type==="object")return rAe(e.data);if(e.isArray()){const t=await nAe(e);if(t.length>0)return t.join(`

`)}return null}async function nAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=rAe(n.data);r!==null&&t.push(r)}else n.isArray()&&await nAe(n,t);return t}function rAe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const UJ=1.2;async function Ag(e,t,n){if(e.type==="OpCall"&&e.op==="match")return PNt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await Ag(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await Ag(e.left,t,n),o=await Ag(e.right,t,n);return r+o}case"And":{const r=await Ag(e.left,t,n),o=await Ag(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function PNt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await wE(o,d=>{s=s.concat(QTe(d))}),!await wE(i,d=>{a=a.concat(JTe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(UJ+1)/(f+UJ)}return u}function s4(e,t){switch(g0(e)){case"array":for(const n of e)if(s4(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(s4(n,t))return!0;break}return!1}function RNt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Mn={};Mn.anywhere=async function(){throw new Error("not implemented")};Mn.anywhere.arity=1;Mn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return $e};Mn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return $e;let i=0;for await(const s of o)i++;return Va(i)};Mn.count.arity=1;Mn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?$e:m0.parseToValue(o.data)};Mn.dateTime.arity=1;Mn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?ao:Fo};Mn.defined.arity=1;Mn.identity=async function(t,n){return Ha(n.context.identity)};Mn.identity.arity=0;Mn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Va(RNt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Va(i)}return $e};Mn.length.arity=1;Mn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?$e:bNt(new ZTe(o.data))};Mn.path.arity=1;Mn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Ha("".concat(o.data));default:return $e}};Mn.string.arity=1;Mn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return ao;const i=await n.value.get();return s4(i,o)?Fo:ao};Mn.references.arity=e=>e>=1;Mn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return $e;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return $e;s=a.data}return s===0?i<0?Va(-Math.round(-i)):Va(Math.round(i)):Va(Number(i.toFixed(s)))};Mn.round.arity=e=>e>=1&&e<=2;Mn.now=async function(t,n){return Ha(n.context.timestamp.toISOString())};Mn.now.arity=0;Mn.boost=async function(){throw new Error("unexpected boost call")};Mn.boost.arity=2;const Gl={};Gl.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:Ha(r.data.toLowerCase())};Gl.lower.arity=1;Gl.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:Ha(r.data.toUpperCase())};Gl.upper.arity=1;Gl.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.length===0?ir([]):o.data.length===0?ir(Array.from(r.data)):ir(r.data.split(o.data))};Gl.split.arity=2;Mn.lower=Gl.lower;Mn.upper=Gl.upper;Gl.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.startsWith(o.data)?Fo:ao};Gl.startsWith.arity=2;const Nm={};Nm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;const o=await n(e[1],t);if(o.type!=="string")return $e;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return $e}s=!0}return ir(i)};Nm.join.arity=2;Nm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new df(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):$e};Nm.compact.arity=1;Nm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new df(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):$e};Nm.unique.arity=1;const iB={};iB.text=async function(e,t,n){const r=await n(e[0],t),o=await ONt(r);return o===null?$e:Ha(o)};iB.text.arity=1;const sB={};sB.projectId=async function(e,t){return t.context.sanity?Ha(t.context.sanity.projectId):$e};sB.dataset=async function(e,t){return t.context.sanity?Ha(t.context.sanity.dataset):$e};const gC={};gC.order=async function(t,n,r,o){if(await!0,!t.isArray())return $e;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const g=await o(i[m],f);p.push(await g.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=ENt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),ir(c.map(d=>d[0]))};gC.order.arity=e=>e>=1;gC.score=async function(t,n,r,o){if(!t.isArray())return $e;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await Ag(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),ir(s)};gC.score.arity=e=>e>=1;const gh={};gh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Ha("update"):r?Ha("create"):n?Ha("delete"):$e};gh.changedAny=()=>{throw new Error("not implemented")};gh.changedAny.arity=1;gh.changedAny.mode="delta";gh.changedOnly=()=>{throw new Error("not implemented")};gh.changedOnly.arity=1;gh.changedOnly.mode="delta";const vC={};vC.changedAny=()=>{throw new Error("not implemented")};vC.changedAny.arity=3;vC.changedOnly=()=>{throw new Error("not implemented")};vC.changedOnly.arity=3;const Sd={};Sd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data<o)&&(o=i.data)}return ir(o)};Sd.min.arity=1;Sd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data>o)&&(o=i.data)}return ir(o)};Sd.max.arity=1;Sd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;o+=i.data}return ir(o)};Sd.sum.arity=1;Sd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return $e;o+=s.data,i++}return i===0?$e:ir(o/i)};Sd.avg.arity=1;const aB={};aB.now=async function(t,n,r){return i4(new m0(n.context.timestamp))};aB.now.arity=0;const $Nt={global:Mn,string:Gl,array:Nm,pt:iB,delta:gh,diff:vC,sanity:sB,math:Sd,dateTime:aB};var MNt=Object.defineProperty,FNt=(e,t,n)=>t in e?MNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dy=(e,t,n)=>(FNt(e,typeof t!="symbol"?t+"":t,n),n);class LNt{constructor(t,n,r){dy(this,"string"),dy(this,"marks"),dy(this,"index"),dy(this,"parseOptions"),dy(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const BNt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,DO=/^\d+/,wp=/^[a-zA-Z_][a-zA-Z_0-9]*/,o_=1,i_=2,s_=3,to=4,dg=4,a_=6,l_=6,c_=7,u_=7,d_=7,f_=8,NNt=10,zNt=10,VNt=8;function HNt(e){let t=0;t=tt(e,t);let n=Tn(e,t,0);return n.type==="error"?n:(t=tt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function Tn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=Tn(e,tt(e,t+1),NNt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=Tn(e,tt(e,t+1),VNt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=Tn(e,tt(e,t+1),0);if(u.type==="error")return u;switch(t=tt(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=tt(e,t+1);;){if(u=Tn(e,t,0),u.type==="error")return u;if(t=tt(e,u.position),e[t]!==",")break;t=tt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=Tn(e,tt(e,t+1),zNt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=a4(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=tt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=tt(e,t+3));let u=Tn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=tt(e,t),e[t]!==","||(t=tt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=UNt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=yc(e,t+1,wp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=yc(e,t,DO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=yc(e,t+1,DO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=yc(e,t,DO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=yc(e,t,wp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=YJ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=tt(e,t);if(u===e.length){t=u;break}if(a=WJ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=WJ(e,tt(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>o_||s<=o_)break e;let p=Tn(e,tt(e,u+2),o_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=o_;break}case"=":{if(n>to||s<=to)break e;let p=Tn(e,tt(e,u+2),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=to;break}default:break e}break}case"+":{if(n>a_||s<a_)break e;let f=Tn(e,tt(e,u+1),a_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=a_;break}case"-":{if(n>l_||s<l_)break e;let f=Tn(e,tt(e,u+1),l_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=l_;break}case"*":{if(e[u+1]==="*"){if(n>f_||s<=f_)break e;let p=Tn(e,tt(e,u+2),f_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=f_;break}if(n>c_||s<c_)break e;let f=Tn(e,tt(e,u+1),c_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=c_;break}case"/":{if(n>u_||s<u_)break e;let f=Tn(e,tt(e,u+1),u_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=u_;break}case"%":{if(n>d_||s<d_)break e;let f=Tn(e,tt(e,u+1),d_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=d_;break}case"<":case">":{if(n>to||s<=to)break e;let f=u+1;e[f]==="="&&f++;let p=Tn(e,tt(e,f),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=to;break}case"|":{if(e[u+1]==="|"){if(n>i_||s<i_)break e;let f=Tn(e,tt(e,u+2),i_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=i_}else{if(n>11||s<11)break e;let f=tt(e,u+1),p=yc(e,f,wp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=YJ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>s_||s<s_)break e;let f=Tn(e,tt(e,u+2),s_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=s_;break}case"!":{if(e[u+1]!=="="||n>to||s<=to)break e;let f=Tn(e,tt(e,u+2),to+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=to;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>dg||s<dg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=dg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>dg||s<dg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=dg;break}default:switch(WNt(e,u,wp)){case"in":{if(n>to||s<=to)break e;t=tt(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=tt(e,t+1));let m=t,g=Tn(e,t,to+1);if(g.type==="error")return g;if(t=tt(e,g.position),e[t]==="."&&e[t+1]==="."){let v="inc_range";e[t+2]==="."?(v="exc_range",t=tt(e,t+3)):t=tt(e,t+2);let b=Tn(e,t,to+1);if(b.type==="error")return b;i.unshift({name:"in_range",position:r}),i=i.concat({name:v,position:m},g.marks,b.marks),t=b.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(g.marks);if(p){if(t=tt(e,t),e[t]!==")")return{type:"error",position:t};t++}s=to;break}case"match":{if(n>to||s<=to)break e;let p=Tn(e,tt(e,u+5),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function WJ(e,t){let n=t;switch(e[t]){case".":{t=tt(e,t+1);let s=t,a=yc(e,t,wp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=tt(e,t),i=yc(e,o,wp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=tt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=Tn(e,t,0);if(a.type==="error")return a;if(t=tt(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=tt(e,t);let u=Tn(e,t,0);return u.type==="error"?u:(t=tt(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=tt(e,t+1),e[t]==="{"){let s=a4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=a4(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function YJ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+2);let i=yc(e,n,wp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=tt(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=tt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=Tn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=tt(e,i.position),e[n]!==","||(n=tt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function a4(e,t){let n=[{name:"object",position:t}];for(t=tt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=tt(e,t+3),e[t]!=="}"&&e[t]!==","){let o=Tn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=Tn(e,t,0);if(o.type==="error")return o;let i=tt(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=Tn(e,tt(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=tt(e,t),e[t]!==",")break;t=tt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function UNt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function tt(e,t){return t+yc(e,t,BNt)}function yc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function WNt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function La(e,t){return n=>t(e(n))}function l4(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function YNt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function HS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:La(e,t.build)};case"a-b":return{type:"a-b",build:La(e,t.build)};case"b-b":return{type:"a-a",build:La(e,l4(t.build))};case"b-a":return{type:"a-a",build:La(e,YNt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function IO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:La(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:La(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function qNt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:La(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:La(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function GNt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:La(l4(e),t.build)};case"a-b":return{type:"a-b",build:La(l4(e),t.build)};case"b-a":return{type:"b-a",build:La(e,t.build)};case"b-b":return{type:"b-b",build:La(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var KNt=Object.defineProperty,ZNt=(e,t,n)=>t in e?KNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c4=(e,t,n)=>(ZNt(e,typeof t!="symbol"?t+"":t,n),n);const XNt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function QNt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Zi extends Error{constructor(){super(...arguments),c4(this,"name","GroqQueryError")}}const ct={group(e){return{type:"Group",base:e.process(ct)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(ct).n+1}},traverse(e){const t=e.process(ct),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(oAe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=HS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(ct)}},pos(e){return{type:"Pos",base:e.process(ct)}},add(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(ct),n=e.process(ct);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(ct),n=e.processString(),r=e.process(ct);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(ct),n=e.getMark().name==="inc_range";e.shift();const r=e.process(ct),o=e.process(ct);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=XNt[r];break}case"unicode_hex":e.shift(),t+=QNt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(JNt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(ct);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(ct));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Zi("unexpected argument to select()");e.shift();const a=e.process(ct),c=e.process(ct);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Zi("unexpected argument to select()");const a=e.process(ct);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)ezt(t,n,r.length)?(e.process(u4),r.push({type:"Selector"})):r.push(e.process(ct));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Zi("unexpected boost");const o=$Nt[t];if(!o)throw new Zi("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Zi("Undefined function: ".concat(n));if(i.arity!==void 0&&qJ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Zi("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(ct);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Zi("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(ct)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(ct)});continue}}o.push(e.process(ct))}e.shift(),e.allowBoost=i;const s=gC[r];if(!s)throw new Zi("Undefined pipe function: ".concat(r));return s.arity&&qJ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Zi("unexpected =>")},and(e){const t=e.process(ct),n=e.process(ct);return{type:"And",left:t,right:n}},or(e){const t=e.process(ct),n=e.process(ct);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(ct)}},asc(e){throw new Zi("unexpected asc")},desc(e){throw new Zi("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},JNt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(ct),r=e.process(ct);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(ct);return{type:"ObjectAttributeValue",name:iAe(t),value:t}},object_pair(e){const t=e.process(ct);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(ct);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(ct)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},oAe={square_bracket(e){const t=e.process(ct),n=AO(t);return n&&n.type==="number"?r=>qNt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>IO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>HS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(ct),r=e.process(ct),o=AO(n),i=AO(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Zi("slicing must use constant numbers");return s=>HS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(ct);return n=>GNt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>IO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>IO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>HS(n=>({type:"ArrayCoerce",base:n}),t)}},u4={group(e){return e.process(u4),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(u4);e.getMark().name!=="traversal_end";)e.process(oAe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=ct.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function iAe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return iAe(e.base);throw new Zi("Cannot determine property key for type: ".concat(e.type))}function qJ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Zi("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Zi("Incorrect number of arguments to function ".concat(e,"()."))}function ezt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class tzt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),c4(this,"position"),c4(this,"name","GroqSyntaxError"),this.position=t}}function sAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=HNt(e);if(n.type==="error")throw new tzt(n.position);return new LNt(e,n.marks,t).process(ct)}function nzt(e,t=hnt){return n=>{const r=n;let o=null,i=null;const s=new _r,a=s.pipe(da((c,u)=>c+u,0),it(c=>c===0?Yo(e,t).pipe(wn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Yo(0,t).pipe(wn(()=>{o||(o=r.connect())})):_8));return trt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var rzt=Object.defineProperty,ozt=(e,t,n)=>t in e?rzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fg=(e,t,n)=>(ozt(e,typeof t!="symbol"?t+"":t,n),n);const izt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class aAe{constructor(t,n,r){fg(this,"model"),fg(this,"root"),fg(this,"patch"),fg(this,"i"),fg(this,"inputStack"),fg(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=izt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function yC(e){return e>>16?4:e>>11?3:e>>7?2:1}function d4(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=yC(r);o==4&&n++,t+=o}return t}function GJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=yC(i);s===4&&o++,r+=s}return o}function szt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=yC(i);r+=a,o+=a===4?2:1}return r}function azt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=yC(s);o+=c,i+=c===4?2:1}return o}var lzt=Object.defineProperty,czt=(e,t,n)=>t in e?lzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uzt=(e,t,n)=>(czt(e,typeof t!="symbol"?t+"":t,n),n);class f4{constructor(t){uzt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:d4(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(Cu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=yC(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function dzt(e,t){return{data:e,startMeta:t,endMeta:t}}function Cu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>Cu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=Cu(o)}}return e.data=t,t}function h4(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function p4(e,t){let n=h4(e),r=h4(t);if(n!==r)return t;let o=new f4(e.endMeta),i=new f4(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let g=s.fields[p];g&&(a.fields[p]=p4(g,m),a.fields[p]===g&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=p4(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(Cu(e)===Cu(t))return e;break}case"string":{let s=Cu(e),a=Cu(t);if(s===a)return e;let c=i.copyString(null),u=szt(s,a),d=azt(s,a,u),f=d4(a),p=d4(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(Cu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function fzt(e,t,n){let r=new f4(n);return new aAe(r,e,t).process()}var fl=Object.freeze({__proto__:null,applyPatch:fzt,getType:h4,rebaseValue:p4,unwrap:Cu,wrap:dzt});class hzt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=GJ(i,r),a=GJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function m4(e,t){let n=e;return new aAe(new hzt,n,t).process()}function vh(e,t,n){return delete e[t],e[t]=n,n}function pzt(e,t){const n=mzt(e,t);return gzt(n,e,t)}function mzt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function gzt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function vzt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=KJ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return vh(this,"items",c)}}}const r=XJ(e),o=XJ(t);if(r&&o)return bzt(e,r,t,o);const i=KJ(e,t);return i?lB(e,t,i,!1):yzt(e,t)}function lB(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function KJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=EA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function yzt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Vm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:zm(i,void 0),annotation:i.annotation})}return lB(e,t,r,!0)}function bzt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){ZJ(t.index,u,d),ZJ(r.index,u,f);const m=e.at(d),g=n.at(f),v=EA(m,g);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:v,annotation:n.annotationAt(f)}),(v.isChanged||d!==f)&&(s=!0)}const c=pzt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(v=>!c.nextIndices.includes(v));if(m!==void 0){a(d,u,m,!0);continue}const g=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:zm(g,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Vm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(xzt),lB(e,n,i,s)}function xzt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function ZJ(e,t,n){const r=e.get(t);wzt(r,n),r.length===0&&e.delete(t)}function wzt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function XJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function Czt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:zm(i,void 0),annotation:e.annotationAt(o)})}return vh(this,"items",r)}}}function _zt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Vm(i,void 0),annotation:e.annotationAt(o)})}return vh(this,"items",r)}}}function Szt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=kzt(e,t);return vh(this,"segments",i)}}}function kzt(e,t){const n=[],r=V9(sC(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case An:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Gn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function Ezt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return vh(this,"segments",r)}}}function jzt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return vh(this,"segments",r)}}}function Tzt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:zm(e,void 0),toType:t.type,toValue:t.value,toDiff:Vm(t,void 0),annotation:t.annotation}}const QJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function Azt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(QJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=EA(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=zm(c,void 0),o=!0}for(const a of t.keys){if(QJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Vm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function Dzt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=zm(i,void 0)}return vh(this,"fields",r)}}}function Izt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Vm(i,void 0)}return vh(this,"fields",r)}}}function Ozt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function Pzt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function EA(e,t){return e.type!==t.type?e.type==="null"?Vm(t,null):t.type==="null"?zm(e,null):Tzt(e,t):Rzt(e.type,e,t)}function Rzt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return Pzt(t,n);case"number":return Ozt(t,n);case"string":return Szt(t,n);case"array":return vzt(t,n);case"object":return Azt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function zm(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return Ezt(e,t);case"array":return Czt(e,t);case"object":return Dzt(e,t);default:throw new Error("Unhandled diff type")}}function Vm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return jzt(e,t);case"array":return _zt(e,t);case"object":return Izt(e,t);default:throw new Error("Unhandled diff type")}}class $zt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=cB(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class Mzt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=cB(r,this.annotation)}}let Fzt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class OO{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function cB(e,t){if(Array.isArray(e))return new $zt(e,t);if(e===null)return new OO("null",e,t);const n=typeof e;switch(n){case"number":return new OO(n,e,t);case"boolean":return new OO(n,e,t);case"object":return new Mzt(e,t);case"string":return new Fzt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var lAe={exports:{}},cAe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC=h;function Lzt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bzt=typeof Object.is=="function"?Object.is:Lzt,Nzt=bC.useSyncExternalStore,zzt=bC.useRef,Vzt=bC.useEffect,Hzt=bC.useMemo,Uzt=bC.useDebugValue;cAe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=zzt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Hzt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var g=s.value;if(o(g,m))return f=g}return f=m}if(g=f,Bzt(d,m))return g;var v=r(m);return o!==void 0&&o(g,v)?g:(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=Nzt(e,i[0],i[1]);return Vzt(function(){s.hasValue=!0,s.value=a},[a]),Uzt(a),a};lAe.exports=cAe;var uB=lAe.exports,Wzt=Math.floor,Yzt=Math.random;function qzt(e,t){return e+Wzt(Yzt()*(t-e+1))}var Gzt=qzt,Kzt=Gzt;function Zzt(e){var t=e.length;return t?e[Kzt(0,t-1)]:void 0}var uAe=Zzt,Xzt=uAe,Qzt=YTe;function Jzt(e){return Xzt(Qzt(e))}var eVt=Jzt,tVt=uAe,nVt=eVt,rVt=Jr;function oVt(e){var t=rVt(e)?tVt:nVt;return t(e)}var iVt=oVt;const sVt=Ae(iVt);var aVt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=dVt(r),this._batchScheduleFn=fVt(r),this._cacheKeyFn=hVt(r),this._cacheMap=pVt(r),this._batch=null,this.name=mVt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=cVt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!dAe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),lVt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){PO||(PO=Promise.resolve()),PO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},PO;function cVt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){uVt(e,n)}),n}function uVt(e,t){if(t.hasDispatched=!0,t.keys.length===0){g4(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return RO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return RO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!dAe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));g4(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){RO(e,t,r)})}function RO(e,t,n){g4(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function g4(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function dVt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function fVt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return lVt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function hVt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function pVt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function mVt(e){return e&&e.name?e.name:null}function dAe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var gVt=aVt;const vVt=Ae(gVt);var jA={exports:{}},Gy={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Gy.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Gy.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Gy.exports=function(){return Date.now()-n},n=Date.now()):(Gy.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(As);var yVt=Gy.exports,bVt=yVt,Mu=typeof window>"u"?As:window,h_=["moz","webkit"],Ov="AnimationFrame",v0=Mu["request"+Ov],Gx=Mu["cancel"+Ov]||Mu["cancelRequest"+Ov];for(var fy=0;!v0&&fy<h_.length;fy++)v0=Mu[h_[fy]+"Request"+Ov],Gx=Mu[h_[fy]+"Cancel"+Ov]||Mu[h_[fy]+"CancelRequest"+Ov];if(!v0||!Gx){var $O=0,JJ=0,Fh=[],xVt=1e3/60;v0=function(e){if(Fh.length===0){var t=bVt(),n=Math.max(0,xVt-(t-$O));$O=n+t,setTimeout(function(){var r=Fh.slice(0);Fh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback($O)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Fh.push({handle:++JJ,callback:e,cancelled:!1}),JJ},Gx=function(e){for(var t=0;t<Fh.length;t++)Fh[t].handle===e&&(Fh[t].cancelled=!0)}}jA.exports=function(e){return v0.call(Mu,e)};jA.exports.cancel=function(){Gx.apply(Mu,arguments)};jA.exports.polyfill=function(e){e||(e=Mu),e.requestAnimationFrame=v0,e.cancelAnimationFrame=Gx};var wVt=jA.exports;const CVt=Ae(wVt);function Bb(e,t,n){return Math.min(Math.max(e,n),t)}class _Vt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ky=_Vt;function fAe(e){if(typeof e!="string")throw new Ky(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=IVt.test(e)?EVt(e):e;const n=jVt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Kx(a,2),16)),parseInt(Kx(s[3]||"f",2),16)/255]}const r=TVt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=AVt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=DVt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(Bb(0,100,a)!==a)throw new Ky(e);if(Bb(0,100,c)!==c)throw new Ky(e);return[...OVt(s,a,c),Number.isNaN(u)?1:u]}throw new Ky(e)}function SVt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const eee=e=>parseInt(e.replace(/_/g,""),36),kVt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=eee(t.substring(0,3)),r=eee(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function EVt(e){const t=e.toLowerCase().trim(),n=kVt[SVt(t)];if(!n)throw new Ky(e);return`#${n}`}const Kx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),jVt=new RegExp(`^#${Kx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),TVt=new RegExp(`^#${Kx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),AVt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Kx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),DVt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,IVt=/^[a-z]+$/i,tee=e=>Math.round(e*255),OVt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(tee);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(tee)};function PVt(e){const[t,n,r,o]=fAe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function RVt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${Bb(0,100,t*100).toFixed()}%, ${Bb(0,100,n*100).toFixed()}%, ${parseFloat(Bb(0,1,r).toFixed(3))})`}function hAe(e,t){const[n,r,o,i]=PVt(e);return RVt(n,r,o-t,i)}function v4(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=fAe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function $Vt(e,t){const n=v4(e),r=v4(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const MVt={decorative:1.5,readable:3,aa:4.5,aaa:7};function nee(e,t="aa",n="#fff"){return $Vt(e,n)<MVt[t]}function FVt(e,t){return hAe(e,-t)}function LVt(e){return v4(e)>.179}function BVt(e){return LVt(e)?"#000":"#fff"}var NVt=K2e,zVt=qw,VVt=jT,HVt=Jr,UVt=uh,WVt=TT,YVt=DT,qVt=M8,GVt="[object Map]",KVt="[object Set]",ZVt=Object.prototype,XVt=ZVt.hasOwnProperty;function QVt(e){if(e==null)return!0;if(UVt(e)&&(HVt(e)||typeof e=="string"||typeof e.splice=="function"||WVt(e)||qVt(e)||VVt(e)))return!e.length;var t=zVt(e);if(t==GVt||t==KVt)return!e.size;if(YVt(e))return!NVt(e).length;for(var n in e)if(XVt.call(e,n))return!1;return!0}var JVt=QVt;const eHt=Ae(JVt);var tHt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),nHt=()=>{try{return!!(tHt&&import.meta.webpackHot)}catch{return!1}};function rHt(e){if(nHt)return typeof import.meta.webpackHot>"u"?iHt(e):oHt(e)}function oHt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function iHt(e){h.useEffect(()=>{},[e])}var sHt=dB;dB.displayName="bash";dB.aliases=["shell"];function dB(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const aHt=Ae(sHt);var lHt=fB;fB.displayName="json";fB.aliases=["webmanifest"];function fB(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const cHt=Ae(lHt);var uHt=hB;hB.displayName="jsx";hB.aliases=[];function hB(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var g=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(g+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(g=a(u[f-1])+g,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",g,null,g)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const dHt=Ae(uHt);var fHt=pB;pB.displayName="typescript";pB.aliases=["ts"];function pB(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const hHt=Ae(fHt);var Ec;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ec||(Ec={}));var CE=function(e){return e},ree="beforeunload",pHt="popstate";function mHt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var k=r.location,j=k.pathname,E=k.search,T=k.hash,A=o.state||{};return[A.idx,CE({pathname:j,search:E,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var k=Ec.Pop,j=i(),E=j[0],T=j[1];if(m.length){if(E!=null){var A=d-E;A&&(s={action:k,location:T,retry:function(){_(A*-1)}},_(A))}}else y(k)}}r.addEventListener(pHt,a);var c=Ec.Pop,u=i(),d=u[0],f=u[1],p=_E(),m=_E();d==null&&(d=0,o.replaceState(Ml({},o.state,{idx:d}),""));function g(k){return typeof k=="string"?k:pAe(k)}function v(k,j){return j===void 0&&(j=null),CE(Ml({pathname:f.pathname,hash:"",search:""},typeof k=="string"?b4(k):k,{state:j,key:y4()}))}function b(k,j){return[{usr:k.state,key:k.key,idx:j},g(k)]}function x(k,j,E){return!m.length||(m.call({action:k,location:j,retry:E}),!1)}function y(k){c=k;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(k,j){var E=Ec.Push,T=v(k,j);function A(){w(k,j)}if(x(E,T,A)){var D=b(T,d+1),I=D[0],O=D[1];try{o.pushState(I,"",O)}catch{r.location.assign(O)}y(E)}}function C(k,j){var E=Ec.Replace,T=v(k,j);function A(){C(k,j)}if(x(E,T,A)){var D=b(T,d),I=D[0],O=D[1];o.replaceState(I,"",O),y(E)}}function _(k){o.go(k)}var S={get action(){return c},get location(){return f},createHref:g,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var E=m.push(j);return m.length===1&&r.addEventListener(ree,iee),function(){E(),m.length||r.removeEventListener(ree,iee)}}};return S}function gHt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=CE(Ml({pathname:"/",search:"",hash:"",state:null,key:y4()},typeof w=="string"?b4(w):w));return C}),s=oee(o??i.length-1,0,i.length-1),a=Ec.Pop,c=i[s],u=_E(),d=_E();function f(w){return typeof w=="string"?w:pAe(w)}function p(w,C){return C===void 0&&(C=null),CE(Ml({pathname:c.pathname,search:"",hash:""},typeof w=="string"?b4(w):w,{state:C,key:y4()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function g(w,C){a=w,c=C,u.call({action:a,location:c})}function v(w,C){var _=Ec.Push,S=p(w,C);function k(){v(w,C)}m(_,S,k)&&(s+=1,i.splice(s,i.length,S),g(_,S))}function b(w,C){var _=Ec.Replace,S=p(w,C);function k(){b(w,C)}m(_,S,k)&&(i[s]=S,g(_,S))}function x(w){var C=oee(s+w,0,i.length-1),_=Ec.Pop,S=i[C];function k(){x(w)}m(_,S,k)&&(s=C,g(_,S))}var y={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:v,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return y}function oee(e,t,n){return Math.min(Math.max(e,t),n)}function iee(e){e.preventDefault(),e.returnValue=""}function _E(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function y4(){return Math.random().toString(36).substr(2,8)}function pAe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function b4(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var vHt=qc,mAe=/[\\^$.*+?()[\]{}|]/g,yHt=RegExp(mAe.source);function bHt(e){return e=vHt(e),e&&yHt.test(e)?e.replace(mAe,"\\$&"):e}var xHt=bHt;const mB=Ae(xHt);var gAe,see=wc;gAe=see.createRoot,see.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:le.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:le.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:le.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:le.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:le.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:le.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:le.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:le.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:le.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:le.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:le.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:le.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:le.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:le.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:le.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:le.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:le.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:le.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:le.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:le.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:le.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:le.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:le.purple[300].hex})]})});const wHt={light:[le.red[200].hex,le.red[300].hex,le.red[500].hex],dark:[le.gray[500].hex,le.gray[300].hex,Ta.hex]},CHt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=wHt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),_Ht={bg1:le.red[500].hex,bg2:le.red[200].hex,fg:Ta.hex},SHt=h.forwardRef(function(t,n){const{color:r=_Ht,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var u1={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vAe=h;function kt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ws=Object.prototype.hasOwnProperty,kHt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aee={},lee={};function yAe(e){return ws.call(lee,e)?!0:ws.call(aee,e)?!1:kHt.test(e)?lee[e]=!0:(aee[e]=!0,!1)}function hs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ui[e]=new hs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ui[t]=new hs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ui[e]=new hs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ui[e]=new hs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ui[e]=new hs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ui[e]=new hs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ui[e]=new hs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ui[e]=new hs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ui[e]=new hs(e,5,!1,e.toLowerCase(),null,!1,!1)});var gB=/[\-:]([a-z])/g;function vB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gB,vB);ui[t]=new hs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gB,vB);ui[t]=new hs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gB,vB);ui[t]=new hs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ui[e]=new hs(e,1,!1,e.toLowerCase(),null,!1,!1)});ui.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ui[e]=new hs(e,1,!1,e.toLowerCase(),null,!0,!0)});var US={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EHt=["Webkit","ms","Moz","O"];Object.keys(US).forEach(function(e){EHt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),US[t]=US[e]})});var jHt=/["'&<>]/;function es(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=jHt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var THt=/([A-Z])/g,AHt=/^ms-/,x4=Array.isArray;function lu(e,t){return{insertionMode:e,selectedValue:t}}function DHt(e,t,n){switch(t){case"select":return lu(1,n.value!=null?n.value:n.defaultValue);case"svg":return lu(2,null);case"math":return lu(3,null);case"foreignObject":return lu(1,null);case"table":return lu(4,null);case"thead":case"tbody":case"tfoot":return lu(5,null);case"colgroup":return lu(7,null);case"tr":return lu(6,null)}return 4<=e.insertionMode||e.insertionMode===0?lu(1,null):e}var cee=new Map;function bAe(e,t,n){if(typeof n!="object")throw Error(kt(62));t=!0;for(var r in n)if(ws.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=es(r);o=es((""+o).trim())}else{i=r;var s=cee.get(i);s!==void 0||(s=es(i.replace(THt,"-$1").toLowerCase().replace(AHt,"-ms-")),cee.set(i,s)),i=s,o=typeof o=="number"?o===0||ws.call(US,r)?""+o:o+"px":es((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Us(e,t,n,r){switch(n){case"style":bAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ui.hasOwnProperty(n)?ui[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',es(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',es(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',es(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',es(r),'"')}}else if(yAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',es(r),'"')}}}function WS(e,t,n){if(t!=null){if(n!=null)throw Error(kt(60));if(typeof t!="object"||!("__html"in t))throw Error(kt(61));t=t.__html,t!=null&&e.push(""+t)}}function IHt(e){var t="";return vAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function MO(e,t,n,r){e.push(lc(n));var o=n=null,i;for(i in t)if(ws.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Us(e,r,i,s)}}return e.push(">"),WS(e,o,n),typeof n=="string"?(e.push(es(n)),null):n}var OHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,uee=new Map;function lc(e){var t=uee.get(e);if(t===void 0){if(!OHt.test(e))throw Error(kt(65,e));t="<"+e,uee.set(e,t)}return t}function PHt(e,t,n,r,o){switch(t){case"select":e.push(lc("select"));var i=null,s=null;for(d in n)if(ws.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Us(e,r,d,a)}}return e.push(">"),WS(e,s,i),i;case"option":s=o.selectedValue,e.push(lc("option"));var c=a=null,u=null,d=null;for(i in n)if(ws.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Us(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:IHt(a),x4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),WS(e,d,a),a;case"textarea":e.push(lc("textarea")),d=s=i=null;for(a in n)if(ws.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(kt(91));default:Us(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(kt(92));if(x4(d)&&1<d.length)throw Error(kt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(es(""+i)),null;case"input":e.push(lc("input")),c=d=a=i=null;for(s in n)if(ws.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Us(e,r,s,u)}return d!==null?Us(e,r,"checked",d):c!==null&&Us(e,r,"checked",c),i!==null?Us(e,r,"value",i):a!==null&&Us(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(lc("menuitem"));for(var p in n)if(ws.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(kt(400));default:Us(e,r,p,i)}return e.push(">"),null;case"title":e.push(lc("title")),i=null;for(f in n)if(ws.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(kt(434));default:Us(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(lc(t)),s=i=null;for(c in n)if(ws.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Us(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(kt(60));if(typeof s!="object"||!("__html"in s))throw Error(kt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(lc(t));for(var m in n)if(ws.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,t));default:Us(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return MO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),MO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return MO(e,n,t,r);e.push(lc(t)),s=i=null;for(u in n)if(ws.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":bAe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:yAe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',es(a),'"')}return e.push(">"),WS(e,s,i),i}}function dee(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(kt(395));return e.push(n),e.push('"></template>')}function RHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(kt(397))}}function $Ht(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(kt(397))}}var MHt=/[<\u2028\u2029]/g;function FO(e){return JSON.stringify(e).replace(MHt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function FHt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function fee(e,t,n,r){return n.generateStaticMarkup?(e.push(es(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(es(t)),e=!0),e)}var Nb=Object.assign,LHt=Symbol.for("react.element"),xAe=Symbol.for("react.portal"),wAe=Symbol.for("react.fragment"),CAe=Symbol.for("react.strict_mode"),_Ae=Symbol.for("react.profiler"),SAe=Symbol.for("react.provider"),kAe=Symbol.for("react.context"),EAe=Symbol.for("react.forward_ref"),jAe=Symbol.for("react.suspense"),TAe=Symbol.for("react.suspense_list"),AAe=Symbol.for("react.memo"),yB=Symbol.for("react.lazy"),BHt=Symbol.for("react.scope"),NHt=Symbol.for("react.debug_trace_mode"),zHt=Symbol.for("react.legacy_hidden"),VHt=Symbol.for("react.default_value"),hee=Symbol.iterator;function w4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wAe:return"Fragment";case xAe:return"Portal";case _Ae:return"Profiler";case CAe:return"StrictMode";case jAe:return"Suspense";case TAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kAe:return(e.displayName||"Context")+".Consumer";case SAe:return(e._context.displayName||"Context")+".Provider";case EAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AAe:return t=e.displayName||null,t!==null?t:w4(e.type)||"Memo";case yB:t=e._payload,e=e._init;try{return w4(e(t))}catch{}}return null}var DAe={};function pee(e,t){if(e=e.contextTypes,!e)return DAe;var n={},r;for(r in e)n[r]=t[r];return n}var Cp=null;function TA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(kt(401))}else{if(n===null)throw Error(kt(401));TA(e,n)}t.context._currentValue2=t.value}}function IAe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&IAe(e)}function OAe(e){var t=e.parent;t!==null&&OAe(t),e.context._currentValue2=e.value}function PAe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(kt(402));e.depth===t.depth?TA(e,t):PAe(e,t)}function RAe(e,t){var n=t.parent;if(n===null)throw Error(kt(402));e.depth===n.depth?TA(e,n):RAe(e,n),t.context._currentValue2=t.value}function SE(e){var t=Cp;t!==e&&(t===null?OAe(e):e===null?IAe(t):t.depth===e.depth?TA(t,e):t.depth>e.depth?PAe(t,e):RAe(t,e),Cp=e)}var mee={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function gee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=mee,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Nb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&mee.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Nb({},i,a)):Nb(i,a))}e.state=i}else i.queue=null}var HHt={id:1,overflow:""};function C4(e,t,n){var r=e.id;e=e.overflow;var o=32-YS(r)-1;r&=~(1<<o),n+=1;var i=32-YS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-YS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var YS=Math.clz32?Math.clz32:YHt,UHt=Math.log,WHt=Math.LN2;function YHt(e){return e>>>=0,e===0?32:31-(UHt(e)/WHt|0)|0}function qHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GHt=typeof Object.is=="function"?Object.is:qHt,nd=null,bB=null,qS=null,zn=null,Zy=!1,kE=!1,Zx=0,ff=null,AA=0;function ip(){if(nd===null)throw Error(kt(321));return nd}function vee(){if(0<AA)throw Error(kt(312));return{memoizedState:null,queue:null,next:null}}function xB(){return zn===null?qS===null?(Zy=!1,qS=zn=vee()):(Zy=!0,zn=qS):zn.next===null?(Zy=!1,zn=zn.next=vee()):(Zy=!0,zn=zn.next),zn}function wB(){bB=nd=null,kE=!1,qS=null,AA=0,zn=ff=null}function $Ae(e,t){return typeof t=="function"?t(e):t}function yee(e,t,n){if(nd=ip(),zn=xB(),Zy){var r=zn.queue;if(t=r.dispatch,ff!==null&&(n=ff.get(r),n!==void 0)){ff.delete(r),r=zn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return zn.memoizedState=r,[r,t]}return[zn.memoizedState,t]}return e=e===$Ae?typeof t=="function"?t():t:n!==void 0?n(t):t,zn.memoizedState=e,e=zn.queue={last:null,dispatch:null},e=e.dispatch=KHt.bind(null,nd,e),[zn.memoizedState,e]}function bee(e,t){if(nd=ip(),zn=xB(),t=t===void 0?null:t,zn!==null){var n=zn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!GHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),zn.memoizedState=[e,t],e}function KHt(e,t,n){if(25<=AA)throw Error(kt(301));if(e===nd)if(kE=!0,e={action:n,next:null},ff===null&&(ff=new Map),n=ff.get(t),n===void 0)ff.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function ZHt(){throw Error(kt(394))}function p_(){}var xee={readContext:function(e){return e._currentValue2},useContext:function(e){return ip(),e._currentValue2},useMemo:bee,useReducer:yee,useRef:function(e){nd=ip(),zn=xB();var t=zn.memoizedState;return t===null?(e={current:e},zn.memoizedState=e):t},useState:function(e){return yee($Ae,e)},useInsertionEffect:p_,useLayoutEffect:function(){},useCallback:function(e,t){return bee(function(){return e},t)},useImperativeHandle:p_,useEffect:p_,useDebugValue:p_,useDeferredValue:function(e){return ip(),e},useTransition:function(){return ip(),[!1,ZHt]},useId:function(){var e=bB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-YS(e)-1)).toString(32)+t;var n=GS;if(n===null)throw Error(kt(404));return t=Zx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ip(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(kt(407));return n()}},GS=null,LO=vAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function XHt(e){return console.error(e),null}function Xy(){}function QHt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?XHt:o,onAllReady:i===void 0?Xy:i,onShellReady:s===void 0?Xy:s,onShellError:a===void 0?Xy:a,onFatalError:c===void 0?Xy:c},n=EE(t,0,null,n,!1,!1),n.parentFlushed=!0,e=CB(t,e,null,n,d,DAe,null,HHt),u.push(e),t}function CB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&LAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function EE(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Xx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function jE(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function wee(e,t,n,r,o){for(nd={},bB=t,Zx=0,e=n(r,o);kE;)kE=!1,Zx=0,AA+=1,zn=null,e=n(r,o);return wB(),e}function Cee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(kt(108,w4(r)||"Unknown",a));r=Nb({},s,n)}t.legacyContext=r,Ks(e,t,o),t.legacyContext=s}else Ks(e,t,o)}function _ee(e,t){if(e&&e.defaultProps){t=Nb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=pee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),gee(i,n,r,o),Cee(e,t,i,n)}else{i=pee(n,t.legacyContext),o=wee(e,t,n,r,i);var s=Zx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)gee(o,n,r,i),Cee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=C4(r,1,0);try{Ks(e,t,o)}finally{t.treeContext=r}}else Ks(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=PHt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=DHt(s,n,r),S4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case zHt:case NHt:case CAe:case _Ae:case wAe:Ks(e,t,r.children);return;case TAe:Ks(e,t,r.children);return;case BHt:throw Error(kt(343));case jAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=EE(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=EE(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(S4(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,TE(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Xx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=CB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EAe:if(r=wee(e,t,n.render,r,o),Zx!==0){n=t.treeContext,t.treeContext=C4(n,1,0);try{Ks(e,t,r)}finally{t.treeContext=n}}else Ks(e,t,r);return;case AAe:n=n.type,r=_ee(n,r),_4(e,t,n,r,o);return;case SAe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=Cp,Cp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ks(e,t,o),e=Cp,e===null)throw Error(kt(403));r=e.parentValue,e.context._currentValue2=r===VHt?e.context._defaultValue:r,e=Cp=e.parent,t.context=e;return;case kAe:r=r.children,r=r(n._currentValue2),Ks(e,t,r);return;case yB:o=n._init,n=o(n._payload),r=_ee(n,r),_4(e,t,n,r,void 0);return}throw Error(kt(130,n==null?n:typeof n,""))}}function Ks(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case LHt:_4(e,t,n.type,n.props,n.ref);return;case xAe:throw Error(kt(257));case yB:var r=n._init;n=r(n._payload),Ks(e,t,n);return}if(x4(n)){See(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=hee&&n[hee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);See(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(kt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=fee(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=fee(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function See(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=C4(i,r,o);try{S4(e,t,n[o])}finally{t.treeContext=i}}}function S4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ks(e,t,n)}catch(c){if(wB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=EE(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=CB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,SE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,SE(i),c}}function JHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,FAe(this,t,e)}function MAe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(kt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return MAe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function TE(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&TE(e,n)}else e.completedSegments.push(t)}function FAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(kt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Xy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&TE(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(JHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(TE(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function LAe(e){if(e.status!==2){var t=Cp,n=LO.current;LO.current=xee;var r=GS;GS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){SE(s.context);try{Ks(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,FAe(a,s.blockedBoundary,c)}catch(g){if(wB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=s.ping;g.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=g,p=Xx(a,f);if(d===null?jE(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&_B(e,e.destination)}catch(g){Xx(e,g),jE(e,g)}finally{GS=r,LO.current=n,n===xee&&SE(t)}}}function m_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=DA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(kt(390))}}function DA(e,t,n){var r=n.boundary;if(r===null)return m_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=es(r),t.push(r),t.push('"')),t.push("></template>")),m_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,dee(t,e.responseState,r),m_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),dee(t,e.responseState,r.id),m_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(kt(391));return DA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function kee(e,t,n){return RHt(t,e.responseState,n.formatContext,n.id),DA(e,t,n),$Ht(t,n.formatContext)}function Eee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)BAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(kt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function BAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(kt(392));return kee(e,t,r)}return kee(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function _B(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){DA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(kt(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=FO(u||"");r.push(p)}if(d||f){r.push(",");var m=FO(d||"");r.push(m)}if(f){r.push(",");var g=FO(f);r.push(g)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var v=e.completedBoundaries;for(i=0;i<v.length;i++)if(!Eee(e,t,v[i])){e.destination=null,i++,v.splice(0,i);return}v.splice(0,i);var b=e.partialBoundaries;for(i=0;i<b.length;i++){var x=b[i];e:{o=e,s=t;var y=x.completedSegments;for(a=0;a<y.length;a++)if(!BAe(o,s,x,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){e.destination=null,i++,b.splice(0,i);return}}b.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!Eee(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function eUt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return MAe(r,e,t)}),n.clear(),e.destination!==null&&_B(e,e.destination)}catch(r){Xx(e,r),jE(e,r)}}function tUt(){}function NAe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=QHt(e,FHt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,tUt,void 0,function(){c=!0},void 0,void 0),LAe(e),eUt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{_B(e,a)}catch(u){Xx(e,u),jE(e,u)}}if(o)throw i;if(!c)throw Error(kt(426));return s}u1.renderToNodeStream=function(){throw Error(kt(207))};u1.renderToStaticMarkup=function(e,t){return NAe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};u1.renderToStaticNodeStream=function(){throw Error(kt(208))};u1.renderToString=function(e,t){return NAe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};u1.version="18.2.0";var SB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zAe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zs=null,Xs=0;function Xe(e,t){if(t.length!==0)if(512<t.length)0<Xs&&(e.enqueue(new Uint8Array(Zs.buffer,0,Xs)),Zs=new Uint8Array(512),Xs=0),e.enqueue(t);else{var n=Zs.length-Xs;n<t.length&&(n===0?e.enqueue(Zs):(Zs.set(t.subarray(0,n),Xs),e.enqueue(Zs),t=t.subarray(n)),Zs=new Uint8Array(512),Xs=0),Zs.set(t,Xs),Xs+=t.length}}function sr(e,t){return Xe(e,t),!0}function jee(e){Zs&&0<Xs&&(e.enqueue(new Uint8Array(Zs.buffer,0,Xs)),Zs=null,Xs=0)}var VAe=new TextEncoder;function $t(e){return VAe.encode(e)}function Fe(e){return VAe.encode(e)}function HAe(e,t){typeof e.error=="function"?e.error(t):e.close()}var Cs=Object.prototype.hasOwnProperty,nUt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tee={},Aee={};function UAe(e){return Cs.call(Aee,e)?!0:Cs.call(Tee,e)?!1:nUt.test(e)?Aee[e]=!0:(Tee[e]=!0,!1)}function ps(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){di[e]=new ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];di[t]=new ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){di[e]=new ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){di[e]=new ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){di[e]=new ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){di[e]=new ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){di[e]=new ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){di[e]=new ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){di[e]=new ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var kB=/[\-:]([a-z])/g;function EB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kB,EB);di[t]=new ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kB,EB);di[t]=new ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kB,EB);di[t]=new ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){di[e]=new ps(e,1,!1,e.toLowerCase(),null,!1,!1)});di.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){di[e]=new ps(e,1,!1,e.toLowerCase(),null,!0,!0)});var KS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rUt=["Webkit","ms","Moz","O"];Object.keys(KS).forEach(function(e){rUt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),KS[t]=KS[e]})});var oUt=/["'&<>]/;function ri(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=oUt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var iUt=/([A-Z])/g,sUt=/^ms-/,k4=Array.isArray,aUt=Fe("<script>"),lUt=Fe("<\/script>"),cUt=Fe('<script src="'),uUt=Fe('<script type="module" src="'),Dee=Fe('" async=""><\/script>'),dUt=/(<\/|<)(s)(cript)/gi;function fUt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function hUt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?aUt:Fe('<script nonce="'+ri(t)+'">');var i=[];if(n!==void 0&&i.push(t,$t((""+n).replace(dUt,fUt)),lUt),r!==void 0)for(n=0;n<r.length;n++)i.push(cUt,$t(ri(r[n])),Dee);if(o!==void 0)for(r=0;r<o.length;r++)i.push(uUt,$t(ri(o[r])),Dee);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function cc(e,t){return{insertionMode:e,selectedValue:t}}function pUt(e){return cc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function mUt(e,t,n){switch(t){case"select":return cc(1,n.value!=null?n.value:n.defaultValue);case"svg":return cc(2,null);case"math":return cc(3,null);case"foreignObject":return cc(1,null);case"table":return cc(4,null);case"thead":case"tbody":case"tfoot":return cc(5,null);case"colgroup":return cc(7,null);case"tr":return cc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?cc(1,null):e}var jB=Fe("<!-- -->");function Iee(e,t,n,r){return t===""?r:(r&&e.push(jB),e.push($t(ri(t))),!0)}var Oee=new Map,gUt=Fe(' style="'),Pee=Fe(":"),vUt=Fe(";");function WAe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(Cs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=$t(ri(r));o=$t(ri((""+o).trim()))}else{i=r;var s=Oee.get(i);s!==void 0||(s=Fe(ri(i.replace(iUt,"-$1").toLowerCase().replace(sUt,"-ms-"))),Oee.set(i,s)),i=s,o=typeof o=="number"?o===0||Cs.call(KS,r)?$t(""+o):$t(o+"px"):$t(ri((""+o).trim()))}t?(t=!1,e.push(gUt,i,Pee,o)):e.push(vUt,i,Pee,o)}}t||e.push(sp)}var Ld=Fe(" "),Dg=Fe('="'),sp=Fe('"'),Ree=Fe('=""');function Ws(e,t,n,r){switch(n){case"style":WAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=di.hasOwnProperty(n)?di[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=$t(t.attributeName),t.type){case 3:r&&e.push(Ld,n,Ree);break;case 4:r===!0?e.push(Ld,n,Ree):r!==!1&&e.push(Ld,n,Dg,$t(ri(r)),sp);break;case 5:isNaN(r)||e.push(Ld,n,Dg,$t(ri(r)),sp);break;case 6:!isNaN(r)&&1<=r&&e.push(Ld,n,Dg,$t(ri(r)),sp);break;default:t.sanitizeURL&&(r=""+r),e.push(Ld,n,Dg,$t(ri(r)),sp)}}else if(UAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ld,$t(n),Dg,$t(ri(r)),sp)}}}var Bd=Fe(">"),$ee=Fe("/>");function ZS(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push($t(""+t))}}function yUt(e){var t="";return zAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var BO=Fe(' selected=""');function NO(e,t,n,r){e.push(uc(n));var o=n=null,i;for(i in t)if(Cs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ws(e,r,i,s)}}return e.push(Bd),ZS(e,o,n),typeof n=="string"?(e.push($t(ri(n))),null):n}var zO=Fe(`
`),bUt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Mee=new Map;function uc(e){var t=Mee.get(e);if(t===void 0){if(!bUt.test(e))throw Error(Ot(65,e));t=Fe("<"+e),Mee.set(e,t)}return t}var xUt=Fe("<!DOCTYPE html>");function wUt(e,t,n,r,o){switch(t){case"select":e.push(uc("select"));var i=null,s=null;for(d in n)if(Cs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ws(e,r,d,a)}}return e.push(Bd),ZS(e,s,i),i;case"option":s=o.selectedValue,e.push(uc("option"));var c=a=null,u=null,d=null;for(i in n)if(Cs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Ws(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:yUt(a),k4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(BO);break}}else""+s===n&&e.push(BO);else u&&e.push(BO);return e.push(Bd),ZS(e,d,a),a;case"textarea":e.push(uc("textarea")),d=s=i=null;for(a in n)if(Cs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:Ws(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Bd),d!=null){if(i!=null)throw Error(Ot(92));if(k4(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(zO),i!==null&&e.push($t(ri(""+i))),null;case"input":e.push(uc("input")),c=d=a=i=null;for(s in n)if(Cs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ws(e,r,s,u)}return d!==null?Ws(e,r,"checked",d):c!==null&&Ws(e,r,"checked",c),i!==null?Ws(e,r,"value",i):a!==null&&Ws(e,r,"value",a),e.push($ee),null;case"menuitem":e.push(uc("menuitem"));for(var p in n)if(Cs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:Ws(e,r,p,i)}return e.push(Bd),null;case"title":e.push(uc("title")),i=null;for(f in n)if(Cs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:Ws(e,r,f,s)}return e.push(Bd),i;case"listing":case"pre":e.push(uc(t)),s=i=null;for(c in n)if(Cs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ws(e,r,c,a)}if(e.push(Bd),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(zO,$t(n)):e.push($t(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(zO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(uc(t));for(var m in n)if(Cs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:Ws(e,r,m,i)}return e.push($ee),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return NO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(xUt),NO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return NO(e,n,t,r);e.push(uc(t)),s=i=null;for(u in n)if(Cs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":WAe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:UAe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ld,$t(u),Dg,$t(ri(a)),sp)}return e.push(Bd),ZS(e,s,i),i}}var CUt=Fe("</"),_Ut=Fe(">"),SUt=Fe('<template id="'),kUt=Fe('"></template>'),EUt=Fe("<!--$-->"),jUt=Fe('<!--$?--><template id="'),TUt=Fe('"></template>'),AUt=Fe("<!--$!-->"),DUt=Fe("<!--/$-->"),IUt=Fe("<template"),OUt=Fe('"'),PUt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var RUt=Fe("></template>");function Fee(e,t,n){if(Xe(e,jUt),n===null)throw Error(Ot(395));return Xe(e,n),sr(e,TUt)}var $Ut=Fe('<div hidden id="'),MUt=Fe('">'),FUt=Fe("</div>"),LUt=Fe('<svg aria-hidden="true" style="display:none" id="'),BUt=Fe('">'),NUt=Fe("</svg>"),zUt=Fe('<math aria-hidden="true" style="display:none" id="'),VUt=Fe('">'),HUt=Fe("</math>"),UUt=Fe('<table hidden id="'),WUt=Fe('">'),YUt=Fe("</table>"),qUt=Fe('<table hidden><tbody id="'),GUt=Fe('">'),KUt=Fe("</tbody></table>"),ZUt=Fe('<table hidden><tr id="'),XUt=Fe('">'),QUt=Fe("</tr></table>"),JUt=Fe('<table hidden><colgroup id="'),eWt=Fe('">'),tWt=Fe("</colgroup></table>");function nWt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Xe(e,$Ut),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,MUt);case 2:return Xe(e,LUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,BUt);case 3:return Xe(e,zUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,VUt);case 4:return Xe(e,UUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,WUt);case 5:return Xe(e,qUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,GUt);case 6:return Xe(e,ZUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,XUt);case 7:return Xe(e,JUt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),sr(e,eWt);default:throw Error(Ot(397))}}function rWt(e,t){switch(t.insertionMode){case 0:case 1:return sr(e,FUt);case 2:return sr(e,NUt);case 3:return sr(e,HUt);case 4:return sr(e,YUt);case 5:return sr(e,KUt);case 6:return sr(e,QUt);case 7:return sr(e,tWt);default:throw Error(Ot(397))}}var oWt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),iWt=Fe('$RS("'),sWt=Fe('","'),aWt=Fe('")<\/script>'),lWt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),cWt=Fe('$RC("'),uWt=Fe('","'),dWt=Fe('")<\/script>'),fWt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),hWt=Fe('$RX("'),pWt=Fe('"'),mWt=Fe(")<\/script>"),VO=Fe(","),gWt=/[<\u2028\u2029]/g;function HO(e){return JSON.stringify(e).replace(gWt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var zb=Object.assign,vWt=Symbol.for("react.element"),YAe=Symbol.for("react.portal"),qAe=Symbol.for("react.fragment"),GAe=Symbol.for("react.strict_mode"),KAe=Symbol.for("react.profiler"),ZAe=Symbol.for("react.provider"),XAe=Symbol.for("react.context"),QAe=Symbol.for("react.forward_ref"),JAe=Symbol.for("react.suspense"),eDe=Symbol.for("react.suspense_list"),tDe=Symbol.for("react.memo"),TB=Symbol.for("react.lazy"),yWt=Symbol.for("react.scope"),bWt=Symbol.for("react.debug_trace_mode"),xWt=Symbol.for("react.legacy_hidden"),wWt=Symbol.for("react.default_value"),Lee=Symbol.iterator;function E4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qAe:return"Fragment";case YAe:return"Portal";case KAe:return"Profiler";case GAe:return"StrictMode";case JAe:return"Suspense";case eDe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XAe:return(e.displayName||"Context")+".Consumer";case ZAe:return(e._context.displayName||"Context")+".Provider";case QAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tDe:return t=e.displayName||null,t!==null?t:E4(e.type)||"Memo";case TB:t=e._payload,e=e._init;try{return E4(e(t))}catch{}}return null}var nDe={};function Bee(e,t){if(e=e.contextTypes,!e)return nDe;var n={},r;for(r in e)n[r]=t[r];return n}var _p=null;function IA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));IA(e,n)}t.context._currentValue=t.value}}function rDe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&rDe(e)}function oDe(e){var t=e.parent;t!==null&&oDe(t),e.context._currentValue=e.value}function iDe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?IA(e,t):iDe(e,t)}function sDe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?IA(e,n):sDe(e,n),t.context._currentValue=t.value}function AE(e){var t=_p;t!==e&&(t===null?oDe(e):e===null?rDe(t):t.depth===e.depth?IA(t,e):t.depth>e.depth?iDe(t,e):sDe(t,e),_p=e)}var Nee={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function zee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=Nee,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:zb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Nee.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=zb({},i,a)):zb(i,a))}e.state=i}else i.queue=null}var CWt={id:1,overflow:""};function j4(e,t,n){var r=e.id;e=e.overflow;var o=32-XS(r)-1;r&=~(1<<o),n+=1;var i=32-XS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-XS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var XS=Math.clz32?Math.clz32:kWt,_Wt=Math.log,SWt=Math.LN2;function kWt(e){return e>>>=0,e===0?32:31-(_Wt(e)/SWt|0)|0}function EWt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jWt=typeof Object.is=="function"?Object.is:EWt,rd=null,AB=null,QS=null,Vn=null,Qy=!1,DE=!1,Qx=0,hf=null,OA=0;function ap(){if(rd===null)throw Error(Ot(321));return rd}function Vee(){if(0<OA)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function DB(){return Vn===null?QS===null?(Qy=!1,QS=Vn=Vee()):(Qy=!0,Vn=QS):Vn.next===null?(Qy=!1,Vn=Vn.next=Vee()):(Qy=!0,Vn=Vn.next),Vn}function IB(){AB=rd=null,DE=!1,QS=null,OA=0,Vn=hf=null}function aDe(e,t){return typeof t=="function"?t(e):t}function Hee(e,t,n){if(rd=ap(),Vn=DB(),Qy){var r=Vn.queue;if(t=r.dispatch,hf!==null&&(n=hf.get(r),n!==void 0)){hf.delete(r),r=Vn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Vn.memoizedState=r,[r,t]}return[Vn.memoizedState,t]}return e=e===aDe?typeof t=="function"?t():t:n!==void 0?n(t):t,Vn.memoizedState=e,e=Vn.queue={last:null,dispatch:null},e=e.dispatch=TWt.bind(null,rd,e),[Vn.memoizedState,e]}function Uee(e,t){if(rd=ap(),Vn=DB(),t=t===void 0?null:t,Vn!==null){var n=Vn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!jWt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Vn.memoizedState=[e,t],e}function TWt(e,t,n){if(25<=OA)throw Error(Ot(301));if(e===rd)if(DE=!0,e={action:n,next:null},hf===null&&(hf=new Map),n=hf.get(t),n===void 0)hf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function AWt(){throw Error(Ot(394))}function g_(){}var Wee={readContext:function(e){return e._currentValue},useContext:function(e){return ap(),e._currentValue},useMemo:Uee,useReducer:Hee,useRef:function(e){rd=ap(),Vn=DB();var t=Vn.memoizedState;return t===null?(e={current:e},Vn.memoizedState=e):t},useState:function(e){return Hee(aDe,e)},useInsertionEffect:g_,useLayoutEffect:function(){},useCallback:function(e,t){return Uee(function(){return e},t)},useImperativeHandle:g_,useEffect:g_,useDebugValue:g_,useDeferredValue:function(e){return ap(),e},useTransition:function(){return ap(),[!1,AWt]},useId:function(){var e=AB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-XS(e)-1)).toString(32)+t;var n=JS;if(n===null)throw Error(Ot(404));return t=Qx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ap(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},JS=null,UO=zAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function DWt(e){return console.error(e),null}function Jy(){}function IWt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?DWt:o,onAllReady:i===void 0?Jy:i,onShellReady:s===void 0?Jy:s,onShellError:a===void 0?Jy:a,onFatalError:c===void 0?Jy:c},n=IE(t,0,null,n,!1,!1),n.parentFlushed=!0,e=OB(t,e,null,n,d,nDe,null,CWt),u.push(e),t}function OB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&uDe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function IE(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Jx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function OE(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,HAe(e.destination,t)):(e.status=1,e.fatalError=t)}function Yee(e,t,n,r,o){for(rd={},AB=t,Qx=0,e=n(r,o);DE;)DE=!1,Qx=0,OA+=1,Vn=null,e=n(r,o);return IB(),e}function qee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,E4(r)||"Unknown",a));r=zb({},s,n)}t.legacyContext=r,Qs(e,t,o),t.legacyContext=s}else Qs(e,t,o)}function Gee(e,t){if(e&&e.defaultProps){t=zb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function T4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=Bee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),zee(i,n,r,o),qee(e,t,i,n)}else{i=Bee(n,t.legacyContext),o=Yee(e,t,n,r,i);var s=Qx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)zee(o,n,r,i),qee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=j4(r,1,0);try{Qs(e,t,o)}finally{t.treeContext=r}}else Qs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=wUt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=mUt(s,n,r),A4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(CUt,$t(n),_Ut)}o.lastPushedText=!1}else{switch(n){case xWt:case bWt:case GAe:case KAe:case qAe:Qs(e,t,r.children);return;case eDe:Qs(e,t,r.children);return;case yWt:throw Error(Ot(343));case JAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=IE(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=IE(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(A4(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(jB),u.status=1,PE(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Jx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=OB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case QAe:if(r=Yee(e,t,n.render,r,o),Qx!==0){n=t.treeContext,t.treeContext=j4(n,1,0);try{Qs(e,t,r)}finally{t.treeContext=n}}else Qs(e,t,r);return;case tDe:n=n.type,r=Gee(n,r),T4(e,t,n,r,o);return;case ZAe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=_p,_p=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Qs(e,t,o),e=_p,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===wWt?e.context._defaultValue:r,e=_p=e.parent,t.context=e;return;case XAe:r=r.children,r=r(n._currentValue),Qs(e,t,r);return;case TB:o=n._init,n=o(n._payload),r=Gee(n,r),T4(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function Qs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case vWt:T4(e,t,n.type,n.props,n.ref);return;case YAe:throw Error(Ot(257));case TB:var r=n._init;n=r(n._payload),Qs(e,t,n);return}if(k4(n)){Kee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Lee&&n[Lee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);Kee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Iee(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Iee(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Kee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=j4(i,r,o);try{A4(e,t,n[o])}finally{t.treeContext=i}}}function A4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Qs(e,t,n)}catch(c){if(IB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=IE(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=OB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,AE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,AE(i),c}}function OWt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,cDe(this,t,e)}function lDe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return lDe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function PE(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&PE(e,n)}else e.completedSegments.push(t)}function cDe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Jy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&PE(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(OWt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(PE(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function uDe(e){if(e.status!==2){var t=_p,n=UO.current;UO.current=Wee;var r=JS;JS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){AE(s.context);try{Qs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(jB),s.abortSet.delete(s),c.status=1,cDe(a,s.blockedBoundary,c)}catch(g){if(IB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=s.ping;g.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=g,p=Jx(a,f);if(d===null?OE(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&PB(e,e.destination)}catch(g){Jx(e,g),OE(e,g)}finally{JS=r,UO.current=n,n===Wee&&AE(t)}}}function v_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Xe(t,SUt),Xe(t,e.placeholderPrefix),e=$t(r.toString(16)),Xe(t,e),sr(t,kUt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Xe(t,r[i]);o=PA(e,t,o)}for(;i<r.length-1;i++)Xe(t,r[i]);return i<r.length&&(o=sr(t,r[i])),o;default:throw Error(Ot(390))}}function PA(e,t,n){var r=n.boundary;if(r===null)return v_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,sr(t,AUt),Xe(t,IUt),r&&(Xe(t,PUt),Xe(t,$t(ri(r))),Xe(t,OUt)),sr(t,RUt),v_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,Fee(t,e.responseState,r),v_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Fee(t,e.responseState,r.id),v_(e,t,n);else{if(sr(t,EUt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));PA(e,t,n[0])}return sr(t,DUt)}function Zee(e,t,n){return nWt(t,e.responseState,n.formatContext,n.id),PA(e,t,n),rWt(t,n.formatContext)}function Xee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)dDe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Xe(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Xe(t,cWt):(e.sentCompleteBoundaryFunction=!0,Xe(t,lWt)),r===null)throw Error(Ot(395));return n=$t(n.toString(16)),Xe(t,r),Xe(t,uWt),Xe(t,e.segmentPrefix),Xe(t,n),sr(t,dWt)}function dDe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return Zee(e,t,r)}return Zee(e,t,r),e=e.responseState,Xe(t,e.startInlineScript),e.sentCompleteSegmentFunction?Xe(t,iWt):(e.sentCompleteSegmentFunction=!0,Xe(t,oWt)),Xe(t,e.segmentPrefix),o=$t(o.toString(16)),Xe(t,o),Xe(t,sWt),Xe(t,e.placeholderPrefix),Xe(t,o),sr(t,aWt)}function PB(e,t){Zs=new Uint8Array(512),Xs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){PA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Xe(t,r[n]);n<r.length&&sr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Xe(r,a.startInlineScript),a.sentClientRenderFunction?Xe(r,hWt):(a.sentClientRenderFunction=!0,Xe(r,fWt)),c===null)throw Error(Ot(395));Xe(r,c),Xe(r,pWt),(u||d||f)&&(Xe(r,VO),Xe(r,$t(HO(u||"")))),(d||f)&&(Xe(r,VO),Xe(r,$t(HO(d||"")))),f&&(Xe(r,VO),Xe(r,$t(HO(f)))),sr(r,mWt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)Xee(e,t,p[i]);p.splice(0,i),jee(t),Zs=new Uint8Array(512),Xs=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var g=m[i];e:{o=e,s=t;var v=g.completedSegments;for(a=0;a<v.length;a++)if(!dDe(o,s,g,v[a])){a++,v.splice(0,a);var b=!1;break e}v.splice(0,a),b=!0}if(!b){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)Xee(e,t,x[i]);x.splice(0,i)}finally{jee(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Qee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return lDe(r,e,t)}),n.clear(),e.destination!==null&&PB(e,e.destination)}catch(r){Jx(e,r),OE(e,r)}}SB.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=IWt(e,hUt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),pUt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,HAe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{PB(a,f)}catch(p){Jx(a,p),OE(a,p)}}},cancel:function(){Qee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){Qee(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}uDe(a)})};SB.version="18.2.0";var d1,fDe;d1=u1,fDe=SB;d1.version;var PWt=d1.renderToString;d1.renderToStaticMarkup;d1.renderToNodeStream;d1.renderToStaticNodeStream;fDe.renderToReadableStream;function RWt(e){return typeof e=="function"}function Jee(e){return RWt(e)?e():e}const $Wt=()=>{};function MWt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=re.useContext(e),c=re.useRef();re.useLayoutEffect(()=>{if(n===null)return $Wt;const u=Jee(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),re.useLayoutEffect(()=>{const u=Jee(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function FWt(){const e=new Map,{publish:t,subscribe:n}=t6(),r=_w(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let y0=!1;const WO=e=>{y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),y0=!0};function LWt(){return y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),y0=!0,[]}const BWt=()=>(y0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),y0=!0,()=>{}),NWt={add:WO,update:WO,remove:WO,subscribe:BWt,read:LWt};let zWt=0;const VWt=()=>++zWt;function hDe(){const e=re.createContext(NWt);function t(){const o=re.useContext(e),[i,s]=re.useState(o.read());return re.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=re.useMemo(()=>FWt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=MWt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(re.useRef(VWt()).current),o,i)}}}const Hs=4,HWt=16,ete=8,ht=8,Pa=2,y_=4,Ii=12,hg=2,UWt=!1,WWt=!1,RB=hDe(),YWt=RB.Tracker,$B=RB.useReportedValues,pDe=RB.useReporter,Hm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),qWt=e=>{const t=re.useRef(null),{onSetFocus:n}=re.useContext(Hm),[r,o]=re.useState(!1),i=re.useCallback(()=>{o(!0)},[]),s=re.useCallback(()=>{o(!1)},[]);pDe("change-".concat(Ir(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),e6);const a=h.useCallback(c=>{GWt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function GWt(e,t,n){e.stopPropagation(),t(n)}function Vo(e){const t=h.useRef(e);return Ht(t.current,e)||(t.current=e),t.current}function yh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Vo(i),a=yo(()=>ve(s).pipe(it(c=>Ur(ve({type:"loading"}),e(c).pipe(ce(u=>({type:"value",value:u}))))),da((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Xn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ce(c=>({type:"tuple",tuple:c})),Pn(c=>ve({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function vo(e){return e!=null}const KWt="drafts",MB="".concat(KWt,".");function FB(e){return e.startsWith(MB)}function mDe(e){return{draftId:fi(e),publishedId:Rn(e)}}function fi(e){return FB(e)?e:MB+e}function Rn(e){return FB(e)?e.slice(MB.length):e}function RA(e){const t=e.reduce((n,r)=>{const o=Rn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function ZWt(e){return RA(e).map(t=>t.draft||t.published).filter(vo)}const XWt=Object.freeze({}),Wn=Object.freeze([]);function QWt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const JWt=QWt();function tte(e){return Array.isArray(e)}function Ct(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Pv(e){return typeof e=="string"}const eYt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:a_e,tYt=()=>{const e=t6(),t=new eYt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},nYt=tYt(),rYt=["sanity.imageAsset","sanity.fileAsset"];function oYt(e){return e.type==="document"&&rYt.includes(e.name)}function jMn(e){return e.type==="document"&&!oYt(e)}const iYt=["match","in","asc","desc","true","false","null"],sYt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,gDe=e=>!sYt.test(e)||iYt.includes(e),LB=e=>'["'.concat(e,'"]'),aYt=e=>"@".concat(LB(e)),lYt=e=>Array.isArray(e)&&e.length===0,cYt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(lYt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;gDe(r)?t=o?aYt(r):"".concat(t).concat(LB(r)):t=o?r:"".concat(t,".").concat(r)}return t},um=uYt();function uYt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const dYt={isLoading:!0,value:void 0,error:null};function vDe(e,t){return yo(()=>e.pipe(fYt()),[e],typeof t>"u"?dYt:{isLoading:!1,value:t,error:null})}function fYt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),Pn(t=>ve({isLoading:!1,value:void 0,error:t})))}function hYt(e,t,n){return h.useMemo(()=>IT(e,t,n),[e,n,t])}function yDe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var nte=Object.freeze,pYt=Object.defineProperty,Au=(e,t)=>nte(pYt(e,"raw",{value:nte(t||e.slice())})),rte,ote,ite,ste,ate,lte,cte,ute,dte;const mYt=250,gYt=P.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?fe(rte||(rte=Au([`
        `,` {
          display: none;
        }
      `])),D4):fe(ste||(ste=Au([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&fe(ote||(ote=Au([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),D4),r&&fe(ite||(ite=Au([`
        `,` {
          opacity: 0;
        }
      `])),bDe))}),vYt=P.div(ate||(ate=Au([`
  flex-grow: 1;
  min-width: 0;
`]))),D4=P.div(lte||(lte=Au([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),yYt=P.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return fe(cte||(cte=Au([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),bDe=P.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return fe(dte||(dte=Au([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),mYt,r,n&&fe(ute||(ute=Au([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function bYt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=re.useContext(Hm),{zIndex:a}=ol(),c=h.useMemo(()=>n||!r?null:l.jsxs(D4,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(yYt,{"data-testid":"change-bar__marker"}),l.jsx(bDe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(gYt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(vYt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const xYt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=Wn,withHoverEffect:u,...d}=t,f=ol(),[p,m]=h.useState(!1),g=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),v=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),b=h.useRef(null);return pDe(r?null:"field-".concat(Ir(c)),()=>({element:b.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),e6),l.jsx("div",{...d,ref:b,onMouseEnter:g,onMouseLeave:v,children:l.jsx(bYt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function hi(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(xYt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}re.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const I4=re.createContext(null);function wYt(e){const t=re.useContext(I4);re.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const fte=()=>{},$A=re.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=fr(n),a=h.useContext(I4),c=h.useMemo(()=>t6(),[]);return h.useEffect(()=>o?c.subscribe(o):fte,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):fte,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(I4.Provider,{value:c,children:re.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function CYt(e){let{onScroll:t,children:n}=e;return wYt(t),l.jsx(l.Fragment,{children:n})}function hte(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Ol(r),i="".concat(e,"-").concat(Ir(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=J4e(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&Il(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function _Yt(e){return e[0]!=="changePanel"}function xDe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function SYt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&xDe(e)}const kYt=-15;function pte(e){let n=e.element;for(;!SYt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+kYt,left:0,behavior:"smooth"})}const mte=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),xDe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function b_(e,t,n){return["M ".concat(e-y_," ").concat(t-y_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+y_," ").concat(t-y_*n)].join("")}function YO(e,t){return"M".concat(e," ").concat(t)}function no(e,t){return"L".concat(e," ").concat(t)}function EYt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ys(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function jYt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Hs,Math.abs(o-s)/2);return t.isAbove?a.push(YO(r+ht,o-Ii+Pa),no(r+ht,o-Hs),ys(r+ht,o,r+ht+Hs,o)):t.isBelow?a.push(YO(r+ht,o+Ii-Pa),no(r+ht,o+Hs),ys(r+ht,o,r+ht+Hs,o)):a.push(YO(r,o)),n.isAbove?o<n.bounds.top?a.push(no(n.bounds.left-8-c,o),ys(n.bounds.left-8,o,n.bounds.left-8,o+c),no(n.bounds.left-8,s-c),ys(n.bounds.left-8,s,n.bounds.left-8+c,s),no(n.bounds.left+ht-Hs,s),ys(n.bounds.left+ht,s,n.bounds.left+ht,s-Hs),no(n.bounds.left+ht,s-Ii+Pa)):a.push(no(n.bounds.left+ht-Hs,o),ys(n.bounds.left+ht,o,n.bounds.left+ht,o-Hs),no(n.bounds.left+ht,s-Ii+Pa)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(no(n.bounds.left-ht-c,o),ys(n.bounds.left-ht,o,n.bounds.left-ht,o-c),no(n.bounds.left-ht,s+c),ys(n.bounds.left-ht,s,n.bounds.left-ht+c,s),no(n.bounds.left+ht-Hs,s),ys(n.bounds.left+ht,s,n.bounds.left+ht,s+Hs),no(n.bounds.left+ht,s+Ii-Pa)):a.push(no(n.bounds.left+ht-Hs,o),ys(n.bounds.left+ht,o,n.bounds.left+ht,o+Hs),no(n.bounds.left+ht,s+Ii-Pa)):o<s?a.push(no(n.bounds.left+ht-c,o),ys(n.bounds.left+ht,o,n.bounds.left+ht,o+c),no(n.bounds.left+ht,s-c),ys(n.bounds.left+ht,s,n.bounds.left+ht+c,s),no(i,s)):a.push(no(n.bounds.left+ht-c,o),ys(n.bounds.left+ht,o,n.bounds.left+ht,o-c),no(n.bounds.left+ht,s+c),ys(n.bounds.left+ht,s,n.bounds.left+ht+c,s),no(i,s)),EYt(a)}function gte(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Pa,o=e.top>t.top+t.height-Pa;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+ete,endY:e.top+e.height-ete,isAbove:r,isBelow:o,outOfBounds:r||o}}function TYt(e){const t={top:e.from.bounds.top+Ii,bottom:e.from.bounds.top+e.from.bounds.height-Ii,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-Ii*2},n=gte(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+Ii,bottom:e.to.bounds.top+e.to.bounds.height-Ii,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-Ii*2},o=gte(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function AYt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var vte=Object.freeze,DYt=Object.defineProperty,MA=(e,t)=>vte(DYt(e,"raw",{value:vte(t||e.slice())})),yte,bte,xte,wte;P.rect(yte||(yte=MA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const hy=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(bte||(bte=MA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),IYt=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(xte||(xte=MA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),OYt=P(AYt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(wte||(wte=MA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),PYt=h.memo(function(t){let{from:n,to:r}=t;const o=TYt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=jYt(o);return l.jsxs(l.Fragment,{children:[l.jsx(IYt,{d:i,strokeWidth:HWt}),l.jsx(hy,{d:i,strokeWidth:hg}),l.jsx(OYt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:hg,bounds:r.bounds}),o.from.isAbove&&l.jsx(hy,{d:b_(o.from.left+ht,o.from.bounds.top-Ii+Pa,-1),strokeWidth:hg}),o.from.isBelow&&l.jsx(hy,{d:b_(o.from.left+ht,o.from.bounds.top+o.from.bounds.height+Ii-Pa,1),strokeWidth:hg}),o.to.isAbove&&l.jsx(hy,{d:b_(o.to.bounds.left+ht,o.to.bounds.top-Ii+Pa,-1),strokeWidth:hg}),o.to.isBelow&&l.jsx(hy,{d:b_(o.to.bounds.left+ht,o.to.bounds.top+o.to.bounds.height+Ii-Pa,1),strokeWidth:hg}),UWt]})});function RYt(e,t){h.useEffect(()=>nYt.observe(e,t),[e,t])}var Cte=Object.freeze,$Yt=Object.defineProperty,MYt=(e,t)=>Cte($Yt(e,"raw",{value:Cte(t||e.slice())})),_te;const FYt=P.svg(_te||(_te=MYt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Ste(e,t,n,r){const o=[],i=[];for(const u of e){if(!_Yt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=hte("field",d,n),p=hte("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(vo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...mte(d.element,r)},change:{...f,...mte(f.element,r)}}}),isHoverConnector:s}}function LYt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=re.useState(null),i=$B(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Ste(i,r,s,t)),u=h.useMemo(()=>Rm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Ste(i,r,s,t))},[s,i,r,t]);return RYt(t,d),l.jsx(CYt,{onScroll:d,children:l.jsx(FYt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(BYt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function BYt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{pte(n),pte(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(PYt,{from:c,to:u})}),WWt]})}function NYt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=re.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Hm.Provider,{value:u,children:l.jsx(YWt,{children:l.jsxs($A,{...s,ref:c,className:n,children:[t,a&&l.jsx(LYt,{rootElement:a,onSetFocus:i})]})})})}const zYt=NYt;function VYt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function BB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&VYt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var kte=Object.freeze,HYt=Object.defineProperty,FA=(e,t)=>kte(HYt(e,"raw",{value:kte(t||e.slice())})),Ete,jte,Tte,Ate;const UYt="data-active",qO="a,button",WYt=P.div(e=>{let{theme:t,offset:n}=e;return fe(Ete||(Ete=FA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,pe(t.sanity.radius[1]),-n,-n,-n,wDe,BB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),YYt=P.div(jte||(jte=FA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),wDe=P(M)(Tte||(Tte=FA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),qYt=P(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Ate||(Ate=FA([`
  position: relative;
  width: 100%;
`]))),bh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=UYt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:g="start",inputElement:v,itemHeight:b,items:x,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:k=!0,...j}=t;const E=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[O,$]=h.useState(!1),[R,z]=h.useState(null),[F,H]=h.useState(null),W=h.useCallback(xe=>{if(!y)return;const[Ze]=[...xe.getVirtualItems()].reverse();if(!Ze)return;Ze.index>=x.length-w-1&&E.current&&y()},[y,x.length,w]),V=T_e({count:x.length,getItemKey:f,getScrollElement:()=>F,estimateSize:()=>b,onChange:W,overscan:_}),q=h.useMemo(()=>{let xe=-1;return x.reduce((Ze,Je,Ve)=>{var vt,Ie;const Me=(vt=d==null?void 0:d(Ve))!=null?vt:!1,et=(Ie=p==null?void 0:p(Ve))!=null?Ie:!1;return Me||(xe+=1),Ze[Ve]={activeIndex:Me?null:xe,disabled:Me,selected:et},Ze},[])},[d,p,x]),oe=h.useMemo(()=>q.filter(xe=>!xe.disabled).length,[q]),N=h.useCallback(xe=>R==null?void 0:R.setAttribute("data-enabled",(!xe).toString()),[R]),G=h.useCallback(xe=>"".concat(T.current,"-item-").concat(xe),[]),Y=h.useCallback(()=>"".concat(T.current,"-children"),[]),K=h.useCallback(()=>{const xe=[v,F].some(Je=>document.activeElement===Je);if(C&&!xe&&!O)return;const Ze=Array.from((D==null?void 0:D.children)||[]);Ze==null||Ze.forEach(Je=>{var Ve,vt,Ie;const Me=Number((Ve=Je.dataset)==null?void 0:Ve.index),et=(vt=q[Me])==null?void 0:vt.activeIndex;(Ie=Je.querySelector(qO))==null||Ie.toggleAttribute(r,et===A.current)})},[r,D==null?void 0:D.children,O,v,q,C,F]),X=h.useCallback(()=>{const xe=Array.from((D==null?void 0:D.children)||[]);xe==null||xe.forEach(Ze=>{var Je;(Je=Ze.querySelector(qO))==null||Je.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),Q=h.useMemo(()=>IT(K,200),[K]),Z=h.useCallback(()=>{const xe=A==null?void 0:A.current;x.length>0?(v==null||v.setAttribute("aria-activedescendant",G(xe)),F==null||F.setAttribute("aria-activedescendant",G(xe))):(v==null||v.removeAttribute("aria-activedescendant"),F==null||F.removeAttribute("aria-activedescendant"))},[G,v,x.length,F]),ne=h.useCallback(()=>{var xe,Ze;const Je=D==null?void 0:D.parentElement;if(D&&Je){const Ve=Je.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ze=(xe=V.getVirtualItemForOffset(Ve))==null?void 0:xe.index)!=null?Ze:-1}return-1},[D,V]),ae=h.useCallback(xe=>{let{index:Ze,scrollAlign:Je,scrollIntoView:Ve=!0}=xe;if(A.current=Ze,Z(),K(),Ve){const vt=q.findIndex(Ie=>Ie.activeIndex===Ze);vt>-1&&V.scrollToIndex(vt,Je?{align:Je}:{})}},[Z,q,K,V]),me=h.useCallback(xe=>{let Ze=-1;const Je=oe-1;if(xe==="next"){const Ve=k?0:Je;Ze=A.current<oe-1?A.current+1:Ve}if(xe==="previous"){const Ve=k?Je:0;Ze=A.current>0?A.current-1:Ve}ae({index:Ze,scrollIntoView:!0}),N(!1)},[oe,N,ae,k]),ue=h.useCallback(xe=>{switch(xe){case"input":v==null||v.focus();break;case"list":F==null||F.focus();break}},[v,F]),Te=h.useCallback(()=>{v==null||v.focus()},[v]),_e=h.useCallback(()=>{F==null||F.focus()},[F]),be=h.useCallback(xe=>()=>{ae({index:xe,scrollIntoView:!1})},[ae]),ge=h.useCallback(()=>{K()},[K]),Oe=h.useCallback(xe=>Ze=>{const Je=Array.from((D==null?void 0:D.children)||[]);if(Je.length&&(Ze.key==="ArrowDown"&&(Ze.preventDefault(),ue(xe),me("next")),Ze.key==="ArrowUp"&&(Ze.preventDefault(),ue(xe),me("previous")),Ze.key==="Enter")){Ze.preventDefault(),ue(xe);const Ve=Je.find(vt=>Number(vt.dataset.index)===q.findIndex(Ie=>Ie.activeIndex===A.current));if(Ve){const vt=Ve==null?void 0:Ve.querySelector(qO);vt==null||vt.click()}}},[D==null?void 0:D.children,ue,q,me]),Re=h.useCallback(xe=>Oe("input")(xe),[Oe]),ut=h.useCallback(xe=>Oe("list")(xe),[Oe]),st=h.useCallback(()=>{C&&(K(),$(!0))},[C,K]),Lt=h.useCallback(()=>{C&&(X(),$(!1))},[X,C]);h.useImperativeHandle(n,()=>({focusInputElement(){Te()},focusListElement(){_e()},getTopIndex(){return ne()},scrollToIndex(xe){ae({index:xe}),N(!0)}}),[N,Te,_e,ne,ae]),h.useEffect(()=>{typeof m<"u"&&!E.current&&ae({index:m,scrollAlign:g,scrollIntoView:!0}),E.current=!0},[m,g,C,ae]),h.useEffect(()=>{function xe(){N(!0)}return F==null||F.addEventListener("mousemove",xe),F==null||F.addEventListener("wheel",xe,{passive:!0}),()=>{F==null||F.removeEventListener("mousemove",xe),F==null||F.removeEventListener("wheel",xe)}},[N,F]),h.useEffect(()=>(v==null||v.addEventListener("focus",ge),v==null||v.addEventListener("keydown",Re),F==null||F.addEventListener("focus",ge),F==null||F.addEventListener("keydown",ut),()=>{v==null||v.removeEventListener("focus",ge),v==null||v.removeEventListener("keydown",Re),F==null||F.removeEventListener("focus",ge),F==null||F.removeEventListener("keydown",ut)}),[a,ge,Oe,Re,ut,X,v,K,F]),h.useEffect(()=>{Z()},[Z,x]),h.useEffect(()=>{const xe=new MutationObserver(Q);return D&&xe.observe(D,{childList:!0,subtree:!0}),()=>{xe.disconnect()}},[D,Q]),h.useEffect(()=>{v==null||v.setAttribute("aria-autocomplete","list"),v==null||v.setAttribute("aria-expanded","true"),v==null||v.setAttribute("aria-controls",Y()),v==null||v.setAttribute("role","combobox")},[Y,v]),h.useEffect(()=>{s&&ue(s)},[s,a,_e,Te,ue]);const gn=a?0:-1;return l.jsxs(wDe,{id:Y(),onMouseEnter:st,onMouseLeave:Lt,ref:H,sizing:"border",tabIndex:gn,...j,children:[a&&l.jsx(WYt,{offset:u}),l.jsx(YYt,{"aria-hidden":"true","data-enabled":!0,ref:z}),V&&l.jsx(qYt,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:V.getVirtualItems().map(xe=>{const Ze=xe.index,{activeIndex:Je,disabled:Ve,selected:vt}=q[Ze],Ie=S(x[Ze],{activeIndex:Je,disabled:Ve,selected:vt,virtualIndex:Ze}),Me=h.cloneElement(Ie,{tabIndex:-1}),et=typeof Je=="number"&&!Ve?{"aria-posinset":Je+1,...i?{"aria-selected":vt.toString()}:{},"aria-setsize":oe,id:G(Je),role:"option",onMouseEnter:be(Je)}:{};return l.jsx(te,{as:"li","data-index":Ze,ref:c?void 0:V.measureElement,style:{flex:1,...c?{height:"".concat(xe.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(xe.start,"px)"),width:"100%"},tabIndex:-1,...et,children:Me},xe.key)})})]})}),Dte=new WeakMap;let GYt=0;function Ite(e){const t=Dte.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(GYt++);return Dte.set(e,n),n}function KYt(e){const t=h.useRef(void 0);return Xu(e,t.current)||(t.current=e),[t.current]}function ZYt(e,t){h.useEffect(e,KYt(t))}const XYt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return ZYt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),QYt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},JYt=e=>clearTimeout(e),eqt=typeof requestIdleCallback>"u"?QYt:requestIdleCallback,tqt=typeof cancelIdleCallback>"u"?JYt:cancelIdleCallback,nqt={trailing:!0};function CDe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&tqt(d.current),d.current=eqt(()=>{d.current=null,a(x=>x+1)})},[]),p=hYt(f,60,nqt),m=h.useCallback((x,y)=>{if(y===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:y}}},[]),g=h.useCallback(x=>{u(y=>({...y,[x]:(y[x]||0)+1})),o&&o()},[o]),v=h.useMemo(()=>t.map(x=>Ite(x)),[t]),b=h.useMemo(()=>v.map(x=>{var y;return(y=i.current[x])==null?void 0:y.value}).filter(vo),[v,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const y=Ite(x),w=c[y]||0;return l.jsx(XYt,{hook:x,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:g},"".concat(y,"-").concat(w))}),r({states:b})]})}function NB(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(rqt):n;return l.jsx(d8,{...r,keys:o})}const Ote=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function rqt(e){const t=e.toLowerCase();return t==="alt"&&Ote?Pte(e,"option"):t==="option"&&!Ote?Pte(e,"alt"):e}function Pte(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function zc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(Lf,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(Gt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",oqt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function oqt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const iqt=P(Qr)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({width:o==="auto"?"none":pe(n[o]),maxWidth:"100%"}))}),sqt=re.forwardRef(function(t,n){const{width:r,...o}=t,i=ye(r);return l.jsx(iqt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Rte=Object.freeze,aqt=Object.defineProperty,_De=(e,t)=>Rte(aqt(e,"raw",{value:Rte(t||e.slice())})),$te,Mte;const lqt=P(an)(()=>fe($te||($te=_De([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),cqt=P(us)(e=>{const t=e.theme.sanity.radius[3];return fe(Mte||(Mte=_De([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function uqt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(sqt,{width:s,children:l.jsx(vd,{autoFocus:!0,children:l.jsxs(te,{ref:i,children:[l.jsx(cqt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(ie,{icon:Mi,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(lqt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var Fte=Object.freeze,dqt=Object.defineProperty,fqt=(e,t)=>Fte(dqt(e,"raw",{value:Fte(t||e.slice())})),Lte;const hqt=P(J)(()=>fe(Lte||(Lte=fqt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),SDe=h.createContext({selected:!1});function pqt(){const e=h.useContext(SDe);if(!e)throw new Error("PreviewCard: missing context value");return e}const Bp=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(hqt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(SDe.Provider,{value:{selected:o},children:r})})}),ss={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},mqt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Bte=Object.freeze,gqt=Object.defineProperty,vqt=(e,t)=>Bte(gqt(e,"raw",{value:Bte(t||e.slice())})),Nte;const kDe=P.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=mqt[n];return fe(Nte||(Nte=vqt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":pe(i),o?"100%":pe(s),o?void 0:pe(i),c=>{let{theme:u}=c;return pe(u.sanity.radius[r])},a)});kDe.displayName="MediaWrapper";function xC(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(kDe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[yqt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function yqt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Sr.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function bqt(e,t,n){return Sr.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Ho(e,t,n){return typeof e=="string"?e:Sr.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var zte=Object.freeze,xqt=Object.defineProperty,zB=(e,t)=>zte(xqt(e,"raw",{value:zte(t||e.slice())})),Vte,Hte,Ute;const wqt={...ss.default,aspect:1,fit:"crop",dpr:Mm()},Wte=P(U)(Vte||(Vte=zB([`
  height: `,`;
`])),pe(ss.default.height)),Cqt=P(Li).attrs({animated:!0,radius:1})(Hte||(Hte=zB([`
  max-width: `,`;
  width: 80%;
`])),pe(160)),_qt=P(Li).attrs({animated:!0,radius:1,size:1})(Ute||(Ute=zB([`
  max-width: `,`;
  width: 60%;
`])),pe(120));function EDe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=ggt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Ho(o,"default")});return i?l.jsxs(Wte,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(V0,{animated:!0,marginRight:2,radius:2,style:ss.default}),l.jsxs(te,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(Cqt,{}),l.jsx(_qt,{})]}),u]}):l.jsxs(Wte,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(xC,{dimensions:wqt,layout:"default",media:r,styles:a}),l.jsxs(te,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Ho(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Ho(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Yte=Object.freeze,Sqt=Object.defineProperty,Um=(e,t)=>Yte(Sqt(e,"raw",{value:Yte(t||e.slice())})),qte,Gte,Kte,Zte,Xte,Qte,Jte;const ene=P(U).attrs({align:"center"})(qte||(qte=Um([`
  height: `,`;
`])),pe(ss.detail.height)),kqt=P(M)(Gte||(Gte=Um([`
  white-space: nowrap;
`]))),Eqt=P(V0).attrs({animated:!0,radius:2})(Kte||(Kte=Um([`
  width: `,`;
  height: `,`;
`])),pe(ss.detail.width),pe(ss.detail.height)),jqt=P(Li).attrs({animated:!0,radius:1})(Zte||(Zte=Um([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),pe(160)),Tqt=P(Li).attrs({animated:!0,radius:1,size:1})(Xte||(Xte=Um([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),pe(120)),Aqt=P(Li).attrs({animated:!0,radius:1,size:1})(Qte||(Qte=Um([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),pe(180)),Dqt=P(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return fe(Jte||(Jte=Um([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),pe(i),o)}),Iqt={...ss.detail,fit:"crop",aspect:1,dpr:Mm()};function Oqt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=Iqt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(kqt,{marginLeft:3,paddingRight:1,children:Ho(s,"detail")});return c?l.jsxs(ene,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(Eqt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(te,{flex:1,space:2,children:[l.jsx(jqt,{}),l.jsx(Tqt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(Aqt,{})})]})]}):l.jsxs(ene,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(xC,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(te,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Ho(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ho(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(Dqt,{muted:!0,size:1,children:Ho(r,"detail")})})]}),a]})}var tne=Object.freeze,Pqt=Object.defineProperty,VB=(e,t)=>tne(Pqt(e,"raw",{value:tne(t||e.slice())})),nne,rne,one;const hl=43,HB=3,Rqt=P.svg(nne||(nne=VB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),hl,hl),$qt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(rne||(rne=VB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),le.gray[n.dark?900:100].hex,HB)}),Mqt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(one||(one=VB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),le.blue[n.dark?400:500].hex,HB)});function Fqt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=hl/2-HB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(hl/2," ").concat(hl/2," ").concat(hl," ").concat(hl);return l.jsxs(Rqt,{viewBox:s,children:[l.jsx($qt,{cx:hl,cy:hl,r}),l.jsx(Mqt,{cx:hl,cy:hl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var ine=Object.freeze,Lqt=Object.defineProperty,jDe=(e,t)=>ine(Lqt(e,"raw",{value:ine(t||e.slice())})),sne,ane;const Bqt=.5,Nqt=P(J)(sne||(sne=jDe([`
  overflow: hidden;
  overflow: clip;
`]))),zqt=P(J)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(ane||(ane=jDe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),Bqt,le.blue[n.dark?400:500].hex)});function Vqt(e){const{value:t}=e;return l.jsx(Nqt,{radius:5,children:l.jsx(zqt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var lne=Object.freeze,Hqt=Object.defineProperty,wC=(e,t)=>lne(Hqt(e,"raw",{value:lne(t||e.slice())})),cne,une,dne,fne,hne;const Uqt=P(M)(cne||(cne=wC([`
  position: relative;
`]))),Wqt=P(U).attrs({align:"center",justify:"center"})(une||(une=wC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),Yqt=P(V0).attrs({animated:!0,radius:2})(dne||(dne=wC([`
  width: 100%;
  height: 100%;
`]))),qqt=P(U).attrs({align:"center",justify:"center"})(fne||(fne=wC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),Gqt=P(te).attrs({padding:2,space:2})(hne||(hne=wC([`
  max-width: `,`;
`])),pe(200)),Kqt={...ss.media,aspect:1,fit:"crop",dpr:Mm()};function Zqt(e){const{media:t,mediaDimensions:n=Kqt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(Gqt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Ho(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Ho(s,"media")})]}),[s,a]);return l.jsxs(Uqt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(at,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(Wqt,{children:[o?l.jsx(Yqt,{}):l.jsx(xC,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(qqt,{children:l.jsx(Fqt,{value:i})})]})}),r]})}var pne=Object.freeze,Xqt=Object.defineProperty,UB=(e,t)=>pne(Xqt(e,"raw",{value:pne(t||e.slice())})),mne,gne,vne;const Qqt=P(U).attrs({align:"center"})(mne||(mne=UB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),pe(ss.block.height)),Jqt=P(J)(gne||(gne=UB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),eGt=P(M).attrs({overflow:"hidden"})(vne||(vne=UB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),tGt={...ss.blockImage,fit:"fillmax",dpr:Mm()},nGt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function rGt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=tGt,media:a,children:c,status:u}=e;return l.jsxs(eGt,{children:[l.jsxs(te,{children:[l.jsxs(Qqt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(te,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ho(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ho(r,"block")})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Ho(u,"block")}),t]})]}),l.jsx(Jqt,{$ratio:nGt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(xC,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Ho(o,"block")})}),c&&l.jsx("div",{children:c})]})}var yne=Object.freeze,oGt=Object.defineProperty,iGt=(e,t)=>yne(oGt(e,"raw",{value:yne(t||e.slice())})),bne;const sGt={...ss.block,aspect:1,fit:"crop",dpr:Mm()},aGt=P(U).attrs({align:"center"})(bne||(bne=iGt([`
  min-height: `,`;
`])),pe(ss.block.height));function lGt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=sGt,media:s,status:a,children:c}=e;return l.jsxs(te,{"data-testid":"block-preview",space:1,children:[l.jsxs(aGt,{"data-testid":"block-preview__header",children:[s&&l.jsx(xC,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ho(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ho(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Ho(o,"block")})})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Ho(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var xne=Object.freeze,cGt=Object.defineProperty,WB=(e,t)=>xne(cGt(e,"raw",{value:xne(t||e.slice())})),wne,Cne,_ne;const uGt=P.span(wne||(wne=WB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),dGt=P.span(Cne||(Cne=WB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[1])},e=>{let{theme:t}=e;return pe(t.sanity.radius[1])}),fGt=P(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return fe(_ne||(_ne=WB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),hGt={...ss.inline,fit:"crop",aspect:1,dpr:Mm()};function pGt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=hGt}=e;return l.jsxs(uGt,{"data-testid":"inline-preview",children:[r&&l.jsxs(dGt,{"data-testid":"inline-preview-media",children:[bqt(r,"inline",o),l.jsx("span",{})]}),l.jsx(fGt,{"data-testid":"inline-preview-title",size:1,children:Ho(t,"inline",n)})]})}var Sne=Object.freeze,mGt=Object.defineProperty,LA=(e,t)=>Sne(mGt(e,"raw",{value:Sne(t||e.slice())})),kne,Ene,jne,Tne;({...ss.default,dpr:Mm()});P(M)(kne||(kne=LA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));P(U).attrs({align:"center"})(Ene||(Ene=LA([`
  height: `,`;
`])),pe(ss.default.height));P(Li).attrs({animated:!0,radius:1})(jne||(jne=LA([`
  max-width: `,`;
  width: 80%;
`])),pe(160));P(Li).attrs({animated:!0,radius:1,size:1})(Tne||(Tne=LA([`
  max-width: `,`;
  width: 60%;
`])),pe(120));const gGt=["aria-hidden","disabled","href"],vGt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function yGt(e){return[...e.querySelectorAll(vGt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function TDe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",g=t==="horizontal"?"ArrowLeft":"ArrowUp",v=h.useCallback(()=>{if(s){const y=yGt(s);d(y)}},[s]),b=h.useCallback(y=>{c(y)},[]),x=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{y.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():C()),o.includes("arrows")&&(y.key===g&&w(),y.key===m&&C())},[i,g,o,m,p,f,r]);h.useEffect(()=>{v()},[v,n,t]),h.useEffect(()=>{const y=new MutationObserver(v);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:gGt}),()=>{y.disconnect()}},[u,v,s]),h.useEffect(()=>{var y;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,b,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const bGt=P(M)({position:"relative"}),xGt=P.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),xh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,g=Ls(),v=f&&g.sanity.color.solid[f],b=h.useMemo(()=>({backgroundColor:v==null?void 0:v.enabled.bg}),[v]),x=!!r,y=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(NB,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(at,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(ie,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(U,{gap:u,children:[l.jsxs(bGt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,Sr.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(xGt,{style:b})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var Ane=Object.freeze,wGt=Object.defineProperty,CGt=(e,t)=>Ane(wGt(e,"raw",{value:Ane(t||e.slice())})),Dne;const _Gt=P(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return fe(Dne||(Dne=CGt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),cr=re.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(_Gt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),CC=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(at,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),YB=h.forwardRef((e,t)=>{const{push:n}=Io();return h.useImperativeHandle(t,()=>({push:n})),null});YB.displayName="ImperativeToast";const SGt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},kGt=h.createContext(SGt);function ADe(){return h.useContext(kGt)}function od(e){let{children:t,zOffset:n}=e;const o=ADe()[n];return l.jsx(Ku,{zOffset:o,children:t})}function EGt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,g=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,g),!m.length){g.value=f;return}s(m,g.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const DDe=h.createContext(null);function jGt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||EGt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(DDe.Provider,{value:n,children:t})}function kd(){const e=h.useContext(DDe);if(!e)throw new Error("Could not find `cache` context");return e}class qB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const GB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),KB={};function IDe(e,t){GB?localStorage[e]=t:KB[e]=t}function TGt(e){return GB?localStorage[e]:KB[e]}function ODe(e){GB?localStorage.removeItem(e):delete KB[e]}function AGt(e){const t=typeof window>"u"?ve():Bi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new _r,o=nn(r,t.pipe(pt(s=>s.key===n),ce(s=>s.newValue),pt(vo),ce(s=>JSON.parse(s)))).pipe(Do(1));function i(s){try{IDe(n,JSON.stringify(s)),ODe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Ine=/sid=([^&]{20,})&?/;function DGt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Ine)||[];if(!t)return null;const n=e.replace(Ine,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let One=DGt();const IGt=()=>{const e=One;return e&&(One=null),e};var Pne=Object.freeze,OGt=Object.defineProperty,PDe=(e,t)=>Pne(OGt(e,"raw",{value:Pne(t||e.slice())})),Rne,$ne;const PGt=P.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return fe(Rne||(Rne=PDe([`
    fill: `,`;
  `])),n)}),RGt=P.img($ne||($ne=PDe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),$Gt=()=>l.jsx(PGt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),MGt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function FGt(e){const{provider:t}=e;return t.logo?l.jsx(RGt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const LGt={google:MGt,github:$Gt};async function BGt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Mne(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function NGt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=yh(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[g]=i();h.useEffect(()=>{g&&BGt({client:g,...o}).then(f).catch(m)},[g]);const v=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Mne({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),b=!d||v;return h.useEffect(()=>{v&&(window.location.href=v)},[v]),b?l.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(Qn,{muted:!0})]}):l.jsxs(te,{space:4,children:[l.jsx(Go,{align:"center",size:1,children:"Choose login provider"}),l.jsx(te,{space:2,children:d.map((x,y)=>l.jsx(ie,{as:"a",icon:LGt[x.name]||l.jsx(FGt,{provider:x}),href:Mne({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(y)))})]})}return s}const ZB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},Fne=e=>{try{const t=TGt(ZB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},RDe=e=>{try{ODe(ZB(e))}catch(t){console.error(t)}},zGt=e=>{let{token:t,projectId:n}=e;try{IDe(ZB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Lne=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return RDe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new qB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function VGt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=AGt("dual_mode_auth_".concat(n)),u=t??ike,d=c.pipe(ci(i==="dual"?Fne(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),it(x=>po(async()=>{const y=await Lne(x,a);return{currentUser:y,client:x,authenticated:!!y}})),Xn((x,y)=>Ht(x.currentUser,y.currentUser)),Do(1));async function m(){const x=IGt();if(!x){a(i==="cookie"?null:Fne(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Lne(y,a)),w||i==="cookie"){a(null);return}const C=await g(y,x);a(C??null)}async function g(x,y){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return zGt({token:w,projectId:n}),w}async function v(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});RDe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const b=NGt({...s,getClient:()=>p.pipe(ce(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:b,logout:v}}function $De(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,$De(r)]})))}const HGt=OT(VGt,$De);function UGt(e){return Ct(e)&&"state"in e&&Ct(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function MDe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function WGt(e){return t=>{let n=[];const r=Pn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(wn(()=>{n=[]}),r)}}const Bne=typeof window>"u"?ve({}):Bi(window,"online"),YGt=typeof window>"u"?ve({}):Bi(window,"offline"),qGt=e=>Math.pow(2,e)*100,GGt={type:"connecting"},FDe=L2e(),KGt=FDe[0];FDe[1];const ZGt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function XGt(e){let{bifur:t}=e;return{connectionStatus$:nn(t.heartbeats,YGt.pipe(nm(Zu(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),WGt((r,o,i)=>{const s=Math.min(24e4,qGt(o)),a=new Date(new Date().getTime()+s),c=Yo(a),u=!navigator.onLine,d=ZGt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=_8.pipe(j8(u?Bne:nn(c,Bne,KGt)));return Ur(ve(d),f.pipe(Pi(1)),i)}),ci(GGt))}}const QGt=e1e(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function Nne(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(NT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function XB(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Nne(r),r}}return Nne(e),()=>e}const JGt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},eKt=[];const If=class LDe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new LDe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function tKt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function QB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Il(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function nKt(e){return e!==null||e!==void 0}function Vb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>Vb(i,t,n)).filter(nKt);if(typeof e=="string")return Vb(new If(e),t,n);if(!(e instanceof If)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(QB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return Vb(new If(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const rKt={}.toString,zne=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function oKt(e){for(let t=0;t<zne.length;t++)if(zne[t]===e)return!0;return!1}function BDe(e){const t=rKt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!oKt(n)?n.name:t}function ew(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!ew(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!ew(e[o],t[o]))return!1}return!0}return!1}const Vne=5e3,Hne=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new If(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Wm={type:(e,t,n)=>{const r=BDe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Hne({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Hne({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>ew(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(QB(r.path)," has taken more than ").concat(Vne,"ms to respond"))},Vne);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},iKt={...Wm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},sKt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,aKt={...Wm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(sKt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},GO="http://sanity",lKt=e=>/^\.*\//.test(e),cKt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,uKt={...Wm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,GO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==GO)return n||"Only relative URLs are allowed";if(!a&&c.origin===GO&&lKt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||cKt.test(r)?!0:n||"Must be a valid email address"}},dKt={...Wm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>ew(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new If(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];ew(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new If(n||"Can't be a duplicate",{paths:o}):!0}},fKt=["_key","_type","_weak"],hKt={...Wm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!fKt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!ud(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Une(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const pKt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Wne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?oi(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",oi(new Date(t),r))};function x_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const mKt={...Wm,type:(e,t,n)=>!"".concat(t)||pKt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=x_(t);if(!o||!t||o>=x_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Une(r.type.options)?r.type.options:{},s=Wne(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=x_(t);if(!o||!t||o<=x_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Une(r.type.options)?r.type.options:{},s=Wne(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var wo;const gKt={Boolean:iKt,Number:aKt,String:uKt,Array:dKt,Object:hKt,Date:mKt},NDe=e=>e&&e.type?NDe(e.type):e,vKt=e=>typeof e!="object"||!e?!1:e.type===O4.FIELD_REF,yKt=[],Yne=Symbol("FIELD_REF"),bKt=["Array","Boolean","Date","Number","Object","String"],O4=(wo=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=wo.valueOfField.bind(wo),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new wo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=Okt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!bKt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(tKt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=NDe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return yKt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&gKt[this._type]||Wm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;vKt(c)&&(c=Hn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new If("".concat(QB(t.path),": Exception occurred while validating value: ").concat(d.message));return Vb(f,"error",t)}return Vb(u,this._level,t)}))).flat()}},wo.FIELD_REF=Yne,wo.array=e=>new wo(e).type("Array"),wo.object=e=>new wo(e).type("Object"),wo.string=e=>new wo(e).type("String"),wo.number=e=>new wo(e).type("Number"),wo.boolean=e=>new wo(e).type("Boolean"),wo.dateTime=e=>new wo(e).type("Date"),wo.valueOfField=e=>({type:Yne,path:e}),wo),xKt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},wKt=function(t){return window.clearTimeout(t)},RE=typeof window>"u"?void 0:window,CKt=(RE==null?void 0:RE.requestIdleCallback)||xKt,_Kt=(RE==null?void 0:RE.cancelIdleCallback)||wKt,SKt=OT(EKt);function kKt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function qne(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Il(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const Gne=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=kKt(r._id),d=r._type,f=qne(o.concat("current"));!a&&f.includes("[]")&&SKt(qne(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function EKt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const jKt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||Gne,s={...t,parent:t.parent,type:t.type,defaultIsUnique:Gne};return await i(r,s)?!0:"Slug is already in use"},TKt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},AKt=e=>e in TKt;function zDe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?zDe(e.type,t):[],e]):[]}function DKt(e,t){let n=e;AKt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>IKt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(jKt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function VDe(e){return e?!("fields"in e)&&e.type?VDe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function IKt(e,t){return t.jsonType==="object"&&VDe(t)||e.value===void 0?e:e.value}function tw(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>tw({...e,validation:r}));if(t instanceof O4)return[t];const n=Object.values(zDe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(DKt,new O4(e));return t?tw({...e,validation:t(n)}):[n]}const Kne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),OKt=e=>e!=null;function PKt(e,t){if(t.length===1)return t[0];const n=WF(e)&&e._type,r=e==null||!n&&BDe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const RKt=[];function $Kt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),ve(RKt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return P4(i).pipe(Pn(s=>(console.error(s),ve([{type:"validation",level:"error",path:[],item:new If(s==null?void 0:s.message)}]))))}function P4(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=tw(n),a=s.map(p=>po(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,g)=>(m[g.name]=g.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(OKt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[g,v]=m;const b=p[g];return tw({...b,validation:v}).map(x=>{const y=Kne(t)?t[g]:void 0;return po(()=>x.validate(y,{...i,parent:t,path:r.concat(g),type:b}))})})),c=c.concat(n.fields.map(m=>P4({...i,parent:t,value:Kne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>P4({...i,parent:t,value:p,path:r.concat(Il(p)?{_key:p._key}:m),type:PKt(p,n.of)})))),po(()=>nn([...a,...c])).pipe(ft(p=>Ur(MKt(),p),40),vT(),k2e(),ce(In),ce(p=>s.some(m=>m._fieldRules)?Kf(p,m=>JSON.stringify(m)):p))}function MKt(e){return new mt(t=>{const n=CKt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>_Kt(n)})}function FKt(e){return ek(e,new Set),e}function ek(e,t){if(!t.has(e)){if(t.add(e),e.validation=tw(e),"fields"in e)for(const n of e.fields)ek(n.type,t);if("of"in e)for(const n of e.of)ek(n,t);if(e.annotations)for(const n of e.annotations)ek(n,t)}}function LKt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&FKt(r)}),e}var BKt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},NKt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},zKt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},VKt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},HKt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},UKt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},WKt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},YKt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},qKt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},GKt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},KKt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const ZKt=e=>e.severity==="error",XKt=[HKt,BKt,NKt,UKt,KKt,zKt,VKt,GKt,qKt,WKt,YKt];function QKt(e){const t=_kt(e.types).getTypes(),n=_St(t),r=n.some(i=>i.problems.some(ZKt)),o=x9.compile({name:e.name,types:r?[]:[...e.types,...XKt].filter(Boolean)});return o._validation=n,LKt(o)}function Np(e){return typeof e.title=="string"?e.title:e.type?Np(e.type):e.name||e.jsonType}const sn={apiVersion:"2022-09-09"};var Zne=Object.freeze,JKt=Object.defineProperty,eZt=(e,t)=>Zne(JKt(e,"raw",{value:Zne(t||e.slice())})),Xne;const tZt=P(us)(Xne||(Xne=eZt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function nZt(){return l.jsx(tZt,{children:l.jsx(U,{height:"fill",align:"center",justify:"center",children:l.jsx(Qn,{})})})}function rZt(e){const{text:t}=e;return l.jsxs(U,{direction:"row",justify:"center",align:"center",children:[l.jsx(Qn,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const Qne={referringDocuments:[],isLoading:!0};function oZt(e){const t=al();return yo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),ci(Qne)),[t,e],Qne)}const iZt=()=>h.createElement(h.Fragment);function sZt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:iZt})}}function Kl(e){const{options:t}=Fn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...pD(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return sZt(n,s)},[n,t,r])}function jc(e,t){return t.name===e||!!(t.type&&jc(e,t.type))}const aZt={default:EDe,media:Zqt,detail:Oqt,inline:pGt,block:lGt,blockImage:rGt};function lZt(){return l.jsx(Bf,{className:"sanity-studio__preview-fallback-icon"})}function wh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=Jn(sn),c=h.useMemo(()=>GT(a),[a]),u=h.useCallback(g=>{const{dimensions:v}=g;return l.jsx("img",{alt:Pv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(v.width||100).height(v.height||100).fit(v.fit).dpr(v.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||lZt),[t]),f=h.useMemo(()=>t===!1?!1:Sr.isValidElementType(r)||h.isValidElement(r)?r:Db(r)?u:Pv(o)?l.jsx("img",{src:o,alt:Pv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=aZt[n||"default"];return h.createElement(m,p)}const cZt=typeof window>"u"?Zn:Bi(window,"resize").pipe(Do(1)),uZt=typeof window>"u"?Zn:Bi(window,"scroll",{passive:!0,capture:!0}).pipe(Do(1)),dZt=typeof window>"u"?Zn:Bi(window,"orientationchange").pipe(Do(1)),HDe=150;function fZt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const hZt=fZt()?pZt():mZt();function pZt(){const e=new _r,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(HDe,"px")});return function(r){return new mt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ft(()=>e.asObservable()),pt(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function mZt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),HDe)}return function(o){const i=n(o);return nn(ve(i()),cZt,uZt,dZt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const gZt=typeof window>"u"?Zn:Bi(document,"visibilitychange").pipe(Do(1));function vZt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Ur(ve(!document.hidden),gZt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Xn()),s=hZt(t).pipe(ce(u=>u.isIntersecting)),c=i.pipe(it(u=>u?s:ve(!1)),it(u=>u?ve(!0):ve(!1).pipe(T2e(n))),Xn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const yZt={isLoading:!0},bZt={isLoading:!1};function JB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Yi();return yo(()=>!t||!o||!r?ve(bZt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),Pn(s=>ve({isLoading:!1,error:s}))),[t,i,n,r,o],yZt)}function xZt(e){return wZt(e==null?void 0:e._upload)}function py(e){return Pv(e)?e:void 0}function wZt(e){var t,n;if(!Ct(e))return;const r=typeof e.progress=="number"?e.progress:0,o=py(e.initiated||e.createdAt),i=py(e.updated||e.updatedAt),s=py((t=e==null?void 0:e.file)==null?void 0:t.name),a=py((n=e==null?void 0:e.file)==null?void 0:n.type),c=py(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const CZt=1e3*2;function UDe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=vZt({element:s?null:c,hideDelay:CZt}),f=JB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>xZt(n),[n]),g=h.useMemo(()=>{var v,b;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(v=f==null?void 0:f.value)!=null&&v.media?(b=f==null?void 0:f.value)==null?void 0:b.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:g,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function eN(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const _Zt=e=>e.liveEdit===!0;function BA(e,t,n,r){const o=_Zt(t)?ve({snapshot:null}):e.observeForPreview({_type:"reference",_ref:fi(n)},t),i=e.observeForPreview({_type:"reference",_ref:Rn(n)},t);return Wo([o,i]).pipe(ce(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ci({draft:null,isLoading:!0,published:null}))}const SZt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(jr,{})}),tN=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?YBt({},o,t,(i,s)=>typeof s>"u"?i:s):SZt(t)},WDe=["_id","_rev","_type"],kZt=[...WDe,"_key"],Jne={available:!0,reason:"READABLE"},EZt={available:!1,reason:"PERMISSION_DENIED"},jZt={available:!1,reason:"NOT_FOUND"},TZt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(jr,{})};function AZt(e){return Array.isArray(e)&&(e.length===0||e.some(th))}function DZt(e){const t=Array.isArray(e)&&e.find(th);return!t||!t.children?"":t.children.filter(oa).map(n=>n.text).join("")}function YDe(e){return Object.keys(e)}const IZt=["_id","_type","_upload","_createdAt","_updatedAt"],b0=[],R4=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),OZt=_w(()=>{const e=R4.getAll(),n=In(Object.keys(e).map(r=>{const o=e[r];return Kf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Kf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),R4.clear())},1e3),my=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?b0:[rN("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(nN(t))))]},PZt={media:()=>b0,title:my("title"),subtitle:my("subtitle"),description:my("description"),imageUrl:my("imageUrl"),date:my("date")};function nN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ct(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>nN(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function RZt(e,t){if(typeof t>"u")return b0;const n=PZt[e];return n&&n(t)||b0}function rN(e,t){return Object.assign(t,{type:e})}function $Zt(e){return!Er(e)||e===null?[rN("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(nN(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...RZt(r,o)]},b0)}function MZt(e){return{...e,errors:[...e.errors||[],...$Zt(e.returnValue)]}}function FZt(e){return YDe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:AZt(r)?DZt(r):r}},{})}function $4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):FZt(t),errors:b0}}catch(i){return{returnValue:null,errors:[rN("prepareError",i)]}}}function ere(e,t,n){return e.errors.forEach(r=>R4.add(t,n,r)),OZt(),TZt}function LZt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function BZt(e){return LZt(e)?e.options.list.map(n=>GF(n)?n:{title:n,value:n}):void 0}function $E(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const g="fields"in t?t:null,v=s[p],b=(m=g==null?void 0:g.fields)==null?void 0:m.find(y=>y.name===v),x=b&&BZt(b.type);if(!i&&x){const y=x&&x.find(w=>w.value===Hn(e,s[p]));f[p]=y?y.value:Hn(e,s[p])}else f[p]=Hn(e,s[p]);return f},{}),u=$4(t,c,n);if(u.errors.length>0)return ere(u,t,c);const d=MZt($4(t,c,n));return d.errors.length>0?ere(d,t,c):{...St(e,IZt),...u.returnValue}}function tk(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new mt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(vo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const NZt=11164;function zZt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=NZt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function VZt(e,t){return e.push(...t),e}function qDe(e,t){function n(s){const a=fi(s),c=Rn(s);return Wo([r(a),r(c)]).pipe(Xn(Xu),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>Ct(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Xn(),it(a=>a?ve(Jne):o(s)))}const o=tk(function(a){const c=[...new Set(In(a))];return kr(zZt(c)).pipe(ft(i,10),S2e(VZt,[]),ce(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return po(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(c=>{const u=F9(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return Jne;if(f.reason==="existence")return jZt;if(f.reason==="permission")return EZt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function tre(e,t,n){return{...e,[t]:n}}function HZt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new mt(n=>t.subscribe(n)).pipe(it(n=>{const r=YDe(n).map(o=>{const i=n[o];return Dnt(i)?kr(i).pipe(ce(s=>[o,s])):ve([o,i])});return e.wait?Wo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,c]=s;return tre(i,a,c)},{}))):kr(r).pipe(vT(),da((o,i)=>{let[s,a]=i;return tre(o,s,a)},{}))}))}function UZt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function WZt(e,t){return t.filter(n=>!(n[0]in e))}function YZt(e){return ud(e)?e._ref:"_id"in e?e._id:void 0}function M4(e,t,n,r){if(!e||typeof e!="object")return ve(e);const o=YZt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=WZt(i,t);if(o&&s.length>0){const u=mo(s.map(f=>f[0])),d=c0e(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(it(f=>f===null?ve(null):M4({...UZt(u),...ud(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=Ct(e)?e[d]:void 0:u[d]=M4(e[d],f,n,r),u},i);return ve(c).pipe(HZt({wait:!0}))}function qZt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function GZt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return M4(n,qZt(r),t,o)}}}function KZt(e){return Er(e)}function ZZt(e){return Er(e)}function XZt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(qF(i)){if(!c0e(o))return ve({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(it(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return ve({snapshot:void 0})}))}if(Lu(i))return ZZt(o)?t(o._ref).pipe(it(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return ve({snapshot:void 0})})):ve({snapshot:void 0});const c=eN(i.preview);return c?n(o,c,a).pipe(ce(u=>({type:i,snapshot:u&&$E(u,i,s)}))):ve({type:i,snapshot:o&&KZt(o)?$4(i,o,s).returnValue:null})}}function QZt(e,t){const{observeDocumentPairAvailability:n}=qDe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=mDe(i);return n(a).pipe(it(u=>{if(!u.draft.available&&!u.published.available)return ve({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Wo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ce(f=>{let[p,m]=f;const g=Ct(p)&&"_type"in p&&p._type||Ct(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof g=="string"?g:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function JZt(e){return JBt(e.reduce((t,n,r)=>{let[o,i]=n;const s=Rm(i.join(","),y_e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function eXt(e){return JSON.stringify(e)}const tXt=e=>gDe(e)?'"'.concat(e,'": @').concat(LB(e)):e;function nXt(e){let{ids:t,fields:n}=e;const r=[...WDe,...n];return"*[_id in [".concat(t.map(eXt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(tXt).join(","),"}")}function rXt(e){return"[".concat(e.map(nXt).join(","),"][0...").concat(e.length,"]")}function oXt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function iXt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const sXt=e=>e;function aXt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sXt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function lXt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=kr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(fa()),C=w.pipe(pt(S=>S.type==="welcome"),Do({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(pt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return nn(C.welcome$,C.mutations$.pipe(pt(_=>_.documentId===w)))}function s(w){return function(_){const S=JZt(_);return w.observable.fetch(rXt(S),{},{tag:"preview.document-paths"}).pipe(ce(k=>oXt(k,S)))}}const a=tk(s(n),100),c=tk(s(n),1e3);function u(w,C){return i(w).pipe(it(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ft(S=>Ur(ve(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=OT(function(C){const _=n.withConfig(C),S=s(_);return tk(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Bi(document,"visibilitychange").pipe(ci(0),ce(()=>document.visibilityState==="visible"),it(w=>w?Yo(0,p):Zn),fa());function g(w,C,_){return m.pipe(ci(0)).pipe(it(()=>f(_)(w,C)))}function v(w,C,_){let S=null;const k=nn(po(()=>S===null?Zn:ve(S)),_?g(w,C,_):u(w,C)).pipe(wn(j=>S=j),Do({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:k}}function b(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const k=d[S];Ex(C,In(k.map(T=>T.fields))).length>0&&k.push(v(w,C,_));const E=k.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Wo(E).pipe(ce(T=>T.filter(Boolean)),pt(T=>aXt(T,A=>A._rev)),ce(T=>T.length===0?null:x(T,C)),Xn(iXt(C)))}return{observeFields:b};function x(w,C){return[...kZt,...C].reduce((_,S)=>{const k=y(w,S);return k!==void 0&&(_[S]=k),_},{})}function y(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function cXt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=lXt({observePaths:r,versionedClient:n}),{observePaths:i}=GZt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>Ct(p)&&typeof p._type=="string"?p._type:void 0),Xn())}const a=XZt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=qDe(n,i),{observePathsDocumentPair:u}=QZt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const uXt=e=>!!(e.type&&e.type.name==="document"),dXt=e=>e.name.startsWith("sanity."),fXt=e=>e.getTypeNames().map(t=>e.get(t)).filter(vo).filter(t=>uXt(t)).filter(t=>!dXt(t)),hXt=(e,t)=>{const{phrases:n,words:r}=yXt(e),[o,i]=gXt(n,t),[s,a]=vXt(r,t);return[o+s,[a,i].join(", ")]},pXt=e=>typeof e=="string"?e:JSON.stringify(e);function mXt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=F9(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=pXt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,g]=hXt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(g," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function gXt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function vXt(e,t){const n=mo(KT(wke(Sv(t)))),r=m5(e,n),o=W5e(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function yXt(e){const t=mo(e.map(Sv)),[n,r]=k9(t,o=>/^".*"$/.test(o));return{phrases:mo(n).map(Sv).map(bXt),words:mo(r.map(Sv))}}function bXt(e){return e.replace(/^"(.*)"$/,"$1")}const xXt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,wXt=/(^[.]+)|([.]+$)/;function CXt(e){return(e.match(xXt)||[]).map(t=>t.replace(wXt,""))}const _Xt=4,SXt=1e3,kXt=aAt([In,W5e,KT]);function nre(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:cYt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const GDe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function EXt(e,t){const n=kXt(t.map(o=>(o.paths||[]).map(i=>GDe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function jXt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>wke(i).length>1?(t.push(i),""):i),r=t.map(i=>CAt(Sv(i))),o=mo(KT(CXt(Sv(n))));return[...r,...o]}function TXt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function KDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=nre(e.types,!1),u=jXt(e.query),d=c?nre(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...EXt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const k='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((E,T)=>'"w'.concat(T,'": ').concat(GDe(E)))," }");return"".concat(k).concat(j)}),m=TXt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),g=["_type","_id"],v=p.length>0?"...select(".concat(p.join(`,
`),")"):"",b=g.join(", ")+(v?", ".concat(v):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(b,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,k=g.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(k,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(b,"}")].join("|")}const y=["findability-mvi:".concat(_Xt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:SXt)+C;return{query:w,params:{...AXt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const AXt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function DXt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function oN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=DXt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=KDe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ce(ZWt):wn(),ce(p=>mXt(d,p,f)),i!=null&&i.skipSortByScore?wn():ce(p=>Rm(p,m=>-m.score)))}}const IXt={available:!0,reason:"READABLE"},rre={available:!1,reason:"PERMISSION_DENIED"},ore={available:!1,reason:"NOT_FOUND"};function ZDe(e,t,n){const{publishedId:r,draftId:o}=mDe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(it(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?rre:ore;return ve({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Wo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(it(d=>{if(!d)return ve({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(b=>b.name===d);if(!f)return ve({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...eN(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(b=>b?{_id:o,...$E(b,f)}:void 0),ci(void 0)),g=e.observePaths(c,p).pipe(ce(b=>b?{_id:r,...$E(b,f)}:void 0),ci(void 0));return Wo([m,g]).pipe(ce(b=>{let[x,y]=b;return{draft:x,published:y}})).pipe(ce(b=>{const x=s.draft.available||s.published.available?IXt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?rre:ore;return{type:d,id:r,availability:x,preview:{draft:Ct(b.draft)?b.draft:void 0,published:Ct(b.published)?b.published:void 0}}}))}))}))}function OXt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:fi(t.id))}function PXt(e,t){return t.length===0?ve([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function XDe(e,t,n,r){return oN(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(RA),ce(i=>i.slice(0,100)),ft(i=>PXt(e,OXt(i)).pipe(ce(s=>i.map(a=>{const c=fi(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function RXt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const dm=Symbol.for("sanity.patch");function os(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:dm,type:"setIfMissing",path:t,value:e}}function pf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:dm,type:"insert",path:n,position:t,items:e}}function xt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:dm,type:"set",path:t,value:e}}function nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:dm,type:"unset",path:e}}function $Xt(e,t){return{...e,path:[t,...e.path]}}class dt{static from(t){return t instanceof dt?t:new dt(Array.isArray(t)?In(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...In(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...this.patches,...In(n)])}prefixAll(t){return dt.from(this.patches.map(n=>$Xt(n,t)))}}var ire=Object.freeze,MXt=Object.defineProperty,FXt=(e,t)=>ire(MXt(e,"raw",{value:ire(t||e.slice())})),sre;const LXt={warning:"caution",error:"critical"},BXt=P(M)(sre||(sre=FXt([`
  border-top: 1px solid var(--card-border-color);
`])));function Jc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(J,{radius:2,tone:LXt[n],...i,"data-ui":"Alert",children:[l.jsxs(U,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx(jr,{}),n==="error"&&l.jsx(ga,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(BXt,{children:r})]})}function iN(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Wi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xu;const r=iN(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function QDe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const JDe=h.createContext(null);function pi(){const e=h.useContext(JDe);if(!e)throw new Error("FormBuilder: missing context value");return e}const NXt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function sN(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=re.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(on,{children:l.jsx(ie,{icon:ia,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(ie,{icon:ia,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Jt,{button:l.jsx(ie,{icon:ia,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((u,d)=>{var f,p;const m=Lu(u)&&(u.to||[]).length===1&&u.to[0].icon,g=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ne,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:g},d)})}),popover:NXt}),r]})}var are=Object.freeze,zXt=Object.defineProperty,VXt=(e,t)=>are(zXt(e,"raw",{value:are(t||e.slice())})),lre;const HXt=e=>e==="error"?l.jsx(ga,{}):e==="warning"?l.jsx(jr,{}):l.jsx(Cm,{}),UXt=P(L)(e=>{let{theme:t}=e;return fe(lre||(lre=VXt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function eIe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=pi().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(te,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(UXt,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:HXt(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function WXt(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const aN=re.createContext(null),_C=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,g,v;return(v=(g=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:g.call(m,p))!=null?v:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(aN.Provider,{value:f,children:t.children})});function xa(){const e=h.useContext(aN);if(!e)throw new Error("Form context not provided");return e}function lN(e,t){return F4(e,t,new WeakSet)}function F4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=F4(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=F4(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const tIe=h.createContext([]);function YXt(e){return l.jsx(tIe.Provider,{value:e.presence,children:e.children})}function qXt(){const e=h.useContext(tIe);if(!e)throw new Error("Form context not provided");return e}function f1(e,t){const n=qXt(),r=h.useRef(n),o=lN(r.current,n.filter(i=>Ai(e,i.path)&&(t||!xn(e,i.path))));return r.current=o,o}const nIe=h.createContext([]);function GXt(e){return l.jsx(nIe.Provider,{value:e.validation,children:e.children})}function KXt(){const e=h.useContext(nIe);if(!e)throw new Error("Form context not provided");return e}function cN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=KXt();return h.useMemo(()=>n.filter(r=>Ai(e,r.path)&&(t||!xn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function ZXt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(CC,{content:r,placement:"left",children:l.jsx(Ne,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Ya:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const XXt={placement:"right",fallbackPlacements:["top","bottom"]};function QXt(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(L4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(f8,{fontSize:1,icon:t.icon,padding:3,popover:XXt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(L4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function L4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Rr,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Rr,{}),l.jsx(QXt,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Rr,{}),l.jsx(ZXt,{action:t})]})}const rIe={placement:"top"};function cre(e){return"renderAsButton"in e&&e.renderAsButton}const JXt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(cre),[n]),u=h.useMemo(()=>n.filter(p=>!cre(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:qo,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(eQt,{node:p,onOpen:s,onClose:a,open:o},m))})}),eQt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(J,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(xh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:rIe}):l.jsx(nQt,{node:n,onOpen:r,onClose:o,open:i})}),tQt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function nQt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(Jt,{button:l.jsx(xh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:rIe}),id:h.useId(),menu:l.jsx(Bt,{children:t.children.map((i,s)=>{var a;return l.jsx(L4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:tQt})}function oIe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:oIe(t.children)}:t)}const SC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((g,v)=>{f(b=>{const x=[...b];return x[g]=v,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(oIe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const g=Array.from(new Array(c));for(let v=0;v<c;v++)g[v]=p.current[v];u.current=c,f(g),p.current=g}},[c]),l.jsx(l.Fragment,{children:n.map((g,v)=>l.jsx(rQt,{action:g,index:v,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},v))})}),rQt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Vo(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),iIe=h.createContext(null);function uN(){const e=h.useContext(iIe);if(!e)throw new Error("UserColorManager: missing context value");return e}function oQt(e){const t=uN();return yo(e?t.listen(e):mnt(),[e],t.get(null))}const iQt="purple",sQt=["green","red","gray"],aQt=t1e.filter(e=>!sQt.includes(e)),sIe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},lQt=e=>{const{background:t,border:n,text:r}=sIe(e);return aQt.reduce((o,i)=>(o[i]={name:i,background:le[i][t].hex,border:le[i][n].hex,text:le[i][r].hex,tints:le[i]},o),{})},cQt=e=>{const{background:t,border:n,text:r}=sIe(e);return{name:"gray",background:le.gray[t].hex,border:le.gray[n].hex,text:le.gray[r].hex,tints:le.gray}};function uQt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||lQt(o),s=t||cQt(o),a=r||iQt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((E,T)=>(E[T]=0,E),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(E=>k(E?E.id:null)),{get:g,listen:b};function g(E){return E?i[v(E)]:s}function v(E){if(E===m)return a;const T=p.get(E);if(T)return T;const A=d.get(E);if(A&&(f[A]===0||!C()))return x(E,A);const D=j(E);return f[D]===0?x(E,D):x(E,_(A))}function b(E){let T=u.get(E);if(T)return T;const A=v(E);return T=S(E,A),u.set(E,T),T}function x(E,T){return p.set(E,T),d.set(E,T),f[T]++,T}function y(E,T){p.delete(E),f[T]--}function w(){return c.find(E=>f[E]===0)}function C(){return!!w()}function _(E){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),E&&A.includes(E)?E:A[0]}function S(E,T){return new mt(A=>{const D=i[T];return A.next(D),()=>{u.delete(E),y(E,T)}}).pipe(Do({refCount:!0}))}function k(E){m=E,f[a]+=E?1:-1}function j(E){let T=0;for(let A=0;A<E.length;A++)T=(T<<5)-T+E.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function dQt(e){let{children:t,manager:n}=e;const{scheme:r}=tu(),o=h.useMemo(()=>n||uQt({scheme:r}),[n,r]);return l.jsx(iIe.Provider,{value:o,children:t})}const fQt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hQt=/_key\s*==\s*['"](.*)['"]/;function Cn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Mr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Dl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(kl(n))return Dl(Array.isArray(e)?e[n]:void 0,r);if(Mr(n))return Dl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Dl(Ct(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function pQt(e,t){return typeof t!="number"&&!Mr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Il(n)&&n._key===t._key)}function mQt(e){const t=e.match(fQt);if(!t)throw new Error("Invalid path string");return t.map(gQt)}function gQt(e){return kl(e)?vQt(e):Mr(e)?yQt(e):Hp(e)?bQt(e):e}function vQt(e){return Number(e.replace(/[^\d]/g,""))}function yQt(e){const t=e.match(hQt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function bQt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function aIe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Mr(n)&&Mr(o)?n._key===o._key:kl(n)?Number(n)===Number(o):Hp(n)&&Hp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function lIe(e){return Il(e)?e._key:void 0}function B4(e){const t=lIe(e);return t?{_key:t}:void 0}function xQt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function cIe(e,t){return e.get((t==null?void 0:t.author)||null)}function kC(e,t){const n=Array.isArray(t)?t:mQt(t);return wQt(e,n)}function wQt(e,t){const n=N4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function N4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Hp(r))throw new Error("Index tuples are not supported in diff paths");if(kl(r)||Mr(r)){const s=kl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(Cn(n)," (not an array)");return}const a=e.items.find(kl(r)?c=>c.toIndex===r:c=>CQt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(Cn(n)," (item missing)");return}return N4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(Cn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(Cn(n)," (field did not exist)");return}return N4(i,o,n.concat(r))}function CQt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function NA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){_Qt(e,t,n);return}if(e.type==="object"){SQt(e,t,n);return}e.type==="string"&&kQt(e,t,n)}}function _Qt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:EQt(r);NA(r.diff,t,n.concat(s))})}function SQt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];NA(o,t,n.concat(r))})}function kQt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{NA(r,t,n)})}function EQt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function uIe(e){const t=uN();return cIe(t,e)}function x0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=uN(),r=h.useMemo(()=>kC(e,t),[e,t]);return h.useMemo(()=>cIe(n,r),[r,n])}function is(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=kC(t,n);return l.jsx(ure,{...r,annotations:o?[o]:[]})}return l.jsx(ure,{...e})}function ure(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(te,{padding:3,space:2,children:[l.jsx(Vt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(te,{space:2,children:t.map((s,a)=>l.jsx(jQt,{annotation:s},a))})]});return l.jsx(od,{zOffset:"paneFooter",children:l.jsx(at,{content:i,portal:!0,...o,children:n})})}function jQt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=_1(n),i=uIe(t),s=ni(r,{minimal:!0});return l.jsxs(Gt,{space:2,children:[l.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Za,{user:n}),l.jsx(Gt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var dre=Object.freeze,TQt=Object.defineProperty,AQt=(e,t)=>dre(TQt(e,"raw",{value:dre(t||e.slice())})),fre;const DQt=P(J)(fre||(fre=AQt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),IQt=[],$i=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=IQt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||kC(a,u),[r,a,u]),g=uIe(m),v=l.jsx(DQt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:g.background,color:g.text},children:i});return f&&m?l.jsx(is,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:v}):v});var hre=Object.freeze,OQt=Object.defineProperty,dIe=(e,t)=>hre(OQt(e,"raw",{value:hre(t||e.slice())})),pre,mre;const dN=P.div(pre||(pre=dIe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])}),ME=P(L)(mre||(mre=dIe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function PQt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(RQt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx($Qt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(MQt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function RQt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?kC(n.diff,[]):void 0)||t;return c?l.jsx($i,{annotation:c,tooltip:{description:i},as:dN,children:l.jsx(ME,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function $Qt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx($i,{annotation:t||null,as:dN,tooltip:{description:o},children:l.jsxs(ME,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function MQt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(ME,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx($i,{annotation:t,as:dN,tooltip:{description:a},children:l.jsxs(ME,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function fIe(e){const{change:t,titlePath:n}=e;return l.jsx(u8,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Hc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(PQt,{change:t,segment:r},o):null)})}function FQt(e){return Ct(e)&&typeof(e==null?void 0:e.then)=="function"}function LQt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return FQt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const z4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Vo(i),a=Ko();return LQt(t,n,{currentUser:a,document:r,parent:o,value:s})},id=h.createContext({path:[]});function V4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(BQt(t)&&NQt(e))for(const o of t.fields){const i=V4(e[o.name],o.type);if(i)return i}}}function BQt(e){return e.jsonType==="object"}function NQt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function zQt(e){return WF(e)?e._type:HQt(e)}function VQt(e,t){return e.action==="added"?{toType:gy(t,e.toValue)}:e.action==="changed"?{fromType:gy(t,e.fromValue),toType:gy(t,e.toValue)}:e.action==="removed"?{fromType:gy(t,e.fromValue)}:{toType:gy(t,e.toValue)}}function gy(e,t){const n=zQt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function HQt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const h1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],zA="",p1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],UQt="↲",FE=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],WQt=" ",hIe="⁠";function YQt(e){return e.of.some(mIe)}const qQt=p1.map(e=>e[0]).concat(h1.map(e=>e[0])),GQt=p1.map(e=>e[1]).concat(h1.map(e=>e[1])),pIe=qQt.concat(GQt).concat(FE).concat(zA).concat(hIe),gre=new RegExp("".concat(pIe.join("|")),"g"),KQt=new RegExp("".concat(pIe.join("|"),`|
`),"g");function mIe(e){return e.jsonType==="object"&&e.name==="block"}function ZQt(e){return th(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function vre(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function H4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function fN(e){return e.decorators?e1(e.decorators,["value"],["asc"]):[]}function gIe(e,t){return fN(t).some(n=>n.value===e)}function yre(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=oa(i)?(s=i.text)==null?void 0:s.replace(gre,""):"";if(oa(i)){const c=hN(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(gre,"")).join(hIe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(zA).concat(a)}).join(""):""}function XQt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=H4(t.fields,{_key:"bogus",_type:"span"});a&&fN(a).forEach((v,b)=>{i[v.value]=p1[b]}),bIe(r.origin).forEach((v,b)=>{o[v._key]=h1[b]}),vIe(r.origin).forEach((v,b)=>{s[v._key]=FE[b]});const d=yre(r.origin,r.fromValue,i,o,s),f=yre(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:QQt(d,f).map(v=>({...v,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function QQt(e,t){const n=[],r=H9(sC(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case An:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Gn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return In(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(KQt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function vIe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),e1(t,["_key"],["asc"])}function hN(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function JQt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function yIe(e){return e&&Ht(Object.keys(e),["_key","_type"])||!1}function eJt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function bIe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),e1(t,["_key"],["asc"])}const tJt=[];function nJt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function rJt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const oJt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?nJt:rJt,c=x0(t,[]),u=o!=null;return l.jsxs(U,{align:"center",children:[l.jsx(is,{diff:t,children:l.jsxs(U,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(xN,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var bre=Object.freeze,iJt=Object.defineProperty,sJt=(e,t)=>bre(iJt(e,"raw",{value:bre(t||e.slice())})),xre;const aJt="YYYY-MM-DD",lJt="HH:mm",cJt=P.div(xre||(xre=sJt([`
  display: inline-block;
  word-wrap: break-word;
`]))),uJt=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:cJt,paddingX:2,paddingY:1,children:dJt(n,r)})};function dJt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||aJt,i=(n==null?void 0:n.timeFormat)||lJt;return uA(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const wre=e=>{let{diff:t,schemaType:n}=e;return l.jsx(EC,{align:"center",diff:t,layout:"grid",previewComponent:uJt,schemaType:n})},xIe=h.createContext(null);function VA(){const e=h.useContext(xIe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Cre(e){const[t,n]=h.useState(void 0),r=Jn(sn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function fJt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var _re=Object.freeze,hJt=Object.defineProperty,pJt=(e,t)=>_re(hJt(e,"raw",{value:_re(t||e.slice())})),Sre;const mJt=P.div(Sre||(Sre=pJt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),gJt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Cre(s==null?void 0:s._ref),u=Cre(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[k,j]=S;return j.isChanged&&k!=="_type"}).map(S=>{let[k]=S;return k}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,g=(u==null?void 0:u.size)&&u.size/1e3/1e3,v=fJt(m,g),b=m?m.toFixed(2):void 0,x=g?g.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx($i,{as:"del",diff:t,path:"asset._ref",style:y,children:l.jsx(G4,{title:c.originalFilename||"Untitled",icon:Bf,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")})})}),C=u&&l.jsx($i,{as:"ins",diff:t,path:"asset._ref",style:y,children:l.jsx(G4,{title:u.originalFilename||"Untitled",icon:Bf,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),v!==0&&l.jsx(J,{radius:2,padding:1,as:mJt,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":v>0?"positive":"negative",children:[v>0&&"+",v,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(is,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(is,{diff:t,path:"asset._ref",children:l.jsx(wN,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(is,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(jC,{diff:t,schemaType:n,fields:p})})]})};function kre(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function vJt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function yJt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function bJt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=x0(n,"crop"),u=x0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(Ere,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(is,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(xJt,{crop:t,fill:kre(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(is,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(Ere,{hotspot:o,fill:kre(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function xJt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Ere(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var jre=Object.freeze,wJt=Object.defineProperty,pN=(e,t)=>jre(wJt(e,"raw",{value:jre(t||e.slice())})),Tre,Are,Dre;const CJt=["originalFilename"],Ire=()=>l.jsx(J,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(U,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),_Jt=P.div(Tre||(Tre=pN([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),le.gray[100].hex,le.gray[50].hex,le.gray[50].hex,le.gray[50].hex,le.gray[50].hex),SJt=P.img(Are||(Are=pN([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),kJt=P.div(Dre||(Dre=pN([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function KO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=Jn(sn),[p,m]=re.useState(),{value:g}=pwn(i,CJt),v=Kjt(i),b=h.useMemo(()=>GT(f),[f]),x=g===null,y=g&&g.originalFilename||"Untitled",w=b.image(i).height(190).dpr(yJt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(U,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(U,{as:_Jt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(SJt,{src:w.toString()||"",alt:y,"data-action":_,onError:m,width:v.width,height:v.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(kJt,{children:l.jsx(bJt,{crop:u&&!$jt(u)?u:void 0,diff:a,hash:vJt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!Mjt(c)?c:void 0,width:v.width,height:v.height})})]})}),l.jsx(G4,{title:y,icon:Pl,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[v.width," × ",v.height]})})]})}const EJt=["crop","hotspot"],jJt=["asset",...EJt],ZO={flex:1},TJt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=kC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!jJt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let g="changed";!u&&d?g="added":!d&&u&&(g="removed");const v=p.includes("asset"),b=p.includes("crop"),x=p.includes("hotspot"),y=b||x,w=v||y,C=y&&!v,_=i&&u?l.jsx($i,{annotation:f,style:ZO,children:l.jsx(KO,{is:"from",id:u,diff:t,action:g,hotspot:C&&x?i.hotspot:void 0,crop:C&&b?i.crop:void 0})}):l.jsx(Ire,{}),S=s&&d?l.jsx($i,{annotation:f,style:ZO,children:l.jsx(KO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&b?s.crop:void 0})}):l.jsx(Ire,{});if(!_&&!S)return l.jsx(J,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx($i,{annotation:f,style:ZO,children:l.jsx(KO,{id:d,is:"to",diff:t})}):null;const k=l.jsx(wN,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(v?l.jsx(is,{annotations:f?[f]:[],description:"".concat(g[0].toUpperCase()).concat(g.slice(1)),children:k}):k),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(jC,{diff:t,schemaType:n,fields:m})})]})};var Ore=Object.freeze,AJt=Object.defineProperty,DJt=(e,t)=>Ore(AJt(e,"raw",{value:Ore(t||e.slice())})),Pre;const IJt=P.div(Pre||(Pre=DJt([`
  display: inline-block;
  word-break: break-all;
`]))),OJt=e=>{const{value:t}=e;return l.jsx(M,{as:IJt,paddingX:2,paddingY:1,children:t})},PJt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(EC,{diff:t,schemaType:n,previewComponent:OJt,layout:"inline"})};var Rre=Object.freeze,RJt=Object.defineProperty,$Jt=(e,t)=>Rre(RJt(e,"raw",{value:Rre(t||e.slice())})),$re;const MJt=P.blockquote($re||($re=$Jt([`
  margin: 0;
`])));function FJt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(MJt,{children:t})})}var Mre=Object.freeze,LJt=Object.defineProperty,BJt=(e,t)=>Mre(LJt(e,"raw",{value:Mre(t||e.slice())})),Fre;const NJt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},zJt=P(Go)(Fre||(Fre=BJt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function VJt(e){let{style:t,children:n}=e;return l.jsx(zJt,{size:NJt[t],children:n})}var Lre=Object.freeze,HJt=Object.defineProperty,UJt=(e,t)=>Lre(HJt(e,"raw",{value:Lre(t||e.slice())})),Bre;const WJt=P.div(Bre||(Bre=UJt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function YJt(e){let{children:t}=e;return l.jsx(WJt,{children:t})}const qJt=[];function GJt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=x0(o,qJt),{path:c}=h.useContext(id),{onSetFocus:u}=h.useContext(Hm),d=o.action==="removed";let f=s;const p=h.useCallback(g=>{g.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(FJt,{children:f}):i.style&&ZQt(i)?f=l.jsx(VJt,{style:i.style,children:f}):f=l.jsx(YJt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const g=a?{background:a.background,color:a.text}:{};f=l.jsx(J,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(te,{space:2,children:[l.jsx(is,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:g,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Nre=Object.freeze,KJt=Object.defineProperty,HA=(e,t)=>Nre(KJt(e,"raw",{value:Nre(t||e.slice())})),zre,Vre,Hre,Ure;const m1=P(M)(zre||(zre=HA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),wIe=P(L)(Vre||(Vre=HA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),mN=P(M)(Hre||(Hre=HA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),m1),CIe=P(M)(Ure||(Ure=HA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var Wre=Object.freeze,ZJt=Object.defineProperty,XJt=(e,t)=>Wre(ZJt(e,"raw",{value:Wre(t||e.slice())})),Yre;const U4=P.div(Yre||(Yre=XJt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),mN);function QJt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(JJt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(U4,{children:t}):l.jsx(U4,{...s,children:"Unknown schema type"})}function JJt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Hm),{path:c}=h.useContext(id),[u,d]=h.useState(null),f=x0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[g,v]=h.useState(!1),b=r&&yIe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>c.slice(0,c.findIndex(I=>Mr(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),C=h.useMemo(()=>y.concat(x),[x,y]),_="field-".concat(Ir(C)),S=$B(),k=h.useMemo(()=>S.filter(I=>{let[O]=I;return O.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!g&&k&&(v(!0),a(C))},[k,C,a,g]);const j=h.useCallback(I=>{I.stopPropagation(),v(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),E=h.useCallback(()=>{k||v(!1)},[k]);dr(E,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(id.Provider,{value:{path:C},children:l.jsx(CIe,{padding:3,children:l.jsxs("div",{children:[b&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!b&&l.jsx(jC,{diff:t,schemaType:o})]})})});return l.jsx(U4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(an,{content:D,open:g,ref:d,portal:!0,children:l.jsx(mN,{paddingLeft:1,children:l.jsx(is,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(m1,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(wIe,{size:0,children:l.jsx(nl,{})})})]})})})})})}var qre=Object.freeze,een=Object.defineProperty,ten=(e,t)=>qre(een(e,"raw",{value:qre(t||e.slice())})),Gre;const nen=P.span(Gre||(Gre=ten([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function ren(e){let{mark:t,children:n}=e;return l.jsx(nen,{decoration:t,children:n})}var Kre=Object.freeze,oen=Object.defineProperty,ien=(e,t)=>Kre(oen(e,"raw",{value:Kre(t||e.slice())})),Zre;const W4=P(J)(Zre||(Zre=ien([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),m1);function sen(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(aen,{...o,diff:t,object:n,schemaType:r}):l.jsx(W4,{children:l.jsx(PC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(W4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function aen(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(id),{onSetFocus:a}=h.useContext(Hm),c=x0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&yIe(n),m=t.action==="removed",v=s.slice(0,s.findIndex(E=>Mr(E)&&E._key===n._key)).concat(r),b="field-".concat(Ir(v)),y=$B().filter(E=>{let[T]=E;return T.startsWith(b)}).length>0,w=s.slice(0,-1).concat(r).concat([_0e]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const C=h.useCallback(E=>{if(E.stopPropagation(),f(!0),!m){a(w);return}E.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(id.Provider,{value:{path:v},children:l.jsx(len,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),k=t.action!=="unchanged"&&t.annotation||null,j=k?[k]:[];return l.jsx(W4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(an,{content:S,open:d,portal:!0,children:l.jsx(mN,{children:l.jsx(is,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(m1,{children:[l.jsx(PC,{schemaType:o,value:n,layout:"inline"}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(wIe,{size:0,children:l.jsx(nl,{})})})]})})})})})}function len(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return dr(a,[i]),l.jsxs(CIe,{ref:s,padding:3,children:[n&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(jC,{diff:t,schemaType:o})]})}function cen(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(uen,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(m1,{children:r})}function uen(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=re.useContext(Hm),{path:c}=re.useContext(id),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(y=>Mr(y)&&Mr(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),v=t&&t.segments.find(y=>y.text===i.text)||t||n,b=v&&v.action!=="unchanged"&&v.annotation||null,x=b&&i.action!=="unchanged"?l.jsx($i,{annotation:b,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(i.action)," text")},children:r}):null;return l.jsx(m1,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const gN=p1.map(e=>e[0]),vN=p1.map(e=>e[1]),nk=h1.map(e=>e[0]),Y4=h1.map(e=>e[1]),den=gN.concat(nk),_Ie=vN.concat(Y4),fen=gN.concat(vN),hen=new RegExp("".concat(fen.concat(_Ie).join("|")),"g");function pen(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?vIe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=H4(n.fields,s);let c=[];if(a){c=fN(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(ven(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=vre(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return l.jsx($i,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(y.action)," empty text")},children:l.jsx("span",{children:UQt})},"empty-block-".concat(r._key))}let m=-1,g=-1;const v=[];let b;const x=bIe(t.origin);return d.forEach(y=>{var w,C,_;g++;const S=FE.includes(y.text),k=den.includes(y.text),j=_Ie.includes(y.text),E=y.text===zA,T=y.action==="removed";if(E)T||m++;else if(k||j){if(k&&nk.includes(y.text)){const A=x[nk.indexOf(y.text)];A&&v.push({mark:A._key,symbols:[y.text,Y4[nk.indexOf(y.text)]],object:A})}j&&Y4.includes(y.text)&&(b=v.pop())}else if(S){const A=FE.findIndex(O=>O===y.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const O=H4(n.fields,I),$=vre(t.origin,I);f.push(l.jsx(sen,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:O},"inline-object-".concat(I._key)))}}else if(y.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(z=>z.text&&z.text.match(eJt(y.text)))},D=r.children[m]||A(),I=D&&hN(t.origin,D);if(!D)throw new Error("Could not find child");const O=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(cen,{diff:O,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:y,children:men({diff:t,child:D,decoratorTypes:c,seg:y,segIndex:g,spanSchemaType:a})},"text-".concat(D._key,"-").concat(g));if(v.length>0&&v.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),b){const R="annotation-".concat(b.object._key),z=f[f.length-1];if(z&&z.key!==R){const F=JQt(t.origin,b.mark),H=b&&a.annotations&&a.annotations.find(W=>b&&b.object&&W.name===b.object._type);f.push(l.jsx(QJt,{object:b.object,diff:F,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:l.jsx(l.Fragment,{children:p[b.mark]})},R))}b=void 0}v.length===0&&f.push($)}}),re.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(GJt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function men(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,WQt)},"text-".concat(i));const c=n&&hN(t.origin,n),u=oa(n)?n.marks||[]:[];return c&&(a=gen({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{gIe(d,s)&&(a=l.jsx(ren,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function gen(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,g=m&&m.action!=="unchanged"&&m.annotation||p;let v=[];const x=f.split(zA).filter(S=>!!S).join(""),y=x.substring(0,x.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),C=[];return[...w.matchAll(hen)].forEach(S=>{var k;const j=S[0],E=p1.concat(h1).find(T=>T.indexOf(j)>-1);if(E){const T=j===E[0],A=((k=n[T?gN.indexOf(j):vN.indexOf(j)])==null?void 0:k.value)||j;w.lastIndexOf(j)>w.lastIndexOf(E[1])&&C.push(A)}}),v=zLt(t,mo(C)),g&&v.length>0&&v.some(S=>gIe(S,c))&&(d=l.jsx($i,{annotation:g,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(v.join("-")))),d}function ven(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const yen=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>XQt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(pen,{diff:r,schemaType:n})})};var Xre=Object.freeze,ben=Object.defineProperty,xen=(e,t)=>Xre(ben(e,"raw",{value:Xre(t||e.slice())})),Qre;const wen=P.div(Qre||(Qre=xen([`
  word-wrap: break-word;
`]))),Cen=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:wen,padding:2,children:l.jsx(PC,{schemaType:n,value:t,layout:"default"})})},_en=e=>{let{diff:t,schemaType:n}=e;return l.jsx(EC,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:Cen,schemaType:n})};var Jre=Object.freeze,Sen=Object.defineProperty,ken=(e,t)=>Jre(Sen(e,"raw",{value:Jre(t||e.slice())})),eoe;const Een=P.div(eoe||(eoe=ken([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),jen=e=>{const{value:t}=e;return l.jsx(M,{as:Een,paddingX:2,paddingY:1,children:t})};var toe=Object.freeze,Ten=Object.defineProperty,Aen=(e,t)=>toe(Ten(e,"raw",{value:toe(t||e.slice())})),noe;const Den=P.div(noe||(noe=Aen([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),Ien=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(EC,{diff:t,previewComponent:jen,schemaType:n}):l.jsx(Den,{children:l.jsx(_tn,{diff:t})})},roe={block:yen,boolean:{component:oJt,showHeader:!1},date:wre,datetime:wre,file:gJt,image:TJt,number:PJt,reference:_en,string:Ien};function SIe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||Oen(r,t)||roe[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return roe[i]}function Oen(e,t){const n=tJt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function Pen(e){const t=ooe(e.fromValue),n=ooe(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function kIe(e){return e.type==="field"}function ooe(e){return e!==null&&typeof e<"u"&&e!==""}function yN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!SIe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return EIe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return Men(e,t,n,r)}return jIe(e,t,n,r,o)}function EIe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...Ren(c.field,t,n,r,s)):i.push(...$en(c,t,n,r,s));return i.length<2?i:[{type:"group",key:Cn(n)||"root",path:n,titlePath:r,changes:bN(i,r.length),schemaType:e}]}function Ren(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return yN(e.type,a,c,u,s)}function $en(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,g=r.concat([a||s]),v=[];for(const b of i){const x=t.fields[b.name];if(!x||!x.isChanged||d&&!d.includes(b.name))continue;const y=n.concat([b.name]),w=g.concat([b.type.title||b.name]);v.push(...yN({readOnly:m,hidden:p,...b.type},x,y,w,f))}return v.length<2?v:[{type:"group",key:Cn(n)||"root",fieldsetName:s,path:n,titlePath:g,changes:bN(v,g.length),readOnly:m,hidden:p}]}function Men(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=YQt(e),s=[],a=o.reduce((c,u)=>{const d=VQt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",Cn(n)),c;const p=B4(u.diff.fromValue)||B4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),g={itemDiff:u,parentDiff:t,parentSchema:e},v=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=y=>(y.type==="field"&&aIe(m,y.path)&&(y.itemDiff=u),y),x=yN(f,u.diff,m,v,g).map(b);return i&&x.filter(kIe).forEach((y,w,C)=>{y.showHeader=C.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...jIe(f,u.diff,m,v,g)):c.push(...x),c},s);return a.length>1?[{type:"group",key:Cn(n)||"root",path:n,titlePath:r,changes:bN(a,r.length),schemaType:e}]:a}function jIe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&ioe(a)&&ioe(c))return[];let d;typeof a<"u"&&(d=V4(a,e)),!d&&typeof c<"u"&&(d=V4(c,e));let f=!0,p;const m=SIe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:Cn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function bN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function ioe(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const soe=e=>e.type==="field"&&e.diff.action==="added",TIe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...TIe(n))}),t},AIe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Fen=(e,t)=>{const n=e[t],r=lIe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},Len={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function UA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=TIe(e),i=o.filter(soe);o.filter(s=>!soe(s)).forEach(s=>UA(s,t,n)),r.push(...aoe(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...aoe(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...Nen(e.itemDiff,e.parentDiff,e.path)):r.push(...zen(e.diff,t,e.path));n.patch.execute(r)}function Ben(e,t,n){const r=e.toValue;return DIe(r,t,n)}function aoe(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>AIe(t[r],i))||n.push(Ben(e,t[r],t));return[{unset:[...new Set(n.map(Cn))]}]}function DIe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Dl(e,o),s=[o,...n.filter(a=>!AIe(a,o))];return IIe(i,o,n)?DIe(e,o,s,r):t}function Nen(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=Uen(t,e);let a;if(i===0)a={before:Cn([...r,0])};else{const c=i-1,d=B4(o[c])||c;a={after:Cn([...r,d])}}return[{unset:[Cn(n)]},{insert:{...a,items:[s]}}]}function zen(e,t,n){const r=bA(e.toValue,e.fromValue,Len,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:Cn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(Cn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...Ven(f.path,t,s)),d[Cn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function Ven(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=Cn(a);if(n.has(c))continue;const u=e[s],d=Mr(u)||kl(u),f=Dl(r,a),p=loe(f);if(d&&Array.isArray(f)&&!Dl(o,e.slice(0,s+1))){const m=pQt(f,u),g=f[m-1],v=Dl(r,a.concat(u)),b=Il(g)?{_key:g._key}:m-1,x=Cn(a.concat(m<1?0:b));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[loe(v)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function Hen(e,t,n){if(!Ct(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,Fen(e,r)];if(!IIe(e[r],o,n))return!1}return!0}function IIe(e,t,n){const r=n==null?void 0:n.some(i=>Cn(i)===Cn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||xQt(e)||Hen(e,t,n)}function loe(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Il(e)&&(t._key=e._key),WF(e)&&(t._type=e._type),t}function Uen(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const eu=!1;class Wen extends re.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(J,{padding:3,radius:2,tone:"critical",children:l.jsxs(U,{children:[l.jsx(L,{size:1,children:l.jsx(ga,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),eu]})]})}):this.props.children}}const Yen={down:n1e,right:r1e};function xN(e){const{direction:t="right",...n}=e,r=Yen[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var coe=Object.freeze,qen=Object.defineProperty,OIe=(e,t)=>coe(qen(e,"raw",{value:coe(t||e.slice())})),uoe,doe;const XO=P.pre(uoe||(uoe=OIe([`
  overflow-x: auto;
  position: relative;
`]))),Gen=P.div(doe||(doe=OIe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Ken(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:g}=p;m&&g==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(Zen,{change:r}):t})}const QO=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:Gen,children:l.jsx(Vt,{size:1,muted:!0,children:t})})};function Zen(e){let{change:t}=e;var n,r,o;return l.jsxs(te,{space:3,children:[l.jsxs(J,{padding:3,tone:"transparent",as:XO,radius:1,children:[l.jsx(QO,{title:"meta"}),l.jsx(lr,{language:"json",size:1,children:Xen({path:Cn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(J,{as:XO,tone:"critical",padding:3,radius:1,children:[l.jsx(QO,{title:"from"}),l.jsx(lr,{language:"json",size:1,children:foe(t.diff.fromValue)})]}),l.jsx(J,{children:l.jsx(xN,{direction:"down",align:"center"})}),l.jsxs(J,{as:XO,tone:"positive",padding:3,radius:1,children:[l.jsx(QO,{title:"to"}),l.jsx(lr,{language:"json",size:1,children:foe(t.diff.toValue)})]})]})}function foe(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function Xen(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const Qen={flexShrink:0},Jen={alignItems:"stretch"},hoe={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},wN=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=Ls(),d=o==="inline"?U:on,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(pe(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?Qen:Jen;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(U,{align:hoe[r],style:p,children:i}),l.jsx(U,{align:"center",justify:"center",padding:2,children:l.jsx(xN,{})})]}),l.jsx(U,{align:hoe[r],style:p,children:s})]})}),JO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function EC(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=Pen(r);if(c==="unchanged")return l.jsx($i,{className:n,style:JO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx($i,{as:"del",className:n,diff:r,path:i,style:JO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx($i,{as:"ins",className:n,diff:r,path:i,style:JO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(is,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(is,{description:u,diff:r,path:i,children:f}):l.jsx(is,{description:u,diff:r,path:i,children:l.jsx(wN,{align:t,from:d,layout:o,to:f})})}const etn=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(PC,{schemaType:n,value:t,layout:"default"})})},ttn=e=>{const{diff:t,schemaType:n}=e;return l.jsx(EC,{diff:t,schemaType:n,previewComponent:etn,layout:"grid"})};var poe=Object.freeze,ntn=Object.defineProperty,rtn=(e,t)=>poe(ntn(e,"raw",{value:poe(t||e.slice())})),moe;const otn=P(ie)(moe||(moe=rtn([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),PIe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(otn,{icon:v6,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function itn(e){let{error:t}=e;return l.jsx(J,{tone:"critical",padding:3,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(ga,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var goe=Object.freeze,stn=Object.defineProperty,CN=(e,t)=>goe(stn(e,"raw",{value:goe(t||e.slice())})),voe,yoe,boe;const atn=P.div(voe||(voe=CN([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),ltn=P.div(yoe||(yoe=CN([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[2])}),ctn=P(an)(boe||(boe=CN([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function utn(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||ttn,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=re.Fragment}=VA(),f=Ql(s,a.name),[p,m]=h.useState(!1),[g,v]=h.useState(!1),[b,x]=h.useState(null),[y,w]=Sh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{UA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=re.useCallback(()=>{m(!1)},[]),k=h.useCallback(()=>{v(!0)},[]),j=h.useCallback(()=>{v(!1)},[]),E=h.useCallback(()=>m(!1),[]);dr(E,[b]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(te,{space:1,as:atn,children:[n.showHeader&&l.jsx(fIe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:g,children:l.jsxs(Ken,{change:n,as:ltn,"data-revert-field-hover":g?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(itn,{error:n.error}):l.jsx(Wen,{children:l.jsx(id.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&l.jsx(ctn,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(ie,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(PIe,{onClick:_,onMouseEnter:k,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,k,j,C,_,u,w,y,g,A])}function dtn(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var xoe=Object.freeze,ftn=Object.defineProperty,_N=(e,t)=>xoe(ftn(e,"raw",{value:xoe(t||e.slice())})),woe,Coe,_oe;const htn=P.div(woe||(woe=_N([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),ptn=P.div(Coe||(Coe=_N([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[2])}),mtn=P(an)(_oe||(_oe=_N([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function gtn(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(id),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=VA(),g=s.every(I=>kIe(I)&&mIe(I.schemaType)),v=aIe(c,a),[b,x]=dtn(),y=Ql(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[k,j]=Sh({id:u,type:d.name,permission:"update"}),E=h.useCallback(()=>UA(t,p,y),[t,p,y]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);dr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(te,{space:1,as:ptn,"data-revert-group-hover":x?"":void 0,"data-portable-text":g?"":void 0,children:[l.jsx(te,{as:htn,space:5,children:s.map(I=>l.jsx(RIe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(k==null?void 0:k.granted)&&l.jsx(mtn,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(ie,{tone:"critical",onClick:E,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(PIe,{onClick:T,ref:b,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,E,T,r,m,x,j,g,k,b]);return r?null:l.jsxs(te,{space:1,...o,children:[l.jsx(fIe,{titlePath:i}),v||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function RIe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=VA(),a=z4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=z4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(utn,{change:r,readOnly:c}):r.type==="group"?l.jsx(gtn,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function q4(){return l.jsxs(te,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Soe=Object.freeze,vtn=Object.defineProperty,$Ie=(e,t)=>Soe(vtn(e,"raw",{value:Soe(t||e.slice())})),koe,Eoe;const ytn=P.div(koe||(koe=$Ie([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),btn=P(an)(Eoe||(Eoe=$Ie([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function jC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=VA(),a=Ql(o,r.name),{path:c}=h.useContext(id),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),g=z4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[v,b]=Sh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>EIe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),y=h.useMemo(()=>n&&n.length===0?[]:xtn(x),[x,n]),w=x[0],C=h.useCallback(()=>{UA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),k=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[E,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(dr(A,[E]),y.length===0)return u?l.jsx(q4,{}):null;const D=u&&y.length>1;return l.jsx(J,{children:l.jsxs(te,{space:5,children:[l.jsx(te,{as:ytn,space:5,children:y.map(I=>l.jsx("div",{children:l.jsx(RIe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:g||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!b&&(v==null?void 0:v.granted)&&l.jsx(btn,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",y.length," changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(ie,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(ie,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(te,{children:l.jsx(ie,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:v6,onClick:_,onMouseEnter:S,onMouseLeave:k,disabled:g})})})]})})}function xtn(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var joe=Object.freeze,wtn=Object.defineProperty,MIe=(e,t)=>joe(wtn(e,"raw",{value:joe(t||e.slice())})),Toe,Aoe;const Doe=P.span(Toe||(Toe=MIe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[1])}),Ioe=P(L)(Aoe||(Aoe=MIe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function Ctn(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx($i,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Doe,children:l.jsx(Ioe,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx($i,{annotation:t.annotation,as:Doe,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Ioe,{as:"del",children:n})}):l.jsx(J,{as:"span",radius:2,style:{display:"inline"},children:n})}function _tn(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(Ctn,{segment:n},r))})}var Ooe=Object.freeze,Stn=Object.defineProperty,ktn=(e,t)=>Ooe(Stn(e,"raw",{value:Ooe(t||e.slice())})),Poe;const eP=P(L)(Poe||(Poe=ktn([`
  color: inherit;
`])));function G4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(U,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(eP,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(te,{space:2,paddingLeft:2,children:[l.jsx(eP,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(eP,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Roe=Object.freeze,Etn=Object.defineProperty,jtn=(e,t)=>Roe(Etn(e,"raw",{value:Roe(t||e.slice())})),$oe;P.div($oe||($oe=jtn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const FIe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Moe(){return h.useContext(FIe)}const LIe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function TC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Moe(),a=Moe().hoveredStack[0],c=um||(a?Cn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(LIe.Provider,{value:f,children:n})}function SN(){return h.useContext(LIe)}function Ttn(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=Cn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=Cn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(FIe.Provider,{value:s,children:t})}const Atn={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Dtn(e){const{__internal_fieldActions:t=Wn,__internal_patchChannel:n=Atn,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:g,members:v,onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:k,readOnly:j,renderAnnotation:E,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,unstable:z,validation:F,value:H}=e,W=h.useRef(H);h.useEffect(()=>{W.current=H},[H]);const V=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:sN,CustomMarkers:(z==null?void 0:z.CustomMarkers)||WXt,Markers:(z==null?void 0:z.Markers)||eIe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:g.assetSources,directUploads:(g==null?void 0:g.directUploads)!==!1},getDocument:()=>W.current,onChange:b}),[t,c.assetSources,c==null?void 0:c.directUploads,u,g.assetSources,g==null?void 0:g.directUploads,b,n,z==null?void 0:z.CustomMarkers,z==null?void 0:z.Markers]),q=h.useMemo(()=>({__internal:V,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:v,readOnly:j,renderAnnotation:E,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,value:H}),[V,r,o,s,a,H,d,f,p,m,v,j,E,T,A,D,I,O,$,R]);return l.jsx(JDe.Provider,{value:q,children:l.jsx(_C,{onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:l.jsx(YXt,{presence:k,children:l.jsx(GXt,{validation:F,children:l.jsx(Ttn,{children:i})})})})})}function Itn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:k,value:j}=e,{file:E,image:T}=Fn().form,A=ppn(),D=mpn(),I=LOe(),O=gpn(),$=vpn(),R=ypn(),z=bpn(),F=h.useCallback(G=>l.jsx(A,{...G}),[A]),H=h.useCallback(G=>l.jsx(D,{...G}),[D]),W=h.useCallback(G=>l.jsx(O,{...G}),[O]),V=h.useCallback(G=>l.jsx(UDe,{component:I,...G}),[I]),q=h.useCallback(G=>l.jsx($,{...G}),[$]),oe=h.useCallback(G=>l.jsx(R,{...G}),[R]),N=h.useCallback(G=>l.jsx(z,{...G}),[z]);return l.jsx(Dtn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:E,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:N,renderBlock:q,renderField:H,renderInlineBlock:oe,renderInput:F,renderItem:W,renderPreview:V,schemaType:S,validation:k,value:j,children:i})}function Otn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,presence:w,readOnly:C,schemaType:_,validation:S,value:k}=e;return l.jsx(Itn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:k,children:l.jsx(Ptn,{})})}function Ptn(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:g}=pi(),{onChange:v,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=xa(),S=h.useCallback(F=>_([F],!0),[_]),k=h.useCallback(F=>_([F],!1),[_]),j=h.useCallback(()=>x(Wn),[x]),E=h.useCallback(()=>y(Wn),[y]),T=h.useCallback(F=>v(dt.from(F)),[v]),A=h.useRef(null),D=h.useCallback(F=>b(Wn,F),[b]),I=h.useCallback(F=>w([F]),[w]),O=h.useCallback(()=>w([]),[w]),$=h.useCallback(F=>C([F],!0),[C]),R=h.useCallback(F=>C([F],!1),[C]),z={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:E,"aria-describedby":void 0},changed:o.some(F=>F.kind==="field"&&F.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:O,onFieldCollapse:S,onFieldSetCollapse:$,onFieldExpand:k,onFieldSetExpand:R,onPathFocus:y,onFieldOpen:I,onFieldGroupSelect:D,path:Wn,presence:Wn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Wn,value:g};return l.jsx(l.Fragment,{children:d(z)})}const BIe=h.createContext({});function NIe(){return h.useContext(BIe)}function Rtn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(BIe.Provider,{value:s,children:t})}h.createContext(null);function WA(e,t){return Wi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&zx(e.current,{scrollMode:"always"})},[e]))}function $tn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return h7(t),t}const Mtn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function nw(e){const t=Mtn();return $tn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var Foe=Object.freeze,Ftn=Object.defineProperty,zIe=(e,t)=>Foe(Ftn(e,"raw",{value:Foe(t||e.slice())})),Loe,Boe;const Ltn={portal:!0},Btn=P(J)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return fe(Loe||(Loe=zIe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),Ntn=P(M)(Boe||(Boe=zIe([`
  max-width: 150px;
`]))),Noe=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function kN(e){const{presence:t}=e,{color:n}=Q0e().sanity,r=n.dark?"light":"dark",{selected:o}=pqt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(vo),[t]),s=h.useMemo(()=>l.jsx(Ntn,{padding:2,children:l.jsx(L,{align:"center",size:1,children:Noe(i)})}),[i]);return l.jsx(at,{content:s,...Ltn,children:l.jsx(Btn,{scheme:o?r:void 0,$selected:o,children:l.jsx(cT,{maxLength:2,"aria-label":Noe(i),children:i.map(a=>l.jsx(Za,{user:a.user},a.user.id))})})})}const ztn=3,VIe=3,LE=-4,rw=23,zoe=4,Vtn=[0,.25,.75,1],w_=23,Htn=8,Utn=8,HIe=20,UIe=20,tP=!1,Wtn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Ytn(e){return-LE+(rw+LE)*e}var Voe=Object.freeze,qtn=Object.defineProperty,WIe=(e,t)=>Voe(qtn(e,"raw",{value:Voe(t||e.slice())})),Hoe,Uoe;const YIe=P(U)(Hoe||(Hoe=WIe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Gtn=P(U)(Uoe||(Uoe=WIe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Ktn=re.createContext([]);function Ztn(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(te,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(U,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Za,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(at,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Xtn,useReporter:Qtn,useReportedValues:Jtn}=hDe(),qIe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=VIe,stack:s=!0}=t;const a=Kf(n||[],p=>p.user.id),c=Rm(a,p=>p.lastActiveAt),[u,d]=s?Wtn(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Za,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(k$,{count:u.length})}:null].filter(Boolean);return l.jsxs(YIe,{children:[l.jsx("div",{}),l.jsx(Gtn,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(rw+LE),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function enn(e){const t=h.useContext(Ktn),{presence:n=t,maxAvatars:r=VIe}=e,o=h.useRef(null);Qtn(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Kf(n||[],s=>s.user.id),[n]);return l.jsx(Ztn,{items:i,children:l.jsx(YIe,{ref:o,style:{minHeight:rw,minWidth:rw}})})}const AC=enn,tnn=e=>{const t=new _r,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new mt(o=>{const i=t.pipe(pt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},EN=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=re.useRef(null);return re.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(wn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var Woe=Object.freeze,nnn=Object.defineProperty,fm=(e,t)=>Woe(nnn(e,"raw",{value:Woe(t||e.slice())})),Yoe,qoe,Goe,Koe,Zoe,Xoe,Qoe;const rnn=P.div(Yoe||(Yoe=fm([`
  position: relative;
`]))),onn=P.div(qoe||(qoe=fm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),jN=fe(Goe||(Goe=fm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),inn=P(EN)(e=>{let{$debug:t,margins:n}=e;return fe(Koe||(Koe=fm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),jN,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),snn=P(EN)(e=>{let{$debug:t}=e;return fe(Xoe||(Xoe=fm([`
    `,`

    visibility: none;

    `,`
  `])),jN,t&&fe(Zoe||(Zoe=fm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),ann=P(EN)(e=>{let{$debug:t}=e;return fe(Qoe||(Qoe=fm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),jN,t?"blue":"transparent")}),lnn=e=>"".concat(e,"px"),cnn=e=>0-e,unn=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>tnn({rootMargin:c.map(cnn).map(lnn).join(" "),threshold:Vtn}),[c]),[d,f]=h.useState({}),p=h.useCallback((b,x)=>{f(y=>({...y,[b]:x}))},[]),m=d["::top"],g=d["::bottom"],v=h.useMemo(()=>m&&g?r.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=d[b.id];if(!x)return null;const{bottom:y,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<g.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-w_):C?-m.boundingClientRect.bottom:g.boundingClientRect.top,k=x.isIntersecting?-(y-(x.intersectionRect.bottom+w_)):_?g.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Htn?"top":k<=Utn?"bottom":"inside";return{distanceTop:S,distanceBottom:k,region:b,position:j}}).filter(Boolean):[],[g,d,r,m]);return l.jsxs(rnn,{ref:n,children:[l.jsx(inn,{$debug:tP,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(onn,{ref:a,children:a.current&&o(v,a.current.offsetWidth)}),r.map(b=>{const x=b.rect.width===0;return l.jsx(snn,{$debug:tP,io:u,onIntersection:p,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-w_,height:b.rect.height+w_*2}},b.id)}),l.jsx(ann,{$debug:tP,id:"::bottom",io:u,onIntersection:p})]})}),GIe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},dnn=e=>e.top+e.height;function fnn(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?dnn(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const C_=e=>e1(e,t=>t.region.rect.top),hnn=(e,t)=>e+t,Joe=e=>e.reduce(hnn,0);function pnn(e){const t=fnn(C_(e)),n={top:[],inside:[],bottom:[],...H7(t,r=>r.position)};return{top:C_(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:C_(n.inside).map(r=>({...r,indent:0})),bottom:C_(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const eie=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},mnn=[0,0,0,0],gnn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function vnn(e,t){return{...gnn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function ynn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:vnn(o.element,t)}})}function bnn(e){const{children:t,margins:n=mnn}=e,r=Jtn(),o=re.useRef(null),i=re.useMemo(()=>o.current?ynn(r,o.current):K4,[r]),s=re.useCallback((a,c)=>{const u=pnn(a.filter(m=>m.region.presence.length>0)),d=Joe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=Joe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,g)=>{const{distanceTop:v,distanceBottom:b}=g,x=v<=HIe,y=b<=UIe;return{nearTop:m.nearTop+(x?g.region.presence.length:0),nearBottom:m.nearBottom+(y?g.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(tie,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(eie,{height:d}),l.jsx(xnn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(eie,{height:f}),l.jsx(tie,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(unn,{ref:o,margins:n,regions:i,render:s,children:t})}const K4=[],tie=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?In(Rm(i,v=>v.region.rect.top*s).map(v=>v.region.presence||K4)):K4,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(rw+LE):0)-u,m=o==="top"?c:d,g=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...GIe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:zoe+1+m,bottom:zoe+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:g,children:l.jsx(qIe,{position:o,maxAvatars:ztn,presence:a})},"sticky-".concat(o))});function xnn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=HIe,c=s<=UIe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(re.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...GIe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(Cnn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(qIe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const wnn=e=>e.children,Cnn=wnn,_nn=[0,0,0,0];function Snn(e){let{children:t,margins:n}=e;return l.jsx(Xtn,{children:l.jsx(bnn,{margins:n||_nn,children:t})})}const DC=Snn;var nie=Object.freeze,knn=Object.defineProperty,IC=(e,t)=>nie(knn(e,"raw",{value:nie(t||e.slice())})),rie,oie,iie,sie,aie;const Enn=P(U)(rie||(rie=IC([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),jnn=P(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return fe(oie||(oie=IC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Tnn=P(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return fe(iie||(iie=IC([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),Ann=P(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return fe(sie||(sie=IC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),Dnn=P(J)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(aie||(aie=IC([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),lie=4;function KIe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[g,v]=h.useState(null),[b,x]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,k=S&&_||!y?3:void 0,j=(t==null?void 0:t.button)||_,E=S||y;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(g){const{width:A}=g.getBoundingClientRect();x(A||0)}},[g]);const T=h.useMemo(()=>n?l.jsx(Ann,{$fieldActionsVisible:!!S,$right:p,ref:v,children:n}):null,[p,S,n]);return l.jsxs(Enn,{align:"flex-end",children:[l.jsx(Tnn,{flex:1,paddingY:2,$presenceMaxWidth:Ytn(lie),children:o}),a&&a.length>0&&l.jsx(jnn,{flex:"none",paddingBottom:1,$right:p+b,children:l.jsx(AC,{maxAvatars:lie,presence:a})}),T,E&&j&&l.jsxs(Dnn,{display:"flex",radius:2,ref:f,shadow:k,sizing:"border",children:[S&&_&&l.jsx(JXt,{nodes:r,onMenuOpenChange:u}),w]})]})}function Ch(e,t){if(!(!t||!e))return"desc_".concat(e)}var cie=Object.freeze,Inn=Object.defineProperty,Onn=(e,t)=>cie(Inn(e,"raw",{value:cie(t||e.slice())})),uie;const Pnn=[],Rv={error:le.red[500].hex,warning:le.yellow[500].hex,info:le.blue[500].hex},$v={error:l.jsx(ga,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(jr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(Cm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Rnn=P(te)(uie||(uie=Onn([`
  max-width: 200px;
`])));function g1(e){const{validation:t=Pnn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return $v.error;if(u)return $v.warning;if(d)return $v.info},[c,d,u]),p=h.useMemo(()=>{if(c)return Rv.error;if(u)return Rv.warning;if(d)return Rv.info},[c,d,u]);return l.jsx(at,{content:l.jsxs(Rnn,{padding:3,space:3,children:[n&&l.jsx(Mnn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,g)=>l.jsx($nn,{validation:m},g))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function $nn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return $v.error;if(t.level==="warning")return $v.warning;if(t.level==="info")return $v.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return Rv.error;if(t.level==="warning")return Rv.warning;if(t.level==="info")return Rv.info},[t]);return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function Mnn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const Fnn=[],ZIe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=Fnn}=t,s=i.length>0;return l.jsxs(te,{space:2,children:[l.jsxs(U,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(g1,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:Ch(r,n),children:n})]})}),die=[],v1=h.memo(function(t){const{__unstable_headerActions:n=die,__unstable_presence:r=die,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:g,onMouseEnter:v,onMouseLeave:b}=SN();return l.jsxs(te,{...p,"data-level":u,onMouseEnter:v,onMouseLeave:b,space:1,children:[d&&l.jsx(KIe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:g,presence:r,content:l.jsx(ZIe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var fie=Object.freeze,Lnn=Object.defineProperty,TN=(e,t)=>fie(Lnn(e,"raw",{value:fie(t||e.slice())})),hie,pie,mie;const gie=P.legend(hie||(hie=TN([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),Bnn=P(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return fe(pie||(pie=TN([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),pe(r[1]),BB({base:o,focusRing:n}))}),Nnn=P(M)(mie||(mie=TN([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),znn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(gie,{children:l.jsxs(Bnn,{type:"button",onClick:o,children:[l.jsx(Nnn,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(Aj,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(gie,{children:s})});var vie=Object.freeze,Vnn=Object.defineProperty,XIe=(e,t)=>vie(Vnn(e,"raw",{value:vie(t||e.slice())})),yie,bie;function Hnn(e){return typeof e=="function"?e():e}const Unn=P(M).attrs({forwardedAs:"fieldset"})(yie||(yie=XIe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Wnn=P(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return fe(bie||(bie=XIe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,pe(o[1]),BB({base:i,focusRing:{...r,offset:2}}))}),nP=[],YA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=nP,__unstable_presence:s=nP,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:g,onFocus:v,tabIndex:b,title:x,validation:y=nP,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:k,onMouseLeave:j}=SN(),E=y.length>0,T=fr(n),A=h.useCallback(O=>{T.current===O.target&&v&&v(O)},[T,v]),D=h.useCallback(()=>c?g==null?void 0:g():m==null?void 0:m(),[c,m,g]),I=h.useMemo(()=>c?null:l.jsx(on,{columns:d,gapX:4,gapY:5,children:Hnn(a)}),[a,c,d]);return l.jsxs(Unn,{"data-level":p,...C,onMouseEnter:k,onMouseLeave:j,children:[l.jsx(KIe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(te,{space:2,children:[l.jsxs(U,{children:[l.jsx(znn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),E&&l.jsx(M,{marginLeft:2,children:l.jsx(g1,{fontSize:1,validation:y})})]}),f&&l.jsx(L,{muted:!0,size:1,id:Ch(w,f),children:f})]})}),l.jsx(Wnn,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof b=="number"&&b>-1?A:void 0,ref:T,tabIndex:b,children:!c&&I})]})});var xie=Object.freeze,Ynn=Object.defineProperty,qnn=(e,t)=>xie(Ynn(e,"raw",{value:xie(t||e.slice())})),wie;const Gnn=P.div(wie||(wie=qnn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Knn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Gnn,{"data-max-avatars":n,"data-position":r,children:t})}var Cie=Object.freeze,Znn=Object.defineProperty,Xnn=(e,t)=>Cie(Znn(e,"raw",{value:Cie(t||e.slice())})),_ie;const Qnn=P(ie)(_ie||(_ie=Xnn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),QIe=re.createContext(null),JIe=function(t){const n=h.useContext(QIe),{listeners:r,attributes:o}=ATe({id:n});return l.jsx(Qnn,{icon:m1e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Jnn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const ern=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Jnn(o,r,n,e)};var Sie=Object.freeze,trn=Object.defineProperty,kie=(e,t)=>Sie(trn(e,"raw",{value:Sie(t||e.slice())})),Eie,jie;const AN="moving",e3e=P(M)(jie||(jie=kie([`
  `,`
`])),e=>e.$moving&&fe(Eie||(Eie=kie([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),nrn={threshold:{x:0,y:.02}},rrn={coordinateGetter:Z9t},orn={duration:200,easing:"ease"};function irn(e){return e==="x"?Q9t:J9t}function srn(e){return e==="x"?F9t:B9t}const arn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=S8t(yJ(X7),yJ(K7,rrn)),d=h.useCallback(p=>{var m,g,v,b;const{active:x,over:y}=p;x.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(g=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:g.index,toIndex:(b=(v=y==null?void 0:y.data.current)==null?void 0:v.sortable)==null?void 0:b.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[ern({y:4}),...r?[irn(r)]:[]],[r]);return l.jsx(E9t,{sensors:u,autoScroll:nrn,modifiers:f,collisionDetection:E8t,onDragEnd:d,onDragStart:i,children:l.jsx(z9t,{items:n,strategy:r?srn(r):void 0,children:l.jsx(on,{...c,children:a})})})}),lrn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=ATe({id:r,transition:i?null:orn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Ux.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(e3e,{ref:p,style:f,$moving:d,className:d?AN:"","data-index":t["data-index"],children:o})});function DN(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(arn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(on,{...i})}const IN=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(QIe.Provider,{value:t.id,children:r?l.jsx(lrn,{ref:n,...o}):l.jsx(e3e,{ref:n,...o})})});var Tie=Object.freeze,crn=Object.defineProperty,urn=(e,t)=>Tie(crn(e,"raw",{value:Tie(t||e.slice())})),Aie;const drn=P(J)(Aie||(Aie=urn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),AN);function qA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Wi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(drn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(te,{space:1,children:[l.jsxs(U,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(JIe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(U,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var Die=Object.freeze,frn=Object.defineProperty,GA=(e,t)=>Die(frn(e,"raw",{value:Die(t||e.slice())})),Iie,Oie,Pie,Rie;const hrn=P.button(Iie||(Iie=GA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),prn=P(Aj)(Oie||(Oie=GA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),mrn=P(U)(Pie||(Pie=GA([`
  cursor: default;
`]))),grn=P(M)(Rie||(Rie=GA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Ym(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(hrn,{type:"button",onClick:c,children:l.jsx(mrn,{align:"center",children:l.jsxs(Gt,{children:[l.jsx(grn,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(prn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const vrn={warning:"caution",error:"critical",info:"positive"},yrn={warning:l.jsx(jr,{}),error:l.jsx(ga,{}),info:l.jsx(Cm,{})};function Of(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(J,{radius:2,tone:vrn[n],...o,"data-ui":"Alert",children:l.jsx(U,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Ym,{icon:yrn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function ON(e){if(Qa(e))return e.name==="object"?{}:{_type:e.name};if(Hl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function y1(e){if(!Qa(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...ON(e),_key:dC(12)}}const brn={portal:!0,tone:"default",placement:"left",constrainSize:!0},KA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx($ie,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:x1e}),l.jsx($ie,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:w1e})]})});function $ie(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ne,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(f8,{text:o,popover:brn,children:t==null?void 0:t.map(s=>l.jsx(Ne,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const t3e=()=>{},rP={isLoading:!0,result:void 0,error:void 0,retry:t3e},xrn={isLoading:!1,result:void 0,error:void 0,retry:t3e};function ZA(e,t){const n=h.useMemo(()=>new _r,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=yo(()=>Ur(ve(null),r).pipe(ce(()=>e),U$(a=>a?t(a).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ci(rP),Pn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o})))):ve(xrn))),[t,e,r,o],rP),s=iN(e,e);return e&&s!==e?rP:i}function n3e(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=L0(),g=LC(a),v=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,b=h.useMemo(()=>({_id:v,_type:d.name}),[v,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:b}),[c,b,d]),y=ni(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=ni(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:3,children:[p&&l.jsx(Vt,{size:1,muted:!0,children:d.title}),g&&g.length>0&&l.jsx(kN,{presence:g}),l.jsxs(Gt,{space:4,children:[l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:l.jsx(cr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(I0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(cr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Bu,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function r3e(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(wh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(Fie,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:y,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Gt,{space:4,children:f&&l.jsx(Vt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",g=p.reason==="PERMISSION_DENIED";if(g||m)return l.jsxs(Gt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),g||m?l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(Mie,{title:"Not found",icon:qv,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(Mie,{title:"Insufficient permissions",icon:Lf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:l.jsx(qv,{})})})}):null]});const v=(i=a.result)==null?void 0:i.type,b=u.to.find(x=>x.name===v);return b?l.jsx(n3e,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:b,renderPreview:c,showTypeLabel:f}):l.jsx(Fie,{documentId:d._ref,actualType:v||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function Mie(e){const t=e.icon;return l.jsxs(U,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Fie(e){return l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsxs(te,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",wrn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(cr,{tone:"default",children:l.jsx(qv,{})})})})})]})}const wrn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var Lie=Object.freeze,Crn=Object.defineProperty,_rn=(e,t)=>Lie(Crn(e,"raw",{value:Lie(t||e.slice())})),Bie;const Srn=P(J)(Bie||(Bie=_rn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),o3e=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(Srn,{...s,...a,ref:n})}),i3e=h.createContext(null);function krn(){const e=h.useContext(i3e);return e||{menuRef:{current:null},containerRef:{current:null}}}function Ern(e){const{menuRef:t,containerRef:n}=e;return l.jsx(i3e.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function jrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Trn={portal:!0,tone:"default"},Arn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function Drn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:g,readOnly:v,onRemove:b,value:x,open:y,onInsert:w,presence:C,validation:_,inputId:S,changed:k,focused:j,children:E,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:O}}=e,$=!v&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,z=h.useRef(null),F=h.useRef(null),H=h.useRef(null),{EditReferenceLink:W,getReferenceInfo:V,selectedState:q,isCurrentDocumentLiveEdit:oe}=KN({path:g,schemaType:p,value:x});WA(z,y),Wi(j,(Ie,Me)=>{var et;!Ie&&Me&&z.current&&((et=z.current)==null||et.focus())});const N=e.validation.some(Ie=>Ie.level==="error"),G=e.validation.some(Ie=>Ie.level==="warning"),Y=x._resolvingInitialValue,K=h.useCallback(()=>{w({items:[{...x,_key:nw()}],position:"after"})},[w,x]),X=h.useCallback((Ie,Me)=>{w({items:[{...y1(Me),_key:nw()}],position:Ie})},[w]),Q=ZA(x==null?void 0:x._ref,V),Z=x._ref,ne=((n=Q.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),ae=Z&&((s=(i=(o=Q.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),me=h.useCallback(()=>{T([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[T,p.weak]),ue=ne?p.to.find(Ie=>Ie.name===ne):void 0,Te=q==="pressed",_e=q==="selected",be=jrn({readOnly:v,hasErrors:N,hasWarnings:G}),ge=!Z||A[0]==="_ref",Oe=h.useMemo(()=>h.forwardRef(function(Me,et){return l.jsx($m,{...Me,intent:"edit",params:{id:x==null?void 0:x._ref,type:ue==null?void 0:ue.name},target:"_blank",rel:"noopener noreferrer",ref:et})}),[ue==null?void 0:ue.name,x==null?void 0:x._ref]),Re=h.useCallback(()=>{D(Z&&ge?[]:["_ref"])},[Z,ge,D]),ut=h.useMemo(()=>v?null:l.jsx(M,{marginLeft:1,children:l.jsx(Jt,{button:l.jsx(ie,{paddingY:3,paddingX:2,mode:"bleed",icon:qo}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Bt,{ref:F,children:[!v&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:b}),l.jsx(Ne,{text:Z&&ge?"Cancel replace":"Replace",icon:Z&&ge?Mi:O0,onClick:Re}),l.jsx(Ne,{text:"Duplicate",icon:Fc,onClick:K}),l.jsx(KA,{onInsert:X,types:R})]}),!v&&!ge&&Z&&l.jsx(Rr,{}),!ge&&Z&&l.jsx(Ne,{as:Oe,"data-as":"a",text:"Open in new tab",icon:rh})]}),popover:Trn})}),[v,S,b,Z,ge,Re,K,X,R,Oe]),st=h.useCallback(()=>{T(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[T,p]),Lt=x!=null&&x._weak?"weak":"strong",gn=p.weak===!0?"weak":"strong",xe=Z&&!Q.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ze=!Q.isLoading&&((a=Q.result)==null?void 0:a.availability.available)&&Z&&Lt!==gn&&!xe,Je=((c=Q.result)==null?void 0:c.preview.draft)||((u=Q.result)==null?void 0:u.preview.published),Ve=l.jsxs(l.Fragment,{children:[oe&&ae&&x._strengthenOnPublish&&l.jsx(Of,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=Q.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(ie,{onClick:me,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ze&&l.jsx(Of,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Lt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[gn,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",Je!=null&&Je.title?l.jsxs(l.Fragment,{children:['"',Je==null?void 0:Je.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",Je!=null&&Je.title?l.jsxs(l.Fragment,{children:['"',Je==null?void 0:Je.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(ie,{onClick:st,text:l.jsxs(l.Fragment,{children:["Convert to ",gn," reference"]}),tone:"caution"})]})}),Q.error&&l.jsx(Of,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",Q.error.message]}),l.jsx(ie,{onClick:Q.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),vt=l.jsx(Ern,{menuRef:F,containerRef:H,children:l.jsx(qA,{dragHandle:$,presence:!ge&&C.length>0&&l.jsx(AC,{presence:C,maxAvatars:1}),validation:!ge&&_.length>0&&l.jsx(g1,{validation:_}),menu:ut,footer:ge?void 0:Ve,tone:ge?void 0:be,focused:j,children:ge?l.jsx(M,{padding:1,ref:H,children:l.jsx(YA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:E})}):l.jsxs(o3e,{as:W,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ue==null?void 0:ue.name,disabled:Y,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:_e,pressed:Te,"data-selected":_e?!0:void 0,"data-pressed":Te?!0:void 0,...O,children:[l.jsx(r3e,{value:x,referenceInfo:Q,renderPreview:I,type:p}),Y&&l.jsx(J,{style:Arn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(Qn,{muted:!0})}),l.jsx(L,{children:"Resolving initial value…"})]})})]})})});return l.jsx(hi,{path:g,isChanged:k,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:vt})})}function Nie(e){return Qa(e.schemaType)}function zie(e){return Hl(e.schemaType)}function Irn(e){return e._key!==void 0}function rk(e){return Irn(e)?e:{...e,_key:nw(12)}}const s3e=4;function Vie(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Orn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s3e;const n=Prn(t);return function(){return kr(n(e(...arguments)))}}function Prn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s3e;const t=[],n=[],r=new _r;return o;function o(a){return new mt(c=>{if(t.length>=e)return i(a).pipe(ft(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{Vie(t,u),Vie(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(O2e(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Rrn=4;function $rn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return Nrn(n).pipe(Pn(()=>ve(null)),ft(f=>f?Lrn(e,"sanity.".concat(t,"Asset"),f):ve(null)),ft(f=>f?ve({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const a3e=Orn($rn,Rrn),Mrn=(e,t,n)=>a3e(e,"image",t,n),Frn=(e,t,n)=>a3e(e,"file",t,n);function l3e(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function c3e(e,t){return l3e(e,t)}function u3e(e,t){return l3e(e,t)}function Lrn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function Brn(e){return new mt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Nrn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?ve(null):Brn(e).pipe(ft(t=>crypto.subtle.digest("SHA-1",t)),ce(zrn))}function zrn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Vrn(e,t){return new mt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Hrn=/(invalid image format)|(No exif data)/i,Urn=128e3;function Wrn(e){return kr(Vrn(e,Urn)).pipe(ce(t=>J7t(t)),Pn(t=>(Hrn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),ve({}))))}function Hie(e){return[5,6,7,8].indexOf(e)>-1}function Yrn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Uie(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const qrn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Grn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Krn="top-left",Zrn=120;function Xrn(e,t){const n=qrn[t-1],r=e.height/e.width;e.width=Zrn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(Hie(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Uie(o,!0,!1),n.op==="flip-y"&&Uie(o,!1,!0),n.degrees&&(Yrn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),Hie(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Qrn(e,t){return new mt(n=>{const r=Grn.indexOf(t)+1,o=Xrn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Jrn(e){return new mt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function eon(e,t){return Jrn(window.URL.createObjectURL(e)).pipe(ft(n=>Qrn(n,t)))}const bl="_upload",ton=nt([bl]);function zp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const d3e=zp([ton]);function f3e(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return zp([xt(n,[bl])])}function non(e,t,n){const r=Mrn(e,t,n).pipe(pt(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?zp([xt({_type:"reference",_ref:i.asset._id},["asset"]),xt(100,[bl,"progress"]),xt(new Date().toISOString(),[bl,"updatedAt"])]):zp([xt(i.percent,[bl,"progress"]),xt(new Date().toISOString(),[bl,"updatedAt"])]))),o=Wrn(t).pipe(ft(i=>eon(t,i.orientation||Krn)),Pn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),ve(null))),pt(Boolean),ce(i=>zp([xt(i,[bl,"previewImage"])])));return Ur(ve(f3e(t)),nn(r,o),ve(d3e))}function h3e(e,t,n){const r=Frn(e,t,n).pipe(ce(o=>o.type==="complete"?zp([xt({_type:"reference",_ref:o.asset._id},["asset"]),xt(100,[bl,"progress"]),xt(new Date().toISOString(),[bl,"updated"])]):zp([xt(o.percent,[bl,"progress"]),xt(new Date().toISOString(),[bl,"updated"])])));return Ur(ve(f3e(t)),r,ve(d3e))}const ron={type:"image",accepts:"image/*",upload:(e,t,n,r)=>non(e,t,r)},oon={type:"file",accepts:"",upload:(e,t,n,r)=>h3e(e,t,r)},ion={type:"string",accepts:"text/*",upload:(e,t,n,r)=>h3e(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[xt(o)]})))},son=[ron,ion,oon].map((e,t)=>({...e,priority:t}));function Z4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function PN(e,t){return son.find(n=>{var r;return jc(n.type,e)&&Z4(t,n.accepts)&&Z4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const aon=["_key","_type","_weak"];function p3e(e){return Object.keys(e).every(t=>aon.includes(t))}const lon=(e,t)=>{const n=Ms(t);return e.of.find(r=>r.name===n)};function con(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return xt(o,[...t,r])})}function m3e(e,t,n){return kr(e).pipe(ft(r=>{const o={_key:r._key};return ve(lon(t,r)).pipe(ft(i=>i?ve(i):Zn),ft(i=>!p3e(r)||!n?Zn:Ur(ve({type:"patch",patches:[xt(!0,[o,"_resolvingInitialValue"])]}),po(()=>n(i,r)).pipe(pt(vo),ce(s=>({type:"patch",patches:con(s,[o])})),Pn(s=>ve({type:"error",error:s,item:r,schemaType:i}))),ve({type:"patch",patches:[nt([o,"_resolvingInitialValue"])]}))))}))}const Wie="before",Yie="after";function uon(e,t,n){if(t!==Wie&&t!==Yie)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Wie," or ").concat(Yie));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=qie(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...qie(s)),d}function qie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Gie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function don(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function fon(e,t){if(typeof t=="number")return t;const n=P7(e,t);return n===-1?!1:n}function hon(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Gie(t.value,"from")||!Gie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return don(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=fon(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return uon(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=$N(n[i],{...t,path:o}),n}function pon(e,t){const n=jje(e);if(t.path.length===0){if(t.type==="set"){if(!Cw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ni(n,r):(n[r]=$N(n[r],{...t,path:o}),n)}const g3e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},mon=Object.keys(g3e);function gon(e,t){if(!mon.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return g3e[t.type](e,t.value)}const v3e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=Q5e(eEe(t),e,{allowExceedingIndices:!0});return n}},von=Object.keys(v3e);function yon(e,t){if(!von.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return v3e[t.type](e,t.value)}function RN(e,t){return t.reduce($N,e)}function bon(e,t){return Array.isArray(e)?hon(e,t):NT(e)?yon(e,t):Cw(e)?pon(e,t):gon(e,t)}function $N(e,t){return bon(e,t)}function xon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=xa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}=e,{field:{actions:b}}=pi().__internal,x=h.useRef(),y=h.useRef({});Wi(c.field.focused,(ne,ae)=>{var me;!ne&&ae&&((me=x.current)==null||me.focus())});const w=h.useCallback(ne=>{ne.currentTarget===ne.target&&ne.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(ne=>{ne.currentTarget===ne.target&&ne.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(ne=>{const ae=dt.from(ne).patches;if(ae.some(ue=>ue.type==="unset"&&ue.path.length===1)&&(_.current=RN(_.current||[],ae),Array.isArray(_.current)&&!_.current.length)){r(dt.from(nt([c.name])));return}r(dt.from(ne).prepend(os([])).prefixAll(c.name))},[r,c.name,_]),k=_z(),j=Io(),E=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(ne=>{o(c.field.path.concat({_key:ne}),!0)},[o,c.field.path]),D=h.useCallback(ne=>{o(c.field.path.concat({_key:ne}),!1)},[o,c.field.path]),I=h.useCallback(ne=>{s(ne),o(ne,!1)},[s,o]),O=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(ne=>{if(ne.items.length===0)throw new Error("Insert event should include at least one item");const ae=ne.items.map(_e=>rk(_e));S(dt.from([pf(ae,ne.position,[ne.referenceItem])]));const me=ae[0]._key,ue=[...c.field.path,{_key:me}];n(ue);const Te=ne.open!==!1;ne.skipInitialValue?Te&&I(ue):m3e(ae,c.field.schemaType,k).pipe(wn(_e=>{_e.type==="patch"?S(_e.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(_e.schemaType.title,": ").concat(_e.error.message,"."),status:"error"})})).subscribe({complete:()=>{Te&&I(ue)}})},[S,I,c.field.path,c.field.schemaType,n,k,j]),R=h.useCallback(ne=>{const ae=c.field.value,me=ae==null?void 0:ae[ne.fromIndex],ue=ae==null?void 0:ae[ne.toIndex];if(ne.fromIndex!==ne.toIndex){if(!(me!=null&&me._key)||!(ue!=null&&ue._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([nt([{_key:me._key}]),pf([me],ne.fromIndex>ne.toIndex?"before":"after",[{_key:ue._key}])])}},[S,c.field.value]),z=h.useCallback(ne=>{S([os([]),pf([rk(ne)],"before",[0])])},[S]),F=h.useCallback(ne=>{S([os([]),pf([rk(ne)],"after",[-1])])},[S]),H=h.useCallback(ne=>{y.current[ne]&&(y.current[ne].unsubscribe(),delete y.current[ne]),S([nt([{_key:ne}])])},[S]),W=h.useCallback(ne=>{n(c.field.path.concat(ne))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":Ch(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),q=Jn(sn),oe=pi(),N=oe.__internal.image.directUploads,G=oe.__internal.file.directUploads,Y=h.useCallback((ne,ae)=>jc("image",ne)&&!N||jc("file",ne)&&!G?null:PN(ne,ae),[G,N]),K=h.useCallback(ne=>{let{file:ae,schemaType:me,uploader:ue}=ne;const Te=y1(me),_e=Te._key;$({items:[Te],position:"after",referenceItem:-1,open:!1});const be=ue.upload(q,ae,me).pipe(ce(ge=>dt.from(ge.patches||[]).prefixAll({_key:_e})),wn(ge=>S(ge.patches)));y.current={...y.current,[_e]:be.subscribe()}},[q,S,$]),X=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:O,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:H,onItemAppend:F,onItemPrepend:z,onPathFocus:W,resolveInitialValue:k,onUpload:K,resolveUploader:Y,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:g,renderPreview:v,elementProps:V}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,O,I,S,$,R,H,F,z,W,k,K,Y,u,d,p,m,f,g,v,V]),Q=h.useMemo(()=>m(X),[X,m]),Z=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:E,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:Q,inputProps:X}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,E,T,Q,X]);return l.jsx(_C,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Z),[Z,f])})}function y3e(e,t,n){return Up(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function won(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=pi().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=xa();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(dt.from(C).prefixAll(t.name))},[d,t.name]),g=h.useCallback(C=>{let _=C.currentTarget.value;if(Up(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else xw(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Up(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(dt.from(S?nt():xt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),v=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,b=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:g,value:y3e(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":Ch(t.field.id,t.field.schemaType.description)}),[f,p,g,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:v,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,v,b]),y=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,x]);return l.jsx(l.Fragment,{children:r(w)})}const Con=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=xa(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:g,renderItem:v,renderPreview:b}=t,{field:{actions:x}}=pi().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Wi(u.field.focused,(oe,N)=>{var G;!oe&&N&&((G=y.current)==null||G.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(oe=>{r(u.field.path.concat(oe))},[u.field.path,r]),k=h.useCallback(oe=>{if(!(u.field.path.length===0)){const G=dt.from(oe).patches;if(w.current=RN(w.current||{},G),w.current&&iPt(w.current)){o(dt.from(nt([u.name])));return}}o(dt.from(oe).prepend(os(ON(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),E=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(oe=>{s(u.field.path.concat(oe),!0)},[s,u.field.path]),A=h.useCallback(oe=>{s(u.field.path.concat(oe),!1)},[s,u.field.path]),D=h.useCallback(oe=>{i(u.field.path.concat(oe))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),O=h.useCallback(oe=>{a(u.field.path.concat(oe),!1)},[a,u.field.path]),$=h.useCallback(oe=>{a(u.field.path.concat(oe),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),z=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),F=h.useCallback(oe=>{c(u.field.path,oe)},[c,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:y,"aria-describedby":Ch(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),W=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:F,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:O,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:k,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:g,renderItem:v,renderPreview:b}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,F,D,I,T,A,O,$,S,k,d,f,p,m,g,v,b]),V=h.useMemo(()=>g(W),[W,g]),q=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:E,open:u.open,changed:u.field.changed,onOpen:R,onClose:z,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:V,inputProps:W}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,E,R,z,V,W]);return l.jsx(_C,{onFieldGroupSelect:c,onChange:k,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(q),[q,p])})};function _on(e,t){return new mt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function Son(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function kon(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Eon(e){return/^\d+$/.test(e)}function jon(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{xw(i)&&(n=!0),u0e(i)&&(o=!0),Up(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Eon(e)?Number(e):o?e:void 0}function Ton(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return _on(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>jon(o,e)).filter(o=>o!==void 0)),pt(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[pf(r,"after",[-1])]})))}}}function Aon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=xa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}=e,{field:{actions:b}}=pi().__internal,x=h.useRef(),y=h.useRef(),w=Jn(sn);Wi(c.field.focused,(N,G)=>{var Y;!N&&G&&((Y=x.current)==null||Y.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(N=>{const G=dt.from(N).patches;if(G.some(K=>K.type==="unset"&&K.path.length===1)){const K=RN(c.field.value||[],G);if(Array.isArray(K)&&!K.length){r(dt.from(nt([c.name])));return}}r(dt.from(N).prepend(os([])).prefixAll(c.name))},[r,c.name,c.field.value]),k=h.useCallback(N=>{i(c.field.path,N)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),E=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(N=>{S(N.length===0?nt():xt(N))},[S]),A=h.useCallback(N=>{const{value:G=[]}=c.field;N.fromIndex!==N.toIndex&&T(Son(G,N.fromIndex,N.toIndex))},[c.field,T]),D=h.useCallback(N=>{const{value:G=[]}=c.field;T(G.concat(N))},[c.field,T]),I=h.useCallback(N=>{const{value:G=[]}=c.field;T([N].concat(G||[]))},[c.field,T]),O=h.useCallback(N=>{const{value:G=[]}=c.field,Y=N.referenceIndex+(N.position==="before"?-1:0);T(kon(Y,G,N.items))},[c.field,T]),$=h.useCallback(N=>{S(nt([N]))},[S]),R=h.useCallback(N=>{n(c.field.path.concat([N]))},[c.field.path,n]),z=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":Ch(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),F=h.useMemo(()=>Ton(c.field.schemaType.of),[c.field.schemaType.of]),H=h.useCallback((N,G)=>Z4(G,"text/*")?F:null,[F]),W=h.useCallback(N=>{let{file:G,schemaType:Y,uploader:K}=N;const X=K.upload(w,G,Y).pipe(ce(Q=>dt.from(Q.patches||[])),wn(Q=>S(Q.patches)));y.current&&y.current.unsubscribe(),y.current=X.subscribe()},[w,S]),V=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:k,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:z,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:O,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:H,onUpload:W,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:g,onIndexFocus:R,renderPreview:v}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,k,z,S,O,A,$,D,I,H,W,u,d,p,m,g,R,v]),q=h.useMemo(()=>m(V),[V,m]),oe=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:E,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:q,inputProps:V}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,E,j,q,V]);return l.jsx(_C,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(oe),[oe,f])})}function b3e(e){return Qa(e.field.schemaType)}function Don(e){return Hl(e.field.schemaType)&&e.field.schemaType.of.every(t=>d0e(t))}function MN(e){return Hl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Qa(t))}const OC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return b3e(n)?l.jsx(Con,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):Don(n)?l.jsx(Aon,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):MN(n)?l.jsx(xon,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(won,{member:n,renderField:i,renderInput:a})}),x3e=["yes","true","1"],w3e=["false","no","false","0","null"],Ion=x3e.concat(w3e),__=()=>!0,Oon=e=>t=>t&&t[e],Pon=e=>t=>(t&&t._type)===e;function Ron(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function $on(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const oP={string:{number:{test:Number,convert:Number},boolean:{test:e=>Ion.includes(e.toLowerCase()),convert:e=>x3e.includes(e.toLowerCase())||!w3e.includes(e.toLowerCase())},richDate:{test:e=>Qu(e),convert:e=>({_type:"richDate",local:Ron(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:$on(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Pon("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:Oon("utc"),convert:e=>e.utc}},number:{string:{test:__,convert:String},boolean:{test:__,convert:Number}},boolean:{string:{test:__,convert:e=>e?"Yes":"No"},number:{test:__,convert:Number}}};function Mon(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(dt.from(os(n,["_type"])),o),[o,r,n]);return l.jsx(ie,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function Fon(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(dt.from(nt()),o),[o,n]);return l.jsx(ie,{onClick:i,tone:"critical",text:"Unset value"})}function Lon(e){let{validTypes:t,value:n,onChange:r}=e;const o=En(),i=t.length===1,s=o.has(t[0]);return l.jsx(Jc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Ym,{open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(te,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(te,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(J,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(on,{columns:[1,2,2],gap:1,children:[i&&l.jsx(Mon,{onChange:r,targetType:t[0],value:n}),l.jsx(Fon,{onChange:r,validTypes:t,value:n})]})]})})})}function Bon(e,t,n){return t in oP?Object.keys(oP[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...oP[t][r]})).filter(r=>r.test(e)):[]}const C3e=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(dt.from(nt()))},[i]),a=h.useCallback(d=>{i(dt.from(xt(d)))},[i]),c=h.useMemo(()=>Bon(n,r,o),[n,r,o]);if(Er(n)&&!("_type"in n))return l.jsx(Lon,{value:n,validTypes:o,onChange:i});const u=l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Jc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Ym,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(te,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(te,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(J,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(te,{space:1,children:c.map(d=>l.jsx(Non,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});C3e.displayName="InvalidValueInput";function Non(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(ie,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function zon(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.value||[]).map((o,i)=>os(dC(),[i,"_key"]))))},[t.value,n]);return l.jsx(v1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"warning",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Ym,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Von(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.duplicates||[]).map(o=>{let[i,s]=o;return xt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(v1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"warning",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Ym,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Hon(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Er(s)?[]:[a]).reverse().map(s=>nt([s]));n(dt.from(i))};return l.jsx(v1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Jc,{status:"error",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Ym,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(te,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function XA(e){const{member:t}=e,{onChange:n}=xa(),r=h.useCallback(o=>{n(dt.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(C3e,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(zon,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(Von,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(Hon,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const FN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=xa(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(YA,{title:r.fieldSet.title||Fm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(g=>g.kind==="error"?l.jsx(XA,{member:g},r.key):l.jsx(OC,{member:g,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},g.key))})});function LN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:g,onSetFieldSetCollapsed:v,onFieldGroupSelect:b}=xa(),x=_z();Wi(n.item.focused,(Y,K)=>{var X;!Y&&K&&((X=t.current)==null||X.focus())});const y=h.useCallback(()=>{p(dt.from([nt([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(Y=>{m(Y),g(Y,!1)},[m,g]),C=Io(),_=h.useCallback(Y=>{if(Y.items.length===0)throw new Error("Insert event should include at least one item");const K=Y.items.map(ae=>rk(ae));p(dt.from([pf(K,Y.position,[{_key:n.key}])]));const X=K[0]._key,Z=[...n.item.path.slice(0,-1),{_key:X}];f(Z);const ne=Y.open!==!1;Y.skipInitialValue?ne&&w(Z):m3e(K,n.parentSchemaType,x).pipe(wn(ae=>{ae.type==="patch"?p(dt.from(ae.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(ae.schemaType.title,": ").concat(ae.error.message,"."),status:"error"})})).subscribe({complete:()=>{ne&&w(Z)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),k=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(Y=>{f(n.item.path.concat(Y))},[n.item.path,f]),E=h.useCallback(Y=>{p(dt.from(Y).prepend(os(ON(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{g(n.item.path,!0)},[g,n.item.path]),A=h.useCallback(()=>{g(n.item.path,!1)},[g,n.item.path]),D=h.useCallback(Y=>{g(n.item.path.concat(Y),!0)},[g,n.item.path]),I=h.useCallback(Y=>{g(n.item.path.concat(Y),!1)},[g,n.item.path]),O=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(Y=>{m(n.item.path.concat(Y))},[m,n.item.path]),R=h.useCallback(Y=>{v(n.item.path.concat(Y),!1)},[v,n.item.path]),z=h.useCallback(Y=>{v(n.item.path.concat(Y),!0)},[v,n.item.path]),F=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||p3e(n.item.value),W=h.useCallback(()=>{H&&y();const Y=n.item.path.slice(0,-1);m(Y),f(Y)},[H,m,n.item.path,f,y]),V=h.useCallback(Y=>{b(n.item.path,Y)},[b,n.item.path]),q=h.useMemo(()=>({onBlur:S,onFocus:k,id:n.item.id,ref:t,"aria-describedby":Ch(n.item.id,n.item.schemaType.description)}),[S,k,n.item.id,n.item.schemaType.description]),oe=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:E,onFieldClose:O,onFieldCollapse:D,onFieldSetCollapse:z,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:V,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:q}),[q,E,O,D,z,I,R,j,$,V,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),N=h.useMemo(()=>a(oe),[oe,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:F,onClose:W,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:k,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:oe}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,y,F,W,A,T,k,S,N,oe]);return l.jsx(_C,{onFieldGroupSelect:b,onChange:E,onPathOpen:m,onSetFieldSetCollapsed:v,onSetPathCollapsed:g,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(G),[G,c])})}function BN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Uon(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=xa();Wi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(dt.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Up(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else xw(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Up(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(xt(S?BN(n.item.schemaType):_))},[p,n.item.schemaType]),g=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Won(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":Ch(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),v=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:g}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,g]),b=h.useMemo(()=>o(v),[v,o]),x=h.useCallback(()=>{u(dt.from([nt([n.index])]))},[n.index,u]),y=h.useCallback(C=>{u(dt.from([pf(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,x,f,d,b]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Won(e,t,n){return Object.is(t,-0)?"":y3e(e,t,n)}var Kie=Object.freeze,Yon=Object.defineProperty,qon=(e,t)=>Kie(Yon(e,"raw",{value:Kie(t||e.slice())})),Zie;const Gon=P(J)(Zie||(Zie=qon([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function _3e(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ms(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Gon,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(Sj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(jl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Kon(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(_3e,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Zon=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(OC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(XA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(FN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Xon(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(Zon,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const vy=e=>{let{children:t}=e;return t};function Qon(e){return"absolutePath"in e}const S3e=h.memo(function(t){const n=h.useMemo(()=>Qon(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Jon,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Jon=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(b=>{if(xn(b.path,n)||Ai(n,b.path))return a(b);if(!Nie(b)&&!zie(b))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(b.path)));return l.jsx(e,{...b,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(b=>Ai(n,b.path)&&(t.includeField||!xn(n,b.path))?i(b):vy(b),[n,i,t.includeField]),p=h.useCallback(b=>Ai(n,b.path)&&(t.includeItem||!xn(n,b.path))?c(b):vy(b),[n,c,t.includeItem]),m=h.useCallback(b=>Ai(n,b.path)&&(t.includeItem||!xn(n,b.path))?o(b):vy(b),[n,o,t.includeItem]),g=h.useCallback(b=>Ai(n,b.path)&&(t.includeItem||!xn(n,b.path))?s(b):vy(b),[n,s,t.includeItem]),v=h.useCallback(b=>Ai(n,b.path)&&(t.includeItem||!xn(n,b.path))?r(b):vy(b),[n,r,t.includeItem]);if(zie(t)){const b=ob(t.path,n),x=t.members.find(y=>y.kind=="item"&&Mr(b[0])&&y.key===b[0]._key);if(!x){const w=ob(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Kon,{member:x}):l.jsx(LN,{member:x,renderAnnotation:v,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:g,renderItem:p,renderPreview:u})}if(Nie(t)){const b=ob(t.path,n),x=t.members.find(y=>y.kind=="field"&&b[0]===y.name);if(!x){const y=b[0];return l.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(OC,{member:x,renderAnnotation:v,renderBlock:m,renderInput:d,renderInlineBlock:g,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),k3e=h.createContext(null);function ein(){const e=h.useContext(k3e);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function ow(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(k3e.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const tin=[0,0,1,0];function E3e(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(DC,{margins:tin,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(ow,{scrollElement:u,containerElement:f,children:l.jsx(Vi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(uqt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(ow,{scrollElement:u,containerElement:f,children:p})})}function nin(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const rin={portal:!0,tone:"default"},oin={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},iin={position:"relative"};function sin(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:g,onFocus:v,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,k=c.of,j=h.useRef(null);WA(j,m),Wi(w,(q,oe)=>{var N;!q&&oe&&j.current&&((N=j.current)==null||N.focus())});const E=p._resolvingInitialValue,T=h.useCallback(()=>{g({items:[{...p,_key:nw()}],position:"after"})},[g,p]),A=h.useCallback((q,oe)=>{g({items:[y1(oe)],position:q})},[g]),D=f1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(AC,{presence:D,maxAvatars:1}),[D]),O=cN(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(g1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(q=>q.level==="error"),z=O.some(q=>q.level==="warning"),F=h.useMemo(()=>d?null:l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:Fc,onClick:T}),l.jsx(KA,{types:k,onInsert:A})]}),popover:rin}),[T,A,f,k,e.inputId,d]),H=nin({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx(qA,{menu:F,presence:I,validation:$,tone:H,focused:w,dragHandle:S,selected:m,children:l.jsxs(J,{as:"button",type:"button",tone:"inherit",radius:2,disabled:E,padding:1,onClick:b,ref:j,onFocus:v,__unstable_focusRing:!0,style:iin,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),E&&l.jsx(J,{style:oin,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(Qn,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),V=Np(a);return l.jsxs(l.Fragment,{children:[l.jsx(hi,{path:u,isChanged:y,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:W})}),m&&l.jsx(E3e,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function ain(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Lu(e)?Drn:sin}function QA(e){const t=Vo(e),{value:n}=pi();return Dl(n,t)}function JA(){const e=QA(["_id"]);if(typeof e=="string")return Rn(e)}function lin(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const cin={portal:!0,tone:"default"};function uin(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:g,inputId:v,children:b,inputProps:x}=e,{readOnly:y,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,k]=h.useState([]),j=JA(),E=h.useCallback(()=>x.onChange(nt()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:O}=KN({path:m,schemaType:p,value:T});WA(f,g),Wi(w,(be,ge)=>{!be&&ge&&f.current&&f.current.focus()});const $=e.validation.some(be=>be.level==="error"),R=e.validation.some(be=>be.level==="warning"),z=ZA(T==null?void 0:T._ref,D),F=((t=z.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=F?p.to.find(be=>be.name===F):void 0,W=I==="pressed",V=I==="selected",q=T==null?void 0:T._ref,oe=q&&((i=(o=(r=z.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[_,p.weak]),G=h.useCallback(()=>{_(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[_,p]),Y=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),K=T!=null&&T._weak?"weak":"strong",X=p.weak===!0?"weak":"strong",Q=q&&!z.isLoading&&(T==null?void 0:T._strengthenOnPublish),Z=!z.isLoading&&((s=z.result)==null?void 0:s.availability.available)&&q&&K!==X&&!Q,ne=lin({readOnly:y,hasErrors:$,hasWarnings:R}),ae=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",me=((a=z.result)==null?void 0:a.preview.draft)||((c=z.result)==null?void 0:c.preview.published),ue=l.jsxs(l.Fragment,{children:[O&&oe&&T._strengthenOnPublish&&l.jsx(Of,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=z.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(ie,{onClick:N,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Z&&l.jsx(Of,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:K}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[X,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",me!=null&&me.title?l.jsxs(l.Fragment,{children:['"',me==null?void 0:me.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(ie,{onClick:G,text:l.jsxs(l.Fragment,{children:["Convert to ",X," reference"]}),tone:"caution"})]})}),z.error&&l.jsx(Of,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",z.error.message]}),l.jsx(ie,{onClick:z.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Te=h.useMemo(()=>h.forwardRef(function(ge,Oe){return l.jsx($m,{...ge,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Oe})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),_e=h.useMemo(()=>y?null:l.jsx(M,{marginLeft:1,children:l.jsx(Jt,{button:l.jsx(ie,{paddingY:3,paddingX:2,mode:"bleed",icon:qo}),id:"".concat(v,"-menuButton"),menu:l.jsxs(Bt,{children:[!y&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:go,onClick:E}),l.jsx(Ne,{text:"Replace",icon:O0,onClick:Y})]}),!y&&(T==null?void 0:T._ref)&&l.jsx(Rr,{}),(T==null?void 0:T._ref)&&l.jsx(Ne,{as:Te,"data-as":"a",text:"Open in new tab",icon:rh})]}),popover:cin})}),[E,Y,v,Te,y,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(SC,{actions:e.actions,documentId:j,documentType:p.name,onActions:k,path:m,schemaType:p}),l.jsx(TC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(v1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:ae?l.jsx(M,{children:b}):l.jsx(J,{shadow:1,radius:1,padding:1,tone:ne,children:l.jsxs(te,{space:1,children:[l.jsxs(U,{gap:1,align:"center",children:[l.jsx(o3e,{__unstable_focusRing:!0,as:A,"data-pressed":W?!0:void 0,"data-selected":V?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:W,radius:2,ref:f,selected:V,tone:"inherit",children:l.jsx(r3e,{value:T,referenceInfo:z,renderPreview:C,type:p})}),l.jsx(M,{children:_e})]}),ue]})})})})]})}function j3e(e,t){return Hn(e.options,t)}const Xie=["array","file","image","reference","slug"],din=["asset","crop","hotspot","_ref","_weak"],fin=["tags"],hin=["slug"];function NN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?NN(e.type,t):[];return[e,...n]}function pin(e,t){return Hl(e)?gin(e,t):min(e,t)}function min(e,t){var n,r,o;const{type:i,options:s}=e,a=T3e(i,Xie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(hin.includes(u))return 0;const d=Xie.includes(u),f=((n=c==null?void 0:c.filter(m=>!din.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function gin(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=fin.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function T3e(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return T3e(e.type,t)}const BE=[];function vin(e){return l.jsx(hi,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function iP(e){const[t,n]=h.useState(BE),r=JA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(SC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(TC,{actions:t,focused:o,path:e.path,children:l.jsx(v1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(hi,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function yin(e){const[t,n]=h.useState(BE),r=JA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(SC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(TC,{actions:t,focused:o,path:e.path,children:l.jsx(YA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function bin(e){const[t,n]=h.useState(BE),r=JA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||BE);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(SC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(TC,{actions:t,focused:o,path:e.path,children:l.jsx(YA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function xin(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(xw(e))return vin;const n=NN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?bin:n.some(r=>qF(r))||n.some(r=>r.name==="slug")?iP:n.some(r=>Lu(r))?uin:e.jsonType!=="object"&&e.jsonType!=="array"?iP:yin}function win(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>Lx(a,{allowedDecorators:t}));const s=[pf(o,"after",[{_key:n._key}])];return r(dt.from(s))}}function Cin(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[xt(Lx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(dt.from(i))}}function _in(e){const{block:t,onChange:n}=e;return()=>{const r=[nt([{_key:t._key}])];return n(dt.from(r))}}var Qie=Object.freeze,Sin=Object.defineProperty,kin=(e,t)=>Qie(Sin(e,"raw",{value:Qie(t||e.slice())})),Jie;const Ein=P.div(Jie||(Jie=kin([`
  display: flex;
  pointer-events: all;
`])));function A3e(e){const t=bo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Ce.getValue(t),set:Cin({allowedDecorators:i,block:n,onChange:r}),unset:_in({block:n,onChange:r}),insert:win({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(Ein,{contentEditable:!1,children:s}):null}var ese=Object.freeze,jin=Object.defineProperty,Tin=(e,t)=>ese(jin(e,"raw",{value:ese(t||e.slice())})),tse;const D3e=P.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Ye(o.spot.yellow,.2);return fe(tse||(tse=Tin([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var nse=Object.freeze,Ain=Object.defineProperty,Din=(e,t)=>nse(Ain(e,"raw",{value:nse(t||e.slice())})),rse;const I3e=P(hi)(()=>fe(rse||(rse=Din([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function eD(e){return e.type?eD(e.type):e.name==="block"}function Iin(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Oin=["@@_NONEXISTENT_PATH_@@"];function tD(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Wn,r=cN((e==null?void 0:e.path)||Oin),o=h.useMemo(()=>e!=null&&e.schemaType&&eD(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=lN(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const O3e=h.createContext([]);function Pin(e){return l.jsx(O3e.Provider,{value:e.markers,children:e.children})}function nD(e){const t=h.useContext(O3e);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>xn(r.path,e)),[t,e])}const zN=h.createContext([]);function Rin(e){return l.jsx(zN.Provider,{value:e.memberItems,children:e.children})}function rD(e){const t=h.useContext(zN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function $in(){const e=h.useContext(zN);if(!e)throw new Error("Form context not provided");return e}var ose=Object.freeze,Min=Object.defineProperty,sd=(e,t)=>ose(Min(e,"raw",{value:ose(t||e.slice())})),ise,sse,ase,lse,cse,use,dse,fse,hse;const Fin=P(J)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=fe(ise||(ise=sd([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return fe(sse||(sse=sd([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?le.purple[950].hex:le.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Lin=P(M)(ase||(ase=sd([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),Bin=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return fe(cse||(cse=sd([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&fe(lse||(lse=sd([`
        display: none;
      `]))))}),Nin=P(U)(use||(use=sd([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),zin=P(M)(dse||(dse=sd([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Vin=P(U)(fse||(fse=sd([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Hin=P(M)(hse||(hse=sd([`
  max-width: 250px;
`]))),Uin={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Win(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>ud(a)?h.forwardRef(function(g,v){return l.jsx($m,{...g,intent:"edit",params:{id:a._ref},ref:v})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),cs(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(U,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(Jt,{button:l.jsx(ie,{"aria-label":"Open menu",fontSize:1,iconRight:qo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Bt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ne,{as:f,"data-as":"a",icon:Nf,text:"Open reference"}),s&&l.jsx(Ne,{icon:f6,onClick:o,text:"View"}),!s&&l.jsx(Ne,{icon:Bu,onClick:o,text:"Edit"}),!s&&l.jsx(Ne,{icon:go,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Uin})})]})}const P3e=e=>Array.isArray(e)?e.flatMap(P3e):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Yin=e=>e==="dialog"||e==="popover"?e:void 0;function qin(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Yin(n.type),width:P3e(n.width)}:void 0}function Gin(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Vi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(DC,{margins:[0,0,1,0],children:l.jsx(ow,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var pse=Object.freeze,Kin=Object.defineProperty,VN=(e,t)=>pse(Kin(e,"raw",{value:pse(t||e.slice())})),mse,gse,vse;const Zin=P(an)(mse||(mse=VN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Xin=P(M)(gse||(gse=VN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Qin=P(M)(vse||(vse=VN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Jin=["top","bottom"];function esn(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(Zin,{content:l.jsx(tsn,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Jin,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function tsn(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;cs(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),dr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(ow,{scrollElement:s,containerElement:c,children:l.jsxs(U,{ref:c,direction:"column",height:"fill",children:[l.jsx(Qin,{flex:"none",padding:1,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(ie,{autoFocus:!!i,icon:Mi,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Xin,{flex:1,children:l.jsx(DC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function HN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>qin(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(esn,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Gin,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function nsn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:g,renderCustomMarkers:v,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:k}=e,{onChange:j}=xa(),{Markers:E}=pi().__internal.components,[T,A]=h.useState(!1),D=nD(c),I=bo(),O=rD(Cn(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),z=h.useCallback(()=>A(!0),[]),F=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{O&&(Ce.blur(I),s(O.node.path))},[I,O,s]),W=h.useCallback(()=>{i(),Ce.select(I,R),Ce.focus(I)},[i,I,R]),V=h.useCallback(()=>{if(!$.current)try{Ce.delete(I,R,{mode:"blocks"})}catch(ge){console.error(ge)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&Ce.focus(I)},[I]);const q=h.useMemo(()=>o&&!g?{paddingX:5}:o&&g?{paddingLeft:5,paddingRight:2}:g?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,g]),{validation:oe,hasError:N,hasWarning:G,hasInfo:Y}=tD(O==null?void 0:O.node),K=I.schemaTypes.portableText,X=D.length>0,Q=f1(c,!0),Z=h.useMemo(()=>Q.filter(ge=>xn(ge.path,c)),[c,Q]),ne=N||G||Y||X,ae=h.useMemo(()=>ne&&l.jsx(Hin,{padding:2,children:l.jsx(E,{markers:D,validation:oe,renderCustomMarkers:v})})||null,[E,D,v,ne,oe]),me=!!(O!=null&&O.member.open),ue=O==null?void 0:O.input,Te=(O==null?void 0:O.node.path)||Wn,_e=(t=O==null?void 0:O.elementRef)==null?void 0:t.current,be=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:_e||null,children:ue,focused:r,markers:D,onClose:W,onOpen:H,onPathFocus:a,onRemove:V,open:me,parentSchemaType:K,path:Te,presence:Z,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:R3e,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:oe,value:k}),[n,_e,ue,r,D,W,H,a,V,me,K,Te,Z,u,d,p,m,b,x,y,w,C,_,S,oe,k]);return h.useMemo(()=>l.jsx(M,{ref:O==null?void 0:O.elementRef,contentEditable:!1,children:l.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(Nin,{flex:1,children:[l.jsx(at,{placement:"top",portal:"editor",disabled:!ne,content:ae,children:l.jsx(Lin,{...q,children:m&&m(be)})}),l.jsx(zin,{marginRight:1,children:l.jsx(Vin,{children:g&&k&&r&&!u&&l.jsx(A3e,{block:k,onChange:j,renderBlockActions:g})})}),o&&O&&l.jsx(Bin,{$hasChanges:O.member.item.changed,onMouseOut:F,onMouseOver:z,children:l.jsx(I3e,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})}),T&&l.jsx(D3e,{})]})})}),[be,r,F,z,q,o,O,j,u,m,g,T,ae,ne,k])}const R3e=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:g,value:v,validation:b}=e,x=x4e(v),y=b.filter(k=>k.level==="error").length>0,w=b.filter(k=>k.level==="warning").length>0,C=s.length>0,_=g||i?"primary":"default",S=h.useCallback(k=>{k.preventDefault(),k.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(Fin,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":y?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(Win,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:v}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:v})}),d&&l.jsx(HN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},yy=[1,2,3,4,5,6,7,8,9],yse=["●","○","■"],bse=["number","lower-alpha","lower-roman"],rsn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},osn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function lp(e){return"list-level-".concat(e)}var xse=Object.freeze,isn=Object.defineProperty,Vc=(e,t)=>xse(isn(e,"raw",{value:xse(t||e.slice())})),wse,Cse,_se,Sse,kse,Ese,jse,Tse,Ase,Dse;function ssn(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=bse[(n-1)%bse.length],u=yse[(n-1)%yse.length];return fe(wse||(wse=Vc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?le.purple[950].hex:le.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,lp(n),lp(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const asn=P.div(ssn),lsn=P(M)(Cse||(Cse=Vc([`
  position: relative;
  display: flex;
`]))),csn=P.div(_se||(_se=Vc([`
  user-select: none;
  white-space: nowrap;
`]))),usn=P(M)(Sse||(Sse=Vc([`
  user-select: none;
`]))),dsn=P(M)(kse||(kse=Vc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),fsn=P(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return fe(Ese||(Ese=Vc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),hsn=P(M)(jse||(jse=Vc([`
  max-width: 250px;
`]))),psn=P(U)(Tse||(Tse=Vc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),msn=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return fe(Dse||(Dse=Vc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&fe(Ase||(Ase=Vc([`
        display: none;
      `]))))});var Ise=Object.freeze,gsn=Object.defineProperty,$3e=(e,t)=>Ise(gsn(e,"raw",{value:Ise(t||e.slice())})),Ose,Pse;const Ed=P.div(Ose||(Ose=$3e([`
  display: block;
`]))),UN=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(Ed,{children:t})})},M3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(Ed,{children:t})})},F3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(Ed,{children:t})})},L3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(Ed,{children:t})})},B3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(Ed,{children:t})})},N3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(Ed,{children:t})})},z3e=e=>{let{children:t,...n}=e;return l.jsx(Go,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(Ed,{children:t})})},vsn=P.blockquote(Pse||(Pse=$3e([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),V3e=e=>{let{children:t,...n}=e;return l.jsx(vsn,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},sP={normal:UN,h1:M3e,h2:F3e,h3:L3e,h4:B3e,h5:N3e,h6:z3e,blockquote:V3e};function ysn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:g,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:k}=e,{Markers:j}=pi().__internal.components,[E,T]=h.useState(!1),A=nD(c),D=rD(Cn(c)),I=bo(),{onChange:O}=xa(),$=f1(c,!0),R=h.useMemo(()=>$.filter(ue=>xn(ue.path,c)||ue.path.slice(-3)[1]==="children"&&ue.path.length-c.length===2),[c,$]),z=h.useCallback(()=>T(!0),[]),F=h.useCallback(()=>T(!1),[]),{validation:H,hasError:W,hasWarning:V,hasInfo:q}=tD(D==null?void 0:D.node),oe=!!g&&A.length>0,N=W||V||oe||q,G=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),Y=h.useCallback(()=>{const ue={path:c.slice(-1),offset:0},Te={focus:ue,anchor:ue};Ce.delete(I,Te,{mode:"blocks"}),Ce.focus(I)},[c,I]),K=h.useMemo(()=>l.jsxs(psn,{align:"flex-start",$level:k==null?void 0:k.level,children:[k.listItem&&l.jsx(csn,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(Ed,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[k.listItem,k.level,t]),X=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),Q=h.useMemo(()=>k.listItem?{paddingY:2}:osn[k.style||"normal"]||{paddingY:2},[k]),Z=!!(D!=null&&D.member.open),ne=I.schemaTypes.portableText,ae=h.useMemo(()=>{var ue;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ue=D==null?void 0:D.elementRef)==null?void 0:ue.current)||null,children:K,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:Y,open:Z,parentSchemaType:ne,path:(D==null?void 0:D.node.path)||Wn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:H3e,renderField:v,renderInput:x,renderInlineBlock:b,renderItem:y,renderPreview:w,schemaType:C,selected:_,validation:H,value:k}},[n,r,Z,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,G,a,Y,ne,u,d,p,f,v,b,x,y,w,C,_,K,R,H,k]),me=h.useMemo(()=>N&&l.jsx(hsn,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:g,validation:H})})||null,[j,A,g,N,H]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...Q,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(lsn,{"data-testid":"text-block__wrapper",children:l.jsxs(U,{flex:1,...X,children:[l.jsx(M,{flex:1,children:l.jsx(at,{content:me,disabled:!N,placement:"top",portal:"editor",children:l.jsx(asn,{$level:k.level||1,"data-error":W?"":void 0,"data-list-item":k.listItem,"data-markers":oe?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":V?"":void 0,spellCheck:S,children:f&&f(ae)})})}),l.jsxs(usn,{contentEditable:!1,children:[l.jsx(dsn,{marginRight:1,children:l.jsx(fsn,{children:m&&r&&!u&&l.jsx(A3e,{onChange:O,block:k,renderBlockActions:m})})}),o&&D&&l.jsx(msn,{$hasChanges:D.member.item.changed,onMouseEnter:z,onMouseLeave:F,children:l.jsx(I3e,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),E&&l.jsx(D3e,{})]})})}),[ae,r,z,F,W,oe,V,X,o,D,O,Q,u,f,m,E,S,me,N,k])}const H3e=e=>l.jsx(l.Fragment,{children:e.children});var Rse=Object.freeze,bsn=Object.defineProperty,xsn=(e,t)=>Rse(bsn(e,"raw",{value:Rse(t||e.slice())})),$se;const wsn=P(an)($se||($se=xsn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Csn=["top","bottom"];function _sn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=Ls(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";cs(h.useCallback(v=>{v.key==="Escape"&&(v.preventDefault(),v.stopPropagation(),n())},[n]));const m=h.useCallback(v=>{var b;if(!((b=f.current)!=null&&b.disabled)){v.preventDefault(),v.stopPropagation();try{o(v)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),g=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(ie,{icon:Bu,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(ie,{ref:f,icon:go,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(wsn,{constrainSize:!0,content:g,fallbackPlacements:Csn,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Mse=Object.freeze,Ssn=Object.defineProperty,WN=(e,t)=>Mse(Ssn(e,"raw",{value:Mse(t||e.slice())})),Fse,Lse,Bse;const ksn=P(J)(Tsn),Esn=P.span(Fse||(Fse=WN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),jsn=P(M)(Lse||(Lse=WN([`
  max-width: 250px;
`])));function Tsn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return fe(Bse||(Bse=WN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?le.purple[950].hex:le.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const Asn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:g,renderItem:v,renderInlineBlock:b,renderInput:x,renderPreview:y,schemaType:w,selected:C,value:_}=e,{Markers:S}=pi().__internal.components,k=bo(),j=nD(a),E=rD(Cn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=tD(E==null?void 0:E.node),O=k.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),z=h.useCallback(()=>{Ce.delete(k,R,{mode:"children"}),Ce.focus(k)},[R,k]),F=h.useCallback(()=>{E&&(Ce.blur(k),i(E.node.path))},[k,i,E]),H=h.useCallback(()=>{o(),Ce.select(k,R),Ce.focus(k)},[o,k,R]),W=!!(E!=null&&E.member.open),V=E==null?void 0:E.input,q=(E==null?void 0:E.node.path)||Wn,oe=(t=E==null?void 0:E.elementRef)==null?void 0:t.current,N=f1(a,!0),G=h.useMemo(()=>N.filter(Q=>xn(Q.path,a)),[a,N]),Y=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:oe,children:V,focused:r,onClose:H,onOpen:F,onPathFocus:s,onRemove:z,open:W,markers:j,member:E==null?void 0:E.member,parentSchemaType:O,path:q,presence:G,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:U3e,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:v,renderPreview:y,schemaType:w,selected:C,value:_,validation:T}),[n,r,V,W,j,E==null?void 0:E.member,q,H,F,s,z,O,c,u,oe,f,p,g,b,x,v,y,G,w,C,T,_]),K=A||I||D||$,X=h.useMemo(()=>K&&l.jsx(jsn,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,K,T]);return h.useMemo(()=>l.jsx("span",{ref:E==null?void 0:E.elementRef,contentEditable:!1,children:l.jsx(at,{placement:"bottom",portal:"editor",disabled:!K,content:X,children:b&&l.jsx("span",{style:{position:"relative"},children:b(Y)})})}),[Y,E==null?void 0:E.elementRef,b,X,K])},U3e=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:g,validation:v,value:b}=e,x=s.length>0,[y,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=v.filter(T=>T.level==="error").length>0,S=v.filter(T=>T.level==="warning").length>0,k=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(g||i)return"primary"},[i,_,S,g]),E=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(ksn,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":g||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?k:void 0,onDoubleClick:k,tone:j,children:l.jsx(Esn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&l.jsx(_sn,{floatingBoundary:t,onClosePopover:E,onDelete:u,onEdit:k,open:y,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(HN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Nse=Object.freeze,Dsn=Object.defineProperty,Isn=(e,t)=>Nse(Dsn(e,"raw",{value:Nse(t||e.slice())})),zse;const Osn=P(an)(zse||(zse=Isn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Psn=["top","bottom"];function Rsn(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:g}=Ls(),v=h.useRef(null),b=g.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);cs(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const k=S.getRangeAt(0);if(!(s==null?void 0:s.contains(k.commonAncestorContainer))){d(!1),p(null);return}const E=k==null?void 0:k.getBoundingClientRect();E&&(d(!0),p(E))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(Osn,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(ie,{icon:Bu,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(ie,{icon:go,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Psn,placement:"top",portal:!0,preventOverflow:!0,ref:v,referenceBoundary:i,referenceElement:x,scheme:b}):null}var Vse=Object.freeze,$sn=Object.defineProperty,W3e=(e,t)=>Vse($sn(e,"raw",{value:Vse(t||e.slice())})),Hse,Use;const Msn=P.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return fe(Hse||(Hse=W3e([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?le.purple[950].hex:le.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),Fsn=P(M).attrs({forwardedAs:"span"})(Use||(Use=W3e([`
  max-width: 250px;
`])));function Lsn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:g,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:k=eIe}=pi().__internal.components,j=bo(),E=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=rD(Cn(E)),{validation:O}=tD(I==null?void 0:I.node),$=nD(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),z=h.useCallback(()=>{I&&(Ce.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),F=h.useCallback(()=>{s();const Z=Ce.getSelection(j),ne=(Z==null?void 0:Z.focus.path)&&xn(Z.focus.path,D)&&Z.focus.offset,ae=(Z==null?void 0:Z.anchor.path)&&xn(Z.anchor.path,D)&&Z.anchor.offset;Ce.select(j,{anchor:{path:D,offset:ae||0},focus:{path:D,offset:ne||0}}),Ce.focus(j)},[j,D,s]),H=h.useCallback(()=>{Ce.removeAnnotation(j,C),Ce.focus(j)},[j,C]),W=h.useMemo(()=>O.length>0||$.length>0?l.jsx(at,{placement:"bottom",portal:"default",content:l.jsx(Fsn,{padding:2,children:l.jsx(k,{markers:$,renderCustomMarkers:g,validation:O})}),children:R}):void 0,[k,$,g,R,O]),V=f1(u,!0),q=h.useMemo(()=>V.filter(Z=>xn(Z.path,u)),[u,V]),oe=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,G=(I==null?void 0:I.node.path)||Wn,Y=T,K=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:Y,__unstable_textElementFocus:r,children:N,focused:i,markers:$,onClose:F,onOpen:z,onPathFocus:c,onRemove:H,open:oe,parentSchemaType:j.schemaTypes.block,path:G,presence:q,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:v,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:y,renderDefault:X4,schemaType:C,selected:_,textElement:W||R,validation:O,value:S}),[j.schemaTypes.block,r,o,i,N,oe,$,W,G,F,z,c,H,d,f,Y,p,m,v,b,x,y,w,q,C,_,R,O,S]),X=(t=C.components)==null?void 0:t.annotation,Q=h.useCallback(Z=>{I!=null&&I.elementRef&&(I.elementRef.current=Z),A(Z)},[I]);return h.useMemo(()=>l.jsx("span",{ref:Q,style:void 0,children:X?l.jsx(X,{...K}):l.jsx(X4,{...K})}),[X,K,Q])}const X4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:g,validation:v}=e,b=m.name==="link",x=v.filter(_=>_.level==="error").length>0,y=v.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":y?"caution":b?"primary":"default",[b,x,y]);return l.jsxs(Msn,{$toneKey:C,"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[g,l.jsx(Rsn,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(HN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function Bsn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:eD(e)?H3e:R3e}function Nsn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:U3e}function zsn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:X4}const Vsn=/^\d+$/;function Hsn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Usn(e){const[t,n]=e.split("==");return{[t]:Hsn(n)}}function Wsn(e){return Vsn.test(e)?Number(e):e}function Ysn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Usn(t):Wsn(t))}function pg(e){return Ysn(e)}class TMn extends re.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function w0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=yo(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function qsn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):Y3e(Array.from(e.items||[])).then(In)}function Gsn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):Y3e(n).then(In)}function Wse(e){return e===null?[]:[e]}function Y3e(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return Wse(t.getAsFile())}return n?n.isDirectory?q3e(n):Wse(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function q3e(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(q3e)).then(In))}return Promise.resolve([])}function Ksn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const Zsn={opacity:0,position:"absolute"};function G3e(e){return re.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=re.useState(!1),f=re.useRef(null),p=fr(r),m=re.useRef([]),g=h.useCallback(S=>{o==null||o(S)},[o]),v=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),b=h.useCallback(S=>{qsn(S.clipboardData).then(k=>f.current?k.length>0?k:Xsn(f.current,"image/jpeg"):[]).then(k=>{var j;g(k),d(!1),(j=p.current)==null||j.focus()})},[g,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const k=S.nativeEvent.dataTransfer;o&&k&&Gsn(k).then(j=>{j&&g(j)}),s==null||s()},[g,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const k=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(k)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const k=m.current.indexOf(S.currentTarget);k>-1&&m.current.splice(k,1),m.current.length===0&&(s==null||s())},[s]),_=re.useRef(!1);return re.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Qsn(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:v,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:b,ref:f,style:Zsn})]})})}function Xsn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Ksn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Qsn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function YN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function qN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&YN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Yse=Object.freeze,Jsn=Object.defineProperty,ean=(e,t)=>Yse(Jsn(e,"raw",{value:Yse(t||e.slice())})),qse;function K3e(e){return P(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return fe(qse||(qse=ean([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),YN(n),pe(t.theme.sanity.radius[1]),qN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const Z3e=K3e(G3e(J));var Gse=Object.freeze,tan=Object.defineProperty,oD=(e,t)=>Gse(tan(e,"raw",{value:Gse(t||e.slice())})),Kse,Zse,Xse,Qse;const nan=P(J)(Kse||(Kse=oD([`
  min-height: 82px;
  box-sizing: border-box;
`]))),ran=P(U)(Zse||(Zse=oD([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),oan=P(te)(Xse||(Xse=oD([`
  position: relative;
  width: 60%;
`]))),ian=P(lr)(Qse||(Qse=oD([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),san=1e3*60*2,aan=e=>new Date().getTime()-new Date(e).getTime();function X3e(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{aan(t.updatedAt)>san&&(r==null||r())},[t.updatedAt,r]),l.jsx(nan,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(ran,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(oan,{children:[l.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(Gt,{space:2,children:["Uploading",l.jsx(ian,{size:1,children:i||"..."})]})})}),l.jsx(J,{marginTop:3,radius:5,shadow:1,children:l.jsx(Vqt,{value:t.progress})})]}),n?l.jsx(ie,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function lan(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(Q3e(i.result,t||"".concat(bd(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function can(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(Q3e(e,t||"".concat(bd(),".").concat(i)))})}function Q3e(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function J3e(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,g=c==null?void 0:c.source,v=s?[nt(["hotspot"]),nt(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([os({_type:r.name}),...v,xt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const b=o(r,a.value);b&&i(b,a.value,{label:d,title:f,description:p,creditLine:m,source:g});break}case"base64":can(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:g})});break;case"url":lan(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:g})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var Jse=Object.freeze,uan=Object.defineProperty,dan=(e,t)=>Jse(uan(e,"raw",{value:Jse(t||e.slice())})),eae;const fan=P(Ne)(eae||(eae=dan([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),han=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:g,...v}=t,b="".concat(o||"","-").concat(h.useId()),x=re.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=l.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Sr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(fan,{...v,htmlFor:b,padding:0,fontSize:2,disabled:g,ref:n,children:[y,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:b,multiple:c,onChange:x,type:"file",value:"",disabled:g})]})});function eOe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=Io(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{muted:!0,size:1,children:"Replace"})}),l.jsx(han,{icon:Dj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Rr,{}),a&&l.jsx(Ne,{as:"a",icon:d6,text:"Download",href:a}),c&&l.jsx(Ne,{icon:Fc,text:"Copy URL",onClick:d}),l.jsx(Rr,{}),l.jsx(Ne,{tone:"critical",icon:Nu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var tae=Object.freeze,pan=Object.defineProperty,man=(e,t)=>tae(pan(e,"raw",{value:tae(t||e.slice())})),nae;const gan=P(U)(nae||(nae=man([`
  pointer-events: none;
`])));function tOe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(kw,{}):t&&i>0||!s?l.jsx(Lf,{}):a?l.jsx(D0,{}):l.jsx(Pl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(gan,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var rae=Object.freeze,van=Object.defineProperty,yan=(e,t)=>rae(van(e,"raw",{value:rae(t||e.slice())})),oae;const ban=P(ie).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return fe(oae||(oae=yan([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),qN({base:r,border:o,focusRing:n}))}),xan=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:g,...v}=t,b="".concat(o||"","-").concat(h.useId()),x=Ls(),y=re.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Sr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(ban,{...v,htmlFor:b,padding:0,fontSize:2,disabled:g,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:b,multiple:c,onChange:y,ref:n,type:"file",value:"",disabled:g})]})});function wan(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=aT(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(U,{flex:1,justify:"center",children:l.jsx(tOe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(xan,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:Dj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const nOe=re.memo(wan);var iae=Object.freeze,Can=Object.defineProperty,_an=(e,t)=>iae(Can(e,"raw",{value:iae(t||e.slice())})),sae;const San=P(ie)(sae||(sae=_an([`
  width: 100%;
`])));function rOe(e){let{onClearStale:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(San,{icon:Nu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var aae=Object.freeze,kan=Object.defineProperty,oOe=(e,t)=>aae(kan(e,"raw",{value:aae(t||e.slice())})),lae,cae;const Ean=P(J)(lae||(lae=oOe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),jan=P(U)(cae||(cae=oOe([`
  height: 100%;
`])));function iOe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Tan(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),g=h.useCallback(()=>c(!0),[c]);cs(h.useCallback(b=>{a&&(b.key==="Escape"||b.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),dr(h.useCallback(b=>{p!=null&&p.contains(b.target)||c(!1)},[p,c]),[d]);const v=h.useCallback(b=>{u(b),m(b)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(J,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(U,{wrap:"nowrap",align:"center",children:[l.jsx(J,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(D0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:iOe(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(U,{justify:"center",children:l.jsx(an,{content:l.jsx(Bt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(ie,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:qo,mode:"bleed",onClick:g,ref:v})})})})]})}function uae(){return l.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(V0,{padding:3,radius:1,animated:!0}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(i5,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(i5,{style:{width:"100%"},radius:1,animated:!0})]})]})}var dae=Object.freeze,Aan=Object.defineProperty,Dan=(e,t)=>dae(Aan(e,"raw",{value:dae(t||e.slice())})),fae;const Ian=P(ie)(fae||(fae=Dan([`
  width: 100%;
`])));function Oan(e){let{onClearValue:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(Ian,{icon:Nu,text:"Reset value",onClick:t,mode:"ghost"})]})}function Pan(e){let{children:t}=e;return t}const Ran=["asset"];class $an extends re.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>nt([f]));this.props.onChange(dt.from(u&&!s?nt():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(nt(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Hn(s,"options.metadata"),storeOriginalFilename:Hn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(dt.from([os({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(dt.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;J3e({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(Ran)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(dt.from([nt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(X3e,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Hn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(w0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(uae,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!GZ(t)?()=>l.jsx(Oan,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(rOe,{onClearStale:this.handleClearUploadState})}),l.jsx(hi,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(Z3e,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Hn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ne,{icon:ii,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ne,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(w0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(uae,{}),children:f=>{let{originalFilename:p,extension:m,url:g,size:v}=f;const b=p||"download.".concat(m);let x,y;return GZ(t)&&(y="".concat(g,"?dl"),x=g),l.jsx(Tan,{size:v,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(eOe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(Ean,{tone:t,children:l.jsx(jan,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(tOe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(Jt,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(ie,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ii}),"data-testid":"input-select-button",menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(ie,{fontSize:2,text:"Browse",icon:ii,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Hn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(J,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(nOe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(YB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(OC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?Pan:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(FN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(XA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Man(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Yi(),{file:o}=pi().__internal,i=Jn(sn),s=h.useCallback((u,d)=>o.directUploads?PN(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>u3e(r,u),[r]);return l.jsx($an,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var hae=Object.freeze,Fan=Object.defineProperty,Lan=(e,t)=>hae(Fan(e,"raw",{value:hae(t||e.slice())})),pae;const mae=P(M)(pae||(pae=Lan([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function Ban(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const Nan=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let S_=-1;function zan(e){return S_===-1&&(S_=Nan.find(t=>t in e)),S_&&e[S_]}function gae(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function vae(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function aP(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function yae(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class Q4{constructor(t,n){this.x=t,this.y=n}}class bae{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new Q4(this._right,this.y)}get left(){return new Q4(this._left,this.y)}get length(){return this._right-this._left}}class Van{constructor(t){this.rect=t}get top(){return new bae(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new bae(this.rect.bottom,this.rect.left,this.rect.right)}}class so{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new so(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new so(t,n,this.width||0,this.height||0)}setSize(t,n){return new so(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new so(t-r/2,n-o/2,r||0,o||0)}get center(){return new Q4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Van(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new so((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new so(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new so(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new so(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const k_=nf("sanity-imagetool");function Han(e){return class extends re.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){k_("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=cP(n);k_("Drag started %o",i),r(lP(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=cP(n),i=Uan(o,this.currentPos);r(i),k_("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=cP(n);r(lP(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,k_("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(lP(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){um?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){um?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function lP(e,t,n){return{x:e-n.left,y:t-n.top}}function cP(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Uan(e,t){return{x:e.x-t.x,y:e.y-t.y}}var xae=Object.freeze,Wan=Object.defineProperty,sOe=(e,t)=>xae(Wan(e,"raw",{value:xae(t||e.slice())})),wae,Cae;const Yan=Han("canvas"),qan=P.div(wae||(wae=sOe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Gan=P(Yan)(Cae||(Cae=sOe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Kan="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Zan="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",ad={x:.5,y:.5,height:1,width:1},ld={top:0,left:0,right:0,bottom:0},by=8,Xan=12,Qan=10;function Jan(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function eln(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function _ae(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||ld,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function tln(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Sae=OT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&zan(t)||1;return e/n}),kae=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class nln extends re.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=gae(o,this.getHotspotRect()),s=vae(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=aP(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Jan(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||ad,o=new so().setSize(r.width,r.height).setCenter(r.x,r.y);return new so().setSize(n.width,n.height).shrink(by*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new so().setSize(n.width,n.height).shrink(by*this.getScale()).cropRelative(so.fromEdges(t.crop||ld).clamp(new so(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Xan*this.getScale(),r=n/2,o=new so(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of kae)if(aP({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(rln(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};eln(o,d)&&r(Eae(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=_ae(i,f).value,m=_ae(i,f).delta;o(Eae(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(oln(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=so.fromEdges(t.crop||ld).clamp(new so(0,0,1,1)),r=t.hotspot||ad,o=new so(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new so().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=by*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||g(Math.PI*1.25);function d(){t.save();const v=i.shrink(u).multiply(s),b=v.height/v.width;t.scale(1,b),t.beginPath(),t.globalAlpha=n,t.arc(v.center.x,v.center.y/b,Math.abs(v.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(v,b,x,y,w,C,_,S){t.save(),t.drawImage(r,v,b,x,y,w,C,_,S),t.restore()}function p(){const v=i.multiply(s),b=i.shrink(u).multiply(s);f(v.left,v.top,v.width,v.height,b.left,b.top,b.width,b.height)}function m(){const v=i.cropRelative(a),b=i.shrink(u).cropRelative(a);t.save(),f(v.left,v.top,v.width,v.height,b.left,b.top,b.width,b.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(b.left,b.top,b.width,b.height),t.restore()}function g(v){t.save();const b=Qan*c,x=i.shrink(u).multiply(s),y=yae(v,x);t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=yae(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=by*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new so().setSize(n.width,n.height).shrink(by*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Sae();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();kae.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return tln(r)||"auto";const o=vae(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Zan,"), move");const i=gae(t,this.getHotspotRect()),s=aP(t,this.getCropRect());return i||s?"url(".concat(Kan,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Sae();return l.jsx(qan,{children:l.jsx(Gan,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function rln(e,t){const n=e&&e.hotspot||ad;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function oln(e,t){const n=e&&e.hotspot||ad;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Eae(e,t){const n=e&&e.crop||ld;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function iln(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,g=m?f:p*d,v=m?f/d:p;i.width=g,i.height=v;const b=i.getContext("2d");return b&&b.drawImage(a,0,0,a.width,a.height,0,0,g,v),i},[i]);return o(s(t,n,r))}function iw(e){return l.jsx(Ban,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(iln,{image:r,maxHeight:iw.maxHeight,maxWidth:iw.maxWidth,children:i=>l.jsx(nln,{image:i,...e})}):null}})}iw.maxHeight=500;iw.maxWidth=1e3;function sln(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=jae(e.image)||1,n=e.hotspot||ad,r=e.crop||ld,o=jae(e.container)||t*lln(r),i=e.align||{x:"center",y:"center"},s=aln(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=lOe(aOe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:Od(s.crop.height),width:Od(s.crop.width),top:Od(s.crop.top),left:Od(s.crop.left)},image:{position:"absolute",height:Od(s.image.height),width:Od(s.image.width),top:Od(s.image.top),left:Od(s.image.left)}}}function jae(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function aOe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function aln(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,g=Math.min(p,m);let v;const b=d<=o;b?v=1:v=d/o;let x,y;if(v>g){x="letterbox";let w;const C=v-g;b?w=1-C:w=g,y={width:w,height:w/d*o,left:0,top:0};const _=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=b?0:-_;break;case"right":y.left=b?1-y.width:_;break;case"center":y.left=b?(1-y.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=b?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=b?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-f.y/d*o+.5;const C=v/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),y={width:v,height:C,left:0,top:w}}else{x="full_height";const w=v;let C=.5-f.x*v;C>0?C=0:-C>w-1&&(C=-(w-1)),y={width:w,height:v/d*o,top:0,left:C}}return{method:x,crop:y,image:c}}function lln(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function lOe(e){return e===0?0:"".concat(e,"%")}function Od(e){return lOe(aOe(e*100))}var Tae=Object.freeze,cln=Object.defineProperty,uln=(e,t)=>Tae(cln(e,"raw",{value:Tae(t||e.slice())})),Aae;const dln=P.div(Aae||(Aae=uln([`
  position: relative;
  width: 100%;
`]))),fln=nf("sanity-imagetool");function hln(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const pln=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=ld,hotspot:c=ad,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:g}=t,[v,b]=h.useState(null),x=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>b(S.offsetWidth/S.offsetHeight))}else b(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(fln("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?hln(a,p):p:i==="auto"?v:i||null,[i,v,a,p]),_=h.useMemo(()=>sln({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(dln,{className:"".concat(s),style:g,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),mln="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function gln(e){return e.startsWith("blob:")}function vln(e){return new mt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(gln(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=mln)}})}const Dae={isLoading:!0};function yln(e){const[t,n]=h.useState(Dae);return h.useEffect(()=>{n(Dae);const r=vln(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Iae=Object.freeze,bln=Object.defineProperty,xln=(e,t)=>Iae(bln(e,"raw",{value:Iae(t||e.slice())})),Oae;const Pae=["hotspot"],Rae=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],$ae={crop:ld,hotspot:ad},wln=P.div(Oae||(Oae=xln([`
  min-height: 6em;
`])));function Cln(e){return l.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function _ln(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Wn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,g]=h.useState(n||$ae),{image:v,isLoading:b,error:x}=yln(t),y=h.useCallback(()=>{d(Pae)},[d]);h.useEffect(()=>{g(n||$ae)},[n]);const w=s[0]==="hotspot";Wi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),k=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||ld}:_.crop,E=k?{_type:k.type.name,..._.hotspot||ad}:_.hotspot;c([xt(j,["crop"]),xt(E,["hotspot"])])},[c,f,u.fields]);return l.jsx(v1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(J,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:l.jsx(hi,{path:i.concat(Pae),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(mae,{ratio:3/2,children:[(b||x)&&l.jsx(Cln,{children:x?l.jsx(J,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image… "})}),!b&&v&&l.jsx(M,{margin:1,children:l.jsx(iw,{value:m,src:v.src,readOnly:!!f,onChangeEnd:C,onChange:g})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(on,{columns:Rae.length,gap:1,children:Rae.map(_=>{let[S,k]=_;return l.jsxs("div",{children:[l.jsx(Go,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(mae,{ratio:k,children:l.jsx(J,{__unstable_checkered:!0,children:!b&&v?l.jsx(pln,{aspectRatio:k,src:v.src,srcAspectRatio:v.width/v.height,hotspot:m.hotspot||ad,crop:m.crop||ld}):l.jsx(wln,{})})})})]},k)})})})]})})}var Mae=Object.freeze,Sln=Object.defineProperty,kln=(e,t)=>Mae(Sln(e,"raw",{value:Mae(t||e.slice())})),Fae;const Eln=P(Gt)(Fae||(Fae=kln([`
  position: absolute;
  top: 0;
  right: 0;
`])));function jln(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);cs(h.useCallback(g=>{a&&(g.key==="Escape"||g.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),dr(h.useCallback(g=>{d!=null&&d.contains(g.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(g=>{i(g),f(g)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(Eln,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(ie,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:f1e,mode:"ghost",onClick:t,ref:o}),l.jsx(an,{id:"image-actions-menu",content:l.jsx(Bt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(ie,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:qo,mode:"ghost",onClick:p,ref:m})})]})}var Lae=Object.freeze,Tln=Object.defineProperty,iD=(e,t)=>Lae(Tln(e,"raw",{value:Lae(t||e.slice())})),Bae,Nae,zae,Vae;const Hae=30,Aln=P(J)(Bae||(Bae=iD([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),Dln=P(Qn)(Nae||(Nae=iD([`
  position: absolute;
`]))),Iln=P(U)(e=>{let{$drag:t,$tone:n}=e;const r=Mo.color.light[n].card.enabled.fg,o=Ye(Mo.color.light[n].card.enabled.bg,.8);return fe(zae||(zae=iD([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),Oln=P(U)(Vae||(Vae=iD([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Pln=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Rln(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=hd(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",g=Hae*document.documentElement.clientHeight/100,[v,b]=Pln(o),x=v/b,w=(v>f?f/x:b)<g?null:"".concat(Hae,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(Aln,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(J,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(Uae,{cardTone:"transparent",drag:!0,content:l.jsx(Dln,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(Uae,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Go,{children:l.jsx($ln,{isRejected:r,readOnly:n})})}),l.jsx(Mln,{isRejected:r,readOnly:n})]})})]})}function $ln(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Lf,{}):n?l.jsx(kw,{}):l.jsx(Pl,{})}function Mln(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function Uae(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(Iln,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(Oln,{direction:"column",align:"center",justify:"center",children:r})})}var Wae=Object.freeze,Fln=Object.defineProperty,Lln=(e,t)=>Wae(Fln(e,"raw",{value:Wae(t||e.slice())})),Yae;const Bln=P(ie)(Yae||(Yae=Lln([`
  width: 100%;
`])));function Nln(e){let{onClearValue:t}=e;return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(Bln,{icon:Nu,text:"Reset value",onClick:t,mode:"ghost"})]})}const zln=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Vln(e){let{children:t}=e;return t}const qae=["asset"],Hln={portal:!0};class Uln extends re.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,g={metadata:Hn(s,"options.metadata"),storeOriginalFilename:Hn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(os({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,g).subscribe({next:v=>{v.patches&&a(v.patches)},error:v=>{var b;console.error(v),(b=n.toast)==null||b.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([nt(["hotspot"]),nt(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>nt([c]));this.props.onChange(s&&!this.valueIsArrayElement()?nt():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(nt());return}o(r.prepend(os({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{const{onFieldOpen:r}=this.props;r("hotspot")},this.handleCloseDialog=()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;J3e({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([nt(["asset"]),nt(["crop"]),nt(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Vi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(DC,{children:l.jsx(M,{padding:4,children:l.jsx(te,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(_ln,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!Db(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(zln()).auto("format").url();return l.jsx(Rln,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(qae)}isImageToolEnabled(){return Hn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(nt(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Hn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ne,{icon:ii,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ne,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Pl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(w0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:g,extension:v}=p,b,x;if(Db(t)){const y=g||"download.".concat(v);x=s.image(m).forceDownload(y).url(),b=s.image(m).url()}return l.jsx(jln,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(eOe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:b,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(Jt,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(ie,{"data-testid":"file-input-multi-browse-button",icon:ii,iconRight:nl,mode:"ghost",text:"Select"}),menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Pl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Hln}):l.jsx(ie,{fontSize:2,text:"Select",icon:ii,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Hn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(J,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(nOe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(X3e,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Hn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(w0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!Db(t)?()=>l.jsx(Nln,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(rOe,{onClearStale:this.handleClearUploadState})}),l.jsx(hi,{path:a.path.concat(qae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(Z3e,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return l.jsxs(te,{space:5,"data-testid":"image-input",children:[l.jsx(YB,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?l.jsx(OC,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?Vln:o,renderItem:a,renderPreview:c},f.key):f.kind==="fieldSet"?l.jsx(FN,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c},f.key):f.kind==="error"?l.jsx(XA,{member:f},f.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&l.jsx(S3e,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function Wln(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=pi().__internal,o=Yi(),i=Jn(sn),a=pi().__internal.image.directUploads,c=h.useCallback((p,m)=>a?PN(p,m):null,[a]),u=re.useMemo(()=>n||r.assetSources,[r,n]),d=re.useMemo(()=>GT(i),[i]),f=h.useCallback(p=>c3e(o,p),[o]);return l.jsx(Uln,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const cOe=()=>{},uP={isLoading:!0,result:void 0,error:void 0,retry:cOe},Yln={isLoading:!1,result:void 0,error:void 0,retry:cOe};function uOe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=yo(()=>i._id?t(i).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ci(uP),Pn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):ve(Yln),[i,t,o,n],uP);return iN(e._id,e._id)!==e._id?uP:s}var Gae=Object.freeze,qln=Object.defineProperty,dOe=(e,t)=>Gae(qln(e,"raw",{value:Gae(t||e.slice())})),Kae,Zae;const Gln=P(U)(Kae||(Kae=dOe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),fOe=P(U)(Zae||(Zae=dOe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function Xae(e){return l.jsx(fOe,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function hOe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",g=(c==null?void 0:c.reason)==="PERMISSION_DENIED",v=(t=u.published)==null?void 0:t.media,b=h.useMemo(()=>{if(v){const x=typeof(v==null?void 0:v.asset)<"u"&&Db(v),y=re.isValidElement(v);return!x&&!y?null:function(C){let{dimensions:_}=C;return y?v:l.jsx("img",{src:GT({dataset:f,projectId:p}).image(v).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[v,f,p,o==null?void 0:o.icon]);return l.jsxs(Gln,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(EDe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:b||!1})}):l.jsx(M,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:4,children:[o&&a&&l.jsx(Vt,{size:1,muted:!0,children:o.title||o.type}),(g||m)&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(Xae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(Xae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:g?l.jsx(Lf,{}):l.jsx(qv,{})})})}),!(m||g)&&i&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(fOe,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(cr,{size:1,tone:"default",muted:!s,children:l.jsx(rh,{})})})})]})})]})}function GN(){return Jn(sn).config().projectId}function Kln(e){var t;const{isLoading:n,result:r,error:o}=uOe(e.document,e.getReferenceInfo),i=GN();if(n)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(Li,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Li,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(te,{space:2,padding:1,children:l.jsxs(Jc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(hOe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function Qae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=GN();if(a.isLoading||a.error)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(Li,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Li,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(te,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(hOe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var Jae=Object.freeze,Zln=Object.defineProperty,pOe=(e,t)=>Jae(Zln(e,"raw",{value:Jae(t||e.slice())})),ele,tle;const Xln=P(an)(ele||(ele=pOe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Qln=P(L)(tle||(tle=pOe([`
  word-break: break-word;
`]))),Jln=["top-start","bottom-start"],ecn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Xln,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Jln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Qln,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(c8,{...t,ref:n,renderPopover:o})});var nle=Object.freeze,tcn=Object.defineProperty,ncn=(e,t)=>nle(tcn(e,"raw",{value:nle(t||e.slice())})),rle;const rcn=P(ie)(rle||(rle=ncn([`
  width: 100%;
`])));function ocn(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(J,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(rcn,{icon:Nu,text:"Reset value",onClick:n,mode:"ghost"})]})}const ole={hits:[],isLoading:!1},icn=()=>!0,ile=["_ref"],scn="crossDatasetReferences";function acn(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:g,value:v,elementProps:b}=e,x=GN(),[y,w]=h.useState(ole),C=h.useCallback(ue=>{if(!ue){c(nt()),u([]);return}if(!y.hits.find(_e=>_e.id===ue))throw new Error("Selected an item that wasnt part of the result set");c(xt({_type:m.name,_ref:Rn(ue),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:v==null?void 0:v._key})),u([])},[v==null?void 0:v._key,y.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(nt())},[c]),S=h.useCallback(ue=>{ue.keyCode===27&&(u==null||u([]))},[u]),k=h.useCallback(ue=>a(ue,m),[a,m]),j=h.useMemo(()=>({_id:v==null?void 0:v._ref}),[v==null?void 0:v._ref]),E=uOe(j,k),T=QPe(scn),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=b.ref;Wi({hasFocusAt:D,ref:v==null?void 0:v._ref},(ue,Te)=>{var _e;const be=(ue==null?void 0:ue.ref)!==Te.ref;((ue==null?void 0:ue.hasFocusAt)!==Te.hasFocusAt||be)&&Te.hasFocusAt&&((_e=I.current)==null||_e.focus())});const O=v!=null&&v._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(v!=null&&v._ref),z=h.useCallback(()=>{c(m.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[c,m]),{push:F}=Io(),H=h.useMemo(()=>g.filter(ue=>ue.level==="error"),[g]),W=h.useCallback(ue=>{ue.currentTarget===b.ref.current&&(u==null||u([_0e]))},[b.ref,u]),V=h.useCallback(ue=>{ue.currentTarget===b.ref.current&&(u==null||u(ile))},[b.ref,u]),q=h.useCallback(()=>{u==null||u(ile)},[u]),oe=h.useId(),N=bT(ue=>ue.pipe(pt(vo),Xn(),it(Te=>Ur(ve({isLoading:!0}),d(Te).pipe(ce(_e=>({hits:_e,searchString:Te,isLoading:!1})),Pn(_e=>(F({title:"Reference search failed",description:_e.message,status:"error",id:"reference-search-fail-".concat(oe)}),console.error(_e),ve({hits:[]})))))),da((Te,_e)=>({...Te,..._e}),ole),wn(w)),[oe,d,F]),G=h.useCallback(()=>{N("")},[N]),Y=!E.isLoading&&R&&O!==$,K=(v==null?void 0:v._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:v==null?void 0:v._ref,type:(t=E==null?void 0:E.result)==null?void 0:t.type}))||null,X=h.useCallback(ue=>l.jsx(Bp,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Kln,{referenceType:m,document:ue.hit.published,getReferenceInfo:k})})}),[m,k]),Q=(r=E.result)==null?void 0:r.preview.published,Z=D||!(v!=null&&v._ref),ne=h.useRef(null),ae=h.useRef(null),me=h.useRef(null);return QDe([ne,ae,me],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(ocn,{value:v,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(te,{space:1,children:Z?l.jsx(te,{space:2,ref:ne,children:l.jsx(hi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(ecn,{...b,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:ae,id:oe||"",options:y.hits.map(ue=>({value:ue.id,hit:ue})),onFocus:V,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:E.isLoading,onQueryChange:N,searchString:y.searchString,onChange:C,filterOption:icn,renderOption:X,openButton:{onClick:G}})})})}):l.jsx(hi,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(J,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":E.error||H.length>0?"critical":"default",children:[l.jsxs(U,{align:"center",padding:1,children:[K?l.jsx(Bp,{as:"a",target:"_blank",rel:"noopener noreferrer",href:K,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(Qae,{value:v,referenceInfo:E,showStudioUrlIcon:!0,hasStudioUrl:!!K,type:m})}):l.jsx(Bp,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(Qae,{value:v,referenceInfo:E,showStudioUrlIcon:!0,type:m})}),l.jsx(Gt,{paddingX:1,children:l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo,"data-testid":"menu-button"}),id:"".concat(oe,"-menuButton"),menu:l.jsx(Bt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:Nu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ne,{text:"Replace",icon:O0,"data-testid":"menu-item-replace",onClick:q})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),Y&&l.jsx(Of,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:O}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',Q==null?void 0:Q.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',Q==null?void 0:Q.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(ie,{onClick:z,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),E.error&&l.jsx(Of,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(te,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",E.error.message]}),l.jsx(ie,{onClick:E.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function lcn(e,t,n,r){return oN(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(RA),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const ccn="cross-dataset-refs",mOe={available:!0,reason:"READABLE"},ucn={available:!1,reason:"PERMISSION_DENIED"},dcn={available:!1,reason:"NOT_FOUND"};function fcn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?ve(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(it(u=>{if(!u._type)return hcn(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...eN(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&$E(m,d)));return Wo([p]).pipe(ce(m=>{let[g]=m;return{type:u._type,id:a._id,availability:mOe,preview:{published:Ct(g)?g:void 0}}}))}))}}function hcn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(ccn,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=F9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?dcn:i.reason==="permission"?ucn:null:mOe}))}async function pcn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=ym(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function mcn(e){const t=h.useRef(e);return t.current=e,t}function gcn(e){const{path:t,schemaType:n}=e,r=Fn(),o=r.getClient(sn),i=Yi(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=QA([]),u=mcn(c),d=h.useCallback(p=>kr(pcn(n.options,u.current,t,s)).pipe(ft(m=>{let{filter:g,params:v}=m;return lcn(a,p,n,{...n.options,filter:g,params:v,tag:"search.cross-dataset-reference"})}),Pn(m=>{var g;const v=m.details&&m.details.type==="queryParseError";return(g=n.options)!=null&&g.filter&&v&&(m.message='Invalid reference filter, please check the custom "filter" option'),Zu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>fcn({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(acn,{...e,getReferenceInfo:f,onSearch:d})}function vcn(e){const t=h.useRef(e);return t.current=e,t}async function ycn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=ym(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function KN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Fn(),c=a.getClient(sn),u=En(),d=Yi(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:g,initialValueTemplateItems:v}=NIe(),b=QA([]),x=vcn(b),y=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(y))==null?void 0:I.liveEdit},[y,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>kr(ycn(s.options,x.current,i,_)).pipe(ft(O=>{let{filter:$,params:R}=O;return XDe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),Pn(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Zu(O)})),[x,i,f,s,_]),k=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return p?l.jsx(p,{...O,ref:$,parentRefPath:i,template:k}):null}),[p,i,k]),E=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=Ai(i,(g==null?void 0:g.path)||[])?g==null?void 0:g.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>s.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(vo),[C,v,s.to]),D=h.useCallback(I=>ZDe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:E,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function bcn(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=ZA(n,t);if(o)return l.jsxs(te,{space:2,padding:1,children:[l.jsx(Li,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Li,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(te,{space:2,padding:1,children:l.jsx(Jc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(te,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(n3e,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(te,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const xcn={display:"inline-flex"},wcn={width:"100%"},Ccn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function _cn(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(Jt,{button:l.jsx(ie,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:ia}),id:r,menu:l.jsx(Bt,{ref:e.menuRef,children:t.map(s=>l.jsx(at,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(zc,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ne,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:Ccn}):l.jsx(ie,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:ia}):l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(zc,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:xcn,children:l.jsx(ie,{text:"Create new",mode:"ghost",disabled:!0,icon:ia,style:wcn})})})}var sle=Object.freeze,Scn=Object.defineProperty,gOe=(e,t)=>sle(Scn(e,"raw",{value:sle(t||e.slice())})),ale,lle;const kcn=P(an)(ale||(ale=gOe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Ecn=P(L)(lle||(lle=gOe([`
  word-break: break-word;
`]))),jcn=["top-start","bottom-start"],Tcn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(kcn,{placement:"bottom-start",fallbackPlacements:jcn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Ecn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(c8,{...t,ref:n,renderPopover:o})});var cle=Object.freeze,Acn=Object.defineProperty,vOe=(e,t)=>cle(Acn(e,"raw",{value:cle(t||e.slice())})),ule,dle;const Dcn=fe(ule||(ule=vOe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),Icn=fe(dle||(dle=vOe([`
  grid-template-columns: 1fr min-content;
`]))),Ocn=P(on)(e=>e.$narrow?Dcn:Icn),Pcn=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Rcn(n,a),o(a)},[n]),s=hd(r);return l.jsx(Ocn,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Rcn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var fle=Object.freeze,$cn=Object.defineProperty,Mcn=(e,t)=>fle($cn(e,"raw",{value:fle(t||e.slice())})),hle;const Fcn=P(Bp)(hle||(hle=Mcn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),ple={hits:[],isLoading:!1},Lcn=()=>!0;function Bcn(e){return e!==null}function Ncn(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:g,value:v,renderPreview:b,path:x,elementProps:y,focusPath:w}=e,{getReferenceInfo:C}=KN({path:x,schemaType:f,value:v}),[_,S]=h.useState(ple),k=h.useCallback(Z=>{const ne=bd(),ae=[os({}),xt(f.name,["_type"]),xt(ne,["_ref"]),xt(!0,["_weak"]),xt({type:Z.type,weak:f.weak,template:Z.template},["_strengthenOnPublish"])].filter(vo);c(ae),u({id:ne,type:Z.type,template:Z.template}),g([])},[c,u,g,f]),j=h.useCallback(Z=>{if(!Z){c(nt()),g([]);return}const ne=_.hits.find(me=>me.id===Z);if(!ne)throw new Error("Selected an item that wasnt part of the result set");const ae=[os({}),xt(f.name,["_type"]),xt(Rn(Z),["_ref"]),ne.published&&!f.weak?nt(["_weak"]):xt(!0,["_weak"]),ne.published?nt(["_strengthenOnPublish"]):xt({type:ne==null?void 0:ne.type,weak:f.weak},["_strengthenOnPublish"])].filter(vo);c(ae),g([])},[c,g,f.name,f.weak,_.hits]),E=h.useCallback(()=>{c(nt())},[c]),T=h.useCallback(()=>{v!=null&&v._ref||E()},[E,v==null?void 0:v._ref]),A=h.useCallback(Z=>{Z.key==="Escape"&&g([])},[g]),D=ZA(v==null?void 0:v._ref,C),I=h.useRef(null),{push:O}=Io(),$=bT(Z=>Z.pipe(pt(Bcn),it(ne=>Ur(ve({isLoading:!0}),d(ne).pipe(ce(ae=>({hits:ae,searchString:ne,isLoading:!1})),Pn(ae=>(O({title:"Reference search failed",description:ae.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(ae),ve({hits:[]})))))),da((ne,ae)=>({...ne,...ae}),ple),wn(S)),[m,d,O]),R=h.useCallback(()=>{$("")},[$]),z=h.useCallback(Z=>{Z.key==="Escape"&&g([])},[g]),F=h.useCallback(Z=>{var ne,ae;const me=((ne=Z.hit.draft)==null?void 0:ne._id)||((ae=Z.hit.published)==null?void 0:ae._id)||Z.value;return l.jsx(Fcn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(bcn,{getReferenceInfo:C,id:me,renderPreview:b,type:f})})})},[f,C,b]),H=h.useCallback(()=>{var Z,ne,ae,me;return((ne=(Z=D.result)==null?void 0:Z.preview.draft)==null?void 0:ne.title)||((me=(ae=D.result)==null?void 0:ae.preview.published)==null?void 0:me.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),W=h.useCallback(()=>g(["_ref"]),[g]),V=h.useCallback(Z=>{var ne;(ne=I.current)!=null&&ne.contains(Z.relatedTarget)||e.elementProps.onBlur(Z)},[e.elementProps]),q=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(v!=null&&v._strengthenOnPublish)&&(v==null?void 0:v._weak);Wi((w==null?void 0:w[0])==="_ref",(Z,ne)=>{var ae;!Z&&ne&&((ae=y.ref.current)==null||ae.focus())});const oe=h.useMemo(()=>_.hits.map(Z=>({value:Z.id,hit:Z})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:Y}=krn(),K=h.useRef(null),X=h.useRef(null),Q=h.useRef(null);return QDe([Y,K,X,Q,G],()=>{N&&T()}),l.jsx(te,{space:1,"data-testid":"reference-input",ref:K,children:l.jsxs(te,{space:2,children:[q?l.jsx(Jc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(te,{padding:2,children:l.jsx(ie,{text:"Clear",onClick:E})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:v._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(Pcn,{ref:I,children:[l.jsx(Tcn,{...y,onFocus:W,onBlur:V,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:oe,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:Lcn,renderOption:F,renderValue:H,openButton:{onClick:R},portalRef:X,value:v==null?void 0:v._ref}),a.length>0&&l.jsx(_cn,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:k,onKeyDown:z,menuRef:Q})]})]})})}async function zcn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=ym(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Vcn(e){const t=h.useRef(e);return t.current=e,t}function Hcn(e){var t,n,r,o;const i=Fn(),s=i.getClient(sn),a=En(),c=Yi(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:g}=NIe(),v=QA([]),b=Vcn(v),x=(t=b.current)==null?void 0:t._type,y=a.get(x),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>kr(zcn(d.options,b.current,u,_)).pipe(ft(O=>{let{filter:$,params:R}=O;return XDe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),Pn(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Zu(O)})),[b,u,s,d,_]),k=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return f?l.jsx(f,{...O,ref:$,parentRefPath:u,template:k}):null}),[f,u,k]),E=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=Ai(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>d.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O,$,R;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(vo),[C,g,d.to]),D=h.useCallback((I,O)=>ZDe(c,I,O),[c]);return l.jsx(Ncn,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:E})}function Ucn(e){return YF(e.schemaType)}function Wcn(e){return E4e(e.schemaType)}function NE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>NE(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>NE(e[o],t[o]))}function mle(e,t){return e?e.some(n=>NE(n,t)):!1}function Ycn(e,t){return e.of.find(n=>n.name===Ms(t))}const qcn=[];function Gcn(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||qcn).map((x,y)=>Il(x)?x:{...x,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((b,x)=>{if(!b&&Il(x)){i(nt([{_key:x._key}]));return}const y=p.filter(w=>NE(x,w)?b:mle(a,w));i(y.length>0?xt(y):nt())},[i,p,a]),g=h.useCallback(b=>{s([b])},[s]),v=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(hi,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(on,{gap:2,columns:v?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((b,x)=>{const y=Ycn(o,b),w=mle(a,b),C=!y;return l.jsxs(U,{align:"center",as:"label",muted:C,children:[l.jsx(uT,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,b),onFocus:()=>g(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:b}):l.jsx(J,{tone:"caution",radius:2,children:l.jsx(_3e,{value:b,onFocus:()=>g(x)})})})]},x)})})})}var gle=Object.freeze,Kcn=Object.defineProperty,Zcn=(e,t)=>gle(Kcn(e,"raw",{value:gle(t||e.slice())})),vle;const Xcn=P(J)(vle||(vle=Zcn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function yOe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ms(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Xcn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(Sj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(jl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Qcn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Jcn(e){return e.map(t=>Qcn(t)?{title:t.title||un(String(t.value)),value:t.value}:{title:un(String(t)),value:t})}function eun(e,t){return e.of.find(n=>n.name===Ms(t.value))}function tun(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var g;return Jcn(((g=r.options)==null?void 0:g.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(g,v)=>{const b=f.map(x=>x.value).filter(x=>x===v?g:i.includes(x));o(b.length>0?xt(b):nt())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(hi,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(on,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((g,v)=>{const b=eun(r,g),x=i.includes(g.value),y=!b;return l.jsxs(U,{align:"center",as:"label",muted:y,children:[l.jsx(uT,{disabled:y,checked:x,onChange:w=>p(w.currentTarget.checked,g.value),onFocus:()=>u(v),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:g.title})}),!b&&l.jsx(yOe,{value:g,onFocus:()=>u(v)})]},v)})})})}function bOe(e){return Ucn(e)?l.jsx(Gcn,{...e}):l.jsx(tun,{...e})}var yle=Object.freeze,nun=Object.defineProperty,sD=(e,t)=>yle(nun(e,"raw",{value:yle(t||e.slice())})),ble,xle,wle,Cle;const run=P.div(ble||(ble=sD([`
  position: relative;
`]))),xOe=P.div(xle||(xle=sD([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),wOe=P(J)(wle||(wle=sD([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),oun=P(U)(Cle||(Cle=sD([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),wOe,xOe),iun=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function sun(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=iun();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const g=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:g})},[i,n]);return l.jsxs(run,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(oun,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(wOe,{radius:1}),l.jsx(xOe,{children:f})]}),t]})}var _le=Object.freeze,aun=Object.defineProperty,lun=(e,t)=>_le(aun(e,"raw",{value:_le(t||e.slice())})),Sle;const cun=P.span(Sle||(Sle=lun([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function uun(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=rsn[t],a=i.component,c=h.useCallback(u=>l.jsx(cun,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const dun={portal:!0,constrainSize:!0};function kle(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return l.jsx(Jt,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:dun,...r,button:n,menu:l.jsx(Bt,{children:o.map((s,a)=>{const{collapsedProps:c={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:g,text:v,icon:b,selected:x,...y}=s.props;return l.jsxs(re.Fragment,{children:[p&&a!==0&&l.jsx(Rr,{}),l.jsx(Ne,{text:v,icon:b,pressed:x,...y})]},s.key)})})})}function fun(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(U,{ref:s,...o,children:n})}var Ele=Object.freeze,hun=Object.defineProperty,pun=(e,t)=>Ele(hun(e,"raw",{value:Ele(t||e.slice())})),jle;const mun=P.div(jle||(jle=pun([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function Tle(e){const{hidden:t,...n}=e;return l.jsx(mun,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Ale=Object.freeze,gun=Object.defineProperty,b1=(e,t)=>Ale(gun(e,"raw",{value:Ale(t||e.slice())})),Dle,Ile,Ole,Ple,Rle,$le;const Mle=3,COe=fe(Dle||(Dle=b1([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),vun=P(U)(Ile||(Ile=b1([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Mle,Mle),yun=P(U)(Ole||(Ole=b1([`
  border-radius: inherit;
  position: relative;
`]))),Fle=P(U)(Ple||(Ple=b1([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),bun=P(fun)(Rle||(Rle=b1([`
  `,`
`])),COe),xun=P(U)($le||($le=b1([`
  `,`
`])),COe);function wun(e){return!!e}const ZN=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:c,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,g]=h.useState(null),v=hd(f),[b,x]=h.useState([]),y=h.useMemo(()=>v&&f&&m?v.width<m.scrollWidth:!1,[m,f,v]),w=h.useMemo(()=>(c==null?void 0:c.button)||l.jsx(ie,{icon:qo,mode:"bleed"}),[c]),C=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),_=h.useMemo(()=>re.Children.toArray(r).filter(wun),[r]),S=h.useMemo(()=>_.filter(A=>{let{key:D}=A;return b.find(I=>I.key===D)}),[_,b]),k=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(D=>D.key===A),[S]),E=h.useCallback((A,D)=>{const I=j(D.key);if(!A.isIntersecting&&!I&&x(O=>[D,...O]),A.isIntersecting&&I){const O=S.filter($=>{let{key:R}=$;return R!==D.key});x(O)}},[j,S]),T=h.useMemo(()=>_.map(A=>{const{collapsedProps:D,expandedProps:I}=A.props,O=y?D:I,$=y&&i?void 0:A.props.text;return h.cloneElement(A,{...O,text:$})}),[_,i,y]);return o?l.jsx(kle,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:_,onMenuClose:u}):l.jsxs(vun,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[l.jsxs(yun,{direction:"column",flex:1,justify:"center",ref:p,children:[l.jsx(Fle,{gap:a,children:T.map((A,D)=>{const{dividerBefore:I,tooltipText:O="",tooltipProps:$={}}=A.props,R=j(A.key);return l.jsxs(re.Fragment,{children:[I&&D!==0&&l.jsx(Tle,{hidden:R}),l.jsx(bun,{options:C,callback:z=>E(z[0],A),"aria-hidden":R,"data-hidden":R,children:l.jsx(at,{portal:!0,disabled:!O,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:O})}),...$,children:l.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})})]},A.key)})}),l.jsx(Fle,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:g,children:_.map((A,D)=>{const{dividerBefore:I}=A.props;return l.jsxs(re.Fragment,{children:[I&&D!==0&&l.jsx(Tle,{}),l.jsx(xun,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),k&&l.jsx(U,{marginLeft:a,children:l.jsx(kle,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:S,onMenuClose:u})})]})}),XN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(ie,{"data-ui":"CollapseMenuButton",...c,ref:n})});var Lle=Object.freeze,Cun=Object.defineProperty,_un=(e,t)=>Lle(Cun(e,"raw",{value:Lle(t||e.slice())})),Ble;const Sun=P.div(Ble||(Ble=_un([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function kun(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(Sun,{style:r})}function Eun(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Ce.toggleMark(e,o.value),Ce.focus(e)},hotkeys:s,title:o.title}})}function jun(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Ce.toggleList(e,r.value)},title:r.title}))}function Tun(e){return Hn(e,"icon")||Hn(e,"type.icon")||Hn(e,"type.to.icon")||Hn(e,"type.to[0].icon")}function Aun(e,t,n){const r=e.schemaTypes,o=Ce.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:Tun(s),key:s.name,handle:a=>{a?(Ce.removeAnnotation(e,s),Ce.focus(e)):n(s)},title:s.title||Fm(s.name)}))}function Dun(e,t,n,r){return[{name:"format",actions:Eun(e,t,r)},{name:"list",actions:jun(e,t)},{name:"annotation",actions:Aun(e,t,n)}]}function Iun(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Nle(e,t){const n=Hn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Oun(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:Nle(a,i1e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:Nle(a,b1e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const Pun={link:Nf},Run={strong:s1e,em:C1e,"strike-through":R1e,underline:$1e,code:c1e},$un={number:E1e,bullet:sb};function Mun(e,t){return e.icon?typeof e.icon=="string"?l.jsx(kun,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Pun[e.key]||jl:e.type==="listStyle"?$un[e.key]||jl:Run[e.key]||jl}function aD(){const e=bo(),t=i1();return h.useMemo(()=>Ce.focusBlock(e),[e,t])}function Fun(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=bo(),s=h.useCallback(async a=>{const c=await r(a),u=Ce.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?Dun(i,o,s,t):[],[o,i,s,t])}function Lun(e){let{actions:t}=e;const n=bo(),r=i1();return Vo(h.useMemo(()=>{const o=Ce.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Ce.hasListStyle(n,i.key):Ce.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Bun(e){let{items:t}=e;const n=bo(),r=aD(),o=i1();return Vo(h.useMemo(()=>t.filter(i=>Ce.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Nun=h.memo(ZN),zun={constrainSize:!0,portal:!0},Vun={padding:2,mode:"bleed"},Hun=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=aD(),a=bo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((b,x)=>b.concat(x.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=Lun({actions:f}),m=h.useCallback(()=>{Ce.focus(a)},[a]),g=h.useMemo(()=>f.map(b=>{const x=b.type==="annotation"&&u,y=p.includes(b.key);return h.createElement(XN,{"data-testid":"action-button-".concat(b.key),disabled:d||x,...Vun,dividerBefore:b.firstInGroup,icon:Mun(b,y),key:b.key,onClick:()=>b.handle(y),selected:y,text:b.title||b.key,tooltipText:b.title||b.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),v=h.useMemo(()=>({button:l.jsx(ie,{icon:qo,mode:"bleed",padding:2,disabled:d}),popover:zun}),[d]);return l.jsx(Nun,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:v,onMenuClose:m,children:g})});var zle=Object.freeze,Uun=Object.defineProperty,_Oe=(e,t)=>zle(Uun(e,"raw",{value:zle(t||e.slice())})),Vle,Hle;const Wun=h.memo(Jt),Yun=P(Ne)(Vle||(Vle=_Oe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),qun=P(ie)(Hle||(Hle=_Oe([`
  width: 100%;
`]))),Gun={constrainSize:!0,placement:"bottom-start",portal:"default"},SOe={h1:e=>l.jsx(M3e,{children:e}),h2:e=>l.jsx(F3e,{children:e}),h3:e=>l.jsx(L3e,{children:e}),h4:e=>l.jsx(B3e,{children:e}),h5:e=>l.jsx(N3e,{children:e}),h6:e=>l.jsx(z3e,{children:e}),normal:e=>l.jsx(UN,{children:e}),blockquote:e=>l.jsx(V3e,{"data-option":"blockquote",children:e})},Kun=Object.keys(SOe),Zun=e=>e.preventDefault(),dP={key:"style-none",style:"",title:"No style"},Xun=h.memo(function(t){const{disabled:n,items:r}=t,o=bo(),i=aD(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Bun({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const v=r.filter(x=>a.includes(x.style));let b=r;return v.length===0&&b.length>1&&(b=b.concat([dP]),v.push(dP)),{activeItems:v,items:b}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:dP.title,[c]),f=h.useCallback(v=>{i&&v.style!==i.style&&setTimeout(()=>{Ce.toggleBlockStyle(o,v.style),Ce.focus(o)})},[o,i]),p=h.useCallback((v,b)=>{const x=Kun.includes(v),y=SOe[v];return x?y(b):l.jsx(L,{children:b})},[]),m=h.useMemo(()=>l.jsx(qun,{disabled:s,iconRight:Wl,mode:"bleed",onClick:Zun,padding:2,text:d}),[s,d]),g=h.useMemo(()=>l.jsx(Bt,{disabled:s,children:u.map(v=>l.jsx(Yun,{pressed:c.includes(v),onClick:s?void 0:()=>f(v),children:p(v.style,(v==null?void 0:v.title)||v.style)},v.key))}),[s,c,f,u,p]);return l.jsx(Wun,{popover:Gun,id:"block-style-select",button:m,menu:g})}),Qun=h.memo(ZN),Jun={constrainSize:!0,portal:!0},edn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=aD(),a=bo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Ce.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||Oke(p.type.name);return l.jsx(XN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(ie,{icon:ia,mode:"bleed",padding:2,disabled:n}),popover:Jun}),[n]);return l.jsx(Qun,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Ule=Object.freeze,tdn=Object.defineProperty,C0=(e,t)=>Ule(tdn(e,"raw",{value:Ule(t||e.slice())})),Wle,Yle,qle,Gle,Kle,Zle;const ndn=P(U)(Wle||(Wle=C0([`
  width: 100%;
`]))),rdn=P(M)(Yle||(Yle=C0([`
  width: 8em;
`]))),odn=P(U)(qle||(qle=C0([`
  border-right: 1px solid var(--card-border-color);
`]))),idn=P(M)(Kle||(Kle=C0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&fe(Gle||(Gle=C0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),sdn=P(M)(Zle||(Zle=C0([`
  border-left: 1px solid var(--card-border-color);
`]))),adn=300,ldn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),cdn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,y)=>x+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=hd(f),g=m?(m==null?void 0:m.width)<400:!1,v=r.length>1;TDe({rootElement:f});const b=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return l.jsxs(ndn,{align:"center",ref:p,onMouseDown:b,children:[v&&l.jsx(odn,{flex:g?1:void 0,children:l.jsx(rdn,{padding:s?2:1,children:l.jsx(Xun,{disabled:o,items:r})})}),l.jsxs(U,{flex:1,children:[u&&l.jsx(idn,{flex:g?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Hun,{disabled:o,collapsed:g,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:g?void 0:1,padding:s?2:1,children:l.jsx(edn,{disabled:o,collapsed:g,items:i,isFullscreen:s})})]}),l.jsx(sdn,{padding:s?2:1,children:l.jsx(at,{content:l.jsxs(U,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(d8,{keys:["".concat(ldn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(ie,{padding:2,icon:s?u1e:v1e,mode:"bleed",onClick:a})})})]})});function udn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=bo(),a=i1(),c=_z(),u=r||!a,{push:d}=Io(),f=h.useCallback(x=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},adn);return c(x,{}).then(C=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const y=await f(x),w=Ce.insertBlock(s,x,y);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const y=await f(x),w=Ce.insertChild(s,x,y);w&&o(w)},[s,o,f]),g=Fun({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),v=h.useMemo(()=>Iun(s.schemaTypes),[s]),b=h.useMemo(()=>Oun(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(cdn,{actionGroups:g,blockStyles:v,disabled:u,insertMenuItems:b,isFullscreen:n,onToggleFullscreen:i})}var Xle=Object.freeze,ddn=Object.defineProperty,Pf=(e,t)=>Xle(ddn(e,"raw",{value:Xle(t||e.slice())})),Qle,Jle,ece,tce,nce,rce,oce,ice;const fdn=P(J)(Qle||(Qle=Pf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),hdn=P(J)(Jle||(Jle=Pf([`
  z-index: 10;
  line-height: 0;
`]))),pdn=P(J)(ece||(ece=Pf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),mdn=P($A)(tce||(tce=Pf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),gdn=P(Qr)(nce||(nce=Pf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),vdn=P(J)(ice||(ice=Pf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),yy.map(e=>lp(e)).join(" "),yy.map(e=>fe(rce||(rce=Pf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,lp(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},yy.map(e=>lp(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},yy.map(e=>lp(e)).join(" "),yy.slice(1).map(e=>fe(oce||(oce=Pf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,lp(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return pe(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function ydn(){const e=bo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function bdn(e){return h.useMemo(()=>(t,n)=>{if(Ce.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;zx(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const xdn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&sP[t.style]?sP[t.style]:sP[0])||UN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(Ed,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},sce=e=>l.jsx(l.Fragment,{children:e.children}),wdn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:sce,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(sce,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},Cdn={outline:"none"},_dn=e=>l.jsx(uun,{...e}),Sdn=e=>l.jsx(xdn,{...e}),kdn=e=>l.jsx(wdn,{...e});function Edn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:g,setPortalElement:v,setScrollElement:b,ariaDescribedBy:x}=e,{isTopLayer:y}=ol(),w=h.useRef(null),{element:C}=ch();cs(h.useCallback(T=>{!y||!o||T.key==="Escape"&&c()},[c,o,y]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=ydn(),k=bdn(g),j=h.useMemo(()=>l.jsx(rTe,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:_dn,renderListItem:kdn,renderPlaceholder:_,renderStyle:Sdn,scrollSelectionIntoView:k,selection:n,style:Cdn,spellCheck:S,"aria-describedby":x}),[t,n,i,a,f,p,m,_,k,S,x]),E=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(fdn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(hdn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(udn,{hotkeys:t,isFullscreen:o,onMemberOpen:E,onToggleFullscreen:c,readOnly:d})}),l.jsxs(pdn,{flex:1,tone:d?"transparent":"default",children:[l.jsx(mdn,{ref:b,children:l.jsx(gdn,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(vdn,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Gu,{element:o?g:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:v})]})]})}var ace=Object.freeze,jdn=Object.defineProperty,kOe=(e,t)=>ace(jdn(e,"raw",{value:ace(t||e.slice())})),lce,cce;const Tdn=P.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return fe(lce||(lce=kOe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),YN(s),r.border.width,qN({base:o,border:s,focusRing:n}))}),Adn=P(us)(cce||(cce=kOe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function Ddn(e){const t=bo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function Idn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=$in(),i=bo(),s=i1();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(zx(n,{scrollMode:"if-needed",block:"start",inline:"start"}),zx(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&xn(s.focus.path,t))return;const m=p.kind==="textBlock",g=t.length===1;if(m||g){const v=m&&Il(t[2])?t[2]._key:void 0,b=v&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===v):void 0,x=b&&b._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||x);let w=[];y?w=t.slice(0,3):m&&g&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:g&&(w=[{_key:p.key}]),w.length&&(Ce.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Ce.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function Odn(e){const{changed:t,focused:n,focusPath:r=Wn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:g,onToggleFullscreen:v,path:b,readOnly:x,renderAnnotation:y,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,value:A}=e,D=bo(),I=ch().element,[O,$]=h.useState(null),[R,z]=h.useState(null),F=h.useCallback(()=>{v()},[v]),H=h.useMemo(()=>({...i,custom:{"mod+enter":v,...(i==null?void 0:i.custom)||{}}}),[i,v]),W=Ddn(H),V=A&&C?C:void 0,q=A&&_?_:void 0,[oe,N]=h.useState(null),G=h.useCallback(_e=>{const{children:be,focused:ge,path:Oe,selected:Re,schemaType:ut,value:st}=_e;return l.jsx(ysn,{floatingBoundary:I,focused:ge,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:g,path:b.concat(Oe),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderBlockActions:V,renderCustomMarkers:q,renderPreview:T,renderBlock:w,schemaType:ut,selected:Re,value:st,children:be})},[V,q,R,a,d,f,p,g,I,b,x,y,w,S,k,j,E,T]),Y=h.useCallback(_e=>{const{focused:be,path:ge,selected:Oe,schemaType:Re,value:ut}=_e;return l.jsx(nsn,{floatingBoundary:I,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:g,path:b.concat(ge),readOnly:x,referenceBoundary:R,relativePath:ge,renderAnnotation:y,renderBlock:w,renderBlockActions:V,renderCustomMarkers:q,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:Re,selected:Oe,value:ut})},[I,R,a,d,f,p,g,b,x,y,w,V,q,S,k,j,E,T]),K=h.useCallback(_e=>{const{value:be}=_e;return be._type===D.schemaTypes.block.name?G(_e):Y(_e)},[D.schemaTypes.block.name,Y,G]),X=h.useCallback(_e=>{const{children:be,focused:ge,path:Oe,selected:Re,schemaType:ut,value:st}=_e;return st._type===D.schemaTypes.span.name?be:l.jsx(Asn,{floatingBoundary:I,focused:ge,onItemClose:d,onItemOpen:f,onPathFocus:g,path:b.concat(Oe),readOnly:x,referenceBoundary:R,relativePath:Oe,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:ut,selected:Re,value:st})},[I,R,D.schemaTypes.span.name,d,f,g,b,x,y,w,_,S,k,j,E,T]),Q=h.useCallback(_e=>{const{children:be,focused:ge,path:Oe,selected:Re,schemaType:ut,value:st}=_e;return l.jsx(Lsn,{editorNodeFocused:ge,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:g,path:b.concat(Oe),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:ut,selected:Re,value:st,children:be})},[I,R,n,d,f,g,b,x,y,w,_,S,k,j,E,T]),Z=e.elementProps["aria-describedby"],ne=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),ae=h.useMemo(()=>l.jsx(Edn,{ariaDescribedBy:Z,initialSelection:ne,hotkeys:W,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:F,path:b,readOnly:x,renderAnnotation:Q,renderBlock:K,renderChild:X,setPortalElement:N,scrollElement:R,setScrollElement:z}),[Z,W,Q,K,X,F,ne,s,a,u,f,m,b,x,R]),me=Am(),ue=h.useMemo(()=>({collapsed:O,default:me.element,editor:oe,expanded:me.element}),[me.element,oe,O]);Idn({focusPath:r,boundaryElement:R,onItemClose:d});const Te=n||o;return l.jsx(md,{__unstable_elements:ue,children:l.jsx(sun,{onActivate:c,isOverlayActive:!s,children:l.jsx(hi,{disabled:a,hasFocus:!!n,isChanged:t,path:b,children:l.jsxs(Tdn,{"data-focused":Te?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(Dm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(Adn,{children:ae}):ae})}),l.jsx("div",{"data-border":""})]})})})})}function Pdn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Jc,{suffix:l.jsxs(te,{padding:2,children:[r.action&&l.jsxs(on,{columns:[1,2],gap:1,children:[l.jsx(ie,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(ie,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(te,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(J,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Rdn(e){const{path:t}=e,{patchChannel:n}=pi().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>J4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:Fdn(t,a),snapshot:Ct(s)?Ldn(s,t):{},patches:c})}),[t,n])}}function $dn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Xu(e,t):e===t}function J4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!$dn(t[n],e[n]))return!1;return!0}function Mdn(e,t){return e.length===0||J4(t,e)&&!J4(e,t)}function Fdn(e,t){return t.some(n=>Mdn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function Ldn(e,t){return t.reduce((n,r)=>typeof r=="object"?VTe(n,r):Hn(n,r),e)}function Bdn(e){const{elementProps:t,hotkeys:n,markers:r=Wn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:g,schemaType:v,value:b}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Ce.focus(w.current)}}));const{subscribe:y}=Rdn({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,k]=h.useState(null),[j,E]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[O,$]=h.useState(!1),R=Io(),z=h.useRef([]),F=h.useMemo(()=>new _r,[]),H=h.useMemo(()=>F.asObservable(),[F]),W=h.useRef(null),V=h.useCallback(()=>{w.current&&E(K=>!K)},[]);h.useEffect(()=>{S&&b!==S.value&&k(null)},[S,b]),h.useEffect(()=>y(K=>{let{patches:X,snapshot:Q}=K;F.next({patches:X,snapshot:Q})}),[F,y]);const q=h.useMemo(()=>{var K;const X=[];for(const Z of o)if(Z.kind==="item")if(!eD(Z.item.schemaType))X.push({kind:"objectBlock",member:Z,node:Z.item});else{(Z.item.validation.length>0||Z.item.changed||(K=Z.item.presence)!=null&&K.length)&&X.push({kind:"textBlock",member:Z,node:Z.item});const ae=Z.item.members.find(ue=>ue.kind==="field"&&ue.name==="children");if(ae&&ae.kind==="field"&&MN(ae))for(const ue of ae.field.members)ue.kind==="item"&&ue.item.schemaType.name!=="span"&&X.push({kind:"inlineObject",member:ue,node:ue.item});const me=Z.item.members.filter(Iin).find(ue=>ue.name==="markDefs");if(me)for(const ue of me.field.members)ue.kind==="item"&&ue.item.schemaType.jsonType==="object"&&X.push({kind:"annotation",member:ue,node:ue.item})}const Q=X.map(Z=>{const ne=Cn(Z.node.path),ae=z.current.find(ue=>ue.key===ne);let me;return Z.kind!=="textBlock"&&(me=l.jsx(S3e,{absolutePath:Z.node.path,...e})),ae?((Z.member.open||ae.node.value!==Z.node.value)&&(ae.input=me),ae.member=Z.member,ae.node=Z.node,ae):{kind:Z.kind,key:ne,member:Z.member,node:Z.node,elementRef:h.createRef(),input:me}});return z.current=Q,Q},[o,e]);h.useEffect(()=>{O&&A(!0)},[O]);const oe=h.useCallback(K=>{switch(K.type){case"mutation":i(uce(K.patches));break;case"connection":K.value==="offline"?I(!0):K.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{K.selection&&d(K.selection.focus.path)});break;case"focus":A(!0),$(!0);break;case"blur":x(K.event),$(!1);break;case"undo":case"redo":i(uce(K.patches));break;case"invalidValue":k(K);break;case"error":R.push({status:K.level,description:K.description});break}},[x,i,d,R]);h.useEffect(()=>{_(!1)},[b]);const N=h.useCallback(()=>{_(!0)},[]),G=h.useMemo(()=>S&&S.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(Pdn,{onChange:oe,onIgnore:N,resolution:S.resolution,readOnly:D||p})}):null,[oe,N,S,D,p]),Y=h.useCallback(()=>{T||(A(!0),w.current&&Ce.focus(w.current))},[T]);return l.jsxs(M,{ref:W,children:[!C&&G,(!S||C)&&l.jsx(Pin,{markers:r,children:l.jsx(Rin,{memberItems:q,children:l.jsx(Ce,{ref:w,patches$:H,onChange:oe,maxBlocks:void 0,readOnly:D||p,schemaType:v,value:b,children:l.jsx(Odn,{...e,hasFocusWithin:O,hotkeys:n,isActive:T,isFullscreen:j,onActivate:Y,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:V,renderBlockActions:m,renderCustomMarkers:g})})})})]})}function uce(e){return e.map(t=>({...t,patchType:dm}))}function eF(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Ndn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&eF(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var dce=Object.freeze,zdn=Object.defineProperty,EOe=(e,t)=>dce(zdn(e,"raw",{value:dce(t||e.slice())})),fce,hce;const Vdn=P(J)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=pe(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:eF({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Ndn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:eF({color:i.default.disabled.border,width:r.border.width})}}}),Hdn=P.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:pe(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:pe(o-i.ascenderHeight),paddingRight:pe(o),paddingBottom:pe(o-i.descenderHeight),paddingLeft:pe(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Udn=P(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return fe(fce||(fce=EOe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Wdn=P(M)(hce||(hce=EOe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),jOe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,g]=h.useState(!1),v=fr(t),b=h.useRef(null),x=h.useCallback(k=>{if(Wc(k.target)&&k.target.closest('[data-ui="Tag"]'))return;const E=v.current;E&&setTimeout(()=>E.focus(),0)},[v]),y=h.useCallback(()=>{g(!1)},[]),w=h.useCallback(k=>{f(k.currentTarget.value)},[]),C=h.useCallback(k=>{g(!0),o&&o(k)},[o]),_=h.useCallback(k=>{if(k.key==="Enter"&&(k.preventDefault(),k.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(k=>{if(!r)return;const j=a.slice(0);j.splice(k,1),r(j)},[r,a]);return h.useEffect(()=>{const k=v.current;k&&(k.style.width="0",k.style.width="".concat(k.scrollWidth,"px"))},[v,d]),l.jsxs(Vdn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[p&&l.jsx(Udn,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((k,j)=>l.jsx(Wdn,{children:l.jsx(Ydn,{enabled:p,index:j,muted:!p,onRemove:S,tag:k})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Hdn,{...c,disabled:!p,onBlur:y,onChange:w,onFocus:C,onKeyDown:_,ref:v,type:"text",value:d})},"tag-input")]})]})});jOe.displayName="TagInput";function Ydn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(J,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(ie,{icon:Mi,mode:"bleed",onClick:s,padding:1})})]})})}function qdn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?nt():xt(u.map(d=>d.value)))},[t]);return l.jsx(hi,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(jOe,{onChange:c,readOnly:n,value:a,...o})})}const Gdn={portal:!0,tone:"default"};function TOe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx(qA,{dragHandle:n,tone:"caution",menu:l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo}),id:"".concat(o,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:r})}),popover:Gdn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(yOe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Kdn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(Dj,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Gt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(Lf,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(Lf,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var pce=Object.freeze,Zdn=Object.defineProperty,Xdn=(e,t)=>pce(Zdn(e,"raw",{value:pce(t||e.slice())})),mce;const Qdn=P(us)(mce||(mce=Xdn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var gce=Object.freeze,Jdn=Object.defineProperty,efn=(e,t)=>gce(Jdn(e,"raw",{value:gce(t||e.slice())})),vce;const tfn=P.div(vce||(vce=efn([`
  position: relative;
`])));function nfn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function rfn(e){const t=G3e(e);return re.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=Io(),f=re.useCallback((b,x)=>{const{type:y,uploader:w}=x;a==null||a({file:b,schemaType:y,uploader:w})},[a]),p=re.useCallback(b=>{if(!s)return;const x=b.map(C=>({file:C,uploaderCandidates:nfn(c,s,C)})),y=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(U,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}y.forEach(C=>{f(C.file,Rm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,g]=re.useState([]),v=re.useCallback(()=>g([]),[]);return l.jsx(tfn,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:g,onFilesOut:v,children:[s&&m.length>0&&l.jsx(Qdn,{zOffset:10,children:l.jsx(Kdn,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const QN=K3e(rfn(J));function ofn(e,t,n){return ifn(e,t,r=>r===n)}function ifn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const sfn={portal:!0,tone:"default"},afn=re.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,g=d.filter(C=>C.level==="error").length>0,v=d.filter(C=>C.level==="warning").length>0,b=h.useCallback((C,_)=>{s({position:C,items:[BN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(g)return"critical";if(v)return"caution"},[g,v]),w=l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo}),id:"".concat(u,"-menuButton"),popover:sfn,menu:l.jsxs(Bt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:a}),l.jsx(Ne,{text:"Duplicate",icon:Fc,onClick:x}),l.jsx(KA,{types:i,onInsert:b})]})});return l.jsx(qA,{tone:y,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(AC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(g1,{validation:d})}):null,children:l.jsx(U,{align:m?"flex-end":"center",ref:n,children:l.jsx(U,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function lfn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=re.useCallback(d=>{i(o(d))},[o,i]),c=re.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(on,{children:l.jsx(ie,{icon:ia,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(ie,{icon:ia,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Jt,{button:l.jsx(ie,{icon:ia,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((d,f)=>{var p,m;const g=Lu(d)&&(d.to||[]).length===1&&d.to[0].icon,v=d.icon||((p=d.type)==null?void 0:p.icon)||g;return l.jsx(Ne,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:v},f)})}),popover:u}),r]})}class AOe extends re.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(afn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=ofn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=lfn,path:d,changed:f}=this.props,p=!r&&Hn(t,"options.sortable")!==!1,m=n.map(g=>({id:"".concat(g.key,"-").concat(g.kind==="item"?g.item.value:"error"),member:g}));return l.jsxs(te,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(QN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(te,{space:1,children:m.length===0?l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(J,{padding:1,border:!0,children:l.jsx(DN,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(g=>g.id),sortable:p,gap:1,children:m.map((g,v)=>{let{member:b,id:x}=g;return l.jsxs(IN,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[b.kind==="item"&&l.jsx(hi,{path:b.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Uon,{member:b,renderItem:this.renderArrayItem,renderInput:o})}),b.kind==="error"&&l.jsx(TOe,{sortable:p,member:b,onRemove:()=>s(v)})]},b.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:BN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var yce=Object.freeze,cfn=Object.defineProperty,lD=(e,t)=>yce(cfn(e,"raw",{value:yce(t||e.slice())})),bce,xce,wce,Cce;const ufn=P(U)(bce||(bce=lD([`
  min-height: 35px;
`]))),dfn=P(U)(xce||(xce=lD([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),tF=P(J)(wce||(wce=lD([`
  position: absolute;
  top: 0;
  left: 0;
`]))),ffn=P(J)(Cce||(Cce=lD([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),tF,tF,AN);function DOe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(ffn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(tF,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(JIe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(dfn,{align:"center",marginX:1,children:o}),l.jsxs(ufn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(U,{children:t}),l.jsx(M,{children:c}),a]})]})}var _ce=Object.freeze,hfn=Object.defineProperty,pfn=(e,t)=>_ce(hfn(e,"raw",{value:_ce(t||e.slice())})),Sce;const mfn=P(J)(Sce||(Sce=pfn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function gfn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const vfn={portal:!0,tone:"default"},yfn={position:"absolute",top:0,left:0,bottom:0,right:0};function bfn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:g,onFocus:v,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,k=c.of,j=h.useRef(null);WA(j,m),Wi(w,(q,oe)=>{var N;!q&&oe&&j.current&&((N=j.current)==null||N.focus())});const E=p._resolvingInitialValue,T=h.useCallback(()=>{g({items:[{...p,_key:nw()}],position:"after"})},[g,p]),A=h.useCallback((q,oe)=>{g({items:[y1(oe)],position:q})},[g]),D=f1(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(AC,{presence:D,maxAvatars:1}),[D]),O=cN(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(g1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(q=>q.level==="error"),z=O.some(q=>q.level==="warning"),F=h.useMemo(()=>d?null:l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:Fc,onClick:T}),l.jsx(KA,{types:k,onInsert:A})]}),popover:vfn}),[T,A,f,k,e.inputId,d]),H=gfn({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx(DOe,{menu:F,presence:I,validation:$,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(mfn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:E,onClick:b,ref:j,onFocus:v,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),E&&l.jsx(J,{as:U,style:yfn,children:l.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(Qn,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),V=Np(a);return l.jsxs(l.Fragment,{children:[l.jsx(hi,{path:u,isChanged:y,hasFocus:!!w,children:W}),m&&l.jsx(E3e,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var kce=Object.freeze,xfn=Object.defineProperty,wfn=(e,t)=>kce(xfn(e,"raw",{value:kce(t||e.slice())})),Ece;const Cfn=P(J)(Ece||(Ece=wfn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function _fn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ms(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Cfn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(te,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(Sj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(te,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(J,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(J,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(te,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(jl,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const Sfn={portal:!0,tone:"default"};function kfn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=xa(),i=h.useCallback(()=>{o(dt.from([nt([{_key:t.key}])]))},[o,t.key]);return l.jsx(DOe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:"bleed",icon:qo}),id:"".concat(r,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:go,onClick:i})}),popover:Sfn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(_fn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const Efn=[];function jfn(e){var t;const{arrayFunctions:n=sN,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:g,renderPreview:v,resolveUploader:b,schemaType:x,value:y=Efn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(bfn,{...j}),[]),k=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(te,{space:3,children:[l.jsx(QN,{types:x.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsxs(te,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(J,{border:!0,radius:1,children:l.jsx(DN,{columns:[2,3,4],gap:3,padding:1,margin:1,items:k,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(IN,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(LN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:g,renderPreview:v}),j.kind==="error"&&l.jsx(kfn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:y1,readOnly:u,schemaType:x,value:y})]})}function Tfn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const Afn=[];function Dfn(e){var t;const{arrayFunctions:n=sN,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:b,renderPreview:x,resolveUploader:y,schemaType:w,value:C=Afn}=e,[_,S]=h.useState(null),{space:k}=Ls().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),E=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=Tfn(h.useMemo(()=>o.map(G=>G.key),[o]),Xu),{scrollElement:A,containerElement:D}=ein(),I=h.useRef(null),O=h.useMemo(()=>Mr(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(G=>{const Y={...G};if(_!==null&&(Y.startIndex=Math.min(G.startIndex,_),Y.endIndex=Math.max(G.endIndex,_)),O){const K=T.findIndex(X=>X===O);K!==-1&&(Y.startIndex=Math.min(Y.startIndex,K),Y.endIndex=Math.max(Y.endIndex,K))}return k_e(Y)},[_,O,T]),R=h.useCallback((G,Y)=>{if(!G.scrollElement)return;const K=G.scrollElement,X=()=>{var Q,Z,ne,ae;const me=(Z=(Q=D.current)==null?void 0:Q.getBoundingClientRect().top)!=null?Z:0,ue=(ae=(ne=I.current)==null?void 0:ne.getBoundingClientRect().top)!=null?ae:0,Te=Math.floor(ue-me);Y(K.scrollTop-Te)};return X(),G.scrollElement.addEventListener("scroll",X,{capture:!1,passive:!0}),()=>{K.removeEventListener("scroll",X)}},[D]),z=h.useCallback(()=>53,[]),F=T_e({count:o.length,estimateSize:z,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,Y,K)=>{G!==K.scrollOffset&&E_e(G,Y,K)}}),H=F.getVirtualItems(),W=h.useCallback(G=>{var Y,K;const{active:X}=G;S((K=(Y=X.data.current)==null?void 0:Y.sortable)==null?void 0:K.index)},[]),V=h.useCallback(()=>{S(null)},[]),q=((t=w.options)==null?void 0:t.sortable)!==!1,oe=1,N=1;return l.jsxs(te,{space:3,ref:I,children:[l.jsx(QN,{types:w.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsx(te,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(J,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(J,{border:!0,radius:1,style:{height:"".concat(F.getTotalSize()+H.length*k[oe]+k[N],"px"),width:"100%",position:"relative"},children:l.jsx(DN,{axis:"y",gap:oe,paddingY:N,items:T,onItemMove:a,onItemMoveStart:W,onItemMoveEnd:V,sortable:q,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(G=>{const Y=o[G.index];return l.jsxs(IN,{ref:F.measureElement,sortable:q,"data-index":G.index,id:Y.key,children:[Y.kind==="item"&&l.jsx(LN,{member:Y,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:b,renderPreview:x}),Y.kind==="error"&&l.jsx(TOe,{sortable:q,member:Y,onRemove:()=>e.onItemRemove(Y.key)})]},G.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:E,onItemPrepend:j,onValueCreate:y1,readOnly:d,schemaType:w,value:C})]})}function IOe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(jfn,{...e}):l.jsx(Dfn,{...e})}const Ifn=["string","number","boolean"];function Ofn(e){return e.of.every(t=>Ifn.includes(t.jsonType))}function Pfn(e){return e.of.length===1&&jc("string",e.of[0])}function Rfn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function $fn(e){return e.of.some(t=>jc("block",t))}function Mfn(e){var t;return!!((t=e.options)!=null&&t.list)}function Ffn(e){return Pfn(e)&&Rfn(e)?qdn:Mfn(e)?bOe:Ofn(e)?AOe:$fn(e)?Bdn:IOe}function Lfn(e){return GF(e)?e:{title:Fm("".concat(e)),value:e}}const jce={title:"",value:void 0};function OOe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(Lfn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),g=s.options&&s.options.layout==="radio",v=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),b=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),y=re.useCallback(_=>{a(dt.from(typeof(_==null?void 0:_.value)>"u"?nt():xt(_.value)))},[a]),w=h.useCallback(_=>{const S=v(_.currentTarget.value);if(!S){y(jce);return}y(S)},[y,v]),C=g?l.jsx(Bfn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):l.jsx(qf,{...f,customValidity:i,value:b(m),readOnly:o,onChange:w,children:[jce,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(hi,{path:c,isChanged:u,hasFocus:!!d,children:C})}const Bfn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Gt:te;return l.jsx(J,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(Nfn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Nfn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(U,{as:"label",align:"center",children:[l.jsx(TJe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function POe(e){const{validationError:t,elementProps:n}=e;return l.jsx(Lr,{...n,customValidity:t,"data-testid":"string-input"})}function zfn(e){return j3e(e,"list")?OOe:POe}const Vfn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function ok(e,t){for(const n of Vfn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function ROe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=ok(t,"min"),i=ok(t,"integer"),s=ok(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Lr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Hfn(e){return j3e(e,"list")?OOe:ROe}var Tce=Object.freeze,Ufn=Object.defineProperty,$Oe=(e,t)=>Tce(Ufn(e,"raw",{value:Tce(t||e.slice())})),Ace,Dce;const Wfn=P(M)(Ace||(Ace=$Oe([`
  align-self: center;
`]))),Yfn=P(M)(Dce||(Dce=$Oe([`
  line-height: 0;
`])));function qfn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?uT:RCe,p=i?"transparent":void 0;return l.jsx(J,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(U,{children:[l.jsx(Yfn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(ZIe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(Wfn,{paddingX:3,paddingY:1,children:l.jsx(Knn,{maxAvatars:1,position:"top"})})]})})}function Gfn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Lr,{...n,type:"email",inputMode:"email",customValidity:t})}function Kfn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(nt([a]))},[n]);return l.jsxs(Jc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Ym,{marginTop:4,open:eu,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(te,{as:"ul",space:3,children:t.map(a=>l.jsx(Zfn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Zfn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(J,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(te,{space:2,children:[l.jsxs(J,{border:!0,radius:1,children:[l.jsx(J,{borderBottom:!0,padding:3,children:l.jsx(lr,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(lr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(ie,{icon:go,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var Ice=Object.freeze,Xfn=Object.defineProperty,Qfn=(e,t)=>Ice(Xfn(e,"raw",{value:Ice(t||e.slice())})),Oce;const Jfn=P(J)(Oce||(Oce=Qfn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),ehn=h.forwardRef(function(t,n){const{onClick:r}=t,o=re.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(wx,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),thn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Pce=Object.freeze,nhn=Object.defineProperty,rhn=(e,t)=>Pce(nhn(e,"raw",{value:Pce(t||e.slice())})),Rce;const ohn=P(VQe)(Rce||(Rce=rhn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),ihn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(pT,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(ehn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},shn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(qf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(thn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},ahn=re.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(ohn,{"data-testid":"field-group-root",children:[l.jsx(ihn,{...o,disabled:n,onClick:i}),l.jsx(shn,{...o,disabled:n,onSelect:i})]})}),$ce=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:g,id:v,onFieldGroupSelect:b}=t,{columns:x}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(g||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(Kfn,{fieldNames:_,value:g,onChange:i})},[i,n.fields,g]),w=h.useCallback(()=>l.jsx(Xon,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(te,{space:5,children:[r.length>0?l.jsx(Jfn,{$level:m,"data-testid":"field-groups",children:l.jsx(ahn,{groups:r,inputId:v,onClick:b,shouldAutoFocus:!1})}):null,x?l.jsx(on,{columns:x,gap:4,marginTop:1,children:w()}):w(),y]})});function lhn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(J,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const chn=["January","February","March","April","May","June","July","August","September","October","November","December"],uhn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dhn=Q7(0,24),fhn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hhn=[1,2,3,4,5,6],phn=e=>{const t=_5e(e);return C5e({start:t,end:k5e(t)})},mhn=e=>e.map(t=>[t,...hhn.map(n=>Ji(t,n))]),ghn=e=>mhn(phn(e)).map(t=>({number:S5e(t[0]),days:t}));function vhn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[uhn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),ghn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Xd(r,e.focused),s=e.selected&&Xd(r,e.selected),a=Xd(r,new Date),c=e.focused&&O5e(r,e.focused);return l.jsx(lhn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Mce={dayPresets:!1,timePresets:!1},MOe=re.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=re.useState(),d=re.useCallback(g=>{u(g.currentTarget.value)},[]),f=re.useCallback(g=>{g.currentTarget.value!=="".concat(s)&&r&&r(g),u(void 0)},[r,s]),p=re.useCallback(g=>{f(g),o&&o(g)},[f,o]),m=re.useCallback(g=>{g.key==="Enter"&&f(g),i&&i(g)},[f,i]);return l.jsx(Lr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),yhn=e=>{let{onChange:t,...n}=e;const r=re.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(MOe,{...n,onChange:r,inputMode:"numeric"})},bhn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),xhn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(Sjt(R5e(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(D9(s,S)),[s,d]),g=h.useCallback(S=>d(kjt(s,S)),[s,d]),v=h.useCallback(S=>{c(TS(V3(S,i.getHours()),i.getMinutes()))},[c,i]),b=h.useCallback(S=>{const k=Number(S.currentTarget.value);c(TS(i,k))},[c,i]),x=h.useCallback(S=>{const k=Number(S.currentTarget.value);c(V3(i,k))},[c,i]);h.useCallback((S,k)=>{c(V3(TS(i,k),S))},[c,i]);const y=fr(n),w=h.useCallback(()=>{var S,k;(k=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||k.focus()},[y]),C=h.useCallback(S=>{var k,j;if(fhn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Ji(s,-7)),S.key==="ArrowDown"&&o(Ji(s,7)),S.key==="ArrowLeft"&&o(Ji(s,-1)),S.key==="ArrowRight"&&o(Ji(s,1)),(j=(k=y.current)==null?void 0:k.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>v(Ji(new Date,-1)),[v]),h.useCallback(()=>v(new Date),[v]),h.useCallback(()=>v(Ji(new Date,1)),[v]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:y,children:[l.jsxs(M,{padding:2,children:[Mce.dayPresets,l.jsxs(U,{children:[l.jsx(M,{flex:1,children:l.jsx(whn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(Chn,{moveFocusedDate:m,onChange:g,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(vhn,{date:s,focused:s,onSelect:v,selected:i}),bhn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(U,{align:"center",children:[l.jsxs(U,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(qf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:dhn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx(qf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:b,children:Q7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(ie,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Mce.timePresets]})]})});function whn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(U,{flex:1,children:[l.jsx(ie,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:Ej,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(qf,{radius:0,value:r,onChange:n,children:chn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(ie,{"aria-label":"Go to next month",mode:"bleed",icon:Hc,onClick:i,paddingX:2,radius:0})]})}function Chn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(U,{children:[l.jsx(ie,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:Ej,paddingX:2,radius:0}),l.jsx(yhn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(ie,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Hc,paddingX:2,radius:0})]})}const _hn=re.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=re.useState(),c=re.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(xhn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),Shn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=fr(n),m=h.useRef(null),[g,v]=h.useState(!1);dr(()=>v(!1),[d]);const b=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&v(!1)},[]),y=h.useCallback(()=>v(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(ie,{ref:m,icon:$g,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(MOe,{ref:p,...u,value:o,onChange:i,suffix:g?l.jsx(Ku,{zOffset:1e3,children:l.jsx(an,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(vd,{onDeactivation:b,children:l.jsx(_hn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),khn=new Date,FOe=re.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...g}=t,[v,b]=re.useState(null);h.useEffect(()=>{b(null)},[m]);const x=re.useCallback(S=>{const k=S.currentTarget.value,j=k===""?null:a(k);j===null?(s(null),typeof m>"u"&&v&&b(null)):j.isValid?s(f(j.date)):b(k)},[a,s,m,v,f]),y=re.useCallback(S=>{s(S?f(S):null)},[f,s]),w=fr(n),C=v?a(v):m?o(m):null,_=v||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Lr,{value:_,readOnly:!0}):l.jsx(Shn,{...g,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(khn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:y,customValidity:C==null?void 0:C.error})});function Ehn(e){return e instanceof Date&&!isNaN(e.valueOf())}const jhn="YYYY-MM-DD",Thn="HH:mm";function Ahn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||jhn,timeFormat:e.timeFormat||Thn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function nF(e){return e.toISOString()}function Dhn(e){const t=new Date(e);return Ehn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function Ihn(e,t){if(!t||t===1)return e;const n=ajt(e),r=sEt(n),o=r%t;return nF(o!==0?TS(n,r-o):n)}function Ohn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=Ahn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=Ihn(p,a)),t(p===null?nt():xt(p))},[t,a]),u=re.useCallback(f=>uA(f,"".concat(i," ").concat(s)),[i,s]),d=re.useCallback(f=>f7(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(FOe,{...o,onChange:c,deserialize:Dhn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:nF,timeStep:a,value:r})}const JN="YYYY-MM-DD",Phn=JN;function Rhn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Phn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const $hn=e=>f7(e,JN),Mhn=e=>uA(e,JN);function Fhn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=Rhn(r.options),a=h.useCallback(d=>{n(d===null?nt():xt(d))},[n]),c=h.useCallback(d=>uA(d,s),[s]),u=h.useCallback(d=>f7(d,s),[s]);return l.jsx(FOe,{...o,deserialize:$hn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:Mhn,value:i})}var Fce=Object.freeze,Lhn=Object.defineProperty,Bhn=(e,t)=>Fce(Lhn(e,"raw",{value:Fce(t||e.slice())})),Lce;const Nhn=P($Ce)(Lce||(Lce=Bhn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function zhn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(Nhn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Vhn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=ok(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Lr,{type:a,inputMode:"url",customValidity:o,...i})}const Hhn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?UTe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Uhn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Hhn)(e,t,n)}function Whn(e,t){const[n,r]=re.useState(null),o=re.useRef(0),i=re.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function Yhn(){const{getClient:e}=Fn(),t=En(),n=Ko(),r=ZPe(),o=GPe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function qhn(e,t,n){const r=e.slice(0,-1),o=ym(t,r);return{parentPath:r,parent:o,...n}}async function Ghn(e,t,n){return typeof e=="function"?e(t,n):ym(t,e)}function Khn(e){var t;const{getDocument:n}=pi().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=Yhn(),m=h.useCallback(y=>{if(!y){a(dt.from(nt([])));return}a(dt.from([os({_type:i.name}),xt(y,["current"])]))},[a,i.name]),[g,v]=Whn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=qhn(r,y,p);return Ghn(d,y,w).then(C=>Uhn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),b=(g==null?void 0:g.status)==="pending",x=re.useCallback(y=>m(y.currentTarget.value),[m]);return l.jsx(te,{space:3,children:l.jsxs(U,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Lr,{customValidity:f.length>0?f[0].message:"",disabled:b,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(g==null?void 0:g.status)==="error"&&l.jsx(J,{padding:2,tone:"critical",children:g.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(ie,{mode:"ghost",type:"button",disabled:c||b,onClick:v,text:(g==null?void 0:g.status)==="pending"?"Generating…":"Generate"})})]})})}function Zhn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(bOe,{...e}):Wcn(e)?l.jsx(AOe,{...e}):l.jsx(IOe,{...e})}const Bce={document:$ce,object:$ce,array:Zhn,boolean:qfn,number:ROe,text:zhn,email:Gfn,datetime:Ohn,date:Fhn,url:Vhn,image:Wln,file:Man,string:POe,slug:Khn,crossDatasetReference:gcn};function Xhn(e){if(jc("array",e))return Ffn(e);if(jc("reference",e))return Hcn;if(jc("string",e))return zfn(e);if(jc("number",e))return Hfn(e)}function Qhn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Xhn(e);if(n)return n;const o=NN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Bce[s.name]);if(i)return Bce[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Jhn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:wh}function qm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function epn(e){return qm({componentProps:e,componentResolver:Qhn})}function tpn(e){return qm({componentProps:e,componentResolver:xin})}function npn(e){return qm({componentProps:e,componentResolver:ain})}function rpn(e){return qm({componentProps:e,componentResolver:Jhn})}function opn(e){return qm({componentProps:e,componentResolver:Bsn})}function ipn(e){return qm({componentProps:e,componentResolver:Nsn})}function spn(e){return qm({componentProps:e,componentResolver:zsn})}function apn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function lpn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function cpn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function upn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function dpn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function fpn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function hpn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function ppn(){return Kl({defaultComponent:epn,pick:apn})}function mpn(){return Kl({defaultComponent:tpn,pick:lpn})}function LOe(){return Kl({defaultComponent:rpn,pick:cpn})}function gpn(){return Kl({defaultComponent:npn,pick:upn})}function vpn(){return Kl({defaultComponent:opn,pick:dpn})}function ypn(){return Kl({defaultComponent:ipn,pick:fpn})}function bpn(){return Kl({defaultComponent:spn,pick:hpn})}function PC(e){const t=LOe();return l.jsx(UDe,{...e,component:t})}const xpn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(J,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(wpn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},wpn=e=>{let{document:t}=e;const n=En(),r=h.useCallback(o=>l.jsx($m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(J,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(U,{align:"center",gap:2,children:l.jsx(PC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Nce={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},zce={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Vce={height:"100%"},Cpn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(J,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(on,{columns:3,gap:[2,3,4],children:[l.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx(jr,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(J,{__unstable_checkered:!0,border:!0,radius:1,style:zce,children:l.jsx(U,{align:"center",justify:"center",style:Vce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Nce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(J,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(on,{columns:3,gap:3,children:[l.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(J,{__unstable_checkered:!0,border:!0,radius:1,style:zce,children:l.jsx(U,{align:"center",justify:"center",style:Vce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Nce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},fP="confirmDelete",hP="listUsage";function rF(e){let{asset:t,assetType:n="image",mode:r=hP,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=oZt(t._id),d=r===hP?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,g]=h.useState(!0),[v,b]=h.useState([]),x=r===fP,y=v.length>0,w=r===hP||y,C=r===fP&&!y,_=x?l.jsxs(on,{padding:2,gap:2,columns:2,children:[l.jsx(ie,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(ie,{text:"Delete",tone:"critical",icon:go,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,E)=>E._id.startsWith("drafts.")?j.concat(E._id.slice(7)):j,[]),k=c.filter(j=>!S.includes(j._id));b(k),p(k.length===0&&!a),g(a)},[a,c]),l.jsxs(Vi,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(rZt,{text:"Loading..."})}),!m&&l.jsxs(te,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===fP&&l.jsx(Cpn,{asset:t,assetType:n,hasResults:y}),w&&l.jsx(xpn,{asset:t,referringDocuments:v,assetType:n})]})]})}function BOe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(Jt,{button:l.jsx(ie,{padding:2,mode:n?"ghost":o,icon:qo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Bt,{children:[l.jsx(Ne,{text:"Show uses",icon:Nf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ne,{text:"Delete",icon:go,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var Hce=Object.freeze,_pn=Object.defineProperty,cD=(e,t)=>Hce(_pn(e,"raw",{value:Hce(t||e.slice())})),Uce,Wce,Yce,qce;const Spn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),kpn=P.img(Uce||(Uce=cD([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Epn=P(J)(Wce||(Wce=cD([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),oF=P.div(Yce||(Yce=cD([`
  position: relative;
  display: inherit;
`]))),jpn=P.div(qce||(qce=cD([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),oF,oF),Tpn=re.memo(function(t){const n=Jn(sn),r=Io(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[g,v]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const b=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{v(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{v(!1),c(i._id),m(!1),C()},error:D=>{v(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&b(),D.type==="showUsage"&&y()},[b,y]),{originalFilename:k,_id:j,url:E}=i,T=200*Math.max(1,Spn),A=E.includes(".gif")?"".concat(E,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(E,"?h=").concat(T,"&fit=max");return l.jsxs(oF,{children:[l.jsx(ie,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(Epn,{__unstable_checkered:!0,children:[l.jsx(kpn,{alt:k,src:A,onClick:s,"data-id":j}),g&&l.jsx(nZt,{})]})}),l.jsx(jpn,{children:l.jsx(BOe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(rF,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:g})]})}),Apn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Dpn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Ipn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Opn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Gce=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Ppn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?Opn:Ipn:n?Dpn:Apn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const v=Gce(a,s,f);return"".concat(d+v," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Gce(Number(a),s,f),g=c[p];return"".concat(d+m," ").concat(g)}const pP={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function Rpn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function $pn(e){return pP!=null&&pP[e]?pP[e].title:Rpn(e)}var Kce=Object.freeze,Mpn=Object.defineProperty,Fu=(e,t)=>Kce(Mpn(e,"raw",{value:Kce(t||e.slice())})),Zce,Xce,Qce,Jce,eue,tue,nue,rue,oue;const iF=P.span(Zce||(Zce=Fu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),Ig=P(U)(Xce||(Xce=Fu([""]))),Fpn=P(L)(Qce||(Qce=Fu([""]))),Lpn=P(J)(eue||(eue=Fu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Fpn,e=>e.isSelected&&fe(Jce||(Jce=Fu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),iue=P(ie)(rue||(rue=Fu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&fe(tue||(tue=Fu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),iF,Ig),e=>!e.isSelected&&fe(nue||(nue=Fu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Bpn=P(L)(oue||(oue=Fu([`
  overflow-wrap: anywhere;
`]))),sue={position:"relative"},aue={flexShrink:0},mP={minWidth:0},lue={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Npn="Cannot delete current file",zpn=e=>{const t=Jn(sn),n=Io(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:g,onDeleteFinished:v,isSelected:b,isMobile:x}=e,{originalFilename:y,_id:w,mimeType:C,size:_,_createdAt:S}=p,k=ni(S,{agoSuffix:!0}),j=$pn(C),E=Ppn(_),T=(y||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},O=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),v==null||v(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},z=()=>{f(!d)},F=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&R()};return x?l.jsxs(J,{paddingBottom:2,style:sue,children:[l.jsxs(on,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(iue,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(U,{gap:2,flex:2,align:"center",children:[l.jsx(J,{as:iF,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:aue,children:l.jsx(Bf,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:mP,children:y})]})}),l.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:lue,children:l.jsx(ie,{mode:"bleed",fontSize:1,padding:2,onClick:z,icon:d?a1e:nl})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(on,{marginTop:3,columns:3,gap:1,children:[l.jsxs(te,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:E})]}),l.jsxs(te,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(te,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:k})]})]}),l.jsxs(te,{space:2,marginTop:3,children:[l.jsx(ie,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:Nf}),l.jsx(ie,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:go,disabled:b,title:b?Npn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(rF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]}):l.jsxs(Lpn,{asset:p,paddingBottom:1,style:sue,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[l.jsxs(on,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(iue,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:g,title:"Select the file ".concat(y),isSelected:b,children:l.jsxs(Ig,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:g,"data-id":w,title:"Select the file ".concat(y),children:[l.jsx(J,{as:iF,padding:2,tone:"transparent",radius:2,style:aue,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(Bf,{})})}),T&&l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:mP,children:y})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:mP,children:y})]})}),l.jsx(Ig,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:E})}),l.jsx(Ig,{align:"center",children:l.jsx(M,{children:l.jsx(Bpn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(Ig,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:k})}),l.jsx(Ig,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:lue,children:l.jsx(BOe,{border:!1,isSelected:!1,onAction:F})})]}),(o||s)&&l.jsx(rF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]})},Vpn={paddingLeft:"2.2rem"},cue={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Hpn(e){const n=Tm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(J,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(on,{style:cue,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(on,{gap:1,style:cue,children:[l.jsx(M,{flex:2,style:Vpn,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(te,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(U,{justify:"center",children:l.jsx(Qn,{muted:!0})})}),r.map(u=>l.jsx(zpn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var uue=Object.freeze,Upn=Object.defineProperty,NOe=(e,t)=>uue(Upn(e,"raw",{value:uue(t||e.slice())})),due,fue;const ik=200,zOe="sanity.imageAsset",Wpn="sanity.fileAsset",Ypn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},qpn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ik,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zOe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?Ypn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Gpn=P(on)(due||(due=NOe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Kpn=P(J)(fue||(fue=NOe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Zpn=function(t,n){const r=Jn(sn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(x5e())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[g,v]=h.useState(!0),{selectedAssets:b,assetType:x="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(F=>F.trim()).join(", "):"",k=!g&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",E=h.useCallback(F=>{const H=F*ik,W=H+ik,V=x==="image",q=V?"asset.image-list":"asset.file-list",oe=V?zOe:Wpn;v(!0),typeof _<"u"&&(a.current=o.observable.fetch(qpn(H,W,oe,_),{},{tag:q}).subscribe(N=>{f(N.length<ik),u(G=>G.concat(N)),v(!1)}))},[x,_,o]),T=h.useCallback(F=>{u(H=>H.filter(W=>W._id!==F))},[u]),A=h.useCallback(F=>{c.find(W=>W._id===F)&&C([{kind:"assetDocumentId",value:F}])},[c,C]),D=h.useCallback(F=>{F.preventDefault(),A(F.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(F=>{F.key==="Enter"&&(F.preventDefault(),A(F.currentTarget.getAttribute("data-id")))},[A]),O=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(F=>{F.preventDefault(),E(++s.current)},[E]);h.useEffect(()=>(E(s.current),()=>{a.current&&a.current.unsubscribe()}),[E]),h.useEffect(()=>{!g&&(!s.current||s.current===0)&&m(!0)},[g]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(Gpn,{gap:2,children:c.map(F=>l.jsx(Tpn,{asset:F,isSelected:b.some(H=>H._id===F._id),onClick:D,onKeyPress:I,onDeleteFinished:T},F._id))}),g&&c.length===0&&l.jsx(U,{justify:"center",children:l.jsx(Qn,{muted:!0})}),!g&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,g,b]),z=h.useMemo(()=>l.jsx(Hpn,{isLoading:g,assets:c,selectedAssets:b,onClick:D,onKeyPress:I,onDeleteFinished:T}),[g,c,b,D,I,T]);return l.jsxs(Vi,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:O,onClose:O,ref:n,width:2,children:[k&&!j&&l.jsx(J,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(U,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(Cm,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&z,c.length>0&&!d&&l.jsx(Kpn,{tone:"default",padding:4,children:l.jsx(U,{direction:"column",children:l.jsx(ie,{type:"button",icon:d6,loading:g,onClick:$,text:"Load more",tone:"primary"})})})]})},VOe=re.memo(re.forwardRef(Zpn)),HOe={name:"sanity-default",title:"Uploaded files",component:VOe,icon:u6},UOe={name:"sanity-default",title:"Uploaded images",component:VOe,icon:Pl};function Xpn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function _h(e,t){return e[t]}function Qpn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Jpn=[{fieldPath:"_updatedAt",icon:$g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:$g,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Nf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:sb,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:sb,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:sb,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:kj,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:$g,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:$g,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:bg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Bf,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Pl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:k1e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:o1e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Nf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:bg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:bg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Wl,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:bg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:bg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function emn(e){let{documentId:t,schemaType:n}=e;const r=Yi(),{draft:o,published:i,isLoading:s}=yo(()=>BA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=tN({draft:o,published:i,value:a});return s?l.jsx(V0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const zE="yyyy-MM-dd";function tmn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function hue(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Qu(n)?null:l.jsx(l.Fragment,{children:oi(n,zE)})}function pue(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Qu(n)?null:l.jsx(l.Fragment,{children:oi(n,zE)})}function nmn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function mue(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Qu(r)||!Qu(n)?null:l.jsxs(l.Fragment,{children:[oi(n,zE)," → ",oi(r,zE)]})}function mg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function gg(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Hr("item",t)]})}function rmn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function omn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function xl(e){let{value:t}=e;const n=En(),r=t._ref,o=n.get(t._type);return o?l.jsx(emn,{documentId:r,schemaType:o}):null}function Oi(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const WOe=h.createContext(void 0);function Pt(){const e=h.useContext(WOe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ra(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Pt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Lr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function YOe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Pt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const g=parseFloat(p.currentTarget.value);t({max:Number.isFinite(g)?g:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const g=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(g)?g:null})},[n==null?void 0:n.max,t]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Lr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Lr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function uD(e,t){const n=t.split("."),r=n[0];if(r&&Qa(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?uD(o.type,i):o}}}var gue=Object.freeze,imn=Object.defineProperty,qOe=(e,t)=>gue(imn(e,"raw",{value:gue(t||e.slice())})),vue,yue;const smn=P(M)(vue||(vue=qOe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),amn=P(Vt)(yue||(yue=qOe([`
  max-width: 150px;
`])));function lmn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Yi(),{draft:i,published:s,isLoading:a}=yo(()=>BA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Gt,{space:3,children:[n&&n.length>0&&l.jsx(kN,{presence:n}),l.jsx(amn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(smn,{children:l.jsx(wh,{...tN({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function ez(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=En().get(o),u=LC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Kw({intent:"edit",params:d}),m=h.useCallback(g=>{n||f(g),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Bp,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(lmn,{documentId:r,presence:u,schemaType:c})})}):null}const cmn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),umn="_debug_search_score",GOe=!1,bue=1e3,KOe="k",dmn=cmn?"Cmd":"Ctrl",sw=Mo.space[1],fmn=735,ZOe=800,RC=5,x1=2;function dD(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function hmn(e,t){return fD(e).filter(n=>pmn(n,t)).sort(sF)}function fD(e){return fXt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function sF(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function pmn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const mmn=300,gP={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function gmn(e){return e!==null}function vmn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function XOe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=Jn(sn),d=h.useMemo(()=>oN(fD(s),u,{tag:"search.global",unique:!0}),[u,s]),f=bT(m=>m.pipe(pt(gmn),ce(vmn),Xn(Ht),k8(g=>Yo((g==null?void 0:g.debounceTime)||mmn)),wn(i),it(g=>Ur(ve({...gP,loading:!0,options:g.options,terms:g.terms}),Knt(()=>dD({allowEmptyQueries:t,terms:g.terms}),d(g.terms,g.options).pipe(ce(v=>({hits:v})),wn(v=>{let{hits:b}=v;return r==null?void 0:r(b)}),Pn(v=>(o==null||o(v),ve({...gP,error:v,loading:!1,options:g.options,terms:g.terms})))),ve(Zn).pipe(wn(()=>r==null?void 0:r([])))),ve({loading:!1}))),da((g,v)=>({...g,...v}),gP),wn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const ymn=40;function tz(e){let{availableCharacters:t=ymn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=xue(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(xue).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function xue(e){var t;return(t=e.title)!=null?t:e.name}var wue=Object.freeze,bmn=Object.defineProperty,xmn=(e,t)=>wue(bmn(e,"raw",{value:wue(t||e.slice())})),Cue;const wmn=()=>!0,Cmn=P(L)(Cue||(Cue=xmn([`
  word-break: break-word;
`]))),_mn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=En(),{state:{fullscreen:c}}=Pt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=XOe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),g=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),v=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),b=h.useCallback(C=>{var _;const S=(_=d.find(k=>k.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Rn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=tz({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),y=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(ez,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:k,onMouseEnter:j,onMouseLeave:E}=C,T=d&&d.length>0;return l.jsx(an,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Cmn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:E,open:!m.loading&&!k,overflow:"auto",placement:"bottom-start",radius:x1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(c8,{"aria-label":x,filterOption:wmn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:g},options:d,onQueryChange:v,onSelect:b,placeholder:x,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function Hb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Pt(),a=En(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const g=uD(m,t.fieldPath);if(Hl(g==null?void 0:g.type))return g==null?void 0:g.type.of.filter(Lu).flatMap(v=>v.to);if(Lu(g==null?void 0:g.type))return g==null?void 0:g.type.to}return[]}).reduce((p,m)=>(p.findIndex(g=>g.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(te,{space:3,children:[l.jsx(J,{padding:1,radius:1,shadow:1,children:l.jsx(ez,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(ie,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(_mn,{onSelect:c,types:u,value:r})})}function Smn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ne,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",gap:3,children:l.jsxs(te,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(lr,{muted:!0,size:0,children:o})]})})})}function VE(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Pt(),s=En(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=uD(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(vo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>kmn(p))).filter(vo).reduce((f,p)=>{const m=f.findIndex(g=>g.value===(p==null?void 0:p.value));if(m>-1){const g=f[m];f[m]={...f[m],title:mo([...g.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(Jt,{button:l.jsx(ie,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Wl,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>l.jsx(Smn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function kmn(e){return GF(e)?e:{title:Fm("".concat(e)),value:e}}const QOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),JOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),ePe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),tPe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Qe(e){return JSON.stringify(e)}const Emn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ra,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Qe(n)):null},icon:JOe,initialValue:null,inputComponent:Ra,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Qe(n)):null},icon:QOe,initialValue:null,inputComponent:Ra,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Qe(n)):null},icon:tPe,initialValue:null,inputComponent:Ra,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Qe(n)):null},icon:ePe,initialValue:null,inputComponent:Ra,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:gg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ra,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:omn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Qe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Qe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:YOe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Qe(n)," in ").concat(t):null},initialValue:null,inputComponent:VE,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Qe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:VE,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Qe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:Hb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Qe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:Hb,label:"does not include",type:"arrayReferenceNotIncludes"}},nPe=h.createContext(null);function jmn(e){let{children:t,workspace:n}=e;return l.jsx(nPe.Provider,{value:n,children:t})}function Zl(){const e=h.useContext(nPe);if(!e)throw new Error("Workspace: missing context value");return e}const sk=h.createContext(null);function nz(e){let{children:t,...n}=e;const r=h.useContext(sk),{unstable_sources:o}=Zl();if("source"in n){const{source:i}=n;return l.jsx(sk.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(sk.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Fn(){const e=h.useContext(sk);if(!e)throw new Error("Could not find `source` context");return e}function Tmn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"caution",children:l.jsx(jr,{})}),l.jsxs(te,{space:4,children:[l.jsx(cr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(cr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(cr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function Amn(e){let{reference:t}=e;const n=Yi(),r=h.useCallback(o=>u3e(n,o),[n]);return l.jsx(w0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(Imn,{}),children:o=>l.jsx(Dmn,{asset:o})})}function Dmn(e){let{asset:t}=e;return l.jsx(J,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(J,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(D0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:iOe(t.size)})]})]})})}function Imn(){return l.jsx(J,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(J,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(D0,{})})}),l.jsxs(te,{flex:1,space:2,marginLeft:3,children:[l.jsx(i5,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(i5,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var _ue=Object.freeze,Omn=Object.defineProperty,rz=(e,t)=>_ue(Omn(e,"raw",{value:_ue(t||e.slice())})),Sue,kue,Eue;const Pmn=P(J)(Sue||(Sue=rz([`
  position: relative;
  padding-bottom: 100%;
`]))),Rmn=P.img(kue||(kue=rz([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),$mn=P(U)(Eue||(Eue=rz([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Mmn(e){let{reference:t}=e;const n=Yi(),r=h.useCallback(o=>c3e(n,o),[n]);return l.jsx(w0,{observeAsset:r,reference:t,children:o=>l.jsx(Fmn,{asset:o})})}function Fmn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(Pmn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx($mn,{align:"center",justify:"center",children:l.jsx(Qn,{})}),l.jsx(Rmn,{onLoad:i,src:o})]})}function Lmn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(Amn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(Mmn,{reference:t}):null:null}var jue=Object.freeze,Bmn=Object.defineProperty,Nmn=(e,t)=>jue(Bmn(e,"raw",{value:jue(t||e.slice())})),Tue;const zmn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Vmn=P(M)(Tue||(Tue=Nmn([`
  width: min(calc(100vw - 40px), 320px);
`])));function sv(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Pt(),{file:d,image:f}=Fn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(k=>k.name===HOe.name);case"image":return f.assetSources.filter(k=>k.name===UOe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),g=Jn(sn),v=h.useCallback(()=>{c(null),r(null)},[r]),b=h.useCallback(()=>{s(null)},[]),x=h.useCallback(k=>{const j=k[0];c(j),b()},[b]),y=h.useCallback(k=>s(k),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:zmn[e]})},[g,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Hn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(Vmn,{children:l.jsxs(te,{space:3,children:[i&&w&&l.jsx(Dm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(Lmn,{reference:o}),l.jsxs(U,{gap:2,children:[p.length===0&&l.jsx(Tmn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(Jt,{button:l.jsx(ie,{fontSize:C,icon:o?yk:ii,iconRight:nl,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Bt,{children:p.map(k=>l.jsx(Ne,{fontSize:C,icon:k.icon||Pl,onClick:()=>y(k),text:k.title},k.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(ie,{fontSize:C,icon:o?yk:ii,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(ie,{fontSize:u?2:1,mode:"ghost",onClick:v,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Hmn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:sv("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:sv("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:sv("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:sv("image"),label:"is not",type:"assetImageNotEqual"}};function Umn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(qf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const Wmn={booleanEqual:{buttonLabel:"is",buttonValueComponent:tmn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:!0,inputComponent:Umn,label:"is",type:"booleanEqual"}},Ymn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Aue=Object.freeze,qmn=Object.defineProperty,Gmn=(e,t)=>Aue(qmn(e,"raw",{value:Aue(t||e.slice())})),Due;const Iue="Include time",Kmn=P(L)(Due||(Due=Gmn([`
  cursor: default;
`])));function oz(e){let{onChange:t,value:n}=e;return l.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(te,{children:l.jsx(Kmn,{muted:!0,onClick:t,size:1,weight:"medium",children:Iue})}),l.jsx(RCe,{checked:n,label:Iue,onChange:t})]})}const rPe=h.createContext(void 0);function iz(){const e=h.useContext(rPe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Zmn=["January","February","March","April","May","June","July","August","September","October","November","December"],Xmn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Q7(0,24);const Qmn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Jmn=[1,2,3,4,5,6];function egn(e){const{focusedDate:t}=iz(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Gt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:Zmn[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(ie,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(ie,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:Ej}),l.jsx(ie,{"aria-label":"Go to next month",mode:"bleed",icon:Hc,onClick:s})]})]})}var Oue=Object.freeze,tgn=Object.defineProperty,oPe=(e,t)=>Oue(tgn(e,"raw",{value:Oue(t||e.slice())})),Pue,Rue;const ngn=P.svg(e=>{let{theme:t}=e;return fe(Pue||(Pue=oPe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),rgn=P(J)(Rue||(Rue=oPe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function ogn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=iz(),u=o&&Xd(t,o),d=c&&o&&Xd(t,o),f=c&&i&&Xd(t,i),p=O5e(t,s),m=s&&Xd(t,s),g=Xd(t,new Date),v=o&&i&&!d&&!f&&gM(t,o)&&E5e(t,i);return l.jsxs(rgn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":v?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:v?"primary":"default",children:[g&&l.jsx(ngn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:g?"medium":"regular",children:t.getDate()})]})}const ign=e=>{const t=_5e(e);return C5e({start:t,end:k5e(t)})},sgn=e=>e.map(t=>[t,...Jmn.map(n=>Ji(t,n))]),agn=e=>sgn(ign(e)).map(t=>({number:S5e(t[0]),days:t}));var $ue=Object.freeze,lgn=Object.defineProperty,cgn=(e,t)=>$ue(lgn(e,"raw",{value:$ue(t||e.slice())})),Mue;const ugn=P(on)(Mue||(Mue=cgn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function dgn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=iz();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(ugn,{children:[Xmn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),agn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(ogn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const fgn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function hgn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),g=h.useRef(n||null),v=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),b=h.useCallback(C=>{const _=_jt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&E5e(_,t),k=n&&gM(_,n);if(i){if(S||k){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),y=h.useCallback(C=>{var _;if(Qmn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){v();return}C.key==="ArrowUp"&&p(Ji(f,-7)),C.key==="ArrowDown"&&p(Ji(f,7)),C.key==="ArrowLeft"&&p(Ji(f,-1)),C.key==="ArrowRight"&&p(Ji(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,v,f,p]),w=h.useCallback(C=>p(D9(f,C)),[f,p]);return h.useEffect(()=>{v()},[v]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&v()},[v,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),k=(n==null?void 0:n.getTime())!==((_=g.current)==null?void 0:_.getTime()),j=S&&!k,E=!S&&k,T=t&&n&&gM(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),E&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&k&&(d(!0),t&&p(t)),m.current=t||null,g.current=n||null},[t,n,o]),l.jsx(rPe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(U,{children:l.jsx(M,{flex:1,children:l.jsx(egn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(dgn,{onSelect:b}),fgn]})]})})}function sz(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Pt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(hgn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var Fue=Object.freeze,pgn=Object.defineProperty,mgn=(e,t)=>Fue(pgn(e,"raw",{value:Fue(t||e.slice())})),Lue;const ggn=P(M)(e=>{let{background:t,smallClearButton:n}=e;return fe(Lue||(Lue=mgn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),az=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(ggn,{background:r,smallClearButton:o,children:l.jsx(Lr,{...i,ref:n})})});function Du(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=B5(t);break;case"start":o=Zf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Bue=Object.freeze,vgn=Object.defineProperty,iPe=(e,t)=>Bue(vgn(e,"raw",{value:Bue(t||e.slice())})),Nue,zue;const E_={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},ygn=P.span(e=>{let{theme:t}=e;return fe(Nue||(Nue=iPe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),bgn=P(L)(zue||(zue=iPe([`
  color: `,`;
`])),le.red[500].hex);function HE(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?E_.datetime.pattern:E_.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return oi(y,a)}),p=h.useMemo(()=>oi(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:C}=y;if(!w)return;const _=ojt(w,a,new Date),S=Qu(_);S&&(C&&n(Du({date:_,dateOnly:!t})),f(oi(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),g=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),v=h.useCallback(y=>{f(y.currentTarget.value)},[]),b=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:oi(y,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(at,{content:l.jsxs(U,{gap:2,children:[l.jsx(bgn,{size:1,children:l.jsx(ga,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(ygn,{children:o?E_.datetime.exampleDate:E_.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(az,{...s,clearButton:!!d,customValidity:c,onBlur:g,onChange:v,onClear:b,onKeyDown:x,placeholder:p,value:d})})})}function sPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=Du({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=Du({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(te,{space:3,children:[l.jsx(HE,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(sz,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(oz,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Vue(e){return l.jsx(sPe,{...e,isDateTime:!1})}function hD(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Pt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=Du({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=Du({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(te,{space:3,children:[l.jsx(HE,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(sz,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(oz,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function xgn(e){return l.jsx(hD,{...e,direction:"after",isDateTime:!1})}function wgn(e){return l.jsx(hD,{...e,direction:"before",isDateTime:!1})}function Hue(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Pt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Lr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(qf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const Cgn=-7;function aPe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useMemo(()=>Ji(new Date,Cgn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Uue({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Uue({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(te,{space:3,children:[l.jsxs(U,{direction:"column",gap:3,children:[l.jsx(HE,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(HE,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(sz,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(oz,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function Uue(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?Du({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?Du({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?Du({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?Du({date:t,dateOnly:!o,roundDay:"start"}):null}}function _gn(e){return l.jsx(aPe,{...e,isDateTime:!1})}function Wue(e){return l.jsx(sPe,{...e,isDateTime:!0})}function Sgn(e){return l.jsx(hD,{...e,direction:"after",isDateTime:!0})}function kgn(e){return l.jsx(hD,{...e,direction:"before",isDateTime:!0})}function Egn(e){return l.jsx(aPe,{...e,isDateTime:!0})}const Sa={dateAfter:{buttonLabel:"after",buttonValueComponent:pue,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:pue,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:hue,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:nmn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:hue,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},jgn={dateAfter:{...Sa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Qe(n==null?void 0:n.date)):null},inputComponent:xgn,type:"dateAfter"},dateBefore:{...Sa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Qe(n==null?void 0:n.date)):null},inputComponent:wgn,type:"dateBefore"},dateEqual:{...Sa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Qe(n.date)):null},inputComponent:Vue,type:"dateEqual"},dateLast:{...Sa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?qZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Qe(o)):null},inputComponent:Hue,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...Sa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Qe(n.date)):null},inputComponent:Vue,type:"dateNotEqual"},dateRange:{...Sa.dateRange,buttonValueComponent:mue,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Qe(n.dateMin)," && ").concat(t," <= ").concat(Qe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:YZ().toISOString(),dateMin:null},inputComponent:_gn,type:"dateRange"},dateTimeAfter:{...Sa.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Qe(n.date),")"):null},inputComponent:Sgn,type:"dateTimeAfter"},dateTimeBefore:{...Sa.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Qe(n.date),")"):null},inputComponent:kgn,type:"dateTimeBefore"},dateTimeEqual:{...Sa.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Qu(r)||!t)return null;const o=(n!=null&&n.includeTime?zZ(r):Zf(r)).toISOString(),i=(n!=null&&n.includeTime?VZ(r):B5(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Qe(o),") && dateTime(").concat(t,") < dateTime(").concat(Qe(i),")")},inputComponent:Wue,type:"dateTimeEqual"},dateTimeLast:{...Sa.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?qZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Qe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:Hue,type:"dateTimeLast"},dateTimeNotEqual:{...Sa.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Qu(r)||!t)return null;const o=(n!=null&&n.includeTime?zZ(r):Zf(r)).toISOString(),i=(n!=null&&n.includeTime?VZ(r):B5(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Qe(o),") || dateTime(").concat(t,") > dateTime(").concat(Qe(i),")")},inputComponent:Wue,type:"dateTimeNotEqual"},dateTimeRange:{...Sa.dateRange,buttonValueComponent:mue,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Qe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Qe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:YZ().toISOString(),dateMin:null},inputComponent:Egn,type:"dateTimeRange"}},Tgn={numberEqual:{buttonLabel:"is",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ra,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Qe(n)):null},icon:JOe,initialValue:null,inputComponent:Ra,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Qe(n)):null},icon:QOe,initialValue:null,inputComponent:Ra,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Qe(n)):null},icon:tPe,initialValue:null,inputComponent:Ra,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Qe(n)):null},icon:ePe,initialValue:null,inputComponent:Ra,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:mg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ra,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:rmn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Qe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Qe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:YOe,label:"is between",type:"numberRange"}};function Ba(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Lr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const Agn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ba,label:"does not contain",type:"portableTextNotMatches"}},Dgn={referenceEqual:{buttonLabel:"is",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:Hb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:xl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:Hb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:sv("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:sv("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:xl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:Hb,label:"document",type:"referencesDocument"}},Ign={slugEqual:{buttonLabel:"is",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ba,label:"does not contain",type:"slugNotMatches"}},Ogn={stringEqual:{buttonLabel:"is",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:VE,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:VE,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ba,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Oi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ba,label:"does not contain",type:"stringNotMatches"}},Pgn={...Emn,...Hmn,...Wmn,...jgn,...Ymn,...Tgn,...Agn,...Dgn,...Ign,...Ogn},Rgn=Object.values(Pgn);function Xl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const pD=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>pD(a,[...t,r.name])),o]},$gn=[],Mgn=[],Fgn=[],Lgn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Xl(o)))},Bgn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},Ngn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Xl(r)))},zgn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Xl(o)))},Vgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Xl(o)))},Hgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Xl(o)))},Ugn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Xl(o)));return o(e,n)},Wgn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Xl(i)))},Ygn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Xl(i)))},qgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Xl(o)))},Ggn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Xl(o)))},Kgn=e=>{const{config:t,context:n,initialValue:r}=e;return pD(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Xl(f)))},r)};class Yue extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=Ct(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function Ea(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=pD(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new Yue({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new Yue({propertyName:o,path:d,cause:f})}return c})()}class Na extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>Ct(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class lz extends Error{constructor(t){super("SchemaError"),this.schema=t}}var que=Object.freeze,Zgn=Object.defineProperty,Xgn=(e,t)=>que(Zgn(e,"raw",{value:que(t||e.slice())})),Gue;function Kue(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Qgn=P.text(Gue||(Gue=Xgn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Jgn(e,t){const n=Kue("".concat(e," ").concat(t)),r=t1e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Kue(n.toString()),a=i[Math.floor(s*i.length)],c=le[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=hAe(c,.4),f=FVt(c,.4),p=nee(c,"readable",d)?nee(c,"readable",f)?BVt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(Qgn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const evn=e=>e.severity==="error";function tvn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Sr.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Jgn(t,n)}const vP=new WeakMap;function nvn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Na({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=svn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{mvn({workspaces:r})}catch(i){throw new Na({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(vP.has(i))return vP.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:g}=p;let v;try{v=Ea({propertyName:"schema.types",config:p,context:{projectId:m,dataset:g},initialValue:[],reducer:Lgn})}catch(_){throw new Na({name:p.name,type:"source",causes:[_]})}const b=QKt({name:p.name,types:v}),x=b._validation,y=x==null?void 0:x.filter(_=>_.problems.some(evn));if(x&&(y!=null&&y.length))throw new lz(b);const w=rvn(p),C=w.state.pipe(ce(_=>{let{client:S,authenticated:k,currentUser:j}=_;return ivn({config:p,client:S,currentUser:j,schema:b,authenticated:k,auth:w})}),Do(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||un(p.name),auth:w,schema:b,source:C}}),d=a.title||un(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:avn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:tvn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Mo,title:d,subtitle:a.subtitle,__internal:{sources:u}};return vP.set(i,f),f})}}function rvn(e){if(UGt(e.auth))return e.auth;const t=e.unstable_clientFactory||ike,{projectId:n,dataset:r,apiHost:o}=e;return HGt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function ovn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return fyt(a,c)}function ivn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=ovn(n,s),g=[],v={},b=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return v[T.apiVersion]||(v[T.apiVersion]=n.withConfig(T)),v[T.apiVersion]},x={client:n,getClient:b,currentUser:r,dataset:f,projectId:p,schema:o},y=n;x.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=Ea({config:t,context:x,propertyName:"schema.templates",reducer:zgn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(vo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Na({name:t.name,type:"source",causes:[T]})}let C;try{C=Ea({config:t,context:x,initialValue:[],propertyName:"tools",reducer:Ngn})}catch(T){throw new Na({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),k=T=>{const{schemaType:A}=T,D=Ea({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:Ugn}),I=[];if(I.length)throw new Na({name:t.name,type:"source",causes:I});return D.map((O,$)=>{const R=S.get(O.templateId);if(!R)throw new Error("Could not find template with ID `".concat(O.templateId,"`"));const z=o.get(R.schemaType);if(!z)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const F=O.title||R.title,H=(z==null?void 0:z.title)===F||z==null?void 0:z.title;return{id:"".concat(O.templateId,"-").concat($),templateId:O.templateId,type:"initialValueTemplateItem",title:F,subtitle:O.subtitle||H,description:O.description||R.description,icon:O.icon||R.icon||(z==null?void 0:z.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:R.schemaType}}).filter(O=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(O.templateId))==null?void 0:$.schemaType)})};let j;try{j=k({type:"global"})}catch(T){g.push(T)}if(g.length)throw new Na({name:t.name,type:"source",causes:g});return{type:"source",name:t.name,title:t.title||un(t.name),schema:o,getClient:b,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>Ea({config:t,context:{...x,...T},initialValue:Mgn,propertyName:"document.actions",reducer:Hgn}),badges:T=>Ea({config:t,context:{...x,...T},initialValue:$gn,propertyName:"document.badges",reducer:Vgn}),unstable_fieldActions:T=>Ea({config:t,context:{...x,...T},initialValue:eKt,propertyName:"document.unstable_fieldActions",reducer:JGt}),inspectors:T=>Ea({config:t,context:{...x,...T},initialValue:Wn,propertyName:"document.inspectors",reducer:Ggn}),resolveProductionUrl:T=>Ea({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Bgn}),resolveNewDocumentOptions:k,unstable_languageFilter:T=>Ea({config:t,context:{...x,...T},initialValue:Fgn,propertyName:"document.unstable_languageFilter",reducer:qgn}),unstable_comments:{enabled:T=>Kgn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:Ea({config:t,context:x,initialValue:[HOe],propertyName:"formBuilder.file.assetSources",reducer:Wgn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:Ea({config:t,context:x,initialValue:[UOe],propertyName:"formBuilder.image.assetSources",reducer:Ygn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Jpn,operators:Rgn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function svn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Na({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function avn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function lvn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function cvn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function uvn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}const mD=h.createContext(null),gD=h.createContext(null);function lPe(){return aZe()?"dark":"light"}function cPe(e){let{children:t,scheme:n}=e;const r=lPe(),o=n==="system"?r:n;return l.jsx(r5,{scheme:o,theme:Mo,children:t})}const Zue="sanityStudio:ui:colorScheme";function dvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(hvn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(fvn,{onSchemeChange:n,children:t})}function fvn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=Xue(localStorage.getItem(Zue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Xue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Zue,o)},[n,o]),l.jsx(gD.Provider,{value:r.setSnapshot,children:l.jsx(mD.Provider,{value:o,children:l.jsx(cPe,{scheme:o,children:t})})})}function Xue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function hvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(gD.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(mD.Provider,{value:r,children:l.jsx(cPe,{scheme:r,children:t})})})}function cz(){const e=h.useContext(gD);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function uPe(){const e=h.useContext(mD);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function dPe(){const e=uPe(),t=lPe();return e==="system"?t:e}function tu(){const e=dPe(),t=cz();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function fPe(e){const t=uPe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:h1e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:m6},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:b6}],[t,e])}const hPe=h.createContext(null);function pvn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>nvn(t,{basePath:r}),[t,r]);return l.jsx(hPe.Provider,{value:o,children:n})}function eb(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:aF(r,t)}function aF(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function $C(){const e=h.useContext(hPe);if(!e)throw new Error("Could not find `workspaces` context");return e}class Tc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&eb(n.workspace,n.index)}}function mvn(e){let{workspaces:t}=e;if(t.length===0)throw new Tc("At least one workspace is required.");gvn(t),vvn(t)}function gvn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=aF(s,o);if(!i&&!t)throw new Tc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new Tc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=aF(d.workspace.title,d.index);throw new Tc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new Tc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function vvn(e){e.length>1&&e.every(yvn),e.every(bvn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new Tc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(eb(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(eb(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new Tc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(eb(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,eb(i,s))})}function yvn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Tc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new Tc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function bvn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Tc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function xvn(){return l.jsx(J,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(J,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function wvn(e){const{toolName:t}=e;return l.jsx(J,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(J,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsx(te,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function Ub(){return l.jsxs(U,{as:J,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(Qn,{muted:!0})]})}var Que=Object.freeze,Cvn=Object.defineProperty,pPe=(e,t)=>Que(Cvn(e,"raw",{value:Que(t||e.slice())})),Jue,ede;const _vn={error:"critical",warning:"caution"},tde=P.code(Jue||(Jue=pPe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Svn=P(L)(ede||(ede=pPe([`
  white-space: pre-line;
`])));function mPe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(te,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=kvn(i);return l.jsxs(J,{border:!0,padding:4,radius:2,tone:_vn[s.severity],children:[l.jsxs(U,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(ga,{}),c&&l.jsx(jr,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Fm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(J,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(u8,{separator:l.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Evn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(tde,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(tde,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(te,{space:3,children:[l.jsx(Svn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:r5e(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function kvn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Evn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function jvn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Tvn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=jvn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Avn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Tvn(t),[t]),l.jsx(J,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(Qr,{width:1,children:l.jsxs(te,{space:5,children:[l.jsx(Go,{as:"h1",children:"Schema errors"}),l.jsx(mPe,{problemGroups:r})]})})})}function Dvn(e){return l.jsx(J,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(te,{space:4,children:[l.jsx(Go,{as:"h1",children:"Workspace not found"}),l.jsx(Gt,{children:l.jsx(ie,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const gPe=h.createContext(null);function Ivn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Ovn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(mB(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Pvn(e){return h.useMemo(()=>Rvn(e),[e])}function Rvn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(mB(n),"(\\/|$)"),"i")}})}function $vn(e,t){const n=Pvn(t),r=h.useMemo(()=>Ovn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Ivn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return uB.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const vPe=h.createContext(null);function Mvn(e){let{children:t,history:n}=e;return l.jsx(vPe.Provider,{value:n,children:t})}function Fvn(){const e=h.useContext(vPe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Lvn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(gPe.Provider,{value:s,children:l.jsx(Mvn,{history:r,children:n})})}),Bvn=()=>typeof document>"u"?gHt():mHt();function Nvn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=$C(),s=h.useMemo(()=>o||Bvn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=$vn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(Lvn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function w1(){const e=h.useContext(gPe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var nde=Object.freeze,zvn=Object.defineProperty,Vvn=(e,t)=>nde(zvn(e,"raw",{value:nde(t||e.slice())})),rde;const ode={"logged-in":"","logged-out":"Signed out","no-access":""},Hvn=P(J)(rde||(rde=Vvn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),ide=e=>{if(Sr.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function lF(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>ide(i),[i]),c=h.useMemo(()=>ide(s),[s]);return l.jsxs(U,{align:"center",flex:"none",gap:3,children:[l.jsx(Hvn,{radius:2,tone:"transparent",children:a}),l.jsxs(te,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&ode[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:ode[t]})}),(r||c)&&l.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(Ya,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const yPe=yh(e=>Wo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),Uvn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var sde=Object.freeze,Wvn=Object.defineProperty,Yvn=(e,t)=>sde(Wvn(e,"raw",{value:sde(t||e.slice())})),ade;const lde=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],qvn=P(L)(ade||(ade=Yvn([`
  a {
    color: inherit;
  }
`])));function cde(e){const{children:t,footer:n,header:r}=e;return l.jsxs(te,{space:6,children:[l.jsx(J,{border:!0,radius:3,overflow:"auto",children:l.jsxs(te,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Go,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(J,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(CHt,{})}),l.jsx(U,{align:"center",gap:2,children:lde.map((o,i)=>l.jsxs(re.Fragment,{children:[l.jsx(qvn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<lde.length-1&&l.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function Gvn(){var e;const t=$C(),{activeWorkspace:n,setActiveWorkspace:r}=w1(),[o]=yPe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(te,{space:2,children:[t.length>1&&l.jsx(U,{children:l.jsx(ie,{fontSize:1,icon:Sw,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(cde,{header:l.jsx(M,{padding:3,children:l.jsx(lF,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(te,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Ni(a,["type","__internal"]),key:i})})})]}):l.jsx(cde,{header:"Choose your workspace",footer:l.jsx(te,{padding:1,children:l.jsx(ie,{as:"a",href:Uvn,icon:ia,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(te,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(J,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(lF,{icon:d==null?void 0:d.icon,iconRight:Hc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(Ub,{})}var ude=Object.freeze,Kvn=Object.defineProperty,Zvn=(e,t)=>ude(Kvn(e,"raw",{value:ude(t||e.slice())})),dde;const Xvn=P(Bt)(dde||(dde=Zvn([`
  max-width: 350px;
  min-width: 250px;
`]))),fde="Select workspace";function bPe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=tu(),i=$C(),{activeWorkspace:s,setActiveWorkspace:a}=w1(),[c]=yPe(i),{navigateUrl:u}=Gc(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,g=t?fde:void 0,v=t?void 0:fde;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(te,{children:l.jsx(Jt,{button:l.jsx(ie,{icon:Wl,mode:"bleed",text:v,disabled:!c,"aria-label":g,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Xvn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Vt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(b=>{const y=c[b.name].authenticated?"logged-in":b.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&b.name!==s.name&&a(b.name),y==="logged-out"&&u({path:b.basePath})};return l.jsx(Ne,{onClick:w,padding:2,pressed:b.name===s.name,children:l.jsx(lF,{icon:b==null?void 0:b.icon,selected:b.name===s.name,state:y,subtitle:b==null?void 0:b.subtitle,title:(b==null?void 0:b.title)||b.name})},b.name)})]}),onClose:f,onOpen:d,popover:p})})})}function xPe(){return l.jsx(J,{height:"fill",overflow:"auto",children:l.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(Qr,{width:0,children:l.jsx(Gvn,{})})})})}function Qvn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function wPe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=w1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=MDe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(J,{height:"fill",children:l.jsx(Vi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(te,{paddingX:3,paddingY:2,children:l.jsx(ie,{text:"Sign out",onClick:i})}),children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var hde=Object.freeze,Jvn=Object.defineProperty,e0n=(e,t)=>hde(Jvn(e,"raw",{value:hde(t||e.slice())})),pde;const t0n=P.label(pde||(pde=e0n([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function n0n(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(J,{height:"fill",children:l.jsx(Vi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(t0n,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Lr,{value:n,readOnly:!0}),l.jsx(ie,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(U,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(rh,{})})]})})]})})})}function CPe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=Ct(r)&&typeof r.message=="string"&&r.message,s=Ct(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return rHt(a),r instanceof qB?l.jsx(n0n,{projectId:r==null?void 0:r.projectId}):r instanceof lz?l.jsx(Avn,{schema:r.schema}):r?l.jsx(J,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(Qr,{width:3,children:l.jsxs(te,{space:4,children:[l.jsx(Go,{children:n}),l.jsx("div",{children:l.jsx(ie,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(J,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(te,{space:4,children:[i&&l.jsx(lr,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(lr,{size:1,children:s})]})})]})})}):l.jsx(B0,{onCatch:o,children:t})}var mde=Object.freeze,r0n=Object.defineProperty,o0n=(e,t)=>mde(r0n(e,"raw",{value:mde(t||e.slice())})),gde;const i0n=P(J)(gde||(gde=o0n([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),_Pe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function s0n(){const{name:e,title:t,tools:n}=Zl(),r=MT(h.useCallback(g=>typeof g.tool=="string"?g.tool:void 0,[])),o=h.useMemo(()=>n.find(g=>g.name===r),[r,n]),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useMemo(()=>{const g=t||un(e);return r?"".concat(un(r)," | ").concat(g):g},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(g=>{s(g)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=Zbn();return l.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(_Pe.Provider,{value:p,children:l.jsx(m,{})}),n.length===0&&l.jsx(xvn,{}),n.length>0&&!o&&r&&l.jsx(wvn,{toolName:r}),i&&l.jsx(i0n,{ref:c,overflow:"auto"}),l.jsx(CPe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:l.jsx(J,{flex:1,hidden:i,children:o&&r&&l.jsx(Hpt,{scope:r,children:l.jsx(h.Suspense,{fallback:l.jsx(a0n,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function a0n(){return l.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(Qn,{muted:!0})]})}var vde=Object.freeze,l0n=Object.defineProperty,c0n=(e,t)=>vde(l0n(e,"raw",{value:vde(t||e.slice())})),yde;const u0n=P.div(yde||(yde=c0n([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),d0n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),f0n=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),h0n=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),p0n=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(u0n,{"data-logo":r,children:[t==="google"&&d0n,t==="github"&&f0n,t==="sanity"&&l.jsx(SHt,{}),n&&h0n]})};var bde=Object.freeze,m0n=Object.defineProperty,SPe=(e,t)=>bde(m0n(e,"raw",{value:bde(t||e.slice())})),xde,wde;const UE=1,g0n=P(Bt)(xde||(xde=SPe([`
  min-width: 200px;
  max-width: 300px;
`]))),v0n=P(M)(wde||(wde=SPe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[UE].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[UE].size});function y0n(e){let{setScheme:t}=e;const n=fPe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Rr,{}),l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ne,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(Ya,{})},s)})]})}function b0n(){const{currentUser:e,projectId:t,auth:n}=Zl(),r=dPe(),o=cz(),i=!!(e&&yDe(e,"administrator")),s=MDe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(Jt,{button:l.jsx(ie,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Za,{user:"me",size:1}),l.jsx(L,{size:UE,muted:!0,children:l.jsx(nl,{})})]})}),id:"user-menu",menu:l.jsxs(g0n,{children:[l.jsx(J,{padding:2,children:l.jsxs(U,{align:"center",children:[l.jsx(at,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(v0n,{marginRight:3,children:[l.jsx(Za,{size:UE,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(p0n,{provider:e.provider})]})}),l.jsxs(te,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(y0n,{setScheme:o}),l.jsx(Rr,{}),l.jsx(Ne,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:jj}),i&&l.jsx(Ne,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:Ij}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Rr,{}),l.jsx(Ne,{iconRight:h6,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Cde=Object.freeze,x0n=Object.defineProperty,w0n=(e,t)=>Cde(x0n(e,"raw",{value:Cde(t||e.slice())})),_de;const C0n=P(M)(_de||(_de=w0n([`
  max-width: 300px;
`]))),kPe=33;function _0n(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Kw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(at,{disabled:t.hasPermission,portal:!0,content:l.jsx(C0n,{padding:2,children:l.jsx(zc,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(J,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Sde=Object.freeze,S0n=Object.defineProperty,EPe=(e,t)=>Sde(S0n(e,"raw",{value:Sde(t||e.slice())})),kde,Ede;const yP=P(U)(kde||(kde=EPe([`
  min-height: 100px;
`]))),k0n=P.strong(Ede||(Ede=EPe([`
  word-break: break-all;
`])));function jde(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(_0n,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(yP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Gt,{space:2,children:[l.jsx(Qn,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(yP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(k0n,{children:["“",s,"”"]})]})}):c?l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:um?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:kPe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(yP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function E0n(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function j0n(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function T0n(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>E0n(t,o)).sort((o,i)=>j0n(t,o,i))}var Tde=Object.freeze,A0n=Object.defineProperty,Gm=(e,t)=>Tde(A0n(e,"raw",{value:Tde(t||e.slice())})),Ade,Dde,Ide,Ode,Pde,Rde,$de;const D0n=P(an)(()=>fe(Ade||(Ade=Gm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),I0n=P(Vi)(()=>fe(Dde||(Dde=Gm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),O0n=P(M)(Ide||(Ide=Gm([`
  max-width: 300px;
`]))),Mde=P(U)(Ode||(Ode=Gm([""]))),P0n=P(J)(Pde||(Pde=Gm([`
  min-height: max-content;
`]))),R0n=P(J)(Rde||(Rde=Gm([`
  min-height: max-content;
`]))),$0n=P(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return fe($de||($de=Gm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),M0n=10;function F0n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,g]=h.useState(null),[v,b]=h.useState(null),{scheme:x}=tu(),y=Ko(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",k=h.useMemo(()=>T0n(o,a),[o,a]),j=h.useCallback(F=>{c(F.currentTarget.value)},[]),E=h.useCallback(()=>s(F=>!F),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(F=>{F.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(F=>{(F.key==="Escape"||F.key==="Tab")&&i&&T()},[T,i]);dr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:E,options:k,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:v}),[y,k,E,r,n,v,a]),O=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ii,onChange:j,placeholder:_,ref:b}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:Tp,mode:"bleed",onClick:E,ref:g,selected:i}),[C,E,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(zc,{currentUser:y,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,y,w]),z=h.useMemo(()=>({content:l.jsx(O0n,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(at,{...z,children:l.jsx("div",{children:l.jsx(ie,{...$})})}),i&&l.jsx(I0n,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(Mde,{direction:"column",flex:1,height:"fill",children:[l.jsx(R0n,{padding:2,borderBottom:!0,children:l.jsx(Lr,{...O})}),l.jsx(U,{direction:"column",overflow:"hidden",children:l.jsx(jde,{...I})})]})})]}):l.jsx(D0n,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(Mde,{direction:"column",flex:1,forwardedAs:vd,height:"fill",returnFocus:!0,children:[l.jsx(P0n,{sizing:"border",children:l.jsxs(te,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Vt,{size:1,muted:!0,children:S})})}),l.jsx(J,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Lr,{...O,fontSize:1,radius:1})})]})}),l.jsx($0n,{$itemHeight:kPe,$maxDisplayedItems:M0n,direction:"column",overflow:"hidden",children:l.jsx(jde,{...I})})]}),children:l.jsx("div",{children:l.jsx(at,{...z,children:l.jsx("div",{children:l.jsx(ie,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function L0n(){const{__internal:{staticInitialValueTemplateItems:e}}=Fn(),[t,n]=Sz({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var Fde=Object.freeze,B0n=Object.defineProperty,N0n=(e,t)=>Fde(B0n(e,"raw",{value:Fde(t||e.slice())})),Lde;const z0n=P(J)(Lde||(Lde=N0n([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),V0n=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=e1(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx($m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Ir(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ne,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(U,{align:"center",children:[l.jsx(z0n,{children:l.jsx(Za,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(te,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Bde=Object.freeze,H0n=Object.defineProperty,uz=(e,t)=>Bde(H0n(e,"raw",{value:Bde(t||e.slice())})),Nde,zde,Vde;const U0n=4,W0n=P(J)(Nde||(Nde=uz([`
  background: transparent;
`]))),Y0n=P(Bt)(zde||(zde=uz([`
  max-width: 350px;
  min-width: 250px;
`]))),q0n=P(te)(Vde||(Vde=uz([`
  position: sticky;
  bottom: 0;
`])));function G0n(e){const{collapse:t}=e,n=bCn(),{projectId:r}=Zl(),{scheme:o}=tu(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(xh,{icon:Ij,mode:"bleed",tone:i?"positive":void 0}):l.jsx(ie,{mode:"bleed",padding:1,children:l.jsx(W0n,{children:l.jsx(cT,{maxLength:U0n,"aria-label":"Who is here",children:n.map(p=>l.jsx(Za,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(Jt,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(Y0n,{padding:1,children:[i&&l.jsx(te,{children:n.map(p=>l.jsx(V0n,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(te,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(q0n,{space:1,children:[l.jsx(Rr,{}),l.jsx(Ne,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:jj,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var Hde=Object.freeze,K0n=Object.defineProperty,dz=(e,t)=>Hde(K0n(e,"raw",{value:Hde(t||e.slice())})),Ude,Wde,Yde;const qde={duration:.2},Z0n={open:{opacity:1},closed:{opacity:0}},X0n={open:{x:"0%"},closed:{x:"-100%"}},Q0n=P(us)(Ude||(Ude=dz([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),J0n=P(Yl(J))(Wde||(Wde=dz([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),e1n=P(Yl(J))(Yde||(Yde=dz([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function t1n(e){let{setScheme:t}=e;const n=fPe(t);return l.jsx(l.Fragment,{children:l.jsxs(J,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(te,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":i,icon:o,iconRight:c&&l.jsx(Ya,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const n1n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=cz(),{auth:a,currentUser:c,projectId:u}=Zl(),d=$C(),f=YPe(),p=!!(c&&yDe(c,"administrator")),m=h.useCallback(g=>{g.key==="Escape"&&o()},[o]);return l.jsx(sT,{children:r&&l.jsx(vd,{autoFocus:!0,returnFocus:!0,children:l.jsxs(Q0n,{onKeyDown:m,children:[l.jsx(J0n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:qde,variants:Z0n}),l.jsxs(e1n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:qde,variants:X0n,children:[l.jsx(J,{borderBottom:!0,children:l.jsxs(te,{space:3,padding:3,children:[l.jsxs(U,{align:"center",children:[l.jsx(U,{flex:1,align:"center",paddingRight:2,children:l.jsxs(U,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Za,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(ie,{icon:Mi,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(bPe,{})]})}),l.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(J,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(U,{direction:"column",children:[s&&l.jsx(t1n,{setScheme:s}),l.jsx(J,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(te,{as:"ul",space:1,children:[l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:jj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(te,{as:"li",children:l.jsx(ie,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:Ij,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(J,{flex:"none",padding:3,borderTop:!0,children:l.jsx(te,{children:l.jsx(ie,{iconRight:h6,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function r1n(){var e;const n=((e=En()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=tu(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(xh,{icon:jr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Vi,{header:l.jsxs(te,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(te,{space:4,padding:4,children:[l.jsxs(Go,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(mPe,{problemGroups:n})]})})]})}function Gde(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(ie,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const o1n=Ei("mod+".concat(KOe)),i1n=Ei("escape");function s1n(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=ol(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{o1n(a)&&(a.preventDefault(),t?i():r==null||r()),i1n(a)&&t&&o&&i()},[i,o,t,r]);cs(s)}function jPe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Pt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return s1n({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function a1n(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Qf(e,t){return t?e[t]:void 0}function l1n(e,t){var n;return(n=Qf(e,t))==null?void 0:n.initialValue}function cF(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Lh(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>MC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Qf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:c1n({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!eHt(i)).filter(vo).join(" && ")}function cd(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function ts(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Bh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=m5(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),m5(...a).sort()}function c1n(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=cd(n,t),i=_h(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function MC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=_h(n,t.filterName),s=Qf(o,t.operatorType),a=cd(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Kde=Object.freeze,u1n=Object.defineProperty,d1n=(e,t)=>Kde(u1n(e,"raw",{value:Kde(t||e.slice())})),Zde;const f1n=Ei("escape"),h1n=500,p1n=P.div(Zde||(Zde=d1n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function fz(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=ol(),i=h.useCallback(a=>{f1n(a)&&o&&r()},[o,r]);cs(i);const s=m1n(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(p1n,{onClick:r}),l.jsx(vd,{autoFocus:!1,returnFocus:!0,children:l.jsx(J,{display:"flex",overflow:"hidden",radius:x1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(RC,"px - ").concat(sw,"px), ").concat(h1n,"px"),zIndex:1},children:l.jsx(U,{children:n})})})]})}function bP(e){const t=e.getBoundingClientRect();return t.y+t.height+RC}function m1n(e){const[t,n]=h.useState(e&&bP(e)),r=h.useCallback(()=>{e&&n(bP(e))},[e]);return h.useEffect(()=>{e&&n(bP(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var Xde=Object.freeze,g1n=Object.defineProperty,TPe=(e,t)=>Xde(g1n(e,"raw",{value:Xde(t||e.slice())})),Qde,Jde;const v1n=P(M)(Qde||(Qde=TPe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),y1n=P(U)(Jde||(Jde=TPe([`
  box-sizing: border-box;
`]))),APe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Pt();return l.jsx(v1n,{children:l.jsx(y1n,{align:"center",flex:1,padding:1,children:l.jsx(az,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ii,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function b1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>_1n(u,i)).map(u=>{const d=_h(r,u.filterName);return d?cF(d,u.id):null}).filter(vo),c=w1n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...aw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...x1n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function aw(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:cd(t,u),filterDefinition:_h(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function x1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=cd(n,d);return E1n(t,f)}),c=t.length>1&&s.length>1?aw({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||un(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(g=>{const v=cd(n,g);return C1n([f],v)});return aw({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function w1n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(k1n).filter(s=>efe(s,r)).map(s=>cF(s)),i=Object.values(n).filter(S1n).filter(s=>efe(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(cF(a)),s),{});return[...aw({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return aw({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function C1n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function _1n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function efe(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function S1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function k1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function E1n(e,t){return Ex(e,(t==null?void 0:t.documentTypes)||[]).length===0}function DPe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Pt(),o=h.useMemo(()=>{const i=_h(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=cd(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function j1n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Pt(),o=(n=_h(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(jl,{})}function IPe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Pt(),i=cd(o.fields,t);return l.jsxs(te,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(re.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Hc,{})})]},a))})}),l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(j1n,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(DPe,{filter:t})})]})]})}function OPe(e){return h.isValidElement(e)?T1n(PWt(e)):typeof e=="string"?e:""}function T1n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const xP=10;function A1n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Pt(),s=En(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||un(d==null?void 0:d.name)}).filter(vo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=uD(p,n.fieldPath);return(m==null?void 0:m.type.description)&&OPe(m==null?void 0:m.type.description)}return null}).filter(vo).sort(),d=mo(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(at,{content:l.jsx(J,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(te,{padding:3,space:4,children:[n&&l.jsxs(te,{space:2,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field name"}),l.jsx(Gt,{children:l.jsx(J,{tone:"caution",padding:1,radius:2,children:l.jsx(lr,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(te,{space:3,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:tfe(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:tfe(r.description)}),!i.length&&a.length>0&&l.jsxs(te,{space:2,children:[l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Vt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(J,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,xP).join(", "),(a==null?void 0:a.length)>xP?" +".concat(a.length-xP," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function tfe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const D1n=re.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Pt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(v=>ts(v)===ts(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const g=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(ie,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(A1n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:g&&i,children:l.jsx(M,{padding:3,children:l.jsx(IPe,{filter:n.filter})})})})})}),I1n=re.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(J,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Vt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function O1n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=En(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Pt(),m=h.useMemo(()=>b1n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),g=h.useCallback(x=>x.type==="filter"?l.jsx(D1n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(I1n,{item:x}):null,[t]),v=h.useCallback(x=>{const y=m[x];return y.type!=="filter"||!!f.find(w=>ts(w)===ts(y.filter))},[m,f]),b=h.useCallback(x=>{const y=m[x];switch(y.type){case"filter":return[...y.group?[y.group]:[],ts(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return x}},[m]);return l.jsxs(U,{direction:"column",style:{width:"300px"},children:[l.jsx(APe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(U,{children:[m.length>0&&l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:v,getItemKey:b,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:g}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function nfe(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Pt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(an,{__unstable_margins:[RC,0,0,0],content:l.jsx(fz,{anchorElement:n,onClose:i,children:l.jsx(O1n,{onClose:i})}),open:e,placement:"bottom-start",radius:x1,portal:!0,children:l.jsx(ie,{fontSize:1,icon:ia,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const P1n=re.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Pt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(ie,{fontSize:1,iconRight:n&&Ya,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var rfe=Object.freeze,R1n=Object.defineProperty,$1n=(e,t)=>rfe(R1n(e,"raw",{value:rfe(t||e.slice())})),ofe;const M1n=P(M)(ofe||(ofe=$1n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function F1n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=En(),{dispatch:s,state:{terms:{types:a}}}=Pt(),[c,u]=h.useState(a),d=B1n(i,a,c,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),g=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),v=h.useCallback(y=>y.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(Rr,{})}):y.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Vt,{muted:!0,size:0,children:y.title})}):y.type==="item"?l.jsx(P1n,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),b=h.useCallback(y=>d[y].type!=="item",[d]),x=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return l.jsxs(U,{direction:"column",style:{width:"250px"},children:[l.jsx(APe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(U,{children:[d.length>0&&l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:g,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:v}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(L1n,{onClick:m,selectedTypes:a})]})}function L1n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(M1n,{padding:1,children:l.jsx(te,{children:l.jsx(ie,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function B1n(e,t,n,r){return h.useMemo(()=>{const[o,i]=k9(hmn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var ife=Object.freeze,N1n=Object.defineProperty,z1n=(e,t)=>ife(N1n(e,"raw",{value:ife(t||e.slice())})),sfe;const V1n=P(ie)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return fe(sfe||(sfe=z1n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),H1n=["top-start","bottom-start"];function U1n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Pt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);dr(c,[n,o]);const d=h.useMemo(()=>tz({types:a}),[a]);return l.jsx(an,{__unstable_margins:[RC,0,0,0],content:l.jsx(fz,{anchorElement:n,onClose:c,children:l.jsx(F1n,{})}),open:e,placement:"bottom-start",fallbackPlacements:H1n,portal:!0,radius:x1,ref:i,children:l.jsx(V1n,{fontSize:1,iconRight:Wl,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var afe=Object.freeze,W1n=Object.defineProperty,Y1n=(e,t)=>afe(W1n(e,"raw",{value:afe(t||e.slice())})),lfe;const wP=P(M)(lfe||(lfe=Y1n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function PPe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Pt(),s=Qf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(U,{align:"center",gap:1,children:[l.jsx(wP,{$flexShrink:i?1:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(DPe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(wP,{$flexShrink:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(wP,{$flexShrink:1,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function q1n(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"critical",children:l.jsx(ga,{})}),l.jsxs(te,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(cr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function G1n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ne,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function K1n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Pt(),a=(r=_h(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:ts(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Gt,{children:l.jsx(Jt,{button:l.jsx(ie,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Wl,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>{if(u.type==="item"){const f=Qf(s.definitions.operators,u.name);return f?l.jsx(G1n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Rr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function Z1n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Pt(),a=_h(i.filters,t.filterName),c=Qf(i.operators,t.operatorType),u=cd(i.fields,t),d=ts(t),f=h.useCallback(()=>{o({filterKey:ts(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(v=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:v})},[o,d]),m=h.useCallback(v=>{r(v)},[]),g=c==null?void 0:c.inputComponent;return n?l.jsx(q1n,{padding:4}):l.jsx(B0,{onCatch:m,children:l.jsx(vd,{autoFocus:!um,returnFocus:!0,children:l.jsxs(U,{direction:"column-reverse",children:[g&&l.jsx(J,{borderTop:!0,padding:3,children:l.jsx(g,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(J,{padding:3,children:l.jsxs(te,{space:3,children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(IPe,{filter:t,small:!s})}),s&&l.jsx(ie,{fontSize:2,icon:go,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(J,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(K1n,{filter:t,operator:c})]})})]})})})}var cfe=Object.freeze,X1n=Object.defineProperty,Q1n=(e,t)=>cfe(X1n(e,"raw",{value:cfe(t||e.slice())})),ufe;const J1n=P(U)(ufe||(ufe=Q1n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function eyn(e){let{filter:t}=e;return l.jsxs(J1n,{direction:"column",children:[l.jsx(Z1n,{filter:t}),GOe]})}var dfe=Object.freeze,tyn=Object.defineProperty,vD=(e,t)=>dfe(tyn(e,"raw",{value:dfe(t||e.slice())})),ffe,hfe,pfe,mfe;const nyn=P(ie)(ffe||(ffe=vD([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(pe(t.sanity.radius[2])," ").concat(pe(t.sanity.radius[2])," 0")}),ryn=P(J)(hfe||(hfe=vD([`
  position: absolute;
  right: 0;
`]))),oyn=P.div(pfe||(pfe=vD([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),iyn=P(ie)(mfe||(mfe=vD([`
  border: none;
  width: 100%;
`])));function syn(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Pt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:ts(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=MC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(an,{__unstable_margins:[RC,0,0,0],content:l.jsx(fz,{onClose:c,children:l.jsx(eyn,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:x1,children:l.jsxs(oyn,{children:[l.jsx(J,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(iyn,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(PPe,{filter:t,showContent:p})})}),!a&&l.jsx(ryn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(nyn,{"aria-label":"Delete filter",fontSize:1,icon:Mi,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function RPe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Pt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&ts(r),u=()=>l.jsx(ie,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(U1n,{}),t==null?void 0:t.map(d=>{const f=ts(d);return l.jsx(syn,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(nfe,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(nfe,{}),a&&l.jsx(u,{})]}),GOe]})}function ayn(){return l.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Gt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(Tj,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function lyn(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>tz({availableCharacters:t,types:n}),[t,n]);return l.jsx(J,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var gfe=Object.freeze,cyn=Object.defineProperty,uyn=(e,t)=>gfe(cyn(e,"raw",{value:gfe(t||e.slice())})),vfe;const dyn=P(J)(vfe||(vfe=uyn([`
  cursor: default;
`])));function fyn(e){let{filter:t}=e;return l.jsx(dyn,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(PPe,{filter:t})})}var yfe=Object.freeze,hyn=Object.defineProperty,yD=(e,t)=>yfe(hyn(e,"raw",{value:yfe(t||e.slice())})),bfe,xfe,wfe,Cfe;const pyn=40,$Pe=P(ie)(bfe||(bfe=yD([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return pe(t.sanity.radius[2])}),myn=P(M)(xfe||(xfe=yD([`
  flex-shrink: 3;
`]))),gyn=P(M)(wfe||(wfe=yD([`
  flex-shrink: 2;
`]))),vyn=P.div(Cfe||(Cfe=yD([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),$Pe);function yyn(e){let{index:t,maxVisibleTypePillChars:n=pyn,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Pt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx($Pe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(U,{align:"stretch",children:[l.jsxs(Gt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(l1e,{})}),l.jsx(L,{children:"​"})]}),l.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(gyn,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(myn,{children:l.jsx(lyn,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(fyn,{filter:f},p))]}),l.jsx(U,{align:"center",children:l.jsx(vyn,{onClick:d,children:l.jsx(U,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Mi,{})})})})})]})})})}var _fe=Object.freeze,byn=Object.defineProperty,xyn=(e,t)=>_fe(byn(e,"raw",{value:_fe(t||e.slice())})),Sfe;const wyn=36,Cyn=20,_yn=40,Syn=P(J)(Sfe||(Sfe=xyn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function MPe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Pt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const g=r.removeSearch();n({recentSearches:g,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=Tm(),d=h.useMemo(()=>u<2?Cyn:_yn,[u]),f=h.useCallback((m,g)=>{let{virtualIndex:v}=g;return l.jsx(yyn,{index:v,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(Syn,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Vt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:wyn,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(ie,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(ayn,{})})}var kfe=Object.freeze,kyn=Object.defineProperty,bD=(e,t)=>kfe(kyn(e,"raw",{value:kfe(t||e.slice())})),Efe,jfe,Tfe,Afe;const Eyn=wm(Efe||(Efe=bD([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),jyn=P(Ew)(jfe||(jfe=bD([`
  animation: `,` 500ms linear infinite;
`])),Eyn),Tyn=P(M)(Tfe||(Tfe=bD([`
  position: relative;
`]))),Ayn=P.div(Afe||(Afe=bD([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),FPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Pt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),g=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),v=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const b=a.length>0||f.length>0;return l.jsx(J,{flex:"none",children:l.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(J,{children:l.jsx(ie,{"aria-label":"Close search",icon:Sw,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(az,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?jyn:ii,onChange:g,onClear:v,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(Tyn,{children:[l.jsx(ie,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:Tj,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),b&&l.jsx(Ayn,{})]})]})})});function Dyn(){return l.jsx(Qr,{width:0,children:l.jsxs(te,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function Iyn(){return l.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(cr,{tone:"critical",children:l.jsx(jr,{})})}),l.jsx(cr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(cr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const cp={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Dfe=Object.freeze,Oyn=Object.defineProperty,Pyn=(e,t)=>Dfe(Oyn(e,"raw",{value:Dfe(t||e.slice())})),Ife;const Ofe=[cp.relevance,{type:"divider"},cp.createdAsc,cp.createdDesc,{type:"divider"},cp.updatedAsc,cp.updatedDesc],Ryn=P(U)(Ife||(Ife=Pyn([`
  box-sizing: border-box;
`])));function Pfe(e){return e.type==="divider"}function $yn(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Pt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ht(r,t),[r,t]);return l.jsx(Ne,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function Myn(){const{state:{ordering:e}}=Pt(),t=h.useId(),n=Ofe.find(r=>Ht(e,r)&&!Pfe(r));return n?l.jsx(J,{borderBottom:!0,children:l.jsx(Ryn,{align:"center",flex:1,padding:2,children:l.jsx(Jt,{button:l.jsx(ie,{mode:"bleed",padding:2,children:l.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(y6,{})})}),l.jsx(Gt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Bt,{children:Ofe.map((r,o)=>Pfe(r)?l.jsx(Rr,{},o):l.jsx($yn,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Rfe=Object.freeze,Fyn=Object.defineProperty,Lyn=(e,t)=>Rfe(Fyn(e,"raw",{value:Rfe(t||e.slice())})),$fe;const Byn=P(J)($fe||($fe=Lyn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function Nyn(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(te,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Gt,{space:3,children:[l.jsx(lr,{size:0,weight:"semibold",children:i.path}),l.jsx(lr,{size:0,children:i.why})]},i.path))}):l.jsx(lr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(Byn,{padding:1,shadow:1,tone:r,children:l.jsxs(lr,{size:0,children:["score: ",n]})})})})}var Mfe=Object.freeze,zyn=Object.defineProperty,Vyn=(e,t)=>Mfe(zyn(e,"raw",{value:Mfe(t||e.slice())})),Ffe;const Hyn=59,Uyn=4,Wyn=P(U)(Ffe||(Ffe=Vyn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function LPe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Pt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,g=d.error,v=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),b=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(ez,{documentId:Rn(x.hit._id)||"",documentType:x.hit._type,onClick:v,paddingBottom:2}),s&&l.jsx(Nyn,{data:x})]}),[s,v]);return l.jsx(U,{children:l.jsx(J,{borderTop:c||!!(g||p||m),flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[p&&l.jsx(Myn,{}),l.jsx(Wyn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:g?l.jsx(Iyn,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Hyn,items:d.hits,overscan:Uyn,padding:2,paddingBottom:0,ref:i,renderItem:b}),m&&l.jsx(Dyn,{})]})})]})})})}var Lfe=Object.freeze,Yyn=Object.defineProperty,BPe=(e,t)=>Lfe(Yyn(e,"raw",{value:Lfe(t||e.slice())})),Bfe,Nfe;const qyn=P(J)(Bfe||(Bfe=BPe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),Gyn=P(M)(Nfe||(Nfe=BPe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function Kyn(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=tu(),{state:{filtersVisible:a,terms:c}}=Pt(),u=dD({terms:c});return l.jsx(jPe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(Dm,{children:l.jsx(vd,{autoFocus:!um,returnFocus:!0,children:l.jsx(Gyn,{children:l.jsxs(qyn,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(FPe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(J,{borderTop:!0,flex:"none",children:l.jsx(RPe,{})}),u?l.jsx(LPe,{inputElement:o}):l.jsx(MPe,{inputElement:o})]})})})})})}var zfe=Object.freeze,Zyn=Object.defineProperty,hz=(e,t)=>zfe(Zyn(e,"raw",{value:zfe(t||e.slice())})),Vfe,Hfe,Ufe;const Xyn=P(U)(Vfe||(Vfe=hz([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),Qyn=P(U)(Hfe||(Hfe=hz([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),Jyn=P(Lr)(Ufe||(Ufe=hz([`
  padding-right: 60px;
`]))),ebn=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Pt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(Qyn,{align:"center",children:[l.jsx(Jyn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ii,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(Xyn,{align:"center",height:"fill",marginRight:2,children:[l.jsx(j$,{children:dmn}),l.jsx(j$,{children:KOe.toUpperCase()})]})]})});var Wfe=Object.freeze,tbn=Object.defineProperty,ak=(e,t)=>Wfe(tbn(e,"raw",{value:Wfe(t||e.slice())})),Yfe,qfe,Gfe,Kfe;const nbn=P.div(Yfe||(Yfe=ak([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),rbn=P(J)(Kfe||(Kfe=ak([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?fe(qfe||(qfe=ak([`
          left: `,`px;
        `])),t.x):fe(Gfe||(Gfe=ak([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(sw,"px), ").concat(fmn,"px)")},e=>{let{$position:t}=e;return t.y},sw*2,ZOe);function obn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=ol(),{scheme:p}=tu(),{onClose:m,state:{filtersVisible:g,terms:v}}=Pt(),b=dD({terms:v}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return dr(x,[s]),l.jsx(jPe,{hasValidTerms:b,onClose:n,onOpen:r,open:o,children:l.jsx(Dm,{children:l.jsxs(vd,{autoFocus:!um,disabled:t,returnFocus:!0,children:[l.jsx(nbn,{style:{zIndex:f}}),l.jsxs(rbn,{$position:i,overflow:"hidden",radius:x1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(FPe,{ariaInputLabel:b?"Search results":"Recent searches",onClose:n,ref:u}),g&&l.jsx(J,{borderTop:!0,flex:"none",children:l.jsx(RPe,{})}),b?l.jsx(LPe,{inputElement:c}):l.jsx(MPe,{inputElement:c})]})]})})})}function ibn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=sbn(e);return l.jsxs(l.Fragment,{children:[l.jsx(ebn,{onOpen:i,ref:t}),s&&l.jsx(obn,{onClose:o,onOpen:i,open:n,position:s})]})}function Zfe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>ZOe?t.x-sw:null,y:t.y-sw}}function sbn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(Zfe(e))},[e]);return h.useEffect(()=>{e&&n(Zfe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const abn="search::recent",lbn=5,lw=2;function cbn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=lw}=e;if(!t||!i||!NPe||!a)return;const u="".concat(abn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>MC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),g={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},v=JSON.stringify(Ni(g,"created")),b={version:c,recentSearches:[g,...Wb(u,c).recentSearches.filter(x=>JSON.stringify(Ni(x,"created"))!==v)].slice(0,lbn)};return window.localStorage.setItem(u,JSON.stringify(b)),xy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>xy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...Wb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),xy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=Wb(u,c);if(d<0||d>f.recentSearches.length)return xy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),xy({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function Wb(e,t){const n=NPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function xy(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=ubn({lsKey:t,storedSearch:Wb(t,s)});return dbn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function ubn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==lw){const r={version:lw,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function dbn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=fD(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>MC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:lw,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Wb(r,a)}const NPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),fbn=3;function hbn(e,t){var n;const r=fD(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>Xfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(Xfe(c)&&(a.documentTypes[c.name]=c),VPe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Qpn(t);return gbn(s,o,i)}function pbn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function mbn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function gbn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=fbn,g=a.name.startsWith("_"),v=a!=null&&a.title?OPe(a.title):un(a.name),b=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,v]:[v];if(!m)return;const y=n[a.type],w=t[a.type],C=VPe(a)?a:null,_=w||y||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!g?[u]:[],fieldPath:b,filterName:wbn(a),id:"",name:a.name,titlePath:x,title:v,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(vbn).sort(Cbn)}function vbn(e){return{...e,id:mbn(e)}}function ybn(e){var t;return zPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function zPe(e){return e.type==="array"}function Xfe(e){return e.type==="document"}function VPe(e){return e.type==="object"}function bbn(e){return e.type==="string"}function xbn(e){var t;return bbn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function wbn(e){if(xbn(e))return"stringList";if(zPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(ybn(e))return"arrayList"}return e.type}function Cbn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function HPe(e){return typeof e.__recent<"u"}const uF="core:studio:navbar:search:";nf(uF);function _bn(e){const t="".concat(uF).concat(e);return nf&&nf.enabled(t)?nf(t):nf(uF)}function Sbn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(umn)}function kbn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:Sbn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:cp.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const Ebn=_bn("reducer");function jbn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),Ebn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:cp.relevance,terms:Nh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Nh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Nh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:l1n(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>ts(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>ts(u)===t.filterKey),o=Qf(e.definitions.operators,r==null?void 0:r.operatorType),i=Qf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>ts(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>ts(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Nh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(sF);return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(sF),o=Bh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=cd(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Nh({...e.terms,filter:Lh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Nh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Bh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Nh({...e.terms,types:[]})}}default:return e}}function Nh(e){if(HPe(e)){const{__recent:t,...n}=e;return n}return e}function Tbn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=Jn(sn),a=En(),c=Ko(),{search:{operators:u,filters:d}}=Fn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:g,operatorDefinitions:v}=h.useMemo(()=>({fieldDefinitions:pbn(hbn(a,d)),filterDefinitions:Xpn(d),operatorDefinitions:a1n(u)}),[d,u,a]),b=h.useMemo(()=>cbn({dataset:f,fieldDefinitions:m,filterDefinitions:g,operatorDefinitions:v,projectId:p,schema:a,user:c,version:lw}),[c,f,m,g,v,p,a]),x=h.useMemo(()=>b==null?void 0:b.getRecentSearches(),[b]),y=h.useMemo(()=>kbn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:v,filters:g}}),[c,m,g,n,v,x]),[w,C]=h.useReducer(jbn,y),{documentTypesNarrowed:_,filters:S,ordering:k,pageIndex:j,result:E,terms:T}=w,A=h.useRef(!1),D=h.useRef(y.ordering),I=h.useRef(y.pageIndex),O=h.useRef(y.terms),{handleSearch:$,searchState:R}=XOe({initialState:{...E,terms:T},onComplete:V=>C({hits:V,type:"SEARCH_REQUEST_COMPLETE"}),onError:V=>C({error:V,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),z=dD({terms:T}),F=_.map(V=>a.get(V)),H=S.filter(V=>MC({fieldDefinitions:m,filter:V,filterDefinitions:g,operatorDefinitions:v})),W=h.useCallback(V=>{r.current=V},[]);return h.useEffect(()=>{const V=!Ht(k,D.current),q=j!==I.current,oe=!Ht(T,O.current);if(V||q||oe){const N=(k==null?void 0:k.customMeasurementLabel)||"".concat(k.sort.field," ").concat(k.sort.direction);$({options:{comments:[...HPe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:bue,offset:j*bue,skipSortByScore:k.ignoreScore,sort:[k.sort]},terms:{...T,...F?{types:F}:{}}}),I.current=j}D.current=k,O.current=T},[H.length,S,F,$,z,k,j,R.terms,T]),h.useEffect(()=>{!z&&(A!=null&&A.current)&&E.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,z,E.hits,T.query,T.types]),l.jsx(WOe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:b,searchCommandList:o,setSearchCommandList:i,setOnClose:W,state:{...w,fullscreen:n}},children:t})}const UPe="3.19.2";function Abn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(UPe)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function Dbn(){const e=Jn({apiVersion:"1"}),t=h.useMemo(()=>Abn(e),[e]);return vDe(t)}function Ibn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(U,{align:"center",justify:"center",padding:3,children:l.jsx(Qn,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:Obn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(Pbn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",UPe]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Obn=l.jsxs(l.Fragment,{children:[l.jsx(Ne,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Rr,{})]});function Pbn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(J,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Vt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ne,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ne,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Rr,{})]})}var Qfe=Object.freeze,Rbn=Object.defineProperty,$bn=(e,t)=>Qfe(Rbn(e,"raw",{value:Qfe(t||e.slice())})),Jfe;const Mbn=P(Bt)(Jfe||(Jfe=$bn([`
  max-width: 300px;
  min-width: 200px;
`])));function Fbn(){const{scheme:e}=tu(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=Dbn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(U,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(Jt,{button:l.jsx(ie,{"aria-label":"Help and resources",icon:qv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(Mbn,{children:l.jsx(Ibn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var ehe=Object.freeze,Lbn=Object.defineProperty,pz=(e,t)=>ehe(Lbn(e,"raw",{value:ehe(t||e.slice())})),the,nhe,rhe;const Bbn=P(us)(the||(the=pz([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),Nbn=P(J)(nhe||(nhe=pz([`
  line-height: 0;
`]))),zbn=P(U)(rhe||(rhe=pz([`
  width: max-content;
`])));function Vbn(){const{name:e,tools:t,...n}=Zl(),r=L0().theme,o=$C(),i=MT(),{scheme:s}=tu(),{href:a,onClick:c}=$_e({state:{}}),u=Tm(),d=typeof i.tool=="string"?i.tool:void 0,f=L0n(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:g}=h.useContext(_Pe),v=Xbn(),b=YPe(),[x,y]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&y(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[k,j]=h.useState(null),E=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&eu,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?un(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!E.searchFullscreen&&p(!1)},[p,E.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),k==null||k.focus()},[p,k]),O=h.useCallback(()=>{y(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{y(!0)},[]);return l.jsxs(Bbn,{zOffset:100,"data-search-open":m,children:[l.jsx(Nbn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(U,{align:"center",justify:"space-between",children:[l.jsxs(zbn,{align:"center",flex:E.brandingCenter?void 0:1,children:[!E.tools&&l.jsx(M,{marginRight:1,children:l.jsx(ie,{mode:"bleed",icon:p6,onClick:$,ref:S})}),!E.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(Gde,{href:a,onClick:c,title:A,children:l.jsx(v,{title:A})})}),E.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(bPe,{collapsed:!0})}),l.jsx(M,{marginRight:E.brandingCenter?void 0:2,children:l.jsx(F0n,{...f,modal:E.brandingCenter?"dialog":"popover"})}),l.jsx(Ku,{children:l.jsx(Tbn,{fullscreen:E.searchFullscreen,children:l.jsxs(Gu,{element:document.body,children:[l.jsx(md,{element:g,children:E.searchFullscreen&&l.jsx(Kyn,{onClose:I,onOpen:D,open:m})}),!E.searchFullscreen&&l.jsx(ibn,{})]})})}),E.tools&&l.jsx(J,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(b,{activeToolName:d,closeSidebar:O,context:"topbar",isSidebarOpen:!1,tools:t})})]}),E.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(Gde,{href:a,onClick:c,title:A,children:l.jsx(v,{title:A})})}),l.jsxs(U,{gap:2,children:[(E.configIssues||E.resources)&&l.jsx(J,{borderRight:!0,children:l.jsxs(U,{gap:1,paddingX:2,children:[E.configIssues&&l.jsx(r1n,{}),E.resources&&l.jsx(Fbn,{})]})}),l.jsxs(U,{align:"center",gap:1,children:[l.jsx(G0n,{collapse:E.collapsedPresenceMenu}),E.tools&&l.jsx(b0n,{}),E.searchFullscreen&&l.jsx(ie,{"aria-label":"Open search",icon:ii,mode:"bleed",onClick:D,ref:j})]})]})]})}),!E.tools&&l.jsx(n1n,{activeToolName:d,isOpen:x,onClose:O,tools:t})]})}const WPe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=MT(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return l.jsx($T,{state:i,...o,ref:n})});function Hbn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=tu(),[o,i]=h.useState(null);TDe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||un(c.name)||void 0,f=h.forwardRef(function(m,g){return l.jsx(WPe,{...m,ref:g,name:c.name})});return l.jsx(XN,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||jl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(ZN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Ubn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(te,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||un(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(WPe,{...c,ref:u,name:o.name})});return l.jsx(te,{as:"li",children:l.jsx(ie,{as:s,icon:o.icon||T1e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function Wbn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(Ubn,{isVisible:n,...r}):l.jsx(Hbn,{...r})}function Ybn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function qbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Gbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Kbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function YPe(){return Kl({defaultComponent:Wbn,pick:Ybn})}function Zbn(){return Kl({defaultComponent:Vbn,pick:qbn})}function Xbn(){return Kl({defaultComponent:uvn,pick:Kbn})}function Qbn(){return Kl({defaultComponent:s0n,pick:Gbn})}const ohe=JWt.__sanityErrorChannel;function Jbn(){const{push:e}=Io();return h.useEffect(()=>{if(ohe)return ohe.subscribe(t=>{t.error&&(exn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function exn(e){return e instanceof lz||e instanceof qB||e instanceof Na}function txn(e){let{children:t,AuthenticateComponent:n=xPe,LoadingComponent:r=Ub,NotAuthenticatedComponent:o=wPe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=w1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var g;if(((g=m==null?void 0:m.roles)==null?void 0:g.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function nxn(e){let{children:t}=e;const n=w1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(gD.Provider,{value:!1,children:l.jsx(mD.Provider,{value:r,children:l.jsx(r5,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Ku,{children:t})})})})}return l.jsx(r5,{theme:n,tone:"transparent",children:l.jsx(Ku,{children:t})})}const rxn={toast:[100,11e3]};var ihe=Object.freeze,oxn=Object.defineProperty,qPe=(e,t)=>ihe(oxn(e,"raw",{value:ihe(t||e.slice())})),she,ahe;P(U)(she||(she=qPe([""])));P(M).attrs({padding:4})(ahe||(ahe=qPe([""])));function ixn(e){const{basePath:t="/",tools:n}=e,r=Ti.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?Ti.scope(i.name,"/",i.router):Ti.create("/")});return Ti.create(t,[Ti.intents("/intent"),r])}function mz(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function sxn(e,t){const r=mz(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function axn(e,t){return t&&(mz(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function lxn(e,t){return sxn(e,axn(e,t))}function cxn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!Ct(o))throw new Error("intent params must be a string");const s=mz(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,c=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(c!=null&&c.getIntentState){const u=c.getIntentState(r,o,t&&t[c.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:c.name,[c.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function uxn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function dxn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=Fvn(),a=h.useMemo(()=>ixn({basePath:o,tools:i}),[o,i]),[c,u]=fxn(s,a,i);return c?l.jsx(Upt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function fxn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(mB(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?uxn(t,f):null}},[e,t]),i=uB.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ht),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=lxn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=lhe(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=lhe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function lhe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=cxn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function hxn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=w1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Wo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Pn(f=>{if(f instanceof Na)return ve(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof Na);if(d.length)throw new Na({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(jmn,{workspace:s,children:l.jsx(nz,{source:s.unstable_sources[0],children:l.jsx(dxn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function pxn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(B0,{onCatch:o,children:l.jsx(hxn,{...n})})}qp.registerLanguage(aHt);qp.registerLanguage(xze);qp.registerLanguage(cHt);qp.registerLanguage(dHt);qp.registerLanguage(hHt);function mxn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(pxn,{LoadingComponent:Ub,ConfigErrorsComponent:Qvn,children:l.jsx(jGt,{children:t})});return l.jsx(dvn,{onSchemeChange:o,scheme:i,children:l.jsxs(h8,{paddingY:7,zOffset:rxn.toast,children:[l.jsx(Jbn,{}),l.jsx(CPe,{children:l.jsx(pvn,{config:n,basePath:r,children:l.jsx(Nvn,{unstable_history:s,NotFoundComponent:Dvn,LoadingComponent:Ub,children:l.jsx(nxn,{children:l.jsx(dQt,{children:a?c:l.jsx(txn,{LoadingComponent:Ub,AuthenticateComponent:xPe,NotAuthenticatedComponent:wPe,children:c})})})})})})]})})}function gxn(){const e=Qbn();return l.jsx(e,{})}function che(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(mxn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(QGt,{}),l.jsx(gxn,{})]})}function vxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=gAe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(che,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(che,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function Jn(e){const t=Fn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const uhe="connecting";function yxn(e,t){const n=al();return yo(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),it(r=>r?ve("connected"):Yo(200).pipe(yT("reconnecting"))),ci(uhe),Xn()),[n.pair,e,t],uhe)}function GPe(){return Fn().dataset}function Ql(e,t){const n=al();return yo(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function KPe(e,t){const n=al();return yo(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function gz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=al();return yo(()=>{const o=r.pair.editState(e,t).pipe(fa());return n==="low"?nn(o.pipe(Pi(1)),o.pipe(R2e(1),k8(()=>Yo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function ZPe(){return Fn().projectId}function En(){return Fn().schema}const bxn={isSyncing:!0},dhe={isSyncing:!1};function XPe(e,t){const n=al();return yo(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?dhe:bxn)),[n.pair,t,e],dhe)}function C1(){return Fn().templates}const CP=1e3*5,fhe=1e3*20,dF=1e3*60,j_=dF*60;function ni(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=xxn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function xxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=eEt(r,n),i=rEt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:oi(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:oi(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:oi(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=nEt(r,n),a=Hr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:j_}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:j_};const c=w5e(r,n),u=Hr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:j_}}const b=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":b,refreshInterval:j_}}const d=Z5t(r,n),f=Hr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:dF}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:dF};const p=X5t(r,n),m=Hr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:fhe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:fhe};const g=tEt(r,n),v=Hr("second",g);return g>10?t.minimal?{timestamp:t.agoSuffix?"".concat(g,"s ago"):"".concat(g,"s"),refreshInterval:CP}:{timestamp:t.agoSuffix?"".concat(g," ").concat(v," ago"):"".concat(g," ").concat(v),refreshInterval:CP}:{timestamp:"just now",refreshInterval:CP}}const wxn={validation:[],isValidating:!1};function vz(e,t){const n=al();return yo(()=>n.pair.validation(e,t),[n.pair,e,t],wxn)}const hhe={isLoading:!0,enabled:!0,features:[]};function Cxn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let _P;function QPe(e){const t=Jn(sn);return _P||(_P=Cxn({versionedClient:t}).pipe(Do())),yo(()=>_P.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ci(hhe),Pn(r=>(console.error(r),ve({isLoading:!1,enabled:!0,features:[]})))),[e],hhe)}const _xn=yh(e=>{let[t,n]=e;return kr(t.getUser(n).catch(r=>(console.error(r),null)))});function _1(e){const t=kz();return _xn(h.useMemo(()=>[t,e],[e,t]))}function Ko(){const{currentUser:e}=Fn();return e}const phe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},mhe=e=>({type:"snapshot",document:e}),ghe=e=>e.document,Sxn=e=>{const t=new _r,n=new mT(!0),r=new _r,o=new _r,i=new _r,s=new _r,a=x=>{const y=new K7t(x);return y.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:phe(y),mutations:C.mutations,origin:_?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},c=e.pipe(da((x,y)=>y.type==="snapshot"?(x&&x.commit(),a(y.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):x,null),pt(x=>x!==null),Xn(),Cl(1),wl()),u=e.pipe(pt(x=>x.type==="mutation"),wb(c),ce(x=>{let[y,w]=x;return w.arrive(new Rc(y)),phe(w)})),d=t.pipe(wb(c),wn(x=>{let[y,w]=x;y.type==="mutation"&&w.add(new Rc({mutations:y.mutations})),y.type==="commit"&&w.commit()}),nm(Zn),fa()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),g=()=>{c.pipe(Pi(1),wn(x=>x.commit())).subscribe()},v=nn(c.pipe(ce(x=>x.LOCAL)),r.pipe(ce(ghe)),o.pipe(ce(ghe)),u).pipe(ce(mhe),Cl(1),wl()),b=nn(c.pipe(ce(x=>x.document.HEAD),ce(mhe)),i).pipe(Cl(1),wl());return{updates$:nn(v,d,r,o),consistency$:n.pipe(Xn(),Cl(1),wl()),remoteSnapshot$:b,commitRequest$:s,addMutation:m,addMutations:p,commit:g}},kxn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},vhe=(e,t)=>{const n=Sxn(t),r=kxn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},Exn={type:"pending",phase:"begin"},jxn={type:"pending",phase:"end"};function Txn(e){return e.type==="mutation"}function Axn(e){return e.transactionTotalEvents>1}function Dxn(e){const t=H7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function Ixn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return po(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(U$(s=>s.type==="welcome"?i().pipe(U$(a=>[yhe(o,a.draft),yhe(r,a.published)])):ve(s)),da((s,a)=>{if(!Txn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=Axn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Dxn(d)?{next:d.concat(jxn),buffer:[]}:{next:d.length===1?[Exn]:[],buffer:d}},{next:[],buffer:[]}),ft(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function yhe(e,t){return{type:"snapshot",documentId:e,document:t}}const bhe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function T_(e){return t=>({...t,version:e})}function Oxn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Pxn(e,t){return kr(Oxn(e,t.mutation.params)).pipe(wn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function JPe(e,t){const{publishedId:n,draftId:r}=t,o=Ixn(e,t).pipe(fa()),i=o.pipe(pt(d=>d.type==="reconnect")),s=vhe(r,o.pipe(pt(bhe(r)))),a=vhe(n,o.pipe(pt(bhe(n)))),c=o.pipe(pt(d=>d.type==="pending")),u=nn(s.commitRequest$,a.commitRequest$).pipe(ft(d=>Pxn(e,d)),nm(Zn),fa());return{transactionsPendingEvents$:c,draft:{...s,events:nn(u,i,s.events).pipe(ce(T_("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(T_("draft")))},published:{...a,events:nn(u,i,a.events).pipe(ce(T_("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(T_("published")))}}}function nu(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Km=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function FC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const xD=nu((e,t,n)=>new mt(r=>{r.next(JPe(e,t))}).pipe(Cl(1),wl()),FC);function Rxn(e){return e.type==="snapshot"}function xhe(e){return{snapshots$:e.events.pipe(pt(Rxn),ce(t=>t.document),Cl(1),wl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const yz=nu((e,t,n)=>xD(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:xhe(o),draft:xhe(i)}}),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),$xn={enabled:!0},whe={enabled:!1},eRe=nu((e,t,n)=>{const r=Km(e.schema,n);return yz(e.client,t,n).pipe(it(o=>Wo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?$xn:whe),ci(whe))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ci({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),Cl(1),wl())},(e,t,n)=>FC(e.client,t,n)),tRe=nu((e,t,n)=>yz(e.client,t,n).pipe(it(r=>Wo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),WE={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Km(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function fF(e){return ud(e)?e._strengthenOnPublish?Ni(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(fF):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,fF(r)]}))}const nRe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Km(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=fF(Ni(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},rRe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Km(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},oRe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Zn}},iRe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},sRe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Km(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Ni(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Mxn=["_createdAt","_updatedAt"],aRe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Ni(s,Mxn),_id:Km(n,i)?t:fi(t),_type:s._type},{tag:"document.duplicate"})}},lRe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Km(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},cRe=nu((e,t,n)=>xD(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return Wo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Xn(),Cl(1),wl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function Fxn(e){return typeof e>"u"?ve(null):e}const Lxn={del:WE,delete:WE,publish:nRe,patch:rRe,commit:oRe,discardChanges:iRe,unpublish:sRe,duplicate:aRe,restore:lRe},Bxn=(e,t,n)=>{const r=Lxn[e];return po(()=>nn(ve(null),Fxn(r.execute(t,...n)))).pipe(hrt())},uRe=new _r;function dRe(e,t,n,r){uRe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Nxn=["publish","unpublish","discardChanges","delete"],fRe=nu(e=>{const t=uRe.pipe(P2e(o=>o.idPair.publishedId),ft(o=>o.pipe(it(i=>tRe(e,i.idPair,i.typeName).pipe(Pi(1),it(s=>{const a=Nxn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=cRe(e.client,i.idPair,i.typeName).pipe(pt(Boolean));return(a?c.pipe(Pi(1)):ve(!0)).pipe(it(()=>Bxn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),Pn(s=>ve({type:"error",args:i,error:s})))))),fa()),n=1e3,r=t.pipe(pt(o=>o.type==="success"&&o.args.operationName==="patch"),Sx(n,$l,{leading:!0,trailing:!0}),wn(o=>{dRe("commit",o.args.idPair,o.args.typeName,[])}));return nn(t,r.pipe(nm(Zn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),zxn=nu((e,t,n)=>xD(e,t,n).pipe(it(r=>{let{published:o,draft:i}=r;return nn(o.remoteSnapshot$,i.remoteSnapshot$)})),FC),Vxn={isValidating:!0,validation:[]};function Hxn(e){return qTe(e,(t,n)=>(ud(n)&&t.add(n._ref),t),new Set)}const Uxn=[],Wxn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),Yxn=200,qxn=1e3;function SP(){return Do({bufferSize:1,refCount:!0})}const Gxn=nu((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=eRe(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),Sx(Yxn,$l,{trailing:!0}),Xn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Xu(Ni(d,"_rev","_updatedAt"),Ni(f,"_rev","_updatedAt"))),SP()),a=i.pipe(ce(d=>Hxn(d)),ft(d=>kr(d))).pipe(P2e(d=>d,{duration:()=>Yo(1e3*60*30)}),ft(d=>d.pipe(crt(),ft(f=>Wxn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),da((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Xn(Xu),SP()),c=d=>{let{id:f}=d;return _o(a.pipe(O2e(p=>f in p),ce(p=>p[f])))},u=a.pipe(R2e(1),Sx(qxn,$l,{leading:!0,trailing:!0}));return Wo([i,Ur(ve(null),u)]).pipe(ce(d=>{let[f]=d;return f}),rB(d=>po(()=>d!=null&&d._type?Ur(ve({isValidating:!0,revision:d._rev}),$Kt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ce(f=>({validation:f,isValidating:!1})))):ve({validation:Uxn,isValidating:!1}))),da((d,f)=>({...d,...f}),Vxn),SP())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Kxn=nu((e,t,n)=>xD(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return nn(o.events,i.events)})),FC);function cu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Zxn={commit:cu("commit"),delete:cu("delete"),del:cu("del"),publish:cu("publish"),patch:cu("patch"),discardChanges:cu("discardChanges"),unpublish:cu("unpublish"),duplicate:cu("duplicate"),restore:cu("restore")},Xxn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return dRe(e,t,n,o)};function uu(e,t,n){return{disabled:t.disabled(n),execute:Xxn(e,n.idPair,n.typeName)}}function Qxn(e){return{commit:uu("commit",oRe,e),delete:uu("delete",WE,e),del:uu("delete",WE,e),publish:uu("publish",nRe,e),patch:uu("patch",rRe,e),discardChanges:uu("discardChanges",iRe,e),unpublish:uu("unpublish",sRe,e),duplicate:uu("duplicate",aRe,e),restore:uu("restore",lRe,e)}}const Jxn=nu((e,t,n)=>{const r=fRe(e),i=tRe(e,t,n).pipe(ce(Qxn));return Ur(ve(Zxn),nn(r.pipe(ft(()=>Zn)),i)).pipe(Do({refCount:!0,bufferSize:1}))},(e,t,n)=>FC(e.client,t,n)),ewn=(e,t,n,r)=>po(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),twn=(e,t,n,r)=>po(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Che(e){return e.type==="welcome"}function nwn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=twn(e,i,n,r).pipe(ft((f,p)=>p===0&&!Che(f)?Zu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):ve(f)),fa()),[a,c]=S8(s,Che),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>ewn(e,o,n,r);return nn(a.pipe(Pi(1)),c.pipe(pt(u),Sx(r.throttleTime||1e3,$l,{leading:!0,trailing:!0}))).pipe(rB(f=>f.type==="mutation"&&f.visibility!=="query"?Yo(1200).pipe(ft(d)):d()))}function rwn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return ve(n);const r="*[_id in [$documentId, $draftId]]._type",o=Rn(t),i=fi(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function hm(e){return Er(e)}const own=["_key","_ref","_weak","_type"];function iwn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function _he(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!hm(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return hF(e)}catch(r){throw r.message=n(r.message),r}}function hF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Ir(t),'")'));return hF(o,t.concat(i),!0)});if(!hm(e))return e;const r=n&&!e._key?{_key:dC()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&swn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=hF(e[i],t.concat([i])),o),r)}function swn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Ir(t),'"'));const n=Object.keys(e).filter(r=>!own.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(iwn).join(", "),' at path "').concat(Ir(t),'"'))}}function bz(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];hm(o)&&hm(i)&&(n[r]=bz(i,o))}),n}function awn(e){return hm(e)&&typeof e.serialize=="function"}async function wD(e,t,n){return typeof e=="function"?e(t,n):e}async function xz(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(awn(t))return xz(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await wD(s,n,r);if(!hm(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));hm(a)&&!Object.keys(a).length&&(a={_type:i}),a=_he(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=bz(await CD(c,n,wz,r)||{},a);return _he(u,t)}function lwn(e,t){const n=Ms(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const wz=10;function CD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wz,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Qa(e)?uwn(e,t,n,r):Hl(e)?cwn(e,t,n,r):wD(e.initialValue,t,r)}async function cwn(e,t,n,r){const o=await wD(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=lwn(e,i);return Qa(s)?{...i,...await CD(s,t,n-1,r),_key:dC()}:i}))}async function uwn(e,t,n,r){const o={...await wD(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await CD(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=bz(i,o);if(!p7(s))return e.name!=="object"&&(s._type=e.name),s}const She={type:"loading"};function dwn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:fi(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Rn(r.documentId)},["_type"]);return nn(i.pipe(ce(c=>({draft:c}))),s.pipe(ce(c=>({published:c})))).pipe(da((c,u)=>({...c,...u}),{}),pt(c=>"draft"in c&&"published"in c),ce(c=>c.draft||c.published),Xn((c,u)=>!!c!=!!u),E8(25)).pipe(it(c=>{if(c)return ve({type:"success",value:null});if(!r.templateName)return ve({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),ve({isResolving:!1,initialValue:void 0});const d=kr(xz(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(Pn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),ve({type:"error",error:f}))));return nn(ve({isResolving:!0}),d).pipe(it(f=>{let{isResolving:p,initialValue:m,resolveError:g}=f;return ve(g?{type:"error",message:"Failed to resolve initial value"}:p?She:{type:"success",value:m})}))}),ci(She),Xn())}function wy(e){if(FB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:fi(e)}}function fwn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(sn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return JPe(a,u)},initialValue(u,d){return dwn(i,o,n,u,d)},listenQuery(u,d,f){return nwn(a,u,d,f)},resolveTypeForDocument(u,d){return rwn(a,u,d)},pair:{consistencyStatus(u,d){return cRe(c.client,wy(u),d)},documentEvents(u,d){return Kxn(c.client,wy(u),d)},editOperations(u,d){return Jxn(c,wy(u),d)},editState(u,d){return eRe(c,wy(u),d)},operationEvents(u,d){return fRe({client:a,historyStore:r,schema:i}).pipe(pt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Gxn(c,wy(u),d)}}}}const khe={isLoaded:!1,documentType:void 0};function hwn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=al(),r=Rn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:khe);return h.useEffect(()=>a(khe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function pwn(e,t){const n=Yi(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):ve(void 0),[e,n,t]);return vDe(r)}function mwn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Vo(o),s=al(),a=Cz(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(g=>{g.type==="loading"&&d({loading:!0,error:null,value:c}),g.type==="success"&&d({loading:!1,error:null,value:g.value?{...c,...g.value}:c}),g.type==="error"&&d({loading:!1,error:g.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function Cz(){const e=Fn(),t=En(),n=Ko(),r=ZPe(),o=GPe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function _z(){const e=Cz();return h.useCallback((t,n)=>CD(t,n,wz,e),[e])}function gwn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function vwn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:Rn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:fi(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:fi("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function ywn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return ve({granted:!1,reason:"Type specified was `*`"});const a=!!gwn(r,s).liveEdit;return yz(t,{draftId:fi(o),publishedId:Rn(o)},s).pipe(it(c=>Wo([c.draft.snapshots$,c.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),it(c=>{let{draft:u,published:d}=c;const f=vwn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,g]=p;return g.pipe(ce(v=>{let{granted:b,reason:x}=v;return{granted:b,reason:b?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Wo(f).pipe(ce(p=>{const m=p.every(v=>v.granted),g=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(v=>!v.granted).map(v=>v.reason).join(`
	`));return{granted:m,reason:g}})):ve({granted:!0,reason:""})}))}const bwn=yh(ywn);function Sh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=Jn(sn),c=En(),u=Ez(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return bwn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function hRe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const xwn=yh(hRe);function wwn(e){let{document:t,permission:n,...r}=e;const o=Ez();return xwn({grantsStore:r.grantsStore||o,document:t,permission:n})}function pRe(e){return typeof e=="object"&&e!==null&&"serialize"in e?pRe(e.serialize()):e}function Cwn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Wo(n.map(pRe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await xz(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>kr(s).pipe(it(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return hRe({grantsStore:t,permission:"create",document:{_id:p?Rn(m):fi(m),...u}}).pipe(ce(g=>{let{granted:v,reason:b}=g;const x=c.title||d.title;return{...c,granted:v,reason:b,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):ve([])}const _wn=yh(Cwn);function Sz(e){let{templateItems:t,...n}=e;const r=En(),o=C1(),i=Ez(),s=Cz();return _wn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Ehe="_debug_",Swn=typeof window>"u"?ve({}):Bi(window,"hashchange"),mRe=Ur(ve(0),Swn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Xn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Ehe)).map(t=>t.substring(Ehe.length)))),kwn=mRe.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),Ewn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],jhe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],jwn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Twn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],The=[{filter:'_id in path("**")',permissions:["read","history"]}],Awn=[{filter:"!locked",permissions:["read","create","update"]}],Dwn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Ahe={administrator:Ewn,editor:jhe,developer:jwn,contributor:Twn,viewer:The,restricted:Dwn,requiresApproval:Awn,read:The,write:jhe},Iwn=kwn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in Ahe).flatMap(t=>Ahe[t]||[]):null));async function Own(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function Pwn(e){const t={};return e!==null&&(t.identity=e.id),t}const kP=new Map;async function Rwn(e,t,n){kP.has(t)||kP.set(t,sAe("*[".concat(t,"]")));const r=kP.get(t),o=Pwn(e),{identity:i}=o,s={...o},a=await(await eAe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function $wn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=po(()=>ve(r.config())).pipe(it(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return Own(r,a,c)})),i=Iwn.pipe(it(s=>s?ve(s):o),Cl(1),nzt(1e3));return{checkDocumentPermission(s,a){return i.pipe(it(c=>Mwn(n,c,s,a)),Xn(Xu))}}}async function Mwn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await Rwn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function Fwn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Lwn(r)}function Lwn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Dhe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function Bwn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Ihe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Nwn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Dhe(t.draftId),published:Dhe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Ihe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Ihe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=Bwn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=m4(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class zwn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Ohe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Ohe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Ohe(e){return e.draft||e.published}const Vwn=50;class Hwn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Nwn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new zwn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=Vwn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await Fwn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Uwn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Phe(e){return e.draft||e.published}class Wwn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=YE(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class Ywn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=YE(r,this.value[t],this.extractor)}}class qwn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(Uwn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function YE(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Wwn(e.content,t,r,n);case"object":return new Ywn(e.content,t,r,n);case"string":return new qwn(e.content,t,r,n)}return cB(t,r)}function Rhe(e,t,n){return n?pF(e,n.transactionIndex+1,n.chunk.index):t?pF(e,t.start,t.index):null}function $he(e,t){return t?pF(e,t.transactionIndex,t.chunk.index):null}function pF(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Gwn(e,t,n,r,o,i){const s=YE(n,r,{fromValue(c){return Rhe(e,t,c.endMeta)},fromMeta(c){return Rhe(e,t,c)}}),a=YE(o,i,{fromValue(c){return $he(e,c.startMeta)},fromMeta(c){return $he(e,c)}});return EA(s,a)}class A_{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Kwn(e){return e==="create"||e==="editDraft"}const Zwn=5*60*1e3;function Xwn(e,t){return Date.parse(t)-Date.parse(e)<Zwn}function Mhe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Lhe(e.draftState,t.draftState),r=Lhe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Kwn(e.type)&&t.type==="editDraft"&&Xwn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Fhe(e){const t=!!e;return e&&mF(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Qwn(e){const t=Fhe(e.draftEffect),n=Fhe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function EP(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&mF(e.draftEffect.apply),o=e.publishedEffect&&mF(e.publishedEffect.apply),i=Qwn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Lhe(e,t){return t==="unknown"?e:t}function mF(e){return e[0]===0&&e[1]===null}let Jwn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new A_,this._chunks=new A_,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new A_,this._chunks=new A_,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(EP(s),Mhe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(EP(s),Mhe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=EP(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=m4(o,a.draftEffect.revert)),a.publishedEffect&&(i=m4(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=fl.wrap(t.draft,null),s=fl.wrap(t.published,null);const a=eCn(i,s),c=Phe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let g=m.start;g<m.end;g++){const v=this._transactions.get(g),b={chunk:m,transactionIndex:g},x=i,y=s;v.draftEffect&&(i=fl.applyPatch(i,v.draftEffect.apply,b)),v.publishedEffect&&(s=fl.applyPatch(s,v.publishedEffect.apply,b));const w=fl.getType(x)!=="null",C=fl.getType(i)!=="null";fl.getType(s)!=="null"&&!C&&(s=fl.rebaseValue(x,s)),C&&!w&&(i=fl.rebaseValue(y,i))}}const d=fl.getType(i)==="null"?s:i,f=Phe(n);return Gwn(this,u,a,c,d,f)}};function eCn(e,t){return fl.getType(e)==="null"?t:e}const Bhe=Object.create(null),tCn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},gRe=(e,t,n)=>{const r=Rn(t),o=fi(t),i="".concat(r,"@").concat(n),s=Bhe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(g=>g._id===r);return f.find(g=>g._id===o)||p});return Bhe[i]=u,u},nCn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Jwn({enableTrace:eu,publishedId:n});return new Hwn({client:t,documentId:n,documentType:r,timeline:o})},rCn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},oCn=e=>qTe(e,(t,n)=>ud(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function gF(e,t){return Array.isArray(e)?t(e.map(n=>gF(n,t)).filter(n=>typeof n<"u")):Ct(e)?t(Object.keys(e).reduce((n,r)=>{const o=gF(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const iCn=(e,t)=>gF(e,n=>ud(n)?t(n):n),sCn=(e,t)=>iCn(e,n=>t[n._ref]?n:void 0);function aCn(e,t,n,r){return kr(gRe(e,t,r)).pipe(ft(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=oCn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>sCn(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ft(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function lCn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>gRe(t,n,r),getHistory:(n,r)=>tCn(t,n,r),getTransactions:n=>rCn(t,n),restore:(n,r,o)=>aCn(t,n,r,o),getTimelineController:nCn}}const Nhe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function cCn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=yRe(),a=h.useRef(null),c=h.useRef(Nhe),u=Jn(sn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new mT(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,g)=>{m?f.error(m):setTimeout(()=>{g.setRange(i||null,o||null),f.next(g)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=zxn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const g=f.pipe(wn(v=>v.setLoadMore(!1)),ce(v=>{var b;const x=v.timeline.mapChunks(_=>_),y=x.filter(_=>!["delete","initial"].includes(_.type)),w=!v.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(v.selectionState);return{chunks:x,diff:v.sinceTime?v.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!v.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=y==null?void 0:y[0])==null?void 0:b.id,onOlderRevision:v.onOlderRevision(),realRevChunk:v.realRevChunk,revTime:v.revTime,selectionState:v.selectionState,sinceAttributes:v.sinceAttributes(),sinceTime:v.sinceTime,timelineDisplayed:v.displayed(),timelineReady:C}}),Xn(e6),Pn(v=>(r==null||r(v),ve(Nhe))),wn(v=>{c.current=v}),wn(m)).subscribe();return()=>g.unsubscribe()}}),[d,r,f])}function co(e,t){return uB.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const uCn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],dCn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],fCn=po(()=>Yo(0,1e4)).pipe(nm(uCn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:sVt(dCn)}]})),Do()),hCn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},pCn=(e,t)=>{const n=e.request("presence").pipe(ce(hCn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Zn;return[n.pipe(fa()),r]},vRe="presence_session_id",mCn=()=>eyt(16);function gCn(){try{return window.sessionStorage.getItem(vRe)}catch{}return null}function vCn(e){try{window.sessionStorage.setItem(vRe,e)}catch{}return e}const D_=gCn()||vCn(mCn());function yCn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=pCn(t,D_),s=new mT([]),a=s.pipe(Xn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(pt(A=>A.type==="rollCall"),pt(A=>A.sessionId!==D_)),m=Yo(0,3e4),g=po(()=>nn(a,f)).pipe(it(()=>m),wb(s),ce(A=>{let[,D]=A;return D}),rrt(200),it(A=>u(A)),nm(Zn),fa()),v=po(()=>d()).pipe(nm(Zn)),b=n.connectionStatus$.pipe(ce(A=>A.type),pt(A=>A==="connected"||A==="error"),Xn()),x=mRe.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),y=x.pipe(pt(A=>A.includes("fake_others")),wn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),grt(fCn)),w=x.pipe(ce(A=>A.includes("show_own"))),C=nn(v,o).pipe(pt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=nn(C,y).pipe(da((A,D)=>D.type==="disconnect"?Ni(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),k=b.pipe(it(A=>A==="connected"?nn(S,g):_8),ce(A=>Object.values(A)),it(A=>{const D=mo(A.map(I=>I.userId));return kr(r.getUsers(D)).pipe(ce(I=>A.map(O=>({user:I.find($=>$.id===O.userId),session:O})).filter(j)))}),j8(Bi(window,"beforeunload").pipe(it(()=>i({type:"disconnect"})))),Do({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const E=k.pipe(ce(A=>{const D=H7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var O;return{user:(O=A.find($=>$.user.id===I))==null?void 0:O.user,sessions:D[I]}})}),wb(w),ce(A=>{let[D,I]=A;return D.filter(O=>I?!0:!O.sessions.some(R=>R.sessionId===D_))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:In((D.sessions||[]).map(O=>O.locations||[])).map(O=>({type:O.type,documentId:O.documentId,path:O.path,lastActiveAt:O.lastActiveAt})).reduce((O,$)=>O.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:E,documentPresence:A=>k.pipe(wb(w),it(D=>{let[I,O]=D;return kr(I).pipe(pt($=>O||$.session.sessionId!==D_),prt($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),k2e())}))}}function bCn(){const[e,t]=h.useState([]),n=jz();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function LC(e){const t=jz(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function xCn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const wCn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},CCn=(e,t)=>{const n=localStorage.getItem(e);return ve(n===null?t:wCn(n,t))},_Cn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),ve(t)),SCn={get:CCn,set:_Cn},qE=Object.create(null),kCn=(e,t)=>ve(e in qE?qE[e]:t),ECn=(e,t)=>(typeof t>"u"||t===null?delete qE[e]:qE[e]=t,ve(t)),jCn={get:kCn,set:ECn};let Cy=null;function TCn(){if(Cy!==null)return Cy;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),Cy=!0}catch{Cy=!1}return Cy}function ACn(){return TCn()?SCn:jCn}function DCn(){const e=ACn(),t=new _r,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(it(a=>e.set(a.key,a.value).pipe(ce(c=>({key:a.key,value:c}))))),o=(a,c)=>nn(e.get(a,c),r.pipe(pt(u=>u.key===a),ce(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const ICn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function OCn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new vVt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>CVt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),ICn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>Ct(c)&&typeof c.id=="string")}}function kz(){const{getClient:e,currentUser:t}=Fn(),n=kd(),r=e(sn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||OCn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function Ez(){const{getClient:e}=Fn(),t=e(sn),n=Ko(),r=kd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||$wn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function yRe(){const e=Jn(sn),t=kd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||lCn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Yi(){const e=Jn(sn),t=kd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||cXt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function al(){const e=Fn().getClient,t=En(),n=C1(),r=kd(),o=yRe(),i=Yi();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||fwn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function PCn(){const{bifur:e}=Fn().__internal,t=kd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||XGt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function jz(){const{__internal:{bifur:e}}=Fn(),t=kd(),n=kz(),r=PCn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||yCn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function RCn(){const e=Jn(sn),t=kd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||xCn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function $Cn(){const e=kd(),t=Zl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||DCn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const MCn=/[^\p{Alpha}\p{White_Space}]/gu,FCn=new RegExp("\\p{White_Space}+","u"),LCn={small:0,medium:1,large:2};function BCn(e){const t=e.replace(MCn,"").split(FCn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Za(e){const{user:t,...n}=e;return Ct(t)?n.withTooltip?l.jsx(NCn,{...n,user:t}):l.jsx(bRe,{...n,user:t}):l.jsx(zCn,{...e,user:t})}function NCn(e){const{user:{displayName:t}}=e;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(bRe,{...e})})})}const bRe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=oQt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(wCe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&BCn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?LCn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function zCn(e){let{user:t,...n}=e;const[r]=_1(t);return r?l.jsx(Za,{...n,user:r}):null}var zhe=Object.freeze,VCn=Object.defineProperty,HCn=(e,t)=>zhe(VCn(e,"raw",{value:zhe(t||e.slice())})),Vhe;const UCn=P(r8)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=le.purple[r].hex,i=le.purple[n].hex;return fe(Vhe||(Vhe=HCn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function WCn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(UCn,{...r,fontSize:t,children:n})}function op(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Mr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:op(a[s]||{},i,n)}}}const Tz=20,YCn=3,mf={name:"all-fields",title:"All fields",hidden:!1};function qCn(e){return Qa(e.schemaType)}function GCn(e){return YF(e.schemaType)}function KCn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...xRe(e,t)]}function xRe(e,t){return t.length===0?[]:qCn(e)?wRe(e,t):GCn(e)?CRe(e,t):[]}function wRe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(g=>g.kind==="fieldSet"&&g.fieldSet.members.some(v=>v.kind==="field"&&v.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(g=>g!==null&&g.kind==="field"&&g.name===o),u=e.schemaType.fields.find(g=>g.name===o),d=(n=e.groups.find(g=>g.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(g=>g.default))==null?void 0:r.name,p=d&&(d===mf.name||u&&Jw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||mf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(MN(c)?m.push(...CRe(c.field,i)):b3e(c)&&m.push(...wRe(c.field,i))),m}function CRe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Mr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?xRe(o.item,r):[]}function uo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function ZCn(e,t){const n=Ms(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function XCn(e,t){const n=Ms(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function Az(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=YCn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function _Re(e,t,n){return n.name===mf.name?!0:t===void 0?!1:e.length===0&&n.name===mf.name?!0:Jw(t).includes(n.name)}function Hhe(e){return typeof e>"u"||Ct(e)}function QCn(e){return typeof e>"u"||Array.isArray(e)}function JCn(e){return typeof e>"u"||Array.isArray(e)}function e2n(e){return e.length===0||e.every(t=>Ct(t))}function t2n(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function n2n(e){return"_key"in e}function r2n(e){return e==null?void 0:e.every(t=>Ct(t)&&n2n(t))}function Mv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ht(e,t)}function Uhe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,g,v,b,x,y;const{parent:w,field:C,index:_}=e,S=bm([...w.path,C.name]),k=pin(C.type,w.level+1),j=w.value,E=w.comparisonValue;if(!Hhe(j))throw new Error("Unexpected non-object value");const T=C.group?Jw(C.group):[],A=_Re(w.groups,C.group,w.selectedGroup);if(Qa(C.type)){const D=j==null?void 0:j[C.name],I=Ct(E)?E==null?void 0:E[C.name]:void 0;if(!Hhe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Ms(D),value:D}};const O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(uo(C.type.hidden,O))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||uo(C.type.readOnly,O),z=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],F=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],W=Dz({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:Mv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:z,path:S,level:k,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:F,collapsedFieldSets:H,readOnly:R,changesOpen:w.changesOpen});if(W===null)return null;const V=Az(C.type.options,k),q=F?F.value:V.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Ai(S,w.openPath),field:W,collapsed:q,collapsible:V.collapsible}}else if(Hl(C.type)){const D=j==null?void 0:j[C.name],I=Ct(E)?E==null?void 0:E[C.name]:void 0;if(YF(C.type)){const O=typeof D<"u";if(O&&!QCn(D)){const V=Ms(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:V,value:D}}}if(O&&!e2n(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(O&&!r2n(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=O?t2n(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],z=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],F=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||uo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),W=i2n({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:Mv(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:z,collapsedFieldSets:F,level:k,path:S,readOnly:H});return W===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Ai(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:W}}else{if(!JCn(D)){const H=Ms(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const O=(g=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:g[C.name],$=(b=(v=w.collapsedPaths)==null?void 0:v.children)==null?void 0:b[C.name],R=(y=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:y[C.name],z=w.readOnly||uo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),F=o2n({changed:Mv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:k,path:S,readOnly:z});return F===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Ai(S,w.openPath),collapsible:!1,collapsed:!1,field:F}}}else{const D=j==null?void 0:j[C.name],I=Ct(E)?E==null?void 0:E[C.name]:void 0,O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(uo(C.type.hidden,O))return null;const R=w.readOnly||uo(C.type.readOnly,O),z=SRe({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Ai(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:z}}}function Dz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===Tz)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||uo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||mf)==null?void 0:n.name,a=[mf,...i].flatMap(y=>{var w;const C=uo(y.hidden,r),_=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===mf.name:_,k=e.changesOpen?!S:!1;return C?[]:[{disabled:k,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),c=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var C,_,S,k;if(y.single){const O=y.field,$=Uhe({field:O,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return $?[$]:[]}const j=y.fields.map(O=>O.name),E=uo(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),T=uo(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),A=y.fields.flatMap(O=>{if(E)return[{kind:"hidden",key:"field-".concat(O.name),name:O.name,index:w}];const $=Uhe({field:O,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return $?[$]:[]}),D=Az(y.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[y.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:_Re(a,y.group,c),groups:y.group?Jw(y.group):[],fieldSet:{path:bm(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(O=>O.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(k=y==null?void 0:y.options)==null?void 0:k.columns}}]}),f=i.length>0,p=e.presence.filter(y=>xn(y.path,e.path)),m=p.length?p:Wn,g=e.validation.filter(y=>xn(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),v=d.filter(y=>y.kind!=="hidden");if(v.length===0&&t)return null;const b=f?a.flatMap(y=>y.name===mf.name||v.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(y.name):C.groups.includes(y.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(y.name)))?y:[]):[],x=v.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:Mv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Ir(e.path),level:e.level,focused:xn(e.path,e.focusPath),focusPath:JF(e.path,e.focusPath),presence:m,validation:g,_allMembers:d,members:x,groups:b}}function o2n(e){if(e.level===Tz)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(uo(e.schemaType.hidden,t))return null;const r=e.readOnly||uo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>xn(u.path,e.path)),s=i.length?i:Wn,a=e.validation.filter(u=>xn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>a2n({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:xn(e.path,e.focusPath),focusPath:JF(e.path,e.focusPath),path:e.path,id:Ir(e.path),level:e.level,validation:a,presence:s,members:c}}function i2n(e){if(e.level===Tz)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(uo(e.schemaType.hidden,t))return null;const r=e.readOnly||uo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>xn(u.path,e.path)),s=i.length?i:Wn,a=e.validation.filter(u=>xn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>s2n({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:xn(e.path,e.focusPath),focusPath:JF(e.path,e.focusPath),path:e.path,id:Ir(e.path),level:e.level,validation:a,presence:s,members:c}}function s2n(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=ZCn(u.schemaType,c),p=c._key;if(!f){const j=Ms(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=bm([...u.path,{_key:p}]),g=u.level+1,v={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||uo(u.schemaType.readOnly,v),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=Dz({schemaType:f,level:g,document:u.document,value:c,comparisonValue:C,changed:Mv(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),S=Az(f.options,g),k=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:Ai(m,u.openPath),collapsed:k,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function a2n(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=XCn(o.schemaType,r),a=bm([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Ms(s),value:c}};const p=o.readOnly||uo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=SRe({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:xn(a,o.openPath),item:m}}function SRe(e){const t=e.presence.filter(o=>xn(o.path,e.path)),n=t.length?t:Wn,r=e.validation.filter(o=>xn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:Mv(e.value,e.comparisonValue),value:e.value,level:e.level,id:Ir(e.path),readOnly:e.readOnly,focused:xn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function l2n(e){return Dz(e)}function c2n(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Ko(),g=h.useRef(null);return h.useLayoutEffect(()=>{g.current=null},[e]),h.useMemo(()=>{const v=l2n({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:bm([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),b=lN(g.current,v);return g.current=b,b},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function u2n(e){return e.map(h2n)}function vF(e,t){return In(t.map(n=>f2n(e,n)))}const d2n=e=>t=>!e.includes(t);function f2n(e,t){return In(Object.keys(t).filter(d2n(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:pg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:pg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:pg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:pg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:pg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:pg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function h2n(e){if(e.patchType!==dm&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==dm)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=FTe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=xa(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(dt.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(aN.Provider,{value:i,children:t.children})});function vr(e,t,n){return{50:sc(.1,t,e),100:sc(.2,t,e),200:sc(.4,t,e),300:sc(.6,t,e),400:sc(.8,t,e),500:t,600:sc(.8,t,n),700:sc(.6,t,n),800:sc(.4,t,n),900:sc(.2,t,n),950:sc(.1,t,n)}}function xi(e){const{red:t,green:n,blue:r}=Yx(e);return r4(t,n,r)}function av(e,t){return NJ(e)<NJ(t)}function Pd(e,t){const n=qu(e),r=qu(t);return lT(cCe(n,r))}function Rd(e,t){const n=qu(e),r=qu(t);return lT(uCe(n,r))}const _y=["default","transparent"];function p2n(e,t){return dCe({base:n=>{let{dark:r,name:o}=n;const i=r?t.state.navbar:t.state.default,s=i.dark,a=r?Rd:Pd,c=i[o]||i.default;if(o==="default"){const f=i.default[100];return{fg:i.fg,bg:i.bg,border:i.default[200],focusRing:e.focus.base,shadow:{outline:Ye(i.default[500],.4),umbra:Ye(s?e.black:i.default[500],.2),penumbra:Ye(s?e.black:i.default[500],.14),ambient:Ye(s?e.black:i.default[500],.12)},skeleton:{from:f,to:Ye(f,.5)}}}if(o==="transparent"){const f=c[50],p=a(f,c[100]);return{fg:c[900],bg:f,border:c[300],focusRing:e.focus.base,shadow:{outline:Ye(c[500],s?.2:.4),umbra:Ye(s?e.black:c[500],.2),penumbra:Ye(s?e.black:c[500],.14),ambient:Ye(s?e.black:c[500],.12)},skeleton:{from:p,to:Ye(p,.5)}}}const u=c[50],d=a(u,c[100]);return{fg:c[900],bg:u,border:c[200],focusRing:c[500],shadow:{outline:Ye(c[500],s?.2:.4),umbra:Ye(s?e.black:c[500],.2),penumbra:Ye(s?e.black:c[500],.14),ambient:Ye(s?e.black:c[500],.12)},skeleton:{from:d,to:Ye(d,.5)}}},solid:n=>{let{base:r,dark:o,name:i,state:s,tone:a}=n;const c=o?t.button.navbar:t.button.default,u=c.dark,d=u?Rd:Pd,f=u?Pd:Rd,p=c[i]||c.default,m=_y.includes(i)&&_y.includes(a);let g=c[a==="default"?i:a]||p;if(s==="disabled"){g=p;const x=d(r.bg,g[200]),y=f(x,g[800]);return{bg:x,border:d(r.bg,g[200]),fg:d(r.bg,c.bg),muted:{fg:d(r.bg,g[50])},accent:{fg:d(r.bg,g[50])},link:{fg:d(r.bg,g[50])},code:{bg:x,fg:d(r.bg,g[50])},skeleton:{from:y,to:Ye(y,.5)}}}if(s==="hovered"){const x=d(r.bg,g[600]),y=f(x,g[800]);return{bg:x,border:d(r.bg,g[600]),fg:d(r.bg,c.bg),muted:{fg:d(r.bg,g[200])},accent:{fg:f(x,c.critical[300])},link:{fg:f(x,c.primary[200])},code:{bg:d(x,g[50]),fg:d(r.bg,g[200])},skeleton:{from:y,to:Ye(y,.5)}}}if(s==="pressed"){const x=d(r.bg,g[800]),y=f(x,g[800]);return{bg:x,border:d(r.bg,g[800]),fg:d(r.bg,c.bg),muted:{fg:d(r.bg,g[200])},accent:{fg:f(x,c.critical[300])},link:{fg:f(x,c.primary[200])},code:{bg:d(x,g[50]),fg:d(r.bg,g[200])},skeleton:{from:y,to:Ye(y,.5)}}}if(s==="selected"){m&&(g=c.primary);const x=d(r.bg,g[800]),y=f(x,g[800]);return{bg:x,border:d(r.bg,g[800]),fg:d(r.bg,c.bg),muted:{fg:d(r.bg,g[200])},accent:{fg:f(x,c.critical[300])},link:{fg:f(x,c.primary[200])},code:{bg:d(x,g[50]),fg:d(r.bg,g[200])},skeleton:{from:y,to:Ye(y,.5)}}}const v=d(r.bg,g[500]),b=f(v,g[800]);return{bg:v,border:d(r.bg,g[500]),fg:d(r.bg,c.bg),muted:{fg:d(r.bg,g[100])},accent:{fg:f(v,c.critical[200])},link:{fg:f(v,c.primary[100])},code:{bg:d(v,g[50]),fg:d(r.bg,g[100])},skeleton:{from:b,to:Ye(b,.5)}}},muted:n=>{let{base:r,dark:o,name:i,state:s,tone:a}=n;const c=o?t.state.navbar:t.state.default,d=c.dark?Rd:Pd,f=c[i]||c.default,p=_y.includes(i)&&_y.includes(a);let m=c[a==="default"?i:a]||f;if(s==="disabled"){m=f;const b=r.bg,x=d(b,m[100]);return{bg:b,border:d(r.bg,m[50]),fg:d(r.bg,m[200]),muted:{fg:d(b,m[100])},accent:{fg:d(b,m[100])},link:{fg:d(b,m[100])},code:{bg:b,fg:d(b,m[100])},skeleton:{from:x,to:Ye(x,.5)}}}if(s==="hovered"){const b=d(r.bg,m[50]),x=d(b,m[100]);return{bg:b,border:d(b,m[100]),fg:d(r.bg,m[900]),muted:{fg:d(r.bg,m[600])},accent:{fg:d(r.bg,c.critical[500])},link:{fg:d(r.bg,c.primary[600])},code:{bg:d(b,m[50]),fg:d(r.bg,m[600])},skeleton:{from:x,to:Ye(x,.5)}}}if(s==="pressed"){p&&(m=c.primary);const b=d(r.bg,m[100]),x=d(b,m[100]);return{bg:b,border:d(b,m[100]),fg:d(r.bg,m[800]),muted:{fg:d(r.bg,m[600])},accent:{fg:d(b,c.critical[500])},link:{fg:d(b,c.primary[600])},code:{bg:d(b,m[50]),fg:d(b,m[600])},skeleton:{from:x,to:Ye(x,.5)}}}if(s==="selected"){p&&(m=c.primary);const b=d(r.bg,m[100]),x=d(b,m[100]);return{bg:b,border:d(b,m[100]),fg:d(b,m[800]),muted:{fg:d(b,m[600])},accent:{fg:d(b,c.critical[500])},link:{fg:d(b,c.primary[600])},code:{bg:d(b,m[50]),fg:d(b,m[600])},skeleton:{from:x,to:Ye(x,.5)}}}const g=r.bg,v=d(r.bg,m[100]);return{bg:g,border:d(g,m[100]),fg:d(g,m[700]),muted:{fg:d(g,m[600])},accent:{fg:d(g,c.critical[500])},link:{fg:d(g,c.primary[600])},code:{bg:d(g,m[50]),fg:d(g,m[600])},skeleton:{from:v,to:Ye(v,.5)}}},button:n=>{let{base:r,mode:o,muted:i,solid:s}=n;return o==="bleed"?{enabled:{...i.enabled,border:i.enabled.bg},hovered:{...i.hovered,border:i.hovered.bg},pressed:{...i.pressed,border:i.pressed.bg},selected:{...i.selected,border:i.selected.bg},disabled:{...i.disabled,border:i.disabled.bg}}:o==="ghost"?{...s,enabled:{...i.enabled,border:r.border},disabled:i.disabled}:s},card:n=>{let{base:r,dark:o,muted:i,name:s,solid:a,state:c}=n;if(c==="hovered")return i[s].hovered;if(c==="disabled")return i[s].disabled;const u=_y.includes(s),d=o?t.state.navbar:t.state.default,f=d[s]||d.default,p=d.dark,m=p?Rd:Pd;if(c==="pressed")return u?i.primary.pressed:i[s].pressed;if(c==="selected")return u?a.primary.enabled:a[s].enabled;const g=r.bg,v=m(r.bg,f[p?900:100]);return{bg:g,fg:r.fg,border:r.border,muted:{fg:m(r.bg,f[p?400:600])},accent:{fg:m(r.bg,d.critical[p?400:500])},link:{fg:m(r.bg,d.primary[p?400:600])},code:{bg:m(r.bg,f[p?950:50]),fg:f[p?400:600]},skeleton:{from:v,to:Ye(v,.5)}}},input:n=>{let{base:r,dark:o,mode:i,state:s}=n;const a=o?t.state.navbar:t.state.default,u=a.dark?Rd:Pd;if(i==="invalid"){const d=a.critical;return{bg:u(r.bg,d[50]),fg:u(r.bg,d[700]),border:u(r.bg,d[200]),placeholder:u(r.bg,d[400])}}return s==="hovered"?{bg:r.bg,fg:r.fg,border:u(r.bg,le.gray[300].hex),placeholder:u(r.bg,le.gray[400].hex)}:s==="disabled"?{bg:u(r.bg,le.gray[50].hex),fg:u(r.bg,le.gray[200].hex),border:u(r.bg,le.gray[100].hex),placeholder:u(r.bg,le.gray[100].hex)}:s==="readOnly"?{bg:u(r.bg,le.gray[50].hex),fg:u(r.bg,le.gray[800].hex),border:u(r.bg,le.gray[200].hex),placeholder:u(r.bg,le.gray[400].hex)}:{bg:r.bg,fg:r.fg,border:r.border,placeholder:u(r.bg,le.gray[700].hex)}},selectable:n=>{let{base:r,muted:o,tone:i,solid:s,state:a}=n;return a==="enabled"?{...o[i].enabled,bg:r.bg}:a==="pressed"?i==="default"?o.primary.pressed:o[i].pressed:a==="selected"?i==="default"?s.primary.enabled:s[i].enabled:a==="disabled"?{...o[i].disabled,bg:r.bg}:o[i][a]},spot:n=>{let{base:r,key:o}=n;const i=av(r.bg,r.fg);return(i?Rd:Pd)(r.bg,le[o][i?400:500].hex)},syntax:n=>{let{base:r,dark:o}=n;const i=o?t.state.navbar:t.state.default,a=i.dark?Rd:Pd,c=600,u=400;return{atrule:a(r.bg,le.purple[c].hex),attrName:a(r.bg,i.positive[c]),attrValue:a(r.bg,i.caution[c]),attribute:a(r.bg,i.caution[c]),boolean:a(r.bg,le.purple[c].hex),builtin:a(r.bg,le.purple[c].hex),cdata:a(r.bg,i.caution[c]),char:a(r.bg,i.caution[c]),class:a(r.bg,le.orange[c].hex),className:a(r.bg,le.cyan[c].hex),comment:a(r.bg,i.default[u]),constant:a(r.bg,le.purple[c].hex),deleted:a(r.bg,i.critical[c]),doctype:a(r.bg,i.default[u]),entity:a(r.bg,i.critical[c]),function:a(r.bg,i.positive[c]),hexcode:a(r.bg,i.primary[c]),id:a(r.bg,le.purple[c].hex),important:a(r.bg,le.purple[c].hex),inserted:a(r.bg,i.caution[c]),keyword:a(r.bg,le.magenta[c].hex),number:a(r.bg,le.purple[c].hex),operator:a(r.bg,le.magenta[c].hex),prolog:a(r.bg,i.default[u]),property:a(r.bg,i.primary[c]),pseudoClass:a(r.bg,i.caution[c]),pseudoElement:a(r.bg,i.caution[c]),punctuation:a(r.bg,i.default[c]),regex:a(r.bg,i.primary[c]),selector:a(r.bg,i.critical[c]),string:a(r.bg,i.caution[c]),symbol:a(r.bg,le.purple[c].hex),tag:a(r.bg,i.critical[c]),unit:a(r.bg,le.orange[c].hex),url:a(r.bg,i.critical[c]),variable:a(r.bg,i.critical[c])}}})}function m2n(e){return{...Mo.fonts,code:{...Mo.fonts.code,family:e["--font-family-monospace"]||Mo.fonts.code.family},heading:{...Mo.fonts.heading,family:e["--font-family-base"]||Mo.fonts.code.family},label:{...Mo.fonts.label,family:e["--font-family-base"]||Mo.fonts.code.family},text:{...Mo.fonts.text,family:e["--font-family-base"]||Mo.fonts.code.family}}}function g2n(e){return{black:xi(e["--black"]),component:{bg:xi(e["--component-bg"]),fg:xi(e["--component-text-color"])},defaultButton:{default:{base:xi(e["--default-button-color"])},primary:{base:xi(e["--default-button-primary-color"])},success:{base:xi(e["--default-button-success-color"])},warning:{base:xi(e["--default-button-warning-color"])},danger:{base:xi(e["--default-button-danger-color"])}},focus:{base:xi(e["--focus-color"])},gray:{base:xi(e["--gray-base"])},mainNavigation:{bg:xi(e["--main-navigation-color"]),fg:xi(e["--main-navigation-color--inverted"])},state:{info:{fg:xi(e["--state-info-color"])},success:{fg:xi(e["--state-success-color"])},warning:{fg:xi(e["--state-warning-color"])},danger:{fg:xi(e["--state-danger-color"])}}}}function v2n(e){return{state:{default:{bg:e.component.bg,fg:e.component.fg,dark:av(e.component.bg,e.component.fg),default:vr(e.component.bg,e.gray.base,e.component.fg),transparent:vr(e.component.bg,e.gray.base,e.component.fg),primary:vr(e.component.bg,e.state.info.fg,e.component.fg),positive:vr(e.component.bg,e.state.success.fg,e.component.fg),caution:vr(e.component.bg,e.state.warning.fg,e.component.fg),critical:vr(e.component.bg,e.state.danger.fg,e.component.fg)},navbar:{bg:e.mainNavigation.bg,fg:e.mainNavigation.fg,dark:av(e.mainNavigation.bg,e.mainNavigation.fg),default:vr(e.mainNavigation.bg,e.gray.base,e.mainNavigation.fg),transparent:vr(e.mainNavigation.bg,e.gray.base,e.mainNavigation.fg),primary:vr(e.mainNavigation.bg,e.state.info.fg,e.mainNavigation.fg),positive:vr(e.mainNavigation.bg,e.state.success.fg,e.mainNavigation.fg),caution:vr(e.mainNavigation.bg,e.state.warning.fg,e.mainNavigation.fg),critical:vr(e.mainNavigation.bg,e.state.danger.fg,e.mainNavigation.fg)}},button:{default:{bg:e.component.bg,fg:e.component.fg,dark:av(e.component.bg,e.component.fg),default:vr(e.component.bg,e.defaultButton.default.base,e.component.fg),transparent:vr(e.component.bg,e.defaultButton.default.base,e.component.fg),primary:vr(e.component.bg,e.defaultButton.primary.base,e.component.fg),positive:vr(e.component.bg,e.defaultButton.success.base,e.component.fg),caution:vr(e.component.bg,e.defaultButton.warning.base,e.component.fg),critical:vr(e.component.bg,e.defaultButton.danger.base,e.component.fg)},navbar:{bg:e.mainNavigation.bg,fg:e.mainNavigation.fg,dark:av(e.mainNavigation.bg,e.mainNavigation.fg),default:vr(e.mainNavigation.bg,e.defaultButton.default.base,e.mainNavigation.fg),transparent:vr(e.mainNavigation.bg,e.defaultButton.default.base,e.mainNavigation.fg),primary:vr(e.mainNavigation.bg,e.defaultButton.primary.base,e.mainNavigation.fg),positive:vr(e.mainNavigation.bg,e.defaultButton.success.base,e.mainNavigation.fg),caution:vr(e.mainNavigation.bg,e.defaultButton.warning.base,e.mainNavigation.fg),critical:vr(e.mainNavigation.bg,e.defaultButton.danger.base,e.mainNavigation.fg)}}}}function y2n(e){const t=x2n(e),n=g2n(t),r=v2n(n),o=p2n(n,r),i=m2n(t);return{__dark:av(o.light.default.base.bg,o.light.default.base.fg),__legacy:!0,...Mo,color:o,focusRing:{offset:-1,width:2},fonts:i,media:[parseInt(t["--screen-medium-break"],10)||512,parseInt(t["--screen-default-break"],10)||640,parseInt(t["--screen-large-break"],10)||960,parseInt(t["--screen-xlarge-break"],10)||1600]}}const b2n={"--font-family-monospace":Mo.fonts.code.family,"--font-family-base":Mo.fonts.text.family,"--black":mc.hex,"--white":Ta.hex,"--brand-primary":Dy[500].hex,"--component-bg":Ta.hex,"--component-text-color":mc.hex,"--gray":X_[500].hex,"--gray-base":X_[500].hex,"--default-button-color":X_[500].hex,"--default-button-danger-color":lR[500].hex,"--default-button-primary-color":Dy[500].hex,"--default-button-success-color":uR[500].hex,"--default-button-warning-color":cR[500].hex,"--focus-color":Dy[500].hex,"--screen-medium-break":"512px","--screen-default-break":"640px","--screen-large-break":"960px","--screen-xlarge-break":"1600px","--state-info-color":Dy[500].hex,"--state-success-color":uR[500].hex,"--state-warning-color":cR[500].hex,"--state-danger-color":lR[500].hex,"--main-navigation-color":mc.hex,"--main-navigation-color--inverted":Ta.hex};function x2n(e){const t={...b2n,...e};return t["--focus-color"]=e["--focus-color"]||t["--brand-primary"],t["--default-button-primary-color"]=e["--default-button-primary-color"]||t["--brand-primary"],t["--main-navigation-color"]=e["--main-navigation-color"]||t["--black"],t["--main-navigation-color--inverted"]=e["--main-navigation-color--inverted"]||t["--white"],t["--state-info-color"]=e["--brand-primary"]||t["--brand-primary"],t}({...Mo});const w2n=XB(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||f6,component:h.lazy(()=>i9(()=>import("./SanityVision-oM6_d46E-760b144a.js"),[])),options:o,router:Ti.create("/*")}]}});var _D={},C2n=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},_2n=C2n,Whe={"text/plain":"Text","text/html":"Url",default:"Text"},S2n="Copy to clipboard: #{key}, Enter";function k2n(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function E2n(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=_2n(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Whe[t.format]||Whe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=k2n("message"in t?t.message:S2n),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var j2n=E2n;function yF(e){"@babel/helpers - typeof";return yF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yF(e)}Object.defineProperty(_D,"__esModule",{value:!0});_D.CopyToClipboard=void 0;var I_=kRe(h),T2n=kRe(j2n),A2n=["text","onCopy","options","children"];function kRe(e){return e&&e.__esModule?e:{default:e}}function Yhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yhe(Object(n),!0).forEach(function(r){Iz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D2n(e,t){if(e==null)return{};var n=I2n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I2n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function O2n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ghe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P2n(e,t,n){return t&&Ghe(e.prototype,t),n&&Ghe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bF(e,t)}function bF(e,t){return bF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},bF(e,t)}function $2n(e){var t=F2n();return function(){var r=GE(e),o;if(t){var i=GE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return M2n(this,o)}}function M2n(e,t){if(t&&(yF(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F2n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function GE(e){return GE=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},GE(e)}function Iz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jRe=function(e){R2n(n,e);var t=$2n(n);function n(){var r;O2n(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Iz(ERe(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=I_.default.Children.only(f),g=(0,T2n.default)(u,p);d&&d(u,g),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return P2n(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=D2n(o,A2n),a=I_.default.Children.only(i);return I_.default.cloneElement(a,qhe(qhe({},s),{},{onClick:this.onClick}))}}]),n}(I_.default.PureComponent);_D.CopyToClipboard=jRe;Iz(jRe,"defaultProps",{onCopy:void 0,options:void 0});var L2n=_D,xF=L2n.CopyToClipboard;xF.CopyToClipboard=xF;var B2n=xF;const N2n=Ae(B2n);var z2n=nh,V2n=el,H2n="[object Number]";function U2n(e){return typeof e=="number"||V2n(e)&&z2n(e)==H2n}var W2n=U2n;const Y2n=Ae(W2n);function Khe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Khe(Object(n),!0).forEach(function(r){q2n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Khe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q2n(e,t,n){return t=G2n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G2n(e){var t=K2n(e,"string");return typeof t=="symbol"?t:String(t)}function K2n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KE(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function TRe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function ARe(e){return TRe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function DRe(e){return e._type==="@list"}function IRe(e){return e._type==="@span"}function ORe(e){return e._type==="@text"}const Xhe=["strong","em","code","underline","strike-through"];function Z2n(e,t,n){if(!KE(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&KE(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>X2n(o,i,s))}function X2n(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=Xhe.indexOf(t),s=Xhe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function Q2n(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(Z2n),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(b=>b._key===p),g=m?m._type:p,v={_type:"@span",_key:c._key,children:[],markDef:m,markType:g,markKey:p};f.children.push(v),s.push(v),f=v}if(KE(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function J2n(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!ARe(i)){n.push(i),r=void 0;continue}if(!r){r=O_(i,o,t),n.push(r);continue}if(e_n(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=O_(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=Zhe(Zhe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&wF(s,i);if(a){r=a,r.children.push(i);continue}r=O_(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&wF(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=O_(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function e_n(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function O_(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function wF(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(DRe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!KE(i)?wF(i,t):void 0}function PRe(e){let t="";return e.children.forEach(n=>{ORe(n)?t+=n.text:IRe(n)&&(t+=PRe(n))}),t}const t_n="html",n_n=["block","list","listItem","marks","types"],r_n=["listItem"],o_n=["_key"];function Qhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qhe(Object(n),!0).forEach(function(r){i_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i_n(e,t,n){return t=s_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_n(e){var t=a_n(e,"string");return typeof t=="symbol"?t:String(t)}function a_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CF(e,t){if(e==null)return{};var n=l_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function c_n(e,t){const n=CF(t,n_n);return bc(bc({},e),{},{block:Sy(e,t,"block"),list:Sy(e,t,"list"),listItem:Sy(e,t,"listItem"),marks:Sy(e,t,"marks"),types:Sy(e,t,"types")},n)}function Sy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?bc(bc({},o),r):o}const u_n=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},d_n={textDecoration:"underline"},f_n={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:d_n,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:u_n},h_n={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},p_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},BC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),RRe=e=>BC('block type "'.concat(e,'"'),"types"),m_n=e=>BC('mark type "'.concat(e,'"'),"marks"),g_n=e=>BC('block style "'.concat(e,'"'),"block"),v_n=e=>BC('list style "'.concat(e,'"'),"list"),y_n=e=>BC('list item style "'.concat(e,'"'),"listItem");function b_n(e){console.warn(e)}const Jhe={display:"none"},x_n=e=>{let{value:t,isInline:n}=e;const r=RRe(t._type);return n?l.jsx("span",{style:Jhe,children:r}):l.jsx("div",{style:Jhe,children:r})},w_n=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},C_n=e=>{let{children:t}=e;return l.jsx("p",{children:t})},__n=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},S_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},k_n=()=>l.jsx("br",{}),E_n={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},epe={types:{},block:E_n,marks:f_n,list:h_n,listItem:p_n,hardBreak:k_n,unknownType:x_n,unknownMark:w_n,unknownList:__n,unknownListItem:S_n,unknownBlockStyle:C_n};function j_n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=b_n}=e;const i=o||A_n,s=Array.isArray(t)?t:[t],a=J2n(s,r||t_n),c=h.useMemo(()=>n?c_n(epe,n):epe,[n]),u=h.useMemo(()=>T_n(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const T_n=(e,t)=>{function n(f){const{node:p,index:m,isInline:g}=f,v=p._key||"node-".concat(m);return DRe(p)?i(p,m,v):ARe(p)?o(p,m,v):IRe(p)?s(p,m,v):r(p)?d(p,m,v,g):TRe(p)?a(p,m,v,g):ORe(p)?c(p,v):u(p,m,v,g)}function r(f){return f._type in e.types}function o(f,p,m){const g=tpe({node:f,index:p,isInline:!1,renderNode:n}),v=e.listItem,x=(typeof v=="function"?v:v[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(y_n(w),{type:w,nodeType:"listItemStyle"})}let y=g.children;if(f.style&&f.style!=="normal"){const w=CF(f,r_n);y=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const g=f.children.map((y,w)=>n({node:y._key?y:bc(bc({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),v=e.list,x=(typeof v=="function"?v:v[f.listItem])||e.unknownList;if(x===e.unknownList){const y=f.listItem||"bullet";t(v_n(y),{nodeType:"listStyle",type:y})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:g},m)}function s(f,p,m){const{markDef:g,markType:v,markKey:b}=f,x=e.marks[v]||e.unknownMark,y=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(m_n(v),{nodeType:"mark",type:v}),l.jsx(x,{text:PRe(f),value:g,markType:v,markKey:b,renderNode:n,children:y},m)}function a(f,p,m,g){const v=tpe({node:f,index:p,isInline:g,renderNode:n}),b=CF(v,o_n),x=b.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(g_n(x),{nodeType:"blockStyle",type:x}),l.jsx(w,bc(bc({},b),{},{value:b.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,g){const v={value:f,isInline:g,index:p,renderNode:n};t(RRe(f._type),{nodeType:"block",type:f._type});const b=e.unknownType;return l.jsx(b,bc({},v),m)}function d(f,p,m,g){const v={value:f,isInline:g,index:p,renderNode:n},b=e.types[f._type];return b?l.jsx(b,bc({},v),m):null}return n};function tpe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=Q2n(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function A_n(){}var D_n=zke,I_n=u9,O_n=I_n(function(e,t,n){return t=t.toLowerCase(),e+(n?D_n(t):t)}),P_n=O_n;const npe=Ae(P_n);var R_n=u9,$_n=R_n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),M_n=$_n;const F_n=Ae(M_n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var rpe=Object.getOwnPropertySymbols,L_n=Object.prototype.hasOwnProperty,B_n=Object.prototype.propertyIsEnumerable;function N_n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function z_n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var V_n=z_n()?Object.assign:function(e,t){for(var n,r=N_n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)L_n.call(n,s)&&(r[s]=n[s]);if(rpe){o=rpe(n);for(var a=0;a<o.length;a++)B_n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},P_=V_n,H_n={};function dl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var ope="mixins";function U_n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=P_({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=P_({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=P_({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&dl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&dl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){dl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),dl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,k=S.__reactAutoBindPairs;_.hasOwnProperty(ope)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==ope){var E=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,E);else{var A=o.hasOwnProperty(j),D=typeof E=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)k.push(j,E),S[j]=E;else if(T){var O=o[j];dl(A&&(O==="DEFINE_MANY_MERGED"||O==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",O,j),O==="DEFINE_MANY_MERGED"?S[j]=f(S[j],E):O==="DEFINE_MANY"&&(S[j]=p(S[j],E))}else S[j]=E}}}}function u(C,_){if(_)for(var S in _){var k=_[S];if(_.hasOwnProperty(S)){var j=S in s;dl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var E=S in C;if(E){var T=i.hasOwnProperty(S)?i[S]:null;dl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],k);return}C[S]=k}}}function d(C,_){dl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(dl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var k=C.apply(this,arguments),j=_.apply(this,arguments);if(k==null)return j;if(j==null)return k;var E={};return d(E,k),d(E,j),E}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function g(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var k=_[S],j=_[S+1];C[k]=m(C,j)}}var v={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},y=function(){};P_(y.prototype,e.prototype,x);function w(C){var _=function(k,j,E){this.__reactAutoBindPairs.length&&g(this),this.props=k,this.context=j,this.refs=H_n,this.updater=E||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;dl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new y,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,v),c(_,C),c(_,b),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),dl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var W_n=U_n,ZE=h,Y_n=W_n;if(typeof ZE>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var q_n=new ZE.Component().updater,SD=Y_n(ZE.Component,ZE.isValidElement,q_n),G_n=Date.now||K_n;function K_n(){return new Date().getTime()}var ipe=G_n,Z_n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=ipe()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=ipe();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},X_n=Q_n;function Q_n(e){for(var t=J_n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=wi(n,r,o,i,t[s+0],7,-680876936),i=wi(i,n,r,o,t[s+1],12,-389564586),o=wi(o,i,n,r,t[s+2],17,606105819),r=wi(r,o,i,n,t[s+3],22,-1044525330),n=wi(n,r,o,i,t[s+4],7,-176418897),i=wi(i,n,r,o,t[s+5],12,1200080426),o=wi(o,i,n,r,t[s+6],17,-1473231341),r=wi(r,o,i,n,t[s+7],22,-45705983),n=wi(n,r,o,i,t[s+8],7,1770035416),i=wi(i,n,r,o,t[s+9],12,-1958414417),o=wi(o,i,n,r,t[s+10],17,-42063),r=wi(r,o,i,n,t[s+11],22,-1990404162),n=wi(n,r,o,i,t[s+12],7,1804603682),i=wi(i,n,r,o,t[s+13],12,-40341101),o=wi(o,i,n,r,t[s+14],17,-1502002290),r=wi(r,o,i,n,t[s+15],22,1236535329),n=Ci(n,r,o,i,t[s+1],5,-165796510),i=Ci(i,n,r,o,t[s+6],9,-1069501632),o=Ci(o,i,n,r,t[s+11],14,643717713),r=Ci(r,o,i,n,t[s+0],20,-373897302),n=Ci(n,r,o,i,t[s+5],5,-701558691),i=Ci(i,n,r,o,t[s+10],9,38016083),o=Ci(o,i,n,r,t[s+15],14,-660478335),r=Ci(r,o,i,n,t[s+4],20,-405537848),n=Ci(n,r,o,i,t[s+9],5,568446438),i=Ci(i,n,r,o,t[s+14],9,-1019803690),o=Ci(o,i,n,r,t[s+3],14,-187363961),r=Ci(r,o,i,n,t[s+8],20,1163531501),n=Ci(n,r,o,i,t[s+13],5,-1444681467),i=Ci(i,n,r,o,t[s+2],9,-51403784),o=Ci(o,i,n,r,t[s+7],14,1735328473),r=Ci(r,o,i,n,t[s+12],20,-1926607734),n=_i(n,r,o,i,t[s+5],4,-378558),i=_i(i,n,r,o,t[s+8],11,-2022574463),o=_i(o,i,n,r,t[s+11],16,1839030562),r=_i(r,o,i,n,t[s+14],23,-35309556),n=_i(n,r,o,i,t[s+1],4,-1530992060),i=_i(i,n,r,o,t[s+4],11,1272893353),o=_i(o,i,n,r,t[s+7],16,-155497632),r=_i(r,o,i,n,t[s+10],23,-1094730640),n=_i(n,r,o,i,t[s+13],4,681279174),i=_i(i,n,r,o,t[s+0],11,-358537222),o=_i(o,i,n,r,t[s+3],16,-722521979),r=_i(r,o,i,n,t[s+6],23,76029189),n=_i(n,r,o,i,t[s+9],4,-640364487),i=_i(i,n,r,o,t[s+12],11,-421815835),o=_i(o,i,n,r,t[s+15],16,530742520),r=_i(r,o,i,n,t[s+2],23,-995338651),n=Si(n,r,o,i,t[s+0],6,-198630844),i=Si(i,n,r,o,t[s+7],10,1126891415),o=Si(o,i,n,r,t[s+14],15,-1416354905),r=Si(r,o,i,n,t[s+5],21,-57434055),n=Si(n,r,o,i,t[s+12],6,1700485571),i=Si(i,n,r,o,t[s+3],10,-1894986606),o=Si(o,i,n,r,t[s+10],15,-1051523),r=Si(r,o,i,n,t[s+1],21,-2054922799),n=Si(n,r,o,i,t[s+8],6,1873313359),i=Si(i,n,r,o,t[s+15],10,-30611744),o=Si(o,i,n,r,t[s+6],15,-1560198380),r=Si(r,o,i,n,t[s+13],21,1309151649),n=Si(n,r,o,i,t[s+4],6,-145523070),i=Si(i,n,r,o,t[s+11],10,-1120210379),o=Si(o,i,n,r,t[s+2],15,718787259),r=Si(r,o,i,n,t[s+9],21,-343485551),n=gf(n,a),r=gf(r,c),o=gf(o,u),i=gf(i,d)}return R_(n)+R_(r)+R_(o)+R_(i)}var spe="0123456789abcdef";function Oz(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function _F(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function XE(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function gf(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function R_(e){var t="",n;for(n=0;n<=3;n++)t+=spe.charAt(e>>n*8+4&15)+spe.charAt(e>>n*8&15);return t}function J_n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function eSn(e,t){return e<<t|e>>>32-t}function kD(e,t,n,r,o,i){return gf(eSn(gf(gf(t,e),gf(r,i)),o),n)}function wi(e,t,n,r,o,i,s){return kD(Oz(XE(t,n),XE(~t,r)),e,t,o,i,s)}function Ci(e,t,n,r,o,i,s){return kD(Oz(XE(t,r),XE(n,~r)),e,t,o,i,s)}function _i(e,t,n,r,o,i,s){return kD(_F(_F(t,n),r),e,t,o,i,s)}function Si(e,t,n,r,o,i,s){return kD(_F(n,Oz(t,~r)),e,t,o,i,s)}var tSn=Math.ceil(Math.random()*10),nSn=function(){return++tSn},Pz=function(e){return Object.prototype.toString.call(e).slice(8,-1)},rSn=Pz;function oSn(e){var t=rSn(e);return t!=="Object"&&t!=="Array"}var $Re=oSn,iSn=h,sSn=SD,$_=iSn.createElement,aSn=sSn({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return $_("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return $_("span",null,e.string.split(e.highlight).map(function(o,i){return $_("span",{key:i},i>0?$_("span",{className:"json-inspector__hl"},r):null,o)}))}}),lSn=h,cSn=SD,uSn=X_n,dSn=nSn,MRe=Pz,lk=$Re,fSn=aSn,ka=lSn.createElement,hSn=".root.",FRe=cSn({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+dSn(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return ka("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},ka("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),ka("label",{className:"json-inspector__line",htmlFor:e,onClick:r},ka("div",{className:"json-inspector__flatpath"},n.path),ka("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=MRe(e);switch(t){case"Array":var n=e.length;return ka("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+pSn(n));case"Object":var r=Object.keys(e).length;return ka("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+mSn(r));default:return ka("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!lk(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return ka(FRe,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:gSn(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return lk(e.data)||this.state.original||!e.getOriginal||!e.query||jP(this.keypath(),e.query)?null:ka("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?ka(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!jP(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(hSn.length)},data:function(){return this.state.original||this.props.data},format:function(e){return ka(fSn,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),lk(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!jP(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function pSn(e){return e+(e===1?" item":" items")}function mSn(e){return e+(e===1?" property":" properties")}function gSn(e,t){if(lk(t)){var n=uSn(String(t));return e+":"+n}else return e+"["+MRe(t)+"]"}function jP(e,t){return e.indexOf(t)!==-1}var vSn=FRe,LRe=function(){},ySn=h,bSn=SD,xSn=ySn.createElement,wSn=LRe,CSn=bSn({getDefaultProps:function(){return{onChange:wSn}},render:function(){return xSn("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),BRe=function(e){return Object.keys(e).length===0},_Sn=Object.keys,SSn=$Re,kSn=BRe,ESn=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return ck(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=ck(n[o],r,t);break}}return n[r]||(n[r]=ck(e,r,t)),n[r]}};function ck(e,t,n){return _Sn(e).reduce(function(r,o){var i=e[o],s;return SSn(i)?(TP(t,o,n)||TP(t,i,n))&&(r[o]=i):TP(t,o,n)?r[o]=i:(s=ck(i,t,n),kSn(s)||Object.assign(r,jSn(o,s))),r},{})}function TP(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function jSn(e,t){var n={};return n[e]=t,n}var TSn=Pz,AP=".";function SF(e,t){var n=t.split(AP),r=n.shift();if(!r)return e;var o=TSn(e);if(o==="Array"&&e[ape(r)])return SF(e[ape(r)],n.join(AP));if(o==="Object"&&e[r])return SF(e[r],n.join(AP))}function ape(e){return parseInt(e,10)}var ASn=SF,DSn=h,ISn=SD,OSn=Z_n,ky=DSn.createElement,PSn=vSn,RSn=CSn,$Sn=ESn,MSn=BRe,FSn=ASn,LSn=LRe,BSn=ISn({getDefaultProps:function(){return{data:null,search:RSn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:LSn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&MSn(r);return ky("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?ky("div",{className:"json-inspector__not-found"},"Nothing found"):ky(PSn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return ky("div",{className:"json-inspector__toolbar"},ky(e,{onChange:OSn(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:$Sn(e,t)})},getOriginal:function(e){return FSn(this.props.data,e)}});const NSn=Ae(BSn);var zSn=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const VSn=Ae(zSn);function Rz(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function NRe(e){const{document:t}=e,r=En().get(t._type),{error:o,value:i}=JB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const $z=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(CDe,{onReset:o,hooks:t,args:r,children:n})},HSn=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(CDe,{...o,hooks:t,args:r,children:n})};function USn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const WSn=5e3;let DP;const zRe=()=>(DP||(DP=Bi(document,"visibilitychange").pipe(ci(null),ce(()=>document.visibilityState==="visible"),Xn(),it(e=>e?Yo(0,WSn):Zn),Do({refCount:!0,bufferSize:1}))),DP);function YSn(e,t){let{versionedClient:n}=t;const r=fi(e),o=Rn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function qSn(e,t){const{versionedClient:n}=t;return zRe().pipe(it(()=>YSn(e,t)),it(r=>{if(!r)return ve({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Pn(i=>{if(USn(i)&&i.statusCode===404)return ve({totalCount:0,references:[]});throw i}))}))}const GSn=yh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),KSn=yh(e=>{let[t,n]=e;return zRe().pipe(it(()=>qSn(t,{versionedClient:n})))});function ZSn(e){const t=Jn(sn),n=al(),r=Rn(e),[o,i]=GSn(h.useMemo(()=>[r,n],[n,r])),[s,a]=KSn(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function XSn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=ni(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(cr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(I0,{"aria-label":r})})})}function QSn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=ni(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(cr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Bu,{})})})}function VRe(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=Ct(i.title)&&h.isValidElement(i.title)||NT(i.title)||Y2n(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=yo(()=>BA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Gt,{space:4,children:[r&&r.length>0&&l.jsx(kN,{presence:r}),l.jsx(XSn,{document:c}),l.jsx(QSn,{document:a})]});return l.jsx(wh,{...tN({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function bs(){throw new Error("Pane is missing router context")}const ED=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>bs(),ChildLink:()=>bs(),ReferenceChildLink:()=>bs(),handleEditReference:()=>bs(),ParameterizedLink:()=>bs(),replaceCurrent:()=>bs(),closeCurrentAndAfter:()=>bs(),closeCurrent:()=>bs(),duplicateCurrent:()=>bs(),setView:()=>bs(),setParams:()=>bs(),setPayload:()=>bs(),navigateIntent:()=>bs(),createPathWithParams:()=>bs()}),JSn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(ED),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx($T,{...t,ref:n,state:s})}),HRe=h.createContext(null);function S1(){const e=h.useContext(HRe);if(!e)throw new Error("PaneLayout: missing context value");return e}const ekn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(ED);return l.jsx($T,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),IMn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(ekn,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Ir(i),...a&&{template:a==null?void 0:a.id}},children:s})}),OMn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(ED),{params:s,payload:a,...c}=t,u=Vo(s),d=Vo(a),f=h.useMemo(()=>{const p=r[o],m=p[i],g={...m,params:u??m.params,payload:d??m.payload},v=[...p.slice(0,i),g,...p.slice(i+1)];return{panes:[...r.slice(0,o),v,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx($T,{ref:n,...c,state:f})});function ru(){return h.useContext(ED)}const lpe=[];function tkn(e){const{onClick:t,type:n,value:r}=e,o=Rn(r==null?void 0:r._id),i=LC(o),s=Yi(),{ReferenceChildLink:a}=ru(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:lpe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Bp,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(VRe,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:lpe,schemaType:n,value:r})})}var cpe=Object.freeze,nkn=Object.defineProperty,NC=(e,t)=>cpe(nkn(e,"raw",{value:cpe(t||e.slice())})),upe,dpe,fpe,hpe,ppe;const URe=P(M)(upe||(upe=NC([`
  margin-left: auto;
`]))),rkn=P.details(dpe||(dpe=NC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),URe),okn=P.summary(fpe||(fpe=NC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),ikn=P.table(hpe||(hpe=NC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return pe(t.sanity.space[2])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])},e=>{let{theme:t}=e;return pe(t.sanity.space[1])}),skn=P(U)(ppe||(ppe=NC([`
  min-height: 35px;
`]))),mpe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Gt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(at,{portal:!0,placement:"top",content:l.jsx(Qr,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(Cm,{})})})]}):null};function akn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=En(),d=Io(),f=h.useCallback(b=>{const x=u.get(b._type);return x?l.jsx(tkn,{type:x,value:b,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(wh,{icon:jl,title:"Preview Unavailable",subtitle:"ID: ".concat(b._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],g=m.length===1?"another dataset":"".concat(m.length," datasets");let v="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(v="Unavailable dataset"),l.jsxs(J,{children:[l.jsx(J,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(U,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx(jr,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(J,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(U,{direction:"column",children:[n.totalCount>0&&l.jsxs(te,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(b=>l.jsx(M,{as:"li",children:f(b)},b._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(mpe,{...n})})]}),t.totalCount>0&&l.jsxs(rkn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(okn,{children:l.jsx(J,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(U,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(u6,{})})}),l.jsxs(U,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",g]})}),l.jsx(M,{children:l.jsx(L,{title:v,textOverflow:"ellipsis",size:1,muted:!0,children:v})})]}),l.jsx(URe,{children:l.jsx(L,{muted:!0,children:l.jsx(nl,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(ikn,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(b=>"projectId"in b).map((b,x)=>{let{projectId:y,datasetName:w,documentId:C}=b;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:y})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(skn,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(N2n,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(ie,{title:"Copy ID to clipboard",mode:"bleed",icon:Fc,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(mpe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var gpe=Object.freeze,lkn=Object.defineProperty,WRe=(e,t)=>gpe(lkn(e,"raw",{value:gpe(t||e.slice())})),vpe,ype;const ckn=P(M).attrs({padding:4})(vpe||(vpe=WRe([`
  box-sizing: border-box;
`]))),ukn=P(U).attrs({align:"center",direction:"column",justify:"center"})(ype||(ype=WRe([`
  height: 300px;
`])));function dkn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=ZSn(t),g="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),v=l.jsx(NRe,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),b=!u;return l.jsx(Vi,{width:1,id:s,header:"".concat(g," document?"),footer:l.jsxs(on,{columns:b?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(ie,{mode:"ghost",onClick:o,text:"Cancel"}),b&&l.jsx(ie,{"data-testid":"confirm-delete-button",text:d>0?"".concat(g," anyway"):"".concat(g," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(ckn,{children:c&&a&&!u?l.jsx(akn,{crossDatasetReferences:c,internalReferences:a,documentTitle:v,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(ukn,{"data-testid":"loading-container",children:[l.jsx(Qn,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function YRe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Vi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(ie,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(B0,{onCatch:r,children:l.jsx(dkn,{...e})})}const fkn={constrainSize:!0,placement:"left-start",portal:!0};function QE(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Rr,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Rr,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(QE,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Rr,{}),l.jsx(f8,{disabled:t,icon:r.icon,popover:fkn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(QE,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Rr,{}),l.jsx(hkn,{disabled:t,node:r})]})}function hkn(e){const{node:t}=e;return t.intent?l.jsx(mkn,{...e,intent:t.intent}):l.jsx(pkn,{...e})}function pkn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(CC,{content:o,placement:"left",children:l.jsx(Ne,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Ya,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function mkn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=Kw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(CC,{content:i,placement:"left",children:l.jsx(Ne,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Ya:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const gkn={constrainSize:!0,placement:"bottom",portal:!0};function kF(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&kF(n.children,t))}function qRe(e){const{nodes:t}=e,n=h.useId(),r=kF(t,"critical"),o=kF(t,"caution");return l.jsx(Jt,{button:l.jsx(xh,{icon:qo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Bt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(QE,{isAfterGroup:c,node:i},i.key)})}),popover:gkn})}const vkn=!1,Fv=51,Lv=Fv*4,GRe=h.createContext(null);var bpe=Object.freeze,ykn=Object.defineProperty,bkn=(e,t)=>bpe(ykn(e,"raw",{value:bpe(t||e.slice())})),xpe;const xkn=P(us)(xpe||(xpe=bkn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function wkn(e){let{disabled:t,element:n}=e;const{resize:r}=S1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(xkn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var wpe=Object.freeze,Ckn=Object.defineProperty,_kn=(e,t)=>wpe(Ckn(e,"raw",{value:wpe(t||e.slice())})),Cpe;const Skn=P(J)(Cpe||(Cpe=_kn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),jD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...g}=t,[v,b]=h.useState(null),{collapse:x,collapsed:y,expand:w,expandedElement:C,mount:_,panes:S}=S1(),k=S.find(Y=>Y.element===v),j=k&&S.indexOf(k),E=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(k==null?void 0:k.collapsed)||!1,D=(E==null?void 0:E.collapsed)||!1,I=fr(n),O=(r=k==null?void 0:k.flex)!=null?r:u,$=(o=k==null?void 0:k.currentMinWidth)!=null?o:a,R=(i=k==null?void 0:k.currentMaxWidth)!=null?i:c,z=h.useCallback(Y=>{b(Y),I.current=Y},[I]);h.useEffect(()=>{if(v)return _(v,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,v]);const F=h.useCallback(()=>{v&&x(v)},[x,v]),H=h.useCallback(()=>{v&&w(v)},[w,v]),W=h.useMemo(()=>({collapse:F,collapsed:y?!1:A,expand:H,index:j,isLast:T,rootElement:v}),[A,F,H,T,y,j,v]),V=h.useMemo(()=>{if(!y)return A?Fv:$===0||T?f||Lv:$||f||Lv},[A,$,T,y,f]),q=h.useMemo(()=>{if(A)return Fv;if(!(y&&T))return T?p?R??p:void 0:R??p},[A,R,T,y,p]),oe=y&&!T,N=h.useMemo(()=>!T&&!y&&l.jsx(od,{zOffset:"paneResizer",children:l.jsx(wkn,{disabled:A||D,element:v})}),[A,T,y,D,v]),G=h.useMemo(()=>({flex:O,minWidth:V,maxWidth:q===1/0?void 0:q}),[O,V,q]);return l.jsxs(l.Fragment,{children:[l.jsx(od,{zOffset:"pane",children:l.jsx(GRe.Provider,{value:W,children:l.jsxs(Skn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:oe,id:d,overflow:y?void 0:"hidden",...g,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:z,style:G,children:[vkn,l.jsx(Gu,{element:v,children:!oe&&l.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),N]})});function kh(){const e=h.useContext(GRe);if(!e)throw new Error("Pane: missing context value");return e}var _pe=Object.freeze,kkn=Object.defineProperty,Ekn=(e,t)=>_pe(kkn(e,"raw",{value:_pe(t||e.slice())})),Spe;const KRe=P(J)(Spe||(Spe=Ekn([`
  position: relative;
  outline: none;
`])));KRe.displayName="PaneContent__root";const TD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=kh(),{collapsed:u}=S1();return l.jsx(KRe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var kpe=Object.freeze,jkn=Object.defineProperty,ZRe=(e,t)=>kpe(jkn(e,"raw",{value:kpe(t||e.slice())})),Epe,jpe;const Tkn=P(us)(Epe||(Epe=ZRe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Akn=P(J)(jpe||(jpe=ZRe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),Dkn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=kh();return l.jsx(od,{zOffset:"paneFooter",children:l.jsx(Tkn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(Akn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var Tpe=Object.freeze,Ikn=Object.defineProperty,k1=(e,t)=>Tpe(Ikn(e,"raw",{value:Tpe(t||e.slice())})),Ape,Dpe,Ipe,Ope,Ppe,Rpe;const Okn=P(us)(Ape||(Ape=k1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Pkn=P(U)(Dpe||(Dpe=k1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),Rkn=P(J)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return fe(Ipe||(Ipe=k1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),$kn=P(Li)(Ope||(Ope=k1([`
  width: 66%;
  max-width: 175px;
`]))),Mkn=P(L)(Ppe||(Ppe=k1([`
  cursor: default;
  outline: none;
`]))),Fkn=P(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return fe(Rpe||(Rpe=k1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Ye(n.base.bg,0),r[3])}),Mz=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:g}=kh(),v=hd(g||null),b=h.useMemo(()=>({width:p?(v==null?void 0:v.height)||window.innerHeight:void 0}),[p,v]),x=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Ku,{zOffset:100,children:l.jsx(Okn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(od,{zOffset:"paneHeader",children:l.jsxs(J,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(Pkn,{onClick:y,padding:2,sizing:"border",style:b,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(Rkn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx($kn,{animated:!0,radius:1}),!s&&l.jsx(Mkn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(U,{align:"center",hidden:p,children:l.jsx(od,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(Fkn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function XRe(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(Lkn,{node:t,padding:n}):t.type==="group"?l.jsx(Nkn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function Lkn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(Bkn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(CC,{content:o,placement:"bottom",children:l.jsx(xh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function Bkn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=Kw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(CC,{content:i,placement:"bottom",children:l.jsx(xh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function Nkn(e){var t;const{node:n,padding:r}=e;return l.jsx(Jt,{button:l.jsx(xh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:jl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Bt,{children:n.children.map((o,i)=>{var s;return l.jsx(QE,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var $pe=Object.freeze,zkn=Object.defineProperty,Vkn=(e,t)=>$pe(zkn(e,"raw",{value:$pe(t||e.slice())})),Mpe;const Hkn=P(J)(Mpe||(Mpe=Vkn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function Ukn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:Lv,c=(i=n.minWidth)!=null?i:Lv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const g=u-e.left.width;m>g&&(m=g);const v=Math.min(Math.max(r,f),m),b=e.left.width+v,x=e.right.width-v,y=b/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:y,leftW:b,rightFlex:w,rightW:x}}function Wkn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Fpe=[];function Ykn(e,t){const n=new WeakMap;for(const o of t)n.set(o,Wkn(e,o));const r=(o,i)=>{const s=n.get(o)||Fpe,a=n.get(i)||Fpe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function qkn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(y){r.add(y),a===y&&(a=null),x()}function f(y){r.delete(y),a=y,x()}function p(y,w){return n.set(y,{...w,original:w}),t.push(y),i&&Ykn(i,t),f(y),()=>{const C=t.indexOf(y);C>-1&&t.splice(C,1),n.delete(y),x()}}function m(y,w,C){var _,S,k,j;const E=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[E+1],D=n.get(A);if(D){if(y==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),y==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:O,leftFlex:$,rightFlex:R}=Ukn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:O}),x()}if(y==="end"){u=!1;const I=c.get(w),O=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(k=T.maxWidth)!=null?k:1/0,flex:(j=O==null?void 0:O.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function g(y){i=y}function v(y){s=y,x()}function b(y){return e.push(y),()=>{const w=e.push(y);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:g,setRootWidth:v,subscribe:b};function x(){var y,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const k=new WeakMap,j=S.length,E=S[0],T=(j-1)*Fv;let A=s-T;for(const I of S){const O=n.get(I);if(!O)continue;const $=O.currentMinWidth||O.minWidth||Lv,R=I===E,z=r.has(I),F=$>A,H=R?!1:z||F,W=c.get(I);k.set(I,{element:I,collapsed:H,currentMinWidth:(y=W==null?void 0:W.width)!=null?y:O.currentMinWidth,currentMaxWidth:(w=W==null?void 0:W.width)!=null?w:O.currentMaxWidth,flex:(_=(C=W==null?void 0:W.flex)!=null?C:O.flex)!=null?_:1}),H?A-=Fv:A-=$-Fv}const D=[];for(const I of t){const O=k.get(I);O&&D.push(O)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function PMn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>qkn(),[]),[a,c]=h.useState(null),u=hd(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const g=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(HRe.Provider,{value:g,children:l.jsx(Hkn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function Fz(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const QRe=rCt(Fz);function JRe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(e$e(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function e$e(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>e$e(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const Gkn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx($m,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(ie,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(ie,{...o,as:i,"data-as":"a",ref:n})});function IP(e){let{reveal:t,loading:n,children:r}=e;const o=Ko();return t?l.jsx(at,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading…"})}):l.jsx(zc,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const Kkn={constrainSize:!0,placement:"bottom",portal:!0},Lpe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function Zkn(e){let{templateItems:t}=e;const n=En(),r=C1(),[o,i]=Sz({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(IP,{reveal:!0,loading:i,children:l.jsx(ie,{"aria-label":"Insufficient permissions",icon:Tp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=Lpe(n,r,c);return f?l.jsx(IP,{reveal:d,loading:i,children:l.jsx(Gkn,{"aria-label":c.title,icon:c.icon||Tp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(Jt,{button:l.jsx(ie,{icon:Tp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Bt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Vt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=Lpe(n,r,c),m=r.find(v=>v.id===c.templateId);if(!m||!p)return null;const g=h.forwardRef((v,b)=>f?l.jsx("button",{type:"button",disabled:!0,...v,ref:b}):l.jsx($m,{...v,intent:p.type,params:p.params,ref:b}));return g.displayName="Link",l.jsx(IP,{reveal:f,loading:i,children:l.jsx(Ne,{as:g,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:Kkn})}function Xkn(e){return e!=null}const Qkn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},Jkn=h.memo(function(t){const{initialValueTemplateItems:n=Wn,menuItems:r=Wn,menuItemGroups:o=Wn,actionHandlers:i=XWt}=t,s=C1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const g=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return g?(g(m.params),!0):!1},[i]),c=h.useMemo(()=>JRe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var g;return((g=m.intent)==null?void 0:g.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(Fz),[c]),d=h.useMemo(()=>c.filter(QRe),[c]),f=h.useMemo(()=>r.map((m,g)=>{var v;if(((v=m.intent)==null?void 0:v.type)!=="create")return null;const{params:b}=m.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,y=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:y,menuItemIndex:g,initialDocumentId:_}}).filter(Xkn).map(m=>{let{initialDocumentId:g,item:v,template:b,menuItemIndex:x,templateParams:y}=m;return{id:"menuItem".concat(x),initialDocumentId:g,templateId:b.id,type:"initialValueTemplateItem",title:v.title||b.title,icon:v.icon,description:b.description,parameters:y,schemaType:b.schemaType}}),[r,s]),p=h.useMemo(()=>Kf([...f,...n],m=>Qkn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(U,{gap:1,children:[p.length>0&&l.jsx(Zkn,{templateItems:p}),u.map(m=>l.jsx(XRe,{node:m},m.key)),d.length>0&&l.jsx(qRe,{nodes:d})]})}),e5n=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(jr,{})});function t5n(e){const{layout:t,value:n}=e;return l.jsx(wh,{...e5n(n._id,n._type),layout:t})}function Bpe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function n5n(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=En(),m=Yi(),{ChildLink:g}=ru(),v=LC(n),b=!!(i&&i.name&&p.get(i.name)),[x,y]=h.useState(!1),w=h.useMemo(()=>c&&w4e(c)?!i||!b?l.jsx(t5n,{value:c}):l.jsx(VRe,{documentPreviewStore:m,icon:Bpe(t,i,Bf),layout:r,schemaType:i,value:c,presence:v}):l.jsx(wh,{status:l.jsx(L,{muted:!0,children:l.jsx(Hc,{})}),icon:Bpe(t,i,y1e),layout:r,title:a}),[m,b,t,r,i,a,c,v]),C=h.useMemo(()=>function(k){return l.jsx(g,{...k,childId:n})},[g,n]),_=h.useCallback(S=>{if(S.metaKey){y(!1);return}y(!0)},[]);return h.useEffect(()=>y(!1),[s]),l.jsx(Bp,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const t$e=h.createContext(null);function pr(){const e=h.useContext(t$e);if(!e)throw new Error("DocumentPane: missing context value");return e}const r5n={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},n$e=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=pr(),{delete:s}=Ql(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[g,v]=Sh({id:t,type:n,permission:"delete"}),b=Ko();return!v&&!(g!=null&&g.granted)?{tone:"critical",icon:go,disabled:!0,label:"Delete",title:l.jsx(zc,{operationLabel:"delete this document",currentUser:b})}:{tone:"critical",icon:go,disabled:a||!!s.disabled||v,title:s.disabled&&r5n[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(YRe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};n$e.action="delete";const o5n={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},r$e=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Ql(t,n),[a,c]=h.useState(!1),[u,d]=Sh({id:t,type:n,permission:"discardDraft"}),f=Ko(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),g=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Nu,disabled:!0,label:"Discard changes",title:l.jsx(zc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Nu,disabled:!!s.disabled||d,title:s.disabled&&o5n[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:g}};r$e.action="discardChanges";const i5n={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},o$e=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Ql(t,n),{navigateIntent:i}=Gc(),[s,a]=h.useState(!1),[c,u]=Sh({id:t,type:n,permission:"duplicate"}),d=Ko(),f=h.useCallback(()=>{const p=bd();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Fc,disabled:!0,label:"Duplicate",title:l.jsx(zc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Fc,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&i5n[o.disabled]||"",onHandle:f}};o$e.action="duplicate";const Lz=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Ql(t,n),s=KPe(t,n),{navigateIntent:a}=Gc(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),g=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:g?"You can't restore to the initial version":"Restore to this version",icon:g6,dialog:m,disabled:g}};Lz.action="restore";const s5n={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function a5n(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):s5n[e]}const i$e=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=Ql(n,r),d=vz(n,r),f=XPe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:g,documentType:v}=pr(),b=gz(g,v),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,y=d.validation.some(C4e),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[k,j]=Sh({id:n,type:r,permission:"publish"}),E=Ko(),T=ni((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?a5n(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(y||I(),C(!1))},[_,I,y,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const z=R?"published":null,H=setTimeout(()=>{c(z)},R?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const O=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(k!=null&&k.granted))return{tone:"positive",label:"Publish",title:l.jsx(zc,{operationLabel:"publish this document",currentUser:E}),disabled:!0};const $=!!(w||(t=b==null?void 0:b.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?Ya:I0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:O}};i$e.action="publish";const l5n={NOT_PUBLISHED:"This document is not published"},s$e=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Ql(t,n),[a,c]=h.useState(!1),[u,d]=Sh({id:t,type:n,permission:"unpublish"}),f=Ko(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),g=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(YRe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:bk,label:"Unpublish",title:l.jsx(zc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:bk,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?l5n[s.disabled]:"",onHandle:()=>c(!0),dialog:g}};s$e.action="unpublish";const c5n=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},u5n=!1,a$e={},RMn=Symbol("LOADING_PANE"),l$e="documentPanelPortalElement",c$e={activePanes:[]};function $Mn(e){c$e.activePanes=e}function d5n(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=c$e.activePanes||[],a=t.id||bd(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:a$e;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const f5n={};function h5n(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function p5n(e){return(e||[]).map(t=>t.map(S5n).join("|")).map(encodeURIComponent).join(";")}function m5n(e){return JSON.stringify(e)}function g5n(e){return k5n(decodeURIComponent(e))}function v5n(e){return p5n(e)}const y5n=Ti.create("/",[Ti.intents("/intent"),Ti.create("/edit/:type/:editDocumentId",[Ti.create({path:"/:params",transform:{params:{toState:h5n,toPath:m5n}}})]),Ti.create({path:"/:panes",children:[Ti.create("/:action",Ti.create("/:legacyEditDocumentId"))],transform:{panes:{toState:g5n,toPath:v5n}}})]),b5n=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,x5n=e=>/^[a-z0-9]+=[^=]+/i.test(e),w5n=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),u$e=["view","since","rev","inspect","comment"],C5n=Boolean;function _5n(e,t){return e.reduce((n,r)=>{if(x5n(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else w5n(r)?n.payload=j5n(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:f5n,payload:void 0})}function S5n(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,g]=f;if(!g)return!1;if(a)return!0;const v=(p=s.params)==null?void 0:p[m];return!(g===v&&!u$e.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(C5n).flat()).join(",")||","}function k5n(e){return e.indexOf(",{")!==-1?E5n(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return _5n(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Ni(n.params,u$e),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function E5n(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(b5n)||[];if(!r){n=n.slice(1);continue}const s=i&&d$e(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function d$e(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function j5n(e){return e?d$e(atob(e)):void 0}const T5n=320,A5n=600,EF=320,D5n=540,I5n={},jF="inspect:",O5n=[{id:"inspectors"},{id:"links"}],TF="sanity/desk/history",P5n="sanity/desk/validation",Yb="sanity/desk/comments";var Npe=Object.freeze,R5n=Object.defineProperty,$5n=(e,t)=>Npe(R5n(e,"raw",{value:Npe(t||e.slice())})),zpe;const Vpe=P(wCe)(zpe||(zpe=$5n([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),M5n=/[^\p{Alpha}\p{White_Space}]/gu,F5n=new RegExp("\\p{White_Space}+","u");function L5n(e){const t=e.replace(M5n,"").split(F5n);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function AD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>L5n((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(Vpe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(Vpe,{...n})}const f$e=25,B5n={minWidth:f$e};function uk(){return l.jsx("div",{style:B5n})}var Hpe=Object.freeze,N5n=Object.defineProperty,z5n=(e,t)=>Hpe(N5n(e,"raw",{value:Hpe(t||e.slice())})),Upe;const V5n={open:500,close:0},Wpe=P.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return fe(Upe||(Upe=z5n([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function h$e(e){const{selected:t,userId:n}=e,[r,o]=_1(n),i=Ko();return!r||o?l.jsx(Wpe,{children:"@Loading"}):l.jsx(at,{portal:!0,open:t,delay:V5n,content:l.jsxs(U,{align:"center",padding:2,gap:2,children:[l.jsx(U,{children:l.jsx(AD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(Wpe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Ype=Object.freeze,H5n=Object.defineProperty,U5n=(e,t)=>Ype(H5n(e,"raw",{value:Ype(t||e.slice())})),qpe;const W5n=P(L)(qpe||(qpe=U5n([`
  word-break: break-word;
`])));function Ys(e){const{children:t}=e;return l.jsx(W5n,{size:1,children:t})}var Gpe=Object.freeze,Y5n=Object.defineProperty,q5n=(e,t)=>Gpe(Y5n(e,"raw",{value:Gpe(t||e.slice())})),Kpe;const G5n=P(te)(()=>fe(Kpe||(Kpe=q5n([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),K5n=[],Z5n={block:{normal:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},code:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},number:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(Ys,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(h$e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function X5n(e){const{blocks:t}=e;return l.jsx(G5n,{children:l.jsx(j_n,{value:t||K5n,components:Z5n})})}const Q5n=io({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),J5n=io({type:"block",name:"block",of:[Q5n],styles:[{title:"Normal",value:"normal"}],lists:[]}),eEn=XP({type:"array",name:"body",of:[J5n]}),tEn=x9.compile({name:"comments",types:[eEn]}),nEn=tEn.get("body"),rEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),iEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function p$e(e){const t=h.useRef(e);return h.useMemo(()=>!Ht(t.current,e),[e])}function zC(e){return e?e==null?void 0:e.some(t=>{var n;return th(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>oa(r)?r.text:r.userId))}):!1}const m$e=re.createContext(null);function aEn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=bo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[g,v]=h.useState(null),b=h.useMemo(()=>zC(a),[a]),x=p$e(a),y=h.useCallback(()=>{c||Ce.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),v(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),v(Ce.getSelection(u))},[u]),_=h.useCallback(E=>{const T=Ce.getSelection(u),A=T?T.focus.offset:0,D=Ce.focusChild(u),I=oa(D)&&D||void 0,O=E.inputType==="insertText",$=E.inputType==="deleteContentBackward",R=O&&E.data==="@",z=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,F=(I==null?void 0:I.text.substring(A-1,A))===" ",H=O&&E.data===" "&&!p;if(R&&(A<1||F)){C();return}if(H||$&&((I==null?void 0:I.text.length)===1||z===((I==null?void 0:I.text.length)||0)-1)){w();return}if(oa(D)){let W=D.text.substring(z+1,A);O&&(W+=E.data),$&&(W=W.substring(0,W.length-1)),m(W)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Ce.focus(u),Ce.insertChild(u,u.schemaTypes.span,{text:"@"}),v(Ce.getSelection(u))},[u]);Wi(d,()=>s==null?void 0:s(d));const k=h.useCallback(E=>{var T;const A=u.schemaTypes.inlineObjects.find(O=>O.name==="mention"),[D,I]=g&&Ce.findByPath(u,g.focus.path)||[];if(D&&oa(D)&&I&&A){Ce.focus(u);const O=(T=Ce.getSelection(u))==null?void 0:T.focus.offset;typeof O<"u"&&(Ce.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:O}},{mode:"selected"}),Ce.insertChild(u,A,{userId:E}),Ce.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,g]),j=h.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:k,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[b,w,u,n,r,y,o,x,S,k,i,d,p,_,C,c,a]);return l.jsx(m$e.Provider,{value:j,children:t})}function g$e(){const e=h.useContext(m$e);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var Zpe=Object.freeze,lEn=Object.defineProperty,cEn=(e,t)=>Zpe(lEn(e,"raw",{value:Zpe(t||e.slice())})),Xpe;const uEn=P(U)(Xpe||(Xpe=cEn([""]))),dEn={width:"50%"};function fEn(e){const{user:t,onSelect:n}=e,[r]=_1(t.id),o=l.jsx(AD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Li,{size:1,style:dEn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(J,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(U,{align:"center",gap:3,children:[l.jsxs(uEn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(r8,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const Qpe=[],hEn=P(te)({maxWidth:"220px"}),Jpe=41,pEn=4,mEn=7,gEn=P(U)({maxHeight:Jpe*mEn+pEn*2+Jpe/2}),vEn=re.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(g){c(g)}}),[]);const d=h.useCallback(g=>l.jsx(fEn,{user:g,onSelect:o}),[o]),f=h.useCallback(g=>{var v;return!((v=i==null?void 0:i[g])!=null&&v.canBeMentioned)},[i]),p=h.useMemo(()=>{var g;if(!a)return i||Qpe;const v=EK(a).toLocaleLowerCase(),b=i==null?void 0:i.map(y=>({...y,displayName:EK(y.displayName||"").toLocaleLowerCase()}));return((g=b==null?void 0:b.filter(y=>{var w;return(w=y==null?void 0:y.displayName)==null?void 0:w.includes(v)}))==null?void 0:g.sort((y,w)=>{var C,_;const S=(C=y.displayName)==null?void 0:C.startsWith(v),k=(_=w.displayName)==null?void 0:_.startsWith(v);return S&&!k?-1:!S&&k?1:0}))||Qpe},[i,a]);if(r)return l.jsx(hEn,{children:l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(Qn,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(gEn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),yEn=e=>{const{children:t}=e;return l.jsx(Ys,{children:t})},bEn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(h$e,{selected:r,userId:n==null?void 0:n.userId}):t},xEn={passive:!0};function wEn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,xEn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var eme=Object.freeze,CEn=Object.defineProperty,v$e=(e,t)=>eme(CEn(e,"raw",{value:eme(t||e.slice())})),tme,nme;const _En={outline:"none"},SEn=P(te)(()=>fe(tme||(tme=v$e([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),kEn=P(an)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return fe(nme||(nme=v$e([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function EEn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=i1(),{canSubmit:m,closeMentions:g,insertMention:v,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:y,onBeforeInput:w,value:C}=g$e(),_=h.useCallback(()=>l.jsx("span",{children:n}),[n]);dr(h.useCallback(()=>{x&&g()},[g,x]),[a]),h.useEffect(()=>{var E;(E=f.current)==null||E.setSearchTerm(y)},[y]),h.useEffect(()=>{x&&p&&!Ht(p.anchor,p.focus)&&g()},[x,g,p]),cs(E=>{E.code==="Escape"&&x&&g()});const S=wEn({disabled:!x,rootElement:u.current}),k=h.useCallback(E=>{switch(E.key){case"Enter":if(E.shiftKey)break;if(E.preventDefault(),E.stopPropagation(),x){g();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(E.preventDefault(),E.stopPropagation(),g());break}i&&i(E)},[m,g,x,i,s]),j=h.useMemo(()=>{if(p)return;const E=(C||[]).slice(-1)[0],T=th(E)?E.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:E._key},"children",{_key:T._key}],offset:oa(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return l.jsxs(l.Fragment,{children:[l.jsx(md,{element:u.current,children:l.jsx(kEn,{arrow:!1,constrainSize:!0,content:l.jsx(vEn,{ref:f,loading:b.loading,onSelect:v,options:b.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:c,referenceElement:S})}),l.jsx(SEn,{ref:u,"data-ui":"EditableWrapStack",children:l.jsx(rTe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:k,ref:d,renderBlock:yEn,renderChild:bEn,renderPlaceholder:_,selection:j,style:_En,tabIndex:t?0:void 0})})]})}var rme=Object.freeze,jEn=Object.defineProperty,Bz=(e,t)=>rme(jEn(e,"raw",{value:rme(t||e.slice())})),ome,ime,sme;const dk=P(M)(ome||(ome=Bz([`
  max-height: 20vh;
  overflow-y: auto;
`]))),TEn=P(Rr)({height:20,width:1}),ame=P(ie).attrs({fontSize:1,padding:2})(ime||(ime=Bz([`
  /* border-radius: 50%; */
`]))),AEn=P(J)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return fe(sme||(sme=Bz([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,dk,dk,dk)});function DEn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=_1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:g,openMentions:v,readOnly:b}=g$e(),x=c?l.jsx(AD,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),g(),v()},[g,v]);return l.jsxs(U,{align:"flex-start",gap:2,children:[x,l.jsx(AEn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:b?"transparent":"default",children:l.jsxs(te,{children:[l.jsx(dk,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(EEn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(ame,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:b,icon:oEn,mode:"bleed",onClick:y}),l.jsx(TEn,{}),l.jsx(ame,{"aria-label":"Send comment",disabled:!d||!m||b,icon:rEn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const IEn=9999999;function OEn(e){const{onClose:t,onConfirm:n}=e,r=ch(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return l.jsx(fCe,{tone:"default",children:l.jsx(md,{__unstable_elements:{boundary:r.element},children:l.jsx(L$,{zOffset:IEn,children:l.jsx(Vi,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(on,{columns:2,padding:2,gap:2,children:[l.jsx(ie,{text:"Cancel",mode:"ghost",onClick:o}),l.jsx(ie,{onClick:i,text:"Discard",tone:"critical"})]}),children:l.jsx(te,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})})}const OP=[],PEn={behavior:"smooth",block:"center",inline:"center"},DD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:g,onSubmit:v,placeholder:b,readOnly:x,value:y=OP,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),k=h.useRef(null),[j,E]=h.useState(!1),[T,A]=h.useState(aE()),D=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Ce.focus(S.current)})},[]),I=h.useCallback(()=>{A(aE())},[]),O=h.useCallback(H=>{if(H.type==="ready"&&s&&D(),H.type==="focus"&&_(!0),H.type==="blur"&&_(!1),H.type==="patch"&&S.current){const W=Ce.getValue(S.current);u(W||OP)}},[s,u,D]),$=h.useCallback(()=>{var H;(H=k.current)==null||H.scrollIntoView(PEn)},[]),R=h.useCallback(()=>{v(),I(),D(),$()},[v,D,I,$]),z=h.useCallback(()=>{f(),I()},[f,I]),F=h.useMemo(()=>({open:()=>{E(!0)},close:()=>{E(!1),D()}}),[D]);return h.useImperativeHandle(n,()=>({focus:D,blur(){S.current&&Ce.blur(S.current)},scrollTo:$,reset:I,discardDialogController:F}),[F,D,I,$]),l.jsxs(l.Fragment,{children:[j&&l.jsx(OEn,{onClose:d,onConfirm:z}),l.jsx(te,{ref:k,"data-testid":"comment-input",children:l.jsx(Ce,{onChange:O,readOnly:x,ref:S,schemaType:nEn,value:y||OP,children:l.jsx(aEn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:g,readOnly:x,value:y,children:l.jsx(vd,{as:te,disabled:!i||j,children:l.jsx(DEn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:R,placeholder:b,withAvatar:w})})})},T)})]})}),PP=3;var lme=Object.freeze,REn=Object.defineProperty,$En=(e,t)=>lme(REn(e,"raw",{value:lme(t||e.slice())})),cme;const MEn={open:500},FEn=P(L)(cme||(cme=$En([`
  min-width: max-content;
`])));function LEn(e){const{children:t,text:n}=e;return l.jsx(at,{delay:MEn,portal:!0,placement:"top",content:l.jsx(FEn,{size:1,children:n}),padding:2,children:l.jsx(U,{children:t})})}var ume=Object.freeze,BEn=Object.defineProperty,NEn=(e,t)=>ume(BEn(e,"raw",{value:ume(t||e.slice())})),dme;const zEn={open:500},VEn={placement:"bottom-end",portal:!1},HEn=P(J)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(dme||(dme=NEn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function UEn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return l.jsx(jet,{delay:zEn,children:l.jsx(U,{"data-root-menu":r?"true":"false",...p,children:l.jsxs(HEn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(LEn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(ie,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?kj:yk,mode:"bleed",onClick:u,padding:2})}),l.jsx(Jt,{id:"comment-actions-menu",button:l.jsx(ie,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:qo,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Bt,{children:[l.jsx(Ne,{fontSize:1,hidden:!n,icon:Bu,onClick:s,text:"Edit comment"}),l.jsx(Ne,{fontSize:1,hidden:!t,icon:go,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Rr,{hidden:!t&&!n}),l.jsx(Ne,{fontSize:1,hidden:!o,icon:Nf,onClick:o,text:"Copy link to comment"})]}),popover:VEn})]})})})}var fme=Object.freeze,WEn=Object.defineProperty,E1=(e,t)=>fme(WEn(e,"raw",{value:fme(t||e.slice())})),hme,pme,mme,gme,vme,yme;const tb=P(us)(hme||(hme=E1([""])));function YEn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return l.jsx(tb,{onClick:n,children:t})}const qEn={width:"50%"},bme=P(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=le.gray[n?200:800].hex;return fe(pme||(pme=E1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),GEn=P(te)(mme||(mme=E1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),KEn=P(U)(gme||(gme=E1([`
  min-height: `,`px;
`])),f$e),ZEn=P(J)(vme||(vme=E1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),XEn=P(te)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(yme||(yme=E1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),tb,n[1],n[1],tb,tb,tb)}),QEn={agoSuffix:!0};function xme(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:g,readOnly:v}=e,{_createdAt:b,authorId:x,message:y,_id:w,lastEditedAt:C}=r,[_]=_1(x),[S,k]=h.useState(y),[j,E]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(y),[I,O]=h.useState(!1),$=p$e(S),R=h.useMemo(()=>zC(S),[S]),z=h.useRef(null),F=b?new Date(b):new Date,H=ni(F,QEn),W=oi(F,"PPPPp"),V=C?oi(new Date(C),"PPPPp"):null,q=i||a,oe=h.useCallback(()=>O(!0),[]),N=h.useCallback(()=>O(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),Y=h.useCallback(Re=>{Re.stopPropagation(),d==null||d(w)},[w,d]),K=h.useCallback(()=>f(w),[w,f]),X=h.useCallback(()=>{E(!1),k(D.current)},[]),Q=h.useCallback(()=>{var Re;if(!R||!$){X();return}(Re=z.current)==null||Re.discardDialogController.open()},[X,$,R]),Z=h.useCallback(Re=>{Re.isDefaultPrevented()||(Re.key==="Escape"&&(Re.preventDefault(),Re.stopPropagation(),Q()),m&&m(Re))},[m,Q]),ne=h.useCallback(()=>{var Re;(Re=z.current)==null||Re.discardDialogController.close()},[]),ae=h.useCallback(()=>{var Re;(Re=z.current)==null||Re.discardDialogController.close(),X()},[X]),me=h.useCallback(()=>{p(w,{message:S}),E(!1)},[w,p,S]),ue=h.useCallback(()=>{g==null||g(w,r.status==="open"?"resolved":"open")},[w,r.status,g]),Te=h.useCallback(()=>{E(Re=>!Re)},[]),_e=h.useCallback(()=>O(!1),[]),be=h.useCallback(()=>{$||X()},[X,$]),ge=h.useCallback(Re=>{Re.key==="Escape"&&!$&&X()},[X,$]);Wi(j,_e),dr(be,[T]);const Oe=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Li,{size:1,style:qEn});return l.jsxs(XEn,{"data-menu-open":I?"true":"false",onKeyDown:ge,ref:A,space:4,children:[l.jsxs(GEn,{space:1,"data-muted":q,children:[l.jsxs(U,{align:"center",gap:PP,flex:1,children:[l.jsx(AD,{user:_}),l.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(U,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:Oe}),!q&&l.jsxs(U,{align:"center",gap:1,children:[l.jsx(bme,{muted:!0,size:0,title:W,children:H}),V&&l.jsx(bme,{muted:!0,size:0,title:V,children:"(edited)"})]})]})}),!j&&!q&&l.jsx(YEn,{children:l.jsx(UEn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:K,onEditStart:Te,onMenuClose:N,onMenuOpen:oe,onStatusChange:ue,readOnly:v,status:r.status})})]}),j&&l.jsxs(U,{align:"flex-start",gap:2,children:[l.jsx(uk,{}),l.jsx(te,{flex:1,children:l.jsx(DD,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:k,onDiscardCancel:ne,onDiscardConfirm:ae,onKeyDown:Z,onSubmit:me,readOnly:v,ref:z,value:S,withAvatar:!1})})]}),!j&&l.jsxs(U,{gap:PP,children:[l.jsx(uk,{}),l.jsx(X5n,{blocks:y})]})]}),q&&l.jsxs(KEn,{gap:PP,children:[l.jsx(uk,{}),l.jsxs(U,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(U,{hidden:a,children:l.jsx(ZEn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:Y,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var wme=Object.freeze,JEn=Object.defineProperty,ejn=(e,t)=>wme(JEn(e,"raw",{value:wme(t||e.slice())})),Cme;const y$e=P(J).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Cme||(Cme=ejn([`
  // ...
`])));var _me=Object.freeze,tjn=Object.defineProperty,Nz=(e,t)=>_me(tjn(e,"raw",{value:_me(t||e.slice())})),Sme,kme,Eme;const Ey=[],jy=5,njn=P(y$e)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return fe(Sme||(Sme=Nz([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),rjn=P(ie)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return fe(kme||(kme=Nz([`
    font-weight: `,`;
  `])),n)}),ojn=P(ie)(Eme||(Eme=Nz([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),ijn=re.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:g,onStatusChange:v,parentComment:b,readOnly:x,replies:y=Ey}=t,[w,C]=h.useState(Ey),[_,S]=h.useState(!0),k=h.useRef(!1),j=h.useRef(null),E=h.useMemo(()=>zC(w),[w]),T=h.useCallback(()=>{const V={fieldPath:b.target.path.field,message:w,parentCommentId:b._id,status:(b==null?void 0:b.status)||"open",threadId:b.threadId};g==null||g(V),C(Ey)},[g,b._id,b==null?void 0:b.status,b.target.path.field,b.threadId,w]),A=h.useCallback(()=>{var V;if(!E){C(Ey);return}(V=j.current)==null||V.discardDialogController.open()},[E]),D=h.useCallback(V=>{V.isDefaultPrevented()||V.key==="Escape"&&(V.preventDefault(),V.stopPropagation(),A())},[A]),I=h.useCallback(()=>{var V;(V=j.current)==null||V.discardDialogController.close()},[]),O=h.useCallback(()=>{var V,q;C(Ey),(V=j.current)==null||V.discardDialogController.close(),(q=j.current)==null||q.focus()},[]),$=h.useCallback(V=>{V.stopPropagation(),m==null||m({fieldPath:b.target.path.field,origin:"inspector",threadId:b.threadId})},[m,b.target.path.field,b.threadId]),R=h.useCallback(V=>{V.stopPropagation(),S(!1),k.current=!0},[]),z=h.useMemo(()=>_?y==null?void 0:y.slice(-jy):y,[y,_]),F=h.useMemo(()=>y?y.length>jy:!1,[y]),H=h.useMemo(()=>"".concat((y==null?void 0:y.length)-jy," more ").concat((y==null?void 0:y.length)-jy===1?"comment":"comments"),[y==null?void 0:y.length]);h.useEffect(()=>{y.length>jy&&!k.current&&S(!0)},[y]);const W=h.useMemo(()=>z.map(V=>{var q,oe;return l.jsx(te,{as:"li","data-comment-id":V._id,children:l.jsx(xme,{canDelete:V.authorId===i.id,canEdit:V.authorId===i.id,comment:V,currentUser:i,hasError:((q=V._state)==null?void 0:q.type)==="createError",isRetrying:((oe=V._state)==null?void 0:oe.type)==="createRetrying",mentionOptions:a,onInputKeyDown:D,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},V._id)}),[i,D,a,c,u,d,f,x,z]);return l.jsx(te,{space:2,children:l.jsxs(njn,{"data-active":s?"true":"false",onClick:$,tone:s?"primary":void 0,children:[l.jsx(ojn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(te,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(te,{as:"li","data-comment-id":b._id,children:l.jsx(xme,{canDelete:b.authorId===i.id,canEdit:b.authorId===i.id,comment:b,currentUser:i,hasError:((n=b._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=b._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:v,readOnly:x})}),F&&!k.current&&l.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(uk,{}),l.jsx(rjn,{fontSize:1,iconRight:nl,mode:"bleed",onClick:R,padding:2,space:2,text:H})]}),W,o&&l.jsx(DD,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:I,onDiscardConfirm:O,onKeyDown:D,onSubmit:T,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),sjn={close:0,open:500},jme=l.jsx(L,{muted:!0,children:l.jsx(Hc,{})}),RP=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function ajn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(at,{delay:sjn,content:l.jsx(te,{space:2,padding:2,children:i.map(RP)}),children:l.jsx(M,{children:RP("...",s)})}),c&&jme]},a):l.jsxs(h.Fragment,{children:[RP(i,s),c&&jme]},a)}),[r]);return l.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const ljn=4,Tme=0,Ame=1,cjn=2;function j1(e){let t=e.length;for(;--t>=0;)e[t]=0}const ujn=0,b$e=1,djn=2,fjn=3,hjn=258,zz=29,VC=256,cw=VC+1+zz,Bv=30,Vz=19,x$e=2*cw+1,Sp=15,$P=16,pjn=7,Hz=256,w$e=16,C$e=17,_$e=18,AF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fk=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mjn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S$e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gjn=512,xu=new Array((cw+2)*2);j1(xu);const qb=new Array(Bv*2);j1(qb);const uw=new Array(gjn);j1(uw);const dw=new Array(hjn-fjn+1);j1(dw);const Uz=new Array(zz);j1(Uz);const JE=new Array(Bv);j1(JE);function MP(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let k$e,E$e,j$e;function FP(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const T$e=e=>e<256?uw[e]:uw[256+(e>>>7)],fw=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Os=(e,t,n)=>{e.bi_valid>$P-n?(e.bi_buf|=t<<e.bi_valid&65535,fw(e,e.bi_buf),e.bi_buf=t>>$P-e.bi_valid,e.bi_valid+=n-$P):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},kc=(e,t,n)=>{Os(e,n[t*2],n[t*2+1])},A$e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},vjn=e=>{e.bi_valid===16?(fw(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},yjn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,g,v=0;for(p=0;p<=Sp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<x$e;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,v++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),g=n[d*2],e.opt_len+=g*(p+m),i&&(e.static_len+=g*(o[d*2+1]+m)));if(v!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},D$e=(e,t,n)=>{const r=new Array(Sp+1);let o=0,i,s;for(i=1;i<=Sp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=A$e(r[a]++,a))}},bjn=()=>{let e,t,n,r,o;const i=new Array(Sp+1);for(n=0,r=0;r<zz-1;r++)for(Uz[r]=n,e=0;e<1<<AF[r];e++)dw[n++]=r;for(dw[n-1]=r,o=0,r=0;r<16;r++)for(JE[r]=o,e=0;e<1<<fk[r];e++)uw[o++]=r;for(o>>=7;r<Bv;r++)for(JE[r]=o<<7,e=0;e<1<<fk[r]-7;e++)uw[256+o++]=r;for(t=0;t<=Sp;t++)i[t]=0;for(e=0;e<=143;)xu[e*2+1]=8,e++,i[8]++;for(;e<=255;)xu[e*2+1]=9,e++,i[9]++;for(;e<=279;)xu[e*2+1]=7,e++,i[7]++;for(;e<=287;)xu[e*2+1]=8,e++,i[8]++;for(D$e(xu,cw+1,i),e=0;e<Bv;e++)qb[e*2+1]=5,qb[e*2]=A$e(e,5);k$e=new MP(xu,AF,VC+1,cw,Sp),E$e=new MP(qb,fk,0,Bv,Sp),j$e=new MP(new Array(0),mjn,0,Vz,pjn)},I$e=e=>{let t;for(t=0;t<cw;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Bv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Vz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Hz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},O$e=e=>{e.bi_valid>8?fw(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Dme=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},LP=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Dme(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Dme(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},Ime=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?kc(e,o,t):(s=dw[o],kc(e,s+VC+1,t),a=AF[s],a!==0&&(o-=Uz[s],Os(e,o,a)),r--,s=T$e(r),kc(e,s,n),a=fk[s],a!==0&&(r-=JE[s],Os(e,r,a)));while(i<e.sym_next);kc(e,Hz,t)},DF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=x$e,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)LP(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],LP(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,LP(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],yjn(e,t),D$e(n,c,e.bl_count)},Ome=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[w$e*2]++):a<=10?e.bl_tree[C$e*2]++:e.bl_tree[_$e*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Pme=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do kc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(kc(e,i,e.bl_tree),a--),kc(e,w$e,e.bl_tree),Os(e,a-3,2)):a<=10?(kc(e,C$e,e.bl_tree),Os(e,a-3,3)):(kc(e,_$e,e.bl_tree),Os(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},xjn=e=>{let t;for(Ome(e,e.dyn_ltree,e.l_desc.max_code),Ome(e,e.dyn_dtree,e.d_desc.max_code),DF(e,e.bl_desc),t=Vz-1;t>=3&&e.bl_tree[S$e[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},wjn=(e,t,n,r)=>{let o;for(Os(e,t-257,5),Os(e,n-1,5),Os(e,r-4,4),o=0;o<r;o++)Os(e,e.bl_tree[S$e[o]*2+1],3);Pme(e,e.dyn_ltree,t-1),Pme(e,e.dyn_dtree,n-1)},Cjn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Tme;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ame;for(n=32;n<VC;n++)if(e.dyn_ltree[n*2]!==0)return Ame;return Tme};let Rme=!1;const _jn=e=>{Rme||(bjn(),Rme=!0),e.l_desc=new FP(e.dyn_ltree,k$e),e.d_desc=new FP(e.dyn_dtree,E$e),e.bl_desc=new FP(e.bl_tree,j$e),e.bi_buf=0,e.bi_valid=0,I$e(e)},P$e=(e,t,n,r)=>{Os(e,(ujn<<1)+(r?1:0),3),O$e(e),fw(e,n),fw(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Sjn=e=>{Os(e,b$e<<1,3),kc(e,Hz,xu),vjn(e)},kjn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===cjn&&(e.strm.data_type=Cjn(e)),DF(e,e.l_desc),DF(e,e.d_desc),s=xjn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?P$e(e,t,n,r):e.strategy===ljn||i===o?(Os(e,(b$e<<1)+(r?1:0),3),Ime(e,xu,qb)):(Os(e,(djn<<1)+(r?1:0),3),wjn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Ime(e,e.dyn_ltree,e.dyn_dtree)),I$e(e),r&&O$e(e)},Ejn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(dw[n]+VC+1)*2]++,e.dyn_dtree[T$e(t)*2]++),e.sym_next===e.sym_end);var jjn=_jn,Tjn=P$e,Ajn=kjn,Djn=Ejn,Ijn=Sjn,Ojn={_tr_init:jjn,_tr_stored_block:Tjn,_tr_flush_block:Ajn,_tr_tally:Djn,_tr_align:Ijn};const Pjn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var hw=Pjn;const Rjn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},$jn=new Uint32Array(Rjn()),Mjn=(e,t,n,r)=>{const o=$jn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var $o=Mjn,pm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Fjn,_tr_stored_block:IF,_tr_flush_block:Ljn,_tr_tally:Rf,_tr_align:Bjn}=Ojn,{Z_NO_FLUSH:$f,Z_PARTIAL_FLUSH:Njn,Z_FULL_FLUSH:zjn,Z_FINISH:Ma,Z_BLOCK:$me,Z_OK:Jo,Z_STREAM_END:Mme,Z_STREAM_ERROR:$c,Z_DATA_ERROR:Vjn,Z_BUF_ERROR:BP,Z_DEFAULT_COMPRESSION:Hjn,Z_FILTERED:Ujn,Z_HUFFMAN_ONLY:M_,Z_RLE:Wjn,Z_FIXED:Yjn,Z_DEFAULT_STRATEGY:qjn,Z_UNKNOWN:Gjn,Z_DEFLATED:ID}=Zm,Kjn=9,Zjn=15,Xjn=8,Qjn=29,Jjn=256,OF=Jjn+1+Qjn,eTn=30,tTn=19,nTn=2*OF+1,rTn=15,qt=3,vf=258,Mc=vf+qt+1,oTn=32,_0=42,Wz=57,PF=69,RF=73,$F=91,MF=103,kp=113,nb=666,ns=1,T1=2,mm=3,A1=4,iTn=3,Ep=(e,t)=>(e.msg=pm[t],t),Fme=e=>e*2-(e>4?9:0),Jd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},sTn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let aTn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Mf=aTn;const qs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},ra=(e,t)=>{Ljn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,qs(e.strm)},hn=(e,t)=>{e.pending_buf[e.pending++]=t},Ty=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},FF=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=hw(e.adler,t,o,n):e.state.wrap===2&&(e.adler=$o(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},R$e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Mc?e.strstart-(e.w_size-Mc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+vf;let m=u[r+s-1],g=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==g||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=vf-(p-r),r=p-vf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],g=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},S0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Mc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),sTn(e),r+=t),e.strm.avail_in===0)break;if(n=FF(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=qt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Mf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Mf(e,e.ins_h,e.window[o+qt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<qt)););}while(e.lookahead<Mc&&e.strm.avail_in!==0)},$$e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ma||t===$f||r!==o+e.strm.avail_in)))break;s=t===Ma&&r===o+e.strm.avail_in?1:0,IF(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,qs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(FF(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?A1:t!==$f&&t!==Ma&&e.strm.avail_in===0&&e.strstart===e.block_start?T1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(FF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ma)&&t!==$f&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ma&&e.strm.avail_in===0&&r===o?1:0,IF(e,e.block_start,r,s),e.block_start+=r,qs(e.strm)),s?mm:ns)},NP=(e,t)=>{let n,r;for(;;){if(e.lookahead<Mc){if(S0(e),e.lookahead<Mc&&t===$f)return ns;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=Mf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Mc&&(e.match_length=R$e(e,n)),e.match_length>=qt)if(r=Rf(e,e.strstart-e.match_start,e.match_length-qt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=qt){e.match_length--;do e.strstart++,e.ins_h=Mf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Mf(e,e.ins_h,e.window[e.strstart+1]);else r=Rf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ra(e,!1),e.strm.avail_out===0))return ns}return e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ma?(ra(e,!0),e.strm.avail_out===0?mm:A1):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?ns:T1},vg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Mc){if(S0(e),e.lookahead<Mc&&t===$f)return ns;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=Mf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=qt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Mc&&(e.match_length=R$e(e,n),e.match_length<=5&&(e.strategy===Ujn||e.match_length===qt&&e.strstart-e.match_start>4096)&&(e.match_length=qt-1)),e.prev_length>=qt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-qt,r=Rf(e,e.strstart-1-e.prev_match,e.prev_length-qt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=Mf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=qt-1,e.strstart++,r&&(ra(e,!1),e.strm.avail_out===0))return ns}else if(e.match_available){if(r=Rf(e,0,e.window[e.strstart-1]),r&&ra(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ns}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Rf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ma?(ra(e,!0),e.strm.avail_out===0?mm:A1):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?ns:T1},lTn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=vf){if(S0(e),e.lookahead<=vf&&t===$f)return ns;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=qt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+vf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=vf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=qt?(n=Rf(e,1,e.match_length-qt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Rf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ra(e,!1),e.strm.avail_out===0))return ns}return e.insert=0,t===Ma?(ra(e,!0),e.strm.avail_out===0?mm:A1):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?ns:T1},cTn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(S0(e),e.lookahead===0)){if(t===$f)return ns;break}if(e.match_length=0,n=Rf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ra(e,!1),e.strm.avail_out===0))return ns}return e.insert=0,t===Ma?(ra(e,!0),e.strm.avail_out===0?mm:A1):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?ns:T1};function ac(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const rb=[new ac(0,0,0,0,$$e),new ac(4,4,8,4,NP),new ac(4,5,16,8,NP),new ac(4,6,32,32,NP),new ac(4,4,16,16,vg),new ac(8,16,32,32,vg),new ac(8,16,128,128,vg),new ac(8,32,128,256,vg),new ac(32,128,258,1024,vg),new ac(32,258,258,4096,vg)],uTn=e=>{e.window_size=2*e.w_size,Jd(e.head),e.max_lazy_match=rb[e.level].max_lazy,e.good_match=rb[e.level].good_length,e.nice_match=rb[e.level].nice_length,e.max_chain_length=rb[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=qt-1,e.match_available=0,e.ins_h=0};function dTn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ID,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(nTn*2),this.dyn_dtree=new Uint16Array((2*eTn+1)*2),this.bl_tree=new Uint16Array((2*tTn+1)*2),Jd(this.dyn_ltree),Jd(this.dyn_dtree),Jd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(rTn+1),this.heap=new Uint16Array(2*OF+1),Jd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*OF+1),Jd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const HC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==_0&&t.status!==Wz&&t.status!==PF&&t.status!==RF&&t.status!==$F&&t.status!==MF&&t.status!==kp&&t.status!==nb?1:0},M$e=e=>{if(HC(e))return Ep(e,$c);e.total_in=e.total_out=0,e.data_type=Gjn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Wz:t.wrap?_0:kp,e.adler=t.wrap===2?0:1,t.last_flush=-2,Fjn(t),Jo},F$e=e=>{const t=M$e(e);return t===Jo&&uTn(e.state),t},fTn=(e,t)=>HC(e)||e.state.wrap!==2?$c:(e.state.gzhead=t,Jo),L$e=(e,t,n,r,o,i)=>{if(!e)return $c;let s=1;if(t===Hjn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>Kjn||n!==ID||r<8||r>15||t<0||t>9||i<0||i>Yjn||r===8&&s!==1)return Ep(e,$c);r===8&&(r=9);const a=new dTn;return e.state=a,a.strm=e,a.status=_0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+qt-1)/qt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,F$e(e)},hTn=(e,t)=>L$e(e,t,ID,Zjn,Xjn,qjn),pTn=(e,t)=>{if(HC(e)||t>$me||t<0)return e?Ep(e,$c):$c;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===nb&&t!==Ma)return Ep(e,e.avail_out===0?BP:$c);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(qs(e),e.avail_out===0)return n.last_flush=-1,Jo}else if(e.avail_in===0&&Fme(t)<=Fme(r)&&t!==Ma)return Ep(e,BP);if(n.status===nb&&e.avail_in!==0)return Ep(e,BP);if(n.status===_0&&n.wrap===0&&(n.status=kp),n.status===_0){let o=ID+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=M_||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=oTn),o+=31-o%31,Ty(n,o),n.strstart!==0&&(Ty(n,e.adler>>>16),Ty(n,e.adler&65535)),e.adler=1,n.status=kp,qs(e),n.pending!==0)return n.last_flush=-1,Jo}if(n.status===Wz){if(e.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=M_||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=$o(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=PF;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=M_||n.level<2?4:0),hn(n,iTn),n.status=kp,qs(e),n.pending!==0)return n.last_flush=-1,Jo}if(n.status===PF){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,qs(e),n.pending!==0)return n.last_flush=-1,Jo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=RF}if(n.status===RF){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o)),qs(e),n.pending!==0)return n.last_flush=-1,Jo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=$F}if(n.status===$F){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o)),qs(e),n.pending!==0)return n.last_flush=-1,Jo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=$o(e.adler,n.pending_buf,n.pending-o,o))}n.status=MF}if(n.status===MF){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(qs(e),n.pending!==0))return n.last_flush=-1,Jo;hn(n,e.adler&255),hn(n,e.adler>>8&255),e.adler=0}if(n.status=kp,qs(e),n.pending!==0)return n.last_flush=-1,Jo}if(e.avail_in!==0||n.lookahead!==0||t!==$f&&n.status!==nb){let o=n.level===0?$$e(n,t):n.strategy===M_?cTn(n,t):n.strategy===Wjn?lTn(n,t):rb[n.level].func(n,t);if((o===mm||o===A1)&&(n.status=nb),o===ns||o===mm)return e.avail_out===0&&(n.last_flush=-1),Jo;if(o===T1&&(t===Njn?Bjn(n):t!==$me&&(IF(n,0,0,!1),t===zjn&&(Jd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),qs(e),e.avail_out===0))return n.last_flush=-1,Jo}return t!==Ma?Jo:n.wrap<=0?Mme:(n.wrap===2?(hn(n,e.adler&255),hn(n,e.adler>>8&255),hn(n,e.adler>>16&255),hn(n,e.adler>>24&255),hn(n,e.total_in&255),hn(n,e.total_in>>8&255),hn(n,e.total_in>>16&255),hn(n,e.total_in>>24&255)):(Ty(n,e.adler>>>16),Ty(n,e.adler&65535)),qs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Jo:Mme)},mTn=e=>{if(HC(e))return $c;const t=e.state.status;return e.state=null,t===kp?Ep(e,Vjn):Jo},gTn=(e,t)=>{let n=t.length;if(HC(e))return $c;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==_0||r.lookahead)return $c;if(o===1&&(e.adler=hw(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Jd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,S0(r);r.lookahead>=qt;){let c=r.strstart,u=r.lookahead-(qt-1);do r.ins_h=Mf(r,r.ins_h,r.window[c+qt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=qt-1,S0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=qt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Jo};var vTn=hTn,yTn=L$e,bTn=F$e,xTn=M$e,wTn=fTn,CTn=pTn,_Tn=mTn,STn=gTn,kTn="pako deflate (from Nodeca project)",Gb={deflateInit:vTn,deflateInit2:yTn,deflateReset:bTn,deflateResetKeep:xTn,deflateSetHeader:wTn,deflate:CTn,deflateEnd:_Tn,deflateSetDictionary:STn,deflateInfo:kTn};const ETn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jTn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ETn(n,r)&&(e[r]=n[r])}}return e},TTn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},OD={assign:jTn,flattenChunks:TTn};let B$e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{B$e=!1}const pw=new Uint8Array(256);for(let e=0;e<256;e++)pw[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;pw[254]=pw[254]=1;var ATn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const DTn=(e,t)=>{if(t<65534&&e.subarray&&B$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var ITn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=pw[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return DTn(i,o)},OTn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+pw[e[n]]>t?n:t},mw={string2buf:ATn,buf2string:ITn,utf8border:OTn};function PTn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var N$e=PTn;const z$e=Object.prototype.toString,{Z_NO_FLUSH:RTn,Z_SYNC_FLUSH:$Tn,Z_FULL_FLUSH:MTn,Z_FINISH:FTn,Z_OK:ej,Z_STREAM_END:LTn,Z_DEFAULT_COMPRESSION:BTn,Z_DEFAULT_STRATEGY:NTn,Z_DEFLATED:zTn}=Zm;function UC(e){this.options=OD.assign({level:BTn,method:zTn,chunkSize:16384,windowBits:15,memLevel:8,strategy:NTn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N$e,this.strm.avail_out=0;let n=Gb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ej)throw new Error(pm[n]);if(t.header&&Gb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=mw.string2buf(t.dictionary):z$e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Gb.deflateSetDictionary(this.strm,r),n!==ej)throw new Error(pm[n]);this._dict_set=!0}}UC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?FTn:RTn,typeof e=="string"?n.input=mw.string2buf(e):z$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===$Tn||i===MTn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Gb.deflate(n,i),o===LTn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Gb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===ej;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};UC.prototype.onData=function(e){this.chunks.push(e)};UC.prototype.onEnd=function(e){e===ej&&(this.result=OD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Yz(e,t){const n=new UC(t);if(n.push(e,!0),n.err)throw n.msg||pm[n.err];return n.result}function VTn(e,t){return t=t||{},t.raw=!0,Yz(e,t)}function HTn(e,t){return t=t||{},t.gzip=!0,Yz(e,t)}var UTn=UC,WTn=Yz,YTn=VTn,qTn=HTn,GTn=Zm,KTn={Deflate:UTn,deflate:WTn,deflateRaw:YTn,gzip:qTn,constants:GTn};const F_=16209,ZTn=16191;var XTn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,g,v,b,x,y,w,C,_,S,k,j,E,T;const A=t.state;r=t.next_in,E=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,g=A.bits,v=A.lencode,b=A.distcode,x=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=v[m&x];t:for(;;){if(C=w>>>24,m>>>=C,g-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(g<C&&(m+=E[r++]<<g,g+=8),_+=m&(1<<C)-1,m>>>=C,g-=C),g<15&&(m+=E[r++]<<g,g+=8,m+=E[r++]<<g,g+=8),w=b[m&y];n:for(;;){if(C=w>>>24,m>>>=C,g-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,g<C&&(m+=E[r++]<<g,g+=8,g<C&&(m+=E[r++]<<g,g+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=F_;break e}if(m>>>=C,g-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=F_;break e}if(k=0,j=p,f===0){if(k+=u-C,C<_){_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}}else if(f<C){if(k+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[k++];while(--C);if(k=0,f<_){C=f,_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}}}else if(k+=f-C,C<_){_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}for(;_>2;)T[i++]=j[k++],T[i++]=j[k++],T[i++]=j[k++],_-=3;_&&(T[i++]=j[k++],_>1&&(T[i++]=j[k++]))}else{k=i-S;do T[i++]=T[k++],T[i++]=T[k++],T[i++]=T[k++],_-=3;while(_>2);_&&(T[i++]=T[k++],_>1&&(T[i++]=T[k++]))}}else if(C&64){t.msg="invalid distance code",A.mode=F_;break e}else{w=b[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=ZTn;break e}else{t.msg="invalid literal/length code",A.mode=F_;break e}else{w=v[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=g>>3,r-=_,g-=_<<3,m&=(1<<g)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=g};const yg=15,Lme=852,Bme=592,Nme=0,zP=1,zme=2,QTn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JTn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eAn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tAn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nAn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,g=0,v=0,b=0,x=0,y=0,w,C,_,S,k,j=null,E;const T=new Uint16Array(yg+1),A=new Uint16Array(yg+1);let D=null,I,O,$;for(u=0;u<=yg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=yg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=yg;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(e===Nme||p!==1))return-1;for(A[1]=0,u=1;u<yg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===Nme?(j=D=s,E=20):e===zP?(j=QTn,D=JTn,E=257):(j=eAn,D=tAn,E=0),y=0,d=0,u=f,k=i,g=m,v=0,_=-1,x=1<<m,S=x-1,e===zP&&x>Lme||e===zme&&x>Bme)return 1;for(;;){I=u-v,s[d]+1<E?(O=0,$=s[d]):s[d]>=E?(O=D[s[d]-E],$=j[s[d]-E]):(O=32+64,$=0),w=1<<u-v,C=1<<g,f=C;do C-=w,o[k+(y>>v)+C]=I<<24|O<<16|$|0;while(C!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==_){for(v===0&&(v=m),k+=f,g=u-v,b=1<<g;g+v<p&&(b-=T[g+v],!(b<=0));)g++,b<<=1;if(x+=1<<g,e===zP&&x>Lme||e===zme&&x>Bme)return 1;_=y&S,o[_]=m<<24|g<<16|k-i|0}}return y!==0&&(o[k+y]=u-v<<24|64<<16|0),a.bits=m,0};var Kb=nAn;const rAn=0,V$e=1,H$e=2,{Z_FINISH:Vme,Z_BLOCK:oAn,Z_TREES:L_,Z_OK:gm,Z_STREAM_END:iAn,Z_NEED_DICT:sAn,Z_STREAM_ERROR:Xa,Z_DATA_ERROR:U$e,Z_MEM_ERROR:W$e,Z_BUF_ERROR:aAn,Z_DEFLATED:Hme}=Zm,PD=16180,Ume=16181,Wme=16182,Yme=16183,qme=16184,Gme=16185,Kme=16186,Zme=16187,Xme=16188,Qme=16189,tj=16190,du=16191,VP=16192,Jme=16193,HP=16194,ege=16195,tge=16196,nge=16197,rge=16198,B_=16199,N_=16200,oge=16201,ige=16202,sge=16203,age=16204,lge=16205,UP=16206,cge=16207,uge=16208,yr=16209,Y$e=16210,q$e=16211,lAn=852,cAn=592,uAn=15,dAn=uAn,dge=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function fAn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<PD||t.mode>q$e?1:0},G$e=e=>{if(Xm(e))return Xa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=PD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(lAn),t.distcode=t.distdyn=new Int32Array(cAn),t.sane=1,t.back=-1,gm},K$e=e=>{if(Xm(e))return Xa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,G$e(e)},Z$e=(e,t)=>{let n;if(Xm(e))return Xa;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Xa:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,K$e(e))},X$e=(e,t)=>{if(!e)return Xa;const n=new fAn;e.state=n,n.strm=e,n.window=null,n.mode=PD;const r=Z$e(e,t);return r!==gm&&(e.state=null),r},hAn=e=>X$e(e,dAn);let fge=!0,WP,YP;const pAn=e=>{if(fge){WP=new Int32Array(512),YP=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kb(V$e,e.lens,0,288,WP,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kb(H$e,e.lens,0,32,YP,0,e.work,{bits:5}),fge=!1}e.lencode=WP,e.lenbits=9,e.distcode=YP,e.distbits=5},Q$e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},mAn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,g,v,b=0,x,y,w,C,_,S,k,j;const E=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xm(e)||!e.output||!e.input&&e.avail_in!==0)return Xa;n=e.state,n.mode===du&&(n.mode=VP),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=gm;e:for(;;)switch(n.mode){case PD:if(n.wrap===0){n.mode=VP;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=$o(n.check,E,2,0),u=0,d=0,n.mode=Ume;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=yr;break}if((u&15)!==Hme){e.msg="unknown compression method",n.mode=yr;break}if(u>>>=4,d-=4,k=(u&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=yr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?Qme:du,u=0,d=0;break;case Ume:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Hme){e.msg="unknown compression method",n.mode=yr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=yr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=$o(n.check,E,2,0)),u=0,d=0,n.mode=Wme;case Wme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=$o(n.check,E,4,0)),u=0,d=0,n.mode=Yme;case Yme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=$o(n.check,E,2,0)),u=0,d=0,n.mode=qme;case qme:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=$o(n.check,E,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Gme;case Gme:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),k)),n.flags&512&&n.wrap&4&&(n.check=$o(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Kme;case Kme:if(n.flags&2048){if(a===0)break e;m=0;do k=r[i+m++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=$o(n.check,r,m,i)),a-=m,i+=m,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Zme;case Zme:if(n.flags&4096){if(a===0)break e;m=0;do k=r[i+m++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=$o(n.check,r,m,i)),a-=m,i+=m,k)break e}else n.head&&(n.head.comment=null);n.mode=Xme;case Xme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=yr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=du;break;case Qme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=dge(u),u=0,d=0,n.mode=tj;case tj:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,sAn;e.adler=n.check=1,n.mode=du;case du:if(t===oAn||t===L_)break e;case VP:if(n.last){u>>>=d&7,d-=d&7,n.mode=UP;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=Jme;break;case 1:if(pAn(n),n.mode=B_,t===L_){u>>>=2,d-=2;break e}break;case 2:n.mode=tge;break;case 3:e.msg="invalid block type",n.mode=yr}u>>>=2,d-=2;break;case Jme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yr;break}if(n.length=u&65535,u=0,d=0,n.mode=HP,t===L_)break e;case HP:n.mode=ege;case ege:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=du;break;case tge:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yr;break}n.have=0,n.mode=nge;case nge:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Kb(rAn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=yr;break}n.have=0,n.mode=rge;case rge:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=yr;break}k=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,k=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,k=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yr;break}for(;m--;)n.lens[n.have++]=k}}if(n.mode===yr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=yr;break}if(n.lenbits=9,T={bits:n.lenbits},j=Kb(V$e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=yr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Kb(H$e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=yr;break}if(n.mode=B_,t===L_)break e;case B_:n.mode=N_;case N_:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,XTn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===du&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(C=x,_=y,S=w;b=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=lge;break}if(y&32){n.back=-1,n.mode=du;break}if(y&64){e.msg="invalid literal/length code",n.mode=yr;break}n.extra=y&15,n.mode=oge;case oge:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ige;case ige:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(C=x,_=y,S=w;b=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=yr;break}n.offset=w,n.extra=y&15,n.mode=sge;case sge:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yr;break}n.mode=age;case age:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yr;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),v=n.window}else v=o,g=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=v[g++];while(--m);n.length===0&&(n.mode=N_);break;case lge:if(c===0)break e;o[s++]=n.length,c--,n.mode=N_;break;case UP:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?$o(n.check,o,p,s-p):hw(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:dge(u))!==n.check){e.msg="incorrect data check",n.mode=yr;break}u=0,d=0}n.mode=cge;case cge:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=yr;break}u=0,d=0}n.mode=uge;case uge:j=iAn;break e;case yr:j=U$e;break e;case Y$e:return W$e;case q$e:default:return Xa}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<yr&&(n.mode<UP||t!==Vme))&&Q$e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?$o(n.check,o,p,e.next_out-p):hw(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===du?128:0)+(n.mode===B_||n.mode===HP?256:0),(f===0&&p===0||t===Vme)&&j===gm&&(j=aAn),j},gAn=e=>{if(Xm(e))return Xa;let t=e.state;return t.window&&(t.window=null),e.state=null,gm},vAn=(e,t)=>{if(Xm(e))return Xa;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,gm):Xa},yAn=(e,t)=>{const n=t.length;let r,o,i;return Xm(e)||(r=e.state,r.wrap!==0&&r.mode!==tj)?Xa:r.mode===tj&&(o=1,o=hw(o,t,n,0),o!==r.check)?U$e:(i=Q$e(e,t,n,n),i?(r.mode=Y$e,W$e):(r.havedict=1,gm))};var bAn=K$e,xAn=Z$e,wAn=G$e,CAn=hAn,_An=X$e,SAn=mAn,kAn=gAn,EAn=vAn,jAn=yAn,TAn="pako inflate (from Nodeca project)",wu={inflateReset:bAn,inflateReset2:xAn,inflateResetKeep:wAn,inflateInit:CAn,inflateInit2:_An,inflate:SAn,inflateEnd:kAn,inflateGetHeader:EAn,inflateSetDictionary:jAn,inflateInfo:TAn};function AAn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DAn=AAn;const J$e=Object.prototype.toString,{Z_NO_FLUSH:IAn,Z_FINISH:OAn,Z_OK:gw,Z_STREAM_END:qP,Z_NEED_DICT:GP,Z_STREAM_ERROR:PAn,Z_DATA_ERROR:hge,Z_MEM_ERROR:RAn}=Zm;function WC(e){this.options=OD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N$e,this.strm.avail_out=0;let n=wu.inflateInit2(this.strm,t.windowBits);if(n!==gw)throw new Error(pm[n]);if(this.header=new DAn,wu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=mw.string2buf(t.dictionary):J$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=wu.inflateSetDictionary(this.strm,t.dictionary),n!==gw)))throw new Error(pm[n])}WC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?OAn:IAn,J$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=wu.inflate(n,s),i===GP&&o&&(i=wu.inflateSetDictionary(n,o),i===gw?i=wu.inflate(n,s):i===hge&&(i=GP));n.avail_in>0&&i===qP&&n.state.wrap>0&&e[n.next_in]!==0;)wu.inflateReset(n),i=wu.inflate(n,s);switch(i){case PAn:case hge:case GP:case RAn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===qP))if(this.options.to==="string"){let c=mw.utf8border(n.output,n.next_out),u=n.next_out-c,d=mw.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===gw&&a===0)){if(i===qP)return i=wu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};WC.prototype.onData=function(e){this.chunks.push(e)};WC.prototype.onEnd=function(e){e===gw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function qz(e,t){const n=new WC(t);if(n.push(e),n.err)throw n.msg||pm[n.err];return n.result}function $An(e,t){return t=t||{},t.raw=!0,qz(e,t)}var MAn=WC,FAn=qz,LAn=$An,BAn=qz,NAn=Zm,zAn={Inflate:MAn,inflate:FAn,inflateRaw:LAn,ungzip:BAn,constants:NAn};const{Deflate:VAn,deflate:HAn,deflateRaw:UAn,gzip:WAn}=KTn,{Inflate:YAn,inflate:qAn,inflateRaw:GAn,ungzip:KAn}=zAn;var ZAn=VAn,XAn=HAn,QAn=UAn,JAn=WAn,eDn=YAn,tDn=qAn,nDn=GAn,rDn=KAn,oDn=Zm,eMe={Deflate:ZAn,deflate:XAn,deflateRaw:QAn,gzip:JAn,Inflate:eDn,inflate:tDn,inflateRaw:nDn,ungzip:rDn,constants:oDn};function iDn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function tMe(e,t){return k0(e)?e[Number(t)]:e[t]}function nMe(e,t){if(e){var n=t.shift(),r=tMe(e,n);return t.length&&(k0(r)||vw(r))?nMe(r,t):r}}function k0(e){return Array.isArray(e)}function vw(e){return e&&typeof e=="object"}function KP(e,t,n){if(k0(e)){e[Number(t)]=n;return}if(vw(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function pge(e){if(k0(e))return e.slice(0);if(vw(e))return iDn({},e);throw new Error("shallowClone: source must be an object or an array")}function sDn(e,t){return t?nMe(e,t.split("/")):e}function aDn(e,t,n){if(!t){if(k0(n)||vw(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(sDn(e,t)===n)return e;for(var r=pge(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=tMe(i,a);if(c===void 0&&(c={},KP(i,a,c)),!k0(c)&&!vw(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=pge(i);KP(s,a,u),s=u}else KP(s,a,n)}return r}const Nv=[],LF={},lDn="auto",cDn=1,nj=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],mge=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function rMe(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const uDn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function dDn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function oMe(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const iMe=h.createContext(null);function D1(){const e=h.useContext(iMe);if(!e)throw new Error("Props: missing context value");return e}const fDn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=D1();return l.jsxs(U,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(uT,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),hDn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=D1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Lr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),pDn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=D1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(qf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),mDn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=D1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Lr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),gDn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=D1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx($Ce,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function vDn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(fDn,{schema:t,value:n}):t.type==="number"?l.jsx(hDn,{schema:t,value:n}):t.type==="select"?l.jsx(pDn,{schema:t,value:n}):t.type==="string"?l.jsx(mDn,{schema:t,value:n}):t.type==="text"?l.jsx(gDn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const yDn=h.memo(function(){const{schemas:t,value:n}=D1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(vDn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),zv=Ht,sMe=h.createContext(null);function ll(){const e=h.useContext(sMe);if(!e)throw new Error("Workshop: missing context value");return e}const bDn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,xDn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function wDn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return bDn(t)}function CDn(e){const t=xDn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function _Dn(e){if(e.length===0)return"";const t=CDn(e);return eMe.inflate(t,{to:"string"})}function SDn(e){if(e.length===0)return"";const t=eMe.deflate(e);return wDn(t)}function kDn(e){return SDn(JSON.stringify(e))}function gge(e){try{return JSON.parse(_Dn(e))}catch{return{}}}function EDn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const jDn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=ll(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:gge(String(s))||{}}),f=h.useCallback(v=>{o({type:"workshop/props/registerProp",schema:v})},[o]),p=h.useCallback(v=>{o({type:"workshop/props/unregisterProp",name:v})},[o]),m=h.useCallback((v,b)=>{o({type:"workshop/props/setPropValue",name:v,value:b})},[o]),g=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(v=>{d(b=>{const x=EDn(b,v);return zv(b,x)?b:x})}),[r]),h.useEffect(()=>{const v=kDn(u);a.current!==v&&(a.current=v,o({type:"workshop/setPayloadValue",key:"value",value:v}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(v=>({...v,value:gge(String(s))||{}})))},[s]),l.jsx(iMe.Provider,{value:g,children:n})});function TDn(){return{name:"props",title:"Properties",inspector:yDn,provider:jDn}}const aMe=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Nv,collections:g=Nv,frameUrl:v="/frame/",scopes:b,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[TDn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>dDn(b,c),[c,b]),_=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:g,frameReady:s,frameUrl:v,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:b,story:C,title:x,viewport:f,zoom:p}),[y,n,o,g,s,v,a,c,u,d,w,b,C,x,f,p]);let S=r;for(const k of y)k.provider&&(S=h.createElement(k.provider,{options:k.options||LF},S));return l.jsx(sMe.Provider,{value:_,children:S})});function lMe(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return zv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return zv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return zv(e.payload,n)?e:{...e,payload:n}}return e}const vge=(()=>{try{return{}.ROOT_PATH}catch{return}})(),ADn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,DDn=/\/@fs\//g,IDn=/\?([a-z]{1})=([0-9]+)/g;function yge(e){let t=decodeURIComponent(e);return t=e.replace(ADn,"").replace(DDn,"/").replace(IDn,""),vge?ODn(t,vge+"/"):t}function ODn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const PDn=h.memo(function(){const{story:t}=ll(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(J,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx($Dn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(RDn,{story:t}),children:l.jsx(J,{as:"main",height:"fill",children:l.jsx(B0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),RDn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(Qn,{muted:!0})})]})}),$Dn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(te,{space:4,children:[l.jsx(Go,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(ie,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(lr,{size:1,children:yge(n.stack)}),r&&l.jsx(lr,{size:1,children:"Component stack:"+yge(r.componentStack)})]})})});function cMe(e){return Array.isArray(e)}function uMe(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function MDn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(cMe(c)){for(const u of c)if(uMe(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function FDn(){const e=typeof window>"u"?{}:uDn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>MDn(),[]),i=h.useMemo(()=>rMe(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:g,viewport:v,zoom:b},x]=h.useState(()=>FDn());return h.useEffect(()=>i.subscribe(y=>x(w=>lMe(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(g),[r,g]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(h8,{children:l.jsx(Gu,{element:s,children:l.jsx(md,{element:c,children:l.jsx(aMe,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:g,viewport:v,zoom:b,children:l.jsxs(J,{height:"fill",ref:a,children:[l.jsx(PDn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var bge=Object.freeze,LDn=Object.defineProperty,BDn=(e,t)=>bge(LDn(e,"raw",{value:bge(t||e.slice())})),xge;e1e(xge||(xge=BDn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var wge=Object.freeze,NDn=Object.defineProperty,zDn=(e,t)=>wge(NDn(e,"raw",{value:wge(t||e.slice())})),Cge;const VDn=h.memo(wx),HDn=P(J)(Cge||(Cge=zDn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),UDn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(WDn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(us,{style:i,children:l.jsx(HDn,{padding:2,shadow:1,children:l.jsx(pT,{space:1,children:s})})})});function WDn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(VDn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var _ge=Object.freeze,YDn=Object.defineProperty,qDn=(e,t)=>_ge(YDn(e,"raw",{value:_ge(t||e.slice())})),Sge;const GDn=P(J)(Sge||(Sge=qDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),kge=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),KDn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=ll(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(GDn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[c&&l.jsx(UDn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(WCe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(kge,{component:d.plugin.inspector,options:d.plugin.options||LF})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(kge,{component:a.plugin.inspector,options:a.plugin.options||LF})})]})})}),Ege=_w;function ZDn(){const{broadcast:e,scope:t,story:n,title:r}=ll(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(XDn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const XDn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(u8,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),QDn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=ll(),a=h.useMemo(()=>n==="/"?void 0:oMe({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(ie,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:rh,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function JDn(){const{broadcast:e,scheme:t}=ll(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(eIn,{dark:t==="dark",onToggleScheme:n})}const eIn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(ie,{fontSize:1,icon:n?m6:b6,mode:"bleed",onClick:r,padding:2})}),tIn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=ll(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(rIn,{disabled:!n,setViewport:o,viewport:r})}),nIn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},rIn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(Jt,{button:l.jsx(ie,{disabled:r,fontSize:1,iconRight:Wl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=nj.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Bt,{children:nj.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:nIn})});function oIn(){const{broadcast:e,story:t,zoom:n}=ll(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(sIn,{disabled:!t,setZoom:r,zoom:n})}const iIn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},sIn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(Jt,{button:l.jsx(ie,{disabled:r,fontSize:1,iconRight:Wl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=mge.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Bt,{children:mge.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:iIn})}),aIn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=Tm(),{story:a,title:c}=ll();return l.jsx(J,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(U,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(ie,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:p6,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(ZDn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(ie,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:Tj,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Gt,{space:1,children:[l.jsx(QDn,{}),l.jsx(tIn,{}),l.jsx(oIn,{}),l.jsx(JDn,{})]})})]})})});function dMe(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return dMe((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function lIn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=aDn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...dMe(e,s,i));return o}const cIn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(te,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(J,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),uIn=h.memo(function(t){const{items:n}=t;return l.jsx(KCe,{space:1,children:l.jsx(fMe,{items:n})})}),fMe=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=ll(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(dIn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(Cx,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(fIn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(Cx,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),dIn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(fMe,{basePath:o,items:r.items}),[r,o]);return l.jsx(Cx,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),fIn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(Cx,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(Cx,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var jge=Object.freeze,hIn=Object.defineProperty,pIn=(e,t)=>jge(hIn(e,"raw",{value:jge(t||e.slice())})),Tge;const mIn=P(J)(Tge||(Tge=pIn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),gIn={flex:"none"},vIn={lineHeight:0},yIn=[2,2,1],bIn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=ll(),s=h.useMemo(()=>lIn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Nv;const g=a.toLowerCase(),v=[];for(const b of i)for(const x of b.stories)((m=b.title)!=null&&m.toLowerCase().includes(g)||x.title.toLowerCase().includes(g))&&v.push({scope:b,story:x});return v},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const v=m.currentTarget.getAttribute("data-path");v&&(o({type:"workshop/setPath",value:v}),c(""))},[o]);return l.jsx(xIn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),xIn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(mIn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(us,{style:gIn,children:l.jsx(J,{padding:2,shadow:1,style:vIn,children:l.jsx(Lr,{border:!1,clearButton:!!c,fontSize:yIn,icon:ii,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(J,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(cIn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(uIn,{items:o.items})})]})]})})});var Age=Object.freeze,wIn=Object.defineProperty,CIn=(e,t)=>Age(wIn(e,"raw",{value:Age(t||e.slice())})),Dge;const _In=P.iframe(Dge||(Dge=CIn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),SIn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=ll(),p=nj.find(w=>w.name===d)||nj[0],m=p==null?void 0:p.rect.width,g=p==null?void 0:p.rect.height,[v]=h.useState(()=>oMe({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),b=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:g?"".concat((g||1)*f,"px"):void 0}),[m,g,f]),x=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(J,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(Qr,{width:0,children:l.jsxs(te,{padding:4,space:4,children:[l.jsx(Go,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(Qn,{muted:!0}),l.jsx(Qr,{height:"fill",hidden:!o||s==="/",style:b,width:"auto",children:l.jsx(J,{height:"fill",shadow:1,children:l.jsx(_In,{ref:n,src:v,style:y})})})]})})});function kIn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(cMe(u)){for(const d of u)if(uMe(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function Ige(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Oge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==lDn&&(s.viewport=o),i&&i!==cDn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>rMe(),[]),d=h.useMemo(()=>kIn(),[]),[f,p]=h.useState(null),[m,g]=h.useState(null),[{frameReady:v,path:b,payload:x,scheme:y,viewport:w,zoom:C},_]=h.useState(()=>Ige(i.get(),a)),S=Tm(),[k,j]=h.useState(!1),[E,T]=h.useState(!1),A=h.useRef(v),D=h.useRef(y),I=h.useRef(b),O=h.useRef({scheme:y,viewport:w,zoom:C,...x}),$=h.useCallback(V=>{u.publish(V),d.message.publish(V)},[u,d]),R=h.useMemo(()=>Ege(V=>i.push(V),150),[i]),z=h.useMemo(()=>Ege(V=>i.replace(V),150),[i]),F=h.useCallback(()=>{j(V=>!V),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(V=>!V)},[]),W=h.useRef(S);return h.useEffect(()=>{W.current<2&&S>=2&&(j(!1),T(!1)),W.current=S},[S]),h.useEffect(()=>{j(!1)},[b]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>z.cancel(),[z]),h.useEffect(()=>u.subscribe(V=>{_(q=>{const oe=lMe(q,V),N=!zv(q,oe);if(N){if(V.type==="workshop/setPath"){if(I.current!==oe.path){I.current=oe.path;const G=Oge(oe,!1);R({path:oe.path,query:G})}}else if(V.type!=="workshop/setState"){const G=Oge(oe);zv(O.current,G)||(O.current=G,z({path:oe.path,query:G}))}}return N?oe:q})}),[R,z,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=v},[v]),h.useEffect(()=>i.subscribe(V=>{const q=Ige(V,void 0,v);$({type:"workshop/setState",value:q})}),[$,v,i]),h.useEffect(()=>{D.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(aMe,{config:o,broadcast:$,channel:u,frameReady:v,origin:"main",path:b,payload:x,scheme:y,viewport:w,zoom:C,children:l.jsx(h8,{children:l.jsx(Gu,{element:f,children:l.jsx(md,{element:m,children:l.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(aIn,{inspectorExpanded:E,navigatorExpanded:k,onInspectorToggle:H,onNavigatorToggle:F}),l.jsxs(U,{flex:1,children:[l.jsx(bIn,{collections:o.collections,expanded:k}),l.jsx(SIn,{frameRef:d.setElement,hidden:k||E}),l.jsx(KDn,{expanded:E})]}),l.jsx("div",{"data-portal":"",ref:g})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function EIn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(Nv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Nv)},[a,u]),m=h.useMemo(()=>zC(u),[u]),g=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),v=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),g()),s&&s(w))},[s,g]),b=h.useCallback(()=>{var w,C;d(Nv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(DD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:b,onKeyDown:v,onFocus:i,onSubmit:p,placeholder:y,readOnly:c,ref:f,value:u})}var Pge=Object.freeze,jIn=Object.defineProperty,hMe=(e,t)=>Pge(jIn(e,"raw",{value:Pge(t||e.slice())})),Rge,$ge;const TIn=P(U)(Rge||(Rge=hMe([`
  min-height: 25px;
`]))),AIn=P(ie)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return fe($ge||($ge=hMe([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function DIn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(b=>{const x={fieldPath:i,message:b,parentCommentId:void 0,status:"open",threadId:bd()};c==null||c(x)},[c,i]),p=h.useCallback(b=>{b.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(b=>{b.stopPropagation(),b.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),g=h.useMemo(()=>(t==null?void 0:t.map(b=>b.title))||[],[t]),v=g[g.length-1];return l.jsxs(te,{space:2,children:[l.jsx(TIn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(te,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(AIn,{"aria-label":"Go to ".concat(v," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(ajn,{maxLength:3,titlePath:g})})})})}),n&&l.jsx(y$e,{onClick:m,tone:s?"primary":void 0,children:l.jsx(EIn,{currentUser:o,fieldName:v,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(te,{space:2,children:r})]})}const Mge={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function IIn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(U,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(Qn,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(Qr,{width:0,padding:4,children:l.jsxs(te,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:Mge[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:Mge[t].message})]})})}):null}const OIn={behavior:"smooth",block:"start",inline:"nearest"};function PIn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const RIn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:g,onStatusChange:v,readOnly:b,selectedPath:x,status:y}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const E=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));E&&E.scrollIntoView(OIn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(PIn(r)),[r]),k=!s&&!i&&S.length>0;return l.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(IIn,{error:i,hasNoComments:S.length===0,loading:s,status:y}),k&&l.jsx(te,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Gu,{element:w,children:S==null?void 0:S.map(j=>{let[E,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===E&&!x.threadId;return l.jsx(te,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(DIn,{breadcrumbs:A,canCreateNewThread:y==="open",currentUser:o,fieldPath:E,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:b,children:T.map(O=>{var $,R;const z=O.replies.slice().reverse(),F=y==="open"&&(($=O.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=O.parentComment._state)==null?void 0:R.type)!=="createRetrying",H=(x==null?void 0:x.threadId)===O.parentComment.threadId&&(x==null?void 0:x.fieldPath)===O.parentComment.target.path.field;return l.jsx(ijn,{canReply:F,currentUser:o,isSelected:H,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:g,onStatusChange:v,parentComment:O.parentComment,readOnly:b,replies:z},O.parentComment._id)})},E)},E)})})})]})}),$In=re.memo(RIn),MIn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function FIn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=MIn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Vi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(on,{columns:2,padding:2,gap:2,children:[l.jsx(ie,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(ie,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(te,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(cr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var Fge=Object.freeze,LIn=Object.defineProperty,Gz=(e,t)=>Fge(LIn(e,"raw",{value:Fge(t||e.slice())})),Lge,Bge,Nge;const BIn=P(M)(Lge||(Lge=Gz([`
  max-width: 280px;
`]))),NIn=wm(Bge||(Bge=Gz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),zIn=P(an)(Nge||(Nge=Gz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),NIn);function VIn(e){const{onDismiss:t}=e;return l.jsx(zIn,{content:l.jsx(BIn,{padding:4,children:l.jsxs(te,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(U,{justify:"flex-end",marginTop:2,children:l.jsx(ie,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const Kz=h.createContext(null);function HIn(e){const t={};return e!==null&&(t.identity=e.id),t}const ZP=new Map;async function UIn(e,t,n){ZP.has(t)||ZP.set(t,sAe("*[".concat(t,"]")));const r=ZP.get(t),o=HIn(e),{identity:i}=o,s={...o},a=await(await eAe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function WIn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await UIn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const zge={data:[],error:null,loading:!0};let Vge=null;function YIn(e){const{documentValue:t}=e,n=RCn(),r=kz(),o=Jn(sn),[i,s]=h.useState(zge),a=h.useMemo(()=>{const u=n.get().pipe(ce(g=>{var v;return(v=g.members)==null?void 0:v.filter(b=>!b.isRobot)})).pipe(it(async g=>{const v=g.map(x=>{let{id:y}=x;return y});return await r.getUsers(v)}),ce(g=>g.map(v=>({displayName:v.displayName,id:v.id,canBeMentioned:!1})))),d=Vge,f=d?ve(d):o.observable.fetch('*[_type == "system.group"]');return Vnt([u,f]).pipe(ft(async g=>{let[v,b]=g;d||(Vge=b);const x=v==null?void 0:v.map(async w=>{const _=[...b.map(k=>k.members.includes(w.id)?k.grants:[])].flat(),{granted:S}=await WIn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ce(g=>({error:null,loading:!1,data:Rm(g,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=ve(zge),d=Ur(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function qIn(e){const{documentId:t,documentType:n}=e||{},r=En().get(n),{title:o}=Zl(),{createPathWithParams:i,params:s}=ru(),a=Yi(),c=yo(()=>!t||!r?ve(null):BA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:g}=m;const v=i({...s,comment:g,inspect:Yb}),b="".concat(window.location.origin).concat(v);return{documentTitle:f,url:b,workspaceTitle:o}},[i,f,s,o])}}function GIn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:g}=e,v=n==null?void 0:n.id,b=MT(h.useCallback(E=>typeof E.tool=="string"?E.tool:void 0,[])),{tools:x}=Zl(),y=h.useMemo(()=>x.find(E=>E.name===b),[b,x]),{getNotificationValue:w}=qIn({documentId:o,documentType:i}),C=h.useCallback(async E=>{const T=(E==null?void 0:E.id)||bd(),A=((s==null?void 0:s(E.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:O=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:O},R={_id:T,_type:"comment",authorId:v||"",lastEditedAt:void 0,message:E.message,parentCommentId:E.parentCommentId,status:E.status,threadId:E.threadId,context:{payload:{workspace:g},notification:$,tool:(y==null?void 0:y.name)||""},target:{path:{field:E.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(z){throw c==null||c(R._id,z),z}return}try{await t.create(R)}catch(z){throw c==null||c(R._id,z),z}},[y==null?void 0:y.name,v,t,r,o,i,w,s,a,c,p,m,g]),_=h.useCallback(async E=>{t&&(d==null||d(E),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(E,'"]')}),t.delete(E)]))},[t,d]),S=h.useCallback(async(E,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(E,A),await t.patch(E).set(A).commit()},[t,u]),k=h.useCallback(async(E,T)=>{if(t){if(f==null||f(E,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(E,'"]')}).set({status:T.status}).commit(),t.patch(E).set(T).commit()]);return}await(t==null?void 0:t.patch(E).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:k}),[C,_,S,k])}}function pMe(){const e=h.useContext(Kz);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function KIn(){const e=h.useContext(wMe);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function Zz(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=QPe("studioComments"),{enabled:i}=Fn().document.unstable_comments,s=i({documentType:n,documentId:Rn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const mMe=h.createContext(null),ZIn=1,gMe="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(ZIn),XIn=e=>{try{window.localStorage.setItem(gMe,JSON.stringify(e))}catch{}},QIn=()=>{try{const e=window.localStorage.getItem(gMe);return e?JSON.parse(e):!1}catch{return!1}};function JIn(e){const{children:t}=e,[n,r]=h.useState(QIn()),o=h.useCallback(()=>{r(!0),XIn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(mMe.Provider,{value:i,children:t})}function e3n(){const e=h.useContext(mMe);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function vMe(){const e=h.useContext(CMe);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function t3n(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function n3n(e,t){switch(t.type){case"COMMENTS_SET":{const n=t3n(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const r3n={comments:{}},o3n={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},i3n="_createdAt",s3n="desc",a3n=['_type == "comment"',"target.document._ref == $documentId"],l3n=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,c3n="order(".concat(i3n," ").concat(s3n,")"),Hge="*[".concat(a3n.join(" && "),"] ").concat(l3n," | ").concat(c3n);function u3n(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(n3n,r3n),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:Rn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const g=await t.fetch(Hge,u);o({type:"COMMENTS_SET",comments:g}),s(!1)}catch(g){c(g)}},[t,u]),f=h.useCallback(async g=>{if(g.type==="welcome"&&(s(!0),await d(),s(!1)),g.type==="reconnect"&&s(!0),g.type==="mutation"){if(g.transition==="appear"){const v=g.result;v&&o({type:"COMMENT_RECEIVED",payload:v})}if(g.transition==="disappear"&&o({type:"COMMENT_DELETED",id:g.documentId}),g.transition==="update"){const v=g.result;v&&o({type:"COMMENT_UPDATED",payload:v})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(Hge,u,o3n).pipe(Pn(v=>(c(v),ve(v)))):ve(),[t,u]);return h.useEffect(()=>{const g=p.subscribe(f);return()=>{g==null||g.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function yMe(e,t){var n;const r=Ol(t),o=r[0];if(o&&Qa(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Ir(r.slice(1));return s?yMe(i.type,s):i}}}function d3n(e,t){if(typeof t=="number")return t;const n=P7(e,t);return n===-1?!1:n}function f3n(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Ol(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,g;const v=i.slice(0,u+1),b=i.slice(0,u),x=yMe(n,Ir(v)),y=c.hasOwnProperty("_key"),w=Dl(o,b),C=Dl(o,v),_={document:o,currentUser:t,parent:w,value:C};if(y&&Array.isArray(w)){const S=d3n(w,c),k=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:k?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=uo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:Np(x.type)}),a=x.type;return}if(Hl(a)){const S=Dl(o,b),k=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(O=>O.name===k),E=(f=j==null?void 0:j.fields)==null?void 0:f.find(O=>O.name===c);if(!k&&C){const O=(p=a==null?void 0:a.of)==null?void 0:p.map(z=>z==null?void 0:z.fields).filter(Boolean).flat(),$=O==null?void 0:O.find(z=>(z==null?void 0:z.name)===c),R=uo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:Np($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!E){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=Np(E==null?void 0:E.type),A=uo((g=j==null?void 0:j.type)==null?void 0:g.hidden,_),D=uo(E==null?void 0:E.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=E==null?void 0:E.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function h3n(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=f3n({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const BF=[],bMe={open:BF,resolved:BF},p3n={data:bMe,error:null,loading:!1},m3n={data:[],error:null,loading:!1},xMe=async()=>{await Promise.resolve()},z_={execute:xMe},g3n={comments:p3n,create:z_,edit:z_,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:m3n,remove:z_,setStatus:xMe,status:"open",update:z_},v3n=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=Zz({documentId:r,documentType:o});return i?l.jsx(y3n,{...t}):l.jsx(Kz.Provider,{value:g3n,children:n})}),y3n=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=KIn(),d=Rn(r),f=gz(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:g=BF,error:v,loading:b}=u3n({documentId:d,client:a}),x=YIn(h.useMemo(()=>({documentValue:p}),[p])),y=En().get(o),w=Ko(),{name:C,dataset:_,projectId:S}=Zl(),k=h.useMemo(()=>{if(!y||!w)return bMe;const z=e1(g,["_createdAt"],["desc"]),F=h3n({comments:z,schemaType:y,currentUser:w,documentValue:p});return{open:F.filter(H=>H.parentComment.status==="open"),resolved:F.filter(H=>H.parentComment.status==="resolved")}},[w,g,p,y]),j=h.useCallback(z=>k.open.filter(F=>F.threadId===z).length,[k.open]),E=h.useCallback(z=>g==null?void 0:g.find(F=>F._id===z),[g]),T=h.useCallback(z=>{const F=E(z);return F?F.target.path.field:null},[E]),A=h.useCallback(async z=>{var F,H;const W=((H=(F=g==null?void 0:g.find(V=>V._id===z._id))==null?void 0:F._state)==null?void 0:H.type)==="createError";m({type:"COMMENT_ADDED",payload:{...z,_state:W?{type:"createRetrying"}:void 0}})},[g,m]),D=h.useCallback((z,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:z,...F}})},[m]),I=h.useCallback((z,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:z,...F}})},[m]),O=h.useCallback((z,F)=>{m({type:"COMMENT_UPDATED",payload:{_id:z,_state:{error:F,type:"createError"}}})},[m]),{operation:$}=GIn(h.useMemo(()=>({client:a,currentUser:w,dataset:_,documentId:d,documentType:o,projectId:S,schemaType:y,workspace:C,getThreadLength:j,runSetup:c,onCreate:A,onCreateError:O,onEdit:I,onUpdate:D}),[a,w,_,d,o,S,y,C,j,c,A,O,I,D])),R=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:E,getCommentPath:T,comments:{data:k,error:v,loading:b||u},create:{execute:$.create},remove:{execute:$.remove},edit:{execute:$.edit},update:{execute:$.update},mentionOptions:x}),[u,i,E,T,k,v,b,$.create,$.remove,$.edit,$.update,x]);return l.jsx(Kz.Provider,{value:R,children:n})}),wMe=h.createContext(null);function b3n(e){const{children:t}=e,{dataset:n,projectId:r}=Zl(),o=Jn(sn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const g=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=g==null?void 0:g[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const g=await u();if(g){const v=d(g);s(v),await v.create(m),c(!1);return}}catch{}try{const g=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),v=g==null?void 0:g.datasetName;if(!v){c(!1);return}const b=d(v);s(b),await b.create(m)}catch(g){throw g}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const g=d(m);s(g)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(wMe.Provider,{value:p,children:t})}const CMe=h.createContext(null),x3n=re.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(CMe.Provider,{value:s,children:n})}),w3n=P(J)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),C3n=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(w3n,{ref:n,children:l.jsxs(U,{padding:2,children:[l.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(WCn,{})]}),l.jsxs(U,{flex:"none",padding:1,gap:2,children:[l.jsx(Jt,{id:"comment-status-menu-button",button:l.jsx(ie,{text:un(i),fontSize:1,padding:2,mode:"bleed",iconRight:nl,space:2}),menu:l.jsxs(Bt,{style:{width:"180px"},children:[l.jsx(Ne,{fontSize:1,iconRight:i==="open"?Ya:void 0,onClick:s,text:"Open comments"}),l.jsx(Ne,{fontSize:1,iconRight:i==="resolved"?Ya:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(ie,{"aria-label":"Close comments",fontSize:1,icon:p1e,mode:"bleed",onClick:r,padding:2})]})]})})});var Uge=Object.freeze,_3n=Object.defineProperty,_Me=(e,t)=>Uge(_3n(e,"raw",{value:Uge(t||e.slice())})),Wge,Yge;const S3n="https://snty.link/comments-beta-feedback",k3n=P.span(Wge||(Wge=_Me([`
  margin-right: 0.2em;
`]))),E3n=P.a(Yge||(Yge=_Me([`
  white-space: nowrap;
`]))),j3n=P(J)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function T3n(){return l.jsx(j3n,{padding:3,children:l.jsxs(L,{muted:!0,size:0,children:["Help us improve the commenting experience."," ",l.jsxs(E3n,{href:S3n,target:"_blank",rel:"noreferrer",children:[l.jsx(k3n,{children:"Share your feedback "})," ",l.jsx(rh,{})]})]})})}function A3n(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Ko(),{params:m,createPathWithParams:g,setParams:v}=ru(),b=Vo(m)||a$e,x=h.useRef(b==null?void 0:b.comment),y=h.useRef(!1),w=Io().push,{onPathOpen:C,ready:_}=pr(),{isDismissed:S,setDismissed:k}=e3n(),{comments:j,create:E,edit:T,getComment:A,getCommentPath:D,isRunningSetup:I,mentionOptions:O,remove:$,setStatus:R,status:z,update:F}=pMe(),H=h.useMemo(()=>j.data[z],[j,z]),W=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:V,setSelectedPath:q}=vMe(),oe=h.useCallback(ge=>{R(ge),q(null)},[q,R]),N=h.useCallback(()=>{t(),q(null)},[t,q]),G=h.useCallback(ge=>{const Oe=g({...m,comment:ge}),Re="".concat(window.location.origin).concat(Oe);navigator.clipboard.writeText(Re).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[g,m,w]),Y=h.useCallback(ge=>{const Oe=A(ge);Oe&&E.execute({fieldPath:Oe.target.path.field,id:Oe._id,message:Oe.message,parentCommentId:Oe.parentCommentId,status:Oe.status,threadId:Oe.threadId})},[E,A]),K=h.useCallback(()=>{s||(r(!1),i(null))},[s]),X=h.useCallback(ge=>{if(q(ge),ge!=null&&ge.fieldPath){const Oe=Ol(ge.fieldPath);C(Oe)}},[C,q]),Q=h.useCallback(ge=>{E.execute(ge),q({fieldPath:ge.fieldPath,origin:"inspector",threadId:ge.threadId})},[E,q]),Z=h.useCallback(ge=>{E.execute(ge)},[E]),ne=h.useCallback((ge,Oe)=>{T.execute(ge,Oe)},[T]),ae=h.useCallback(ge=>{var Oe;const Re=H.find(st=>{var Lt;return((Lt=st.parentComment)==null?void 0:Lt._id)===ge}),ut=!!(Re&&((Oe=Re==null?void 0:Re.replies)==null?void 0:Oe.length)>0);r(!0),i({commentId:ge,isParent:ut})},[H]),me=h.useCallback(async ge=>{try{a(!0),await $.execute(ge),K()}catch(Oe){u(Oe)}finally{a(!1)}},[K,$]),ue=h.useCallback(ge=>{const Oe=A(ge);Oe&&(q({fieldPath:Oe.target.path.field||null,origin:"inspector",threadId:Oe.threadId||null}),setTimeout(()=>{var Re;(Re=d.current)==null||Re.scrollToComment(ge)}))},[A,q]),Te=h.useCallback((ge,Oe)=>{F.execute(ge,{status:Oe}),Oe==="open"&&(R("open"),ue(ge))},[ue,R,F]),_e=h.useCallback(()=>{V&&q(null)},[V,q]),be=h.useCallback(()=>{V&&q(null)},[V,q]);return dr(_e,[f.current]),h.useEffect(()=>{const ge=A(x.current||"");!W&&ge&&y.current===!1&&(ue(ge._id),y.current=!0,x.current=void 0,v({...m,comment:void 0}))},[A,D,ue,W,m,v]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(FIn,{...o,error:c,loading:s,onClose:K,onConfirm:me}),l.jsxs(U,{direction:"column",overflow:"hidden",height:"fill",ref:f,onClick:be,children:[l.jsx(VIn,{onDismiss:k,open:!S,placement:"left-start",children:l.jsx(C3n,{onClose:N,onViewChange:oe,view:z})}),p&&l.jsx($In,{comments:H,currentUser:p,error:j.error,loading:W,mentionOptions:O,onCopyLink:G,onCreateRetry:Y,onDelete:ae,onEdit:ne,onNewThreadCreate:Q,onPathSelect:X,onReply:Z,onStatusChange:Te,readOnly:I,ref:d,selectedPath:V,status:z}),l.jsx(T3n,{})]})]})}function D3n(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=Zz({documentId:t,documentType:n});return{hidden:!r,icon:d1e,showAsAction:!0,title:"Comments"}}const I3n={name:Yb,component:A3n,useMenuItem:D3n};var qge=Object.freeze,O3n=Object.defineProperty,SMe=(e,t)=>qge(O3n(e,"raw",{value:qge(t||e.slice())})),Gge,Kge;const Zge={open:500},P3n=P(L)(Gge||(Gge=SMe([`
  width: max-content;
`]))),R3n=P(te)(Kge||(Kge=SMe([`
  width: 320px;
`])));function $3n(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[g,v]=h.useState(null),b=h.useRef(null),x=t>0,y=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{c(),y()},[y,c]),C=h.useMemo(()=>zC(m),[m]),_=h.useCallback(()=>{var E;if(!C){y();return}(E=b.current)==null||E.discardDialogController.open()},[y,C]),S=h.useCallback(E=>{E.isDefaultPrevented()||(E.key==="Escape"&&(E.preventDefault(),E.stopPropagation(),_()),d&&d(E))},[d,_]),k=h.useCallback(()=>{var E;(E=b.current)==null||E.discardDialogController.close()},[]),j=h.useCallback(()=>{var E;(E=b.current)==null||E.discardDialogController.close(),y(),u()},[y,u]);if(dr(_,[g]),!x){const E=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),T=l.jsx(R3n,{padding:2,space:4,children:l.jsx(DD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:E,readOnly:o,ref:b,value:m})});return l.jsx(an,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:v,children:l.jsx("div",{children:l.jsx(at,{delay:Zge,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(ie,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:iEn,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return l.jsx(at,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(P3n,{size:1,children:["View comment",t>1?"s":""]})}),delay:Zge,fallbackPlacements:["bottom"],children:l.jsx(ie,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(sEn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var Xge=Object.freeze,M3n=Object.defineProperty,kMe=(e,t)=>Xge(M3n(e,"raw",{value:Xge(t||e.slice())})),Qge,Jge;const F3n={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function L3n(e){const{documentId:t,documentType:n}=pr(),{isEnabled:r}=Zz({documentId:t,documentType:n});return r?l.jsx(z3n,{...e}):e.renderDefault(e)}const eve={behavior:"smooth",block:"start",inline:"nearest"},B3n=P(Yl.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=le.blue[o.dark?900:50].hex;return fe(Qge||(Qge=kMe([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),N3n=P(te)(Jge||(Jge=kMe([`
  position: relative;
`])));function z3n(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:c}=ch(),{openInspector:u,inspector:d}=pr(),f=Ko(),{comments:p,create:m,isRunningSetup:g,mentionOptions:v,setStatus:b,status:x}=pMe(),{selectedPath:y,setSelectedPath:w}=vMe(),C=h.useMemo(()=>Np(e.schemaType),[e.schemaType]),_=h.useMemo(()=>p.data[x],[p.data,x]),S=h.useMemo(()=>(d==null?void 0:d.name)===Yb,[d==null?void 0:d.name]),k=h.useMemo(()=>!S||(y==null?void 0:y.origin)==="form"?!1:(y==null?void 0:y.fieldPath)===Ir(e.path),[S,e.path,y]),j=h.useMemo(()=>{var F;const H=Ir(e.path);return(F=_.find(W=>W.fieldPath===H))==null?void 0:F.threadId},[_,e.path]),E=h.useMemo(()=>{const F=Ir(e.path);return p.data.open.map(W=>W.fieldPath===F?W.commentsCount:0).reduce((W,V)=>W+V,0)||0},[p.data.open,e.path]),T=E>0,A=h.useCallback(F=>{if(S&&i&&F){const H=document.querySelector('[data-group-id="'.concat(F,'"]'));H&&(H.scrollIntoView(eve),s(!1))}},[i,S]),D=h.useCallback(()=>u(Yb),[u]),I=h.useCallback(()=>{T&&x==="resolved"&&b("open"),T?(n(!1),u(Yb)):n(F=>!F),j&&(s(!0),A(j),w({fieldPath:Ir(e.path),origin:"form",threadId:j}))},[T,x,j,b,u,A,w,e.path]),O=h.useCallback(()=>{if(r){const F=bd(),H={fieldPath:Ir(e.path),message:r,parentCommentId:void 0,status:"open",threadId:F};m.execute(H),D(),b("open"),o(null),requestAnimationFrame(()=>{w({fieldPath:Ir(e.path),origin:"form",threadId:F}),s(!0),A(F)})}},[m,D,A,e.path,w,b,r]),$=h.useCallback(()=>o(null),[]);h.useEffect(()=>{j&&A(j)},[j,A]);const R=h.useMemo(()=>({...eve,boundary:c,scrollMode:"if-needed",block:"start"}),[c]);h.useEffect(()=>{k&&a.current&&zx(a.current,R)},[c,k,e.path,R]);const z=h.useMemo(()=>({button:f&&l.jsx($3n,{count:Number(E),currentUser:f,fieldTitle:C,isRunningSetup:g,mentionOptions:v,onChange:o,onClick:I,onCommentAdd:O,onDiscard:$,open:t,setOpen:n,value:r}),hasComments:T,isAddingComment:t}),[f,E,C,v,I,O,$,t,r,g,T]);return l.jsxs(N3n,{ref:a,children:[e.renderDefault({...e,__internal_comments:z}),l.jsx(sT,{children:k&&l.jsx(B3n,{animate:"animate",exit:"exit",initial:"initial",variants:F3n})})]})}function V3n(e){return l.jsx(b3n,{children:l.jsx(JIn,{children:e.renderDefault(e)})})}const H3n=XB({name:"sanity/desk/comments",document:{inspectors:[I3n]},form:{components:{field:L3n}},studio:{components:{layout:V3n}}}),EMe=h.createContext(null);function I1(){const e=h.useContext(EMe);if(!e)throw new Error("DeskTool: missing context value");return e}const U3n={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},W3n={create:dR,delete:go,discardDraft:Mi,initial:dR,editDraft:Bu,editLive:Bu,publish:I0,unpublish:bk};function jMe(e){return U3n[e]}function Y3n(e){return W3n[e]}function q3n(e){let{maxLength:t,userIds:n}=e;return l.jsx(cT,{maxLength:t,children:n.map(r=>l.jsx(Za,{user:r,withTooltip:!0},r))})}var tve=Object.freeze,G3n=Object.defineProperty,Vp=(e,t)=>tve(G3n(e,"raw",{value:tve(t||e.slice())})),nve,rve,ove,ive,sve,ave,lve;const hk=P(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return fe(nve||(nve=Vp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),K3n=P(ie)(e=>{let{$selected:t,$disabled:n}=e;return fe(ive||(ive=Vp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),hk,hk,t&&fe(rve||(rve=Vp([`
      `,`::before {
        background: transparent;
      }
    `])),hk),n&&fe(ove||(ove=Vp([`
      cursor: not-allowed;
    `]))))}),Z3n=P(M)(sve||(sve=Vp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),X3n=P(L)(ave||(ave=Vp([`
  text-transform: capitalize;
`]))),Q3n=P(M)(lve||(lve=Vp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(pe(t.sanity.space[1]))}),cve={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function J3n(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=Y3n(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const g=new Date(a);return oi(g,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(g=>{g.preventDefault(),g.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(K3n,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":cve[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(U,{align:"stretch",children:[l.jsx(hk,{align:"center",children:l.jsx(Z3n,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(te,{space:2,margin:2,children:[o&&l.jsx(U,{children:l.jsx(J,{padding:1,radius:2,shadow:1,tone:i?"primary":cve[t.type],children:l.jsx(Vt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(X3n,{size:1,weight:"medium",children:jMe(c)||l.jsx("code",{children:c})})}),l.jsx(Q3n,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(U,{flex:1,justify:"flex-end",align:"center",children:l.jsx(q3n,{maxLength:3,userIds:d})})]})})})}var uve=Object.freeze,eOn=Object.defineProperty,rj=(e,t)=>uve(eOn(e,"raw",{value:uve(t||e.slice())})),dve,fve,hve,pve;const tOn=P(te)(dve||(dve=rj([`
  max-width: 200px;
`]))),nOn=P(U)(fve||(fve=rj([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),rOn=P(M)(e=>{let{$visible:t}=e;return fe(pve||(pve=rj([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&fe(hve||(hve=rj([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),NF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,g)=>{let{activeIndex:v}=g;const b=v===0,x=d&&v===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:b?1:0,paddingX:1,children:[l.jsx(J3n,{chunk:m,isFirst:b,isLast:x,isLatest:v===0&&!n,isSelected:v===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),v===d.length-1&&r&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(Qn,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(rOn,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(tOn,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(nOn,{direction:"column",children:l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};NF.displayName="Timeline";function oOn(){return l.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[l.jsx(cr,{tone:"critical",children:l.jsx(ga,{})}),l.jsxs(te,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(cr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var mve=Object.freeze,iOn=Object.defineProperty,sOn=(e,t)=>mve(iOn(e,"raw",{value:mve(t||e.slice())})),gve;const aOn=P(an)(gve||(gve=sOn([`
  overflow: hidden;
  overflow: clip;
`])));function TMe(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=pr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[g,v]=h.useState(null),b=Io(),x=co(c,F=>F.chunks),y=co(c,F=>F.isLoading),w=co(c,F=>F.hasMoreChunks),C=co(c,F=>F.realRevChunk),_=co(c,F=>F.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),k=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&k()},[k,d]),E=h.useCallback(F=>{d&&(F.key==="Escape"||F.key==="Tab")&&(k(),p==null||p.focus())},[p,k,d]);dr(j,[p,g]),cs(E);const T=h.useCallback(F=>{try{const[H,W]=c.findRangeForRev(F);i("closed"),o(H,W)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),A=h.useCallback(F=>{try{const[H,W]=c.findRangeForSince(F);i("closed"),o(H,W)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),D=h.useCallback(()=>{y||c.loadMore()},[y,c]),I=s?l.jsx(oOn,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(NF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(NF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),O=lOn((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(Oke(jMe(t.type)),": ").concat(O):"Latest version",R=t?"Since: ".concat(O):"Since: unknown version",z=n==="rev"?$:R;return l.jsx(aOn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:v,children:l.jsx(ie,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Wl,onClick:d?k:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?z:"Loading history"})})}function lOn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return oi(n,"MMM d, yyyy, hh:mm a")},[e])}const cOn=P(J)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function AMe(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(cOn,{...s,as:t,children:[l.jsxs(U,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(ie,{"aria-label":r,fontSize:1,icon:Mi,mode:"bleed",onClick:o,padding:2})})]}),n]})}var vve=Object.freeze,uOn=Object.defineProperty,dOn=(e,t)=>vve(uOn(e,"raw",{value:vve(t||e.slice())})),yve;const fOn=P.div(yve||(yve=dOn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function hOn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(fOn,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var bve=Object.freeze,pOn=Object.defineProperty,mOn=(e,t)=>bve(pOn(e,"raw",{value:bve(t||e.slice())})),xve;const gOn=P(M)(xve||(xve=mOn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function vOn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(g=>{const v=c.current;v&&d(Math.min(Math.max(v-g,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(gOn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(hOn,{onResize:p,onResizeStart:f})]})}function yOn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=kh(),{closeInspector:i,inspector:s}=pr(),{features:a}=I1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(vOn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:D5n,minWidth:EF,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function bOn(){return l.jsx(Rz,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(Qn,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function xOn(e){const t=new Map;return NA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var wve=Object.freeze,wOn=Object.defineProperty,COn=(e,t)=>wve(wOn(e,"raw",{value:wve(t||e.slice())})),Cve;const _On=P($A)(Cve||(Cve=COn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function SOn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=pr(),a=h.useRef(null),c=co(i,b=>b.diff),u=co(i,b=>b.onOlderRevision),d=co(i,b=>b.selectionState),f=co(i,b=>b.sinceTime),p=d==="loading",m=!u,g=re.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:qWt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),v=re.useMemo(()=>c?xOn(c):[],[c]);return l.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(AMe,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(TMe,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(is,{annotations:v,description:"Changes by",portal:!0,children:l.jsx(cT,{maxLength:4,"aria-label":"Changes by",children:v.map(b=>{let{author:x}=b;return l.jsx(Za,{user:x},x)})})})})]})}),l.jsx(J,{flex:1,children:l.jsx(Gu,{element:a.current,children:l.jsx(_On,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(kOn,{diff:c,documentContext:g,error:o,loading:p,schemaType:r})})})})})]})}function kOn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(q4,{}):o?l.jsx(bOn,{}):n?l.jsx(xIe.Provider,{value:r,children:l.jsx(jC,{diff:n,schemaType:i})}):l.jsx(q4,{})}const EOn={name:TF,useMenuItem:()=>{const{features:e}=I1();return{hidden:!e.reviewChanges,icon:g6,title:"Review changes"}},component:SOn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function jOn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!Ct(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!tte(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":Ct(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(Ct(a)&&a._key){if(!tte(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>Ct(d)&&d._key===a._key),!Ct(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>Ct(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const TOn={error:ga,warning:jr,info:Cm},AOn={error:"critical",warning:"caution",info:"primary"};function DOn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=pr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(AMe,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(J,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(te,{space:2,children:i.map((c,u)=>l.jsx(IOn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function IOn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(B0,{onCatch:a,children:[s&&l.jsx(J,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(J,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:AOn[t.level],children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(TOn[t.level])})}),l.jsxs(te,{flex:1,space:2,children:[l.jsx(OOn,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function OOn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>jOn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function POn(e){const{documentId:t,documentType:n}=e,{validation:r}=vz(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(j4e),s=o.some(T4e),a=h.useMemo(()=>i?ga:s?jr:kj,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const ROn={name:P5n,component:DOn,useMenuItem:POn},$On=[i$e,s$e,r$e,o$e,n$e,Lz],MOn=[c5n],FOn=[ROn,EOn],LOn=XB(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,...$On])),badges:t=>Array.from(new Set([...t,...MOn])),inspectors:t=>Array.from(new Set([...t,...FOn]))},plugins:[H3n()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||_1e,component:h.lazy(()=>i9(()=>import("./index-8F-z14WZ-005e3d5c.js"),[])),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:d5n,options:e,router:y5n}]}));class rn extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var On=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(On||{});const BOn=["_id","_type","_createdAt","_updatedAt","_rev"];function zF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return BOn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>zF(c,r)).join(","),"}")}const i=r.length>0&&zF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function NOn(e,t){return t.map(n=>zF(e,n.field.split("."))).join(", ")}const DMe={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},zOn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},VOn=DMe,_ve=[DMe,zOn];function IMe(e,t,n){return e instanceof Jf?e.serialize({path:n,index:t}):e}class Jf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new rn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(On.TITLE_REQUIRED)}if(!r&&!o)throw new rn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(On.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new rn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(On.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Jf(this._context);return n.spec={...this.spec,...t||{}},n}}function OMe(e,t,n){return new Jf(e).group("sorting").title("Sort by ".concat(t.title)).icon(y6).action("setSortOrder").params({by:t.by,extendedProjection:n})}function PMe(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(_ve):_ve).map(o=>OMe(e,o,NOn(r,o.by)))}function RMe(e,t,n){return e instanceof yw?e.serialize({path:n,index:t}):e}class yw{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new yw(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new yw(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new rn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(On.ID_REQUIRED);if(!r)throw new rn("`title` is required for a menu item group",t.path,n).withHelpUrl(On.TITLE_REQUIRED);return{id:n,title:r}}}const $Me=/([^A-Za-z0-9-_.])/;function YC(e,t,n){if(typeof e!="string")throw new rn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match($Me)||[];if(r)throw new rn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new rn("Structure node id cannot start with __edit__",t,n);return e}function RD(e,t){if(t)return t;const n=npe(e);return $Me.test(n)?npe(UTe(e)):n}class bw{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:RD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new rn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!s)throw new rn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);return{id:YC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>IMe(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>RMe(a,c,t.path))}}clone(t){const n=new bw;return n.spec={...this.spec,...t||{}},n}}async function MMe(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Rn(t),o=fi(t);return(await e(sn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class Xz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||F_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new rn("`id` is required for view item",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!r)throw new rn("`title` is required for view item",t.path,t.index).withHelpUrl(On.TITLE_REQUIRED);return{id:YC(n,t.path,t.index),title:r,icon:o}}}function HOn(e){return typeof e.serialize=="function"}function FMe(e,t,n){return HOn(e)?e.serialize({path:n,index:t}):e}const UOn=e=>Ct(e)&&e.type==="component";class $D extends Xz{constructor(t){const n=UOn(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new rn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(On.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new $D;return n.spec={...this.spec,...t||{}},n}}class MD extends Xz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new MD;return n.spec={...this.spec,...t||{}},n}}const LMe=e=>new MD(e),WOn=e=>new $D(e);var YOn=Object.freeze({__proto__:null,ComponentViewBuilder:$D,FormViewBuilder:MD,GenericViewBuilder:Xz,component:WOn,form:LMe,maybeSerializeView:FMe});const qOn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await MMe(n,r)),!a)throw new rn("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class eh{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:RD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new rn("`id` is required for document nodes",t,n,r).withHelpUrl(On.ID_REQUIRED);if(!s||!s.id)throw new rn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(On.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new rn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[LMe()]).map((d,f)=>FMe(d,f,t)),c=a.map(d=>d.id),u=mo(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new rn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||qOn(this._context),id:YC(i,t,n),type:"document",options:GOn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new eh(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function GOn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function KOn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new eh(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function ZOn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Sve=["default","card","media","detail","block"],BMe=Symbol("Document type list canHandleIntent"),Qz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:Jz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};Qz.identity=BMe;class FD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new rn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(On.ID_REQUIRED);if(!o.templateId)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(On.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(On.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new FD(this._context);return n.spec={...this.spec,...t},n}}function XOn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function QOn(e,t,n){return e instanceof FD?e.serialize({path:n,index:t}):e}function JOn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=cCt({type:i&&i.schemaType,template:o.templateId},Boolean),c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Jf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||Tp).intent({type:"create",params:c}).serialize()})}function ePn(){}const NMe=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&Qz(e,t,{pane:r,index:o})};class zMe{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:RD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Sve.includes(o))throw new rn("`layout` must be one of ".concat(Sve.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>QOn(s,a,r));return{id:YC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||ePn,canHandleIntent:this.spec.canHandleIntent||NMe,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>IMe(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>RMe(s,a,r))}}}const tPn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new rn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(On.QUERY_PROVIDED_FOR_FILTER);return r},nPn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||MMe(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new eh(e).id("editor").documentId(t).schemaType(""))};class qC extends zMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new rn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(On.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new rn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(On.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),r5e(On.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||nPn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||sn.apiVersion,filter:tPn(this.spec,t)}}}clone(t){const n=new qC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=rPn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=oPn(n.spec)),n}getSpec(){return this.spec}}function rPn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(Jz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:Tp}))}function oPn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=Jz(n,r);return o.length===1?o[0]:void 0}function Jz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=iPn(e,t);return n.length===0&&(n=sPn(e,t)),n}function iPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function sPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const aPn=e=>e instanceof O1?"ListBuilder":fPn(e)?"Promise":Array.isArray(e)?"array":typeof e,lPn=e=>e.type==="listItem",cPn=(e,t,n)=>(n.pane.items||[]).filter(pPn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||NMe(e,t,n),uPn=(e,t)=>{const o=(t.parent.items.filter(lPn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function dPn(e,t,n){if(e instanceof P1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||aPn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new rn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(On.INVALID_LIST_ITEM)}return e}function fPn(e){return Ct(e)&&typeof e.then=="function"}class O1 extends zMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new rn("`id` is required for lists",t.path,t.index).withHelpUrl(On.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new rn("`items` must be an array of items",t.path,t.index).withHelpUrl(On.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>dPn(a,c,o)),s=i.filter((a,c)=>VTe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new rn("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(On.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||cPn,child:this.spec.child||uPn,items:i}}clone(t){const n=new O1(this._context);return n.spec={...this.spec,...t||{}},n}}class P1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:RD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new rn("`id` is required for list items",t.path,t.index).withHelpUrl(On.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new rn("`title` is required for list items",t.path,n).withHelpUrl(On.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new rn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(On.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof bw||o instanceof qC||o instanceof eh||o instanceof O1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:YC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new P1(this._context);return n.spec={...this.spec,...t||{}},n}}const hPn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new eh(e).id("documentEditor").documentId(n)};class eV extends P1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new rn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(On.SCHEMA_TYPE_REQUIRED);const r=n.child||hPn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new eV(this._context);return n.spec={...this.spec,...t||{}},n}}function pPn(e){return Ct(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class oj extends qC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new oj(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new oj(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===BMe?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function mPn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const gPn=["sanity.imageAsset","sanity.fileAsset"];function vPn(e){return gPn.includes(e)}function yPn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function bPn(e){return e.type==="list"}function xPn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&yPn(r)}).filter(n=>!vPn(n))}function VMe(e){return xPn(e).map(n=>HMe(e,n))}function HMe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||un(t);return new P1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=bPn(a)?a.items.find(d=>d.id===i):null;let u=UMe(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function UMe(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||un(i),u=mPn(a);return new oj(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(VOn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||Qz).menuItems(s.menuItems||[...PMe(e,a),new Jf(e).group("layout").title("Compact view").icon(O1e).action("setLayout").params({layout:"default"}),new Jf(e).group("layout").title("Detailed view").icon(P1e).action("setLayout").params({layout:"detail"})])}function wPn(e){return!e||typeof e=="string"?!1:!!e.icon}function CPn(e){const t=VMe(e);return new O1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>wPn(n.getSchemaType())))}function _Pn(e){let{defaultDocumentNode:t,source:n}=e;const r=cvn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new eh(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Rn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>CPn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return UMe(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return HMe(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return VMe(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new eh(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return ZOn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new O1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new P1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Jf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new yw(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return JOn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new qC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new eV(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return OMe(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return PMe(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return KOn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return XOn(o,...a)},initialValueTemplateItem:(s,a)=>new FD(o,{id:s,parameters:a,templateId:s}),component:s=>Sr.isValidElementType(s)?new bw().component(s):new bw(s),divider:()=>({id:x5e("__divider__"),type:"divider"}),view:YOn,context:o};return i}function MMn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Fn(),a=lvn(s),c=al(),u=h.useMemo(()=>_Pn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(EMe.Provider,{value:p,children:r})}function WMe(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(jD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(Mz,{title:s}),l.jsx(TD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function SPn(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=ve(null);return nn(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(yT(i),T2e(o))}))}var kve=Object.freeze,kPn=Object.defineProperty,EPn=(e,t)=>kve(kPn(e,"raw",{value:kve(t||e.slice())})),Eve;const jPn="Loading…",TPn=P(U)(Eve||(Eve=EPn([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),YMe=h.memo(e=>{const{delay:t=300,flex:n,message:r=SPn,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:jPn);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const y=d.subscribe(p);return()=>y.unsubscribe()},[d]);const[m,g]=h.useState(null),[v,b]=h.useState(!1);h.useEffect(()=>{if(m)return YQe(()=>b(!0))},[m]);const x=l.jsxs(TPn,{align:"center","data-mounted":v?"":void 0,direction:"column",height:"fill",justify:"center",ref:g,children:[l.jsx(Qn,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(jD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(TD,{children:x})})});YMe.displayName="LoadingPane";function APn(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function DPn(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const IPn=["patch","commit"],OPn=h.memo(function(){const{push:t}=Io(),{documentId:n,documentType:r}=pr(),o=KPe(n,r),i=h.useRef(o),s=ru();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:APn(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!IPn.includes(o.op)&&t({closable:!0,status:"success",title:DPn(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function PPn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(jF).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function RPn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:D0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function $Pn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:g1e,shortcut:"Ctrl+Alt+O"}:null}function MPn(e){const t=PPn(e),n=[$Pn(e)].filter(Boolean);return[...t,RPn(e),...n]}const FPn=e=>Ct(e)&&typeof e._id=="string"&&typeof e._type=="string";function LPn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Fn().document,s=vrt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(E8(500),it(a=>FPn(a)?kr(i({document:a})):ve(void 0)),Pn(a=>{const c=Ct(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function BPn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const NPn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Vo(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function zPn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const g=[...m];return g[f]=p,u.current=g,g})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(NPn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const qMe=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=En(),s=C1(),{actions:a,badges:c,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=Fn().document,p=jz(),m=ru(),g=m.setParams,{features:v}=I1(),{push:b}=Io(),{options:x,menuItemGroups:y=O5n,title:w=null,views:C=[]}=r,_=Vo(x),S=_.id,k=Rn(S),j=x.type,E=Vo(m.params)||I5n,T=Vo(m.payload),{templateName:A,templateParams:D}=h.useMemo(()=>BPn(s,{documentType:j,templateName:_.template,templateParams:_.templateParameters,panePayload:T,urlTemplate:E.template}),[j,_,E,T,s]),I=mwn({documentId:k,documentType:j,templateName:A,templateParams:D}),O=Vo(I),{patch:$}=Ql(k,j),R=gz(k,j),{validation:z}=vz(k,j),F=yxn(k,j),H=i.get(j),W=(R==null?void 0:R.draft)||(R==null?void 0:R.published)||O.value,[V,q]=h.useState(!1),[oe,N]=h.useState([]),G=h.useMemo(()=>a({schemaType:j,documentId:k}),[a,k,j]),Y=h.useMemo(()=>c({schemaType:j,documentId:k}),[c,k,j]),K=h.useMemo(()=>d({schemaType:j,documentId:k}),[k,j,d]),X=Vo(z),Q=Vo(C),[Z,ne]=h.useState(()=>E.path?Ol(E.path):[]),ae=E.view||Q[0]&&Q[0].id||null,[me,ue]=h.useState("closed"),[Te,_e]=h.useState(null),be=cCn({documentId:k,documentType:j,onError:_e,rev:E.rev,since:E.since}),ge=co(be,Ge=>Ge.onOlderRevision),Oe=co(be,Ge=>Ge.revTime),Re=co(be,Ge=>Ge.sinceAttributes),ut=co(be,Ge=>Ge.timelineDisplayed),st=co(be,Ge=>Ge.timelineReady),Lt=co(be,Ge=>Ge.isPristine),gn=h.useMemo(()=>st?!(R!=null&&R.draft)&&!(R!=null&&R.published)&&!Lt:!1,[R==null?void 0:R.draft,R==null?void 0:R.published,Lt,st]),xe=LPn(W),[Ze,Je]=h.useState([]);h.useEffect(()=>{const Ge=p.documentPresence(k).subscribe(Bn=>{Je(Bn)});return()=>{Ge.unsubscribe()}},[k,p]);const Ve=h.useMemo(()=>f({documentId:k,documentType:j}),[k,j,f]),[vt,Ie]=h.useState(()=>E.inspect||null),Me=h.useRef(E.inspect);h.useEffect(()=>{Me.current!==E.inspect&&(Me.current=E.inspect,Ie(E.inspect||null))},[E.inspect]);const et=Ve==null?void 0:Ve.find(Ge=>Ge.name===vt),Zo=Ve.find(Ge=>Ge.name===TF),ms=(et==null?void 0:et.name)===TF,Ns=!!W,Yt=h.useMemo(()=>MPn({currentInspector:et,features:v,hasValue:Ns,inspectorMenuItems:oe,inspectors:Ve,previewUrl:xe}),[et,v,Ns,oe,Ve,xe]),qr=E.inspect==="on",Jl=ms?Re:(R==null?void 0:R.published)||null,cl=h.useMemo(()=>H?u({documentId:k,documentType:j,schemaType:H}):[],[k,j,u,H]),mi=F==="connected"&&R.ready&&(st||!!Te),Ln=h.useMemo(()=>ge?ut||{_id:W._id,_type:W._type}:W,[ge,ut,W]),Br=h.useCallback((Ge,Bn)=>{g({...E,since:Ge,rev:Bn||void 0})},[E,g]),eo=h.useCallback(Ge=>{ne(Ge),p.setLocation([{type:"document",documentId:k,path:Ge,lastActiveAt:new Date().toISOString()}])},[k,p,ne]),We=h.useCallback(Ge=>{ne([])},[ne]),wt=h.useRef(()=>{throw new Error("Nope")});wt.current=Ge=>{$.execute(u2n(Ge.patches),O.value)};const er=h.useCallback(Ge=>wt.current(Ge),[]),vn=h.useCallback(Ge=>{var Bn,jn,Oo,Th;const iu=Ge&&Ve.find(vi=>vi.name===Ge);if(Ge&&!iu){console.warn('No inspector named "'.concat(Ge,'"'));return}if(et){if(iu){const vi=(jn=(Bn=iu.onClose)==null?void 0:Bn.call(iu,{params:E}))!=null?jn:{params:E};Ie(null),Me.current=void 0,g({...vi.params,inspect:void 0});return}if(et){const vi=(Th=(Oo=et.onClose)==null?void 0:Oo.call(et,{params:E}))!=null?Th:{params:E};Ie(null),Me.current=void 0,g({...vi.params,inspect:void 0})}}},[et,Ve,E,g]),gi=h.useCallback((Ge,Bn)=>{var jn,Oo,Th,iu;const vi=Ve.find(dV=>dV.name===Ge);if(!vi){console.warn('No inspector named "'.concat(Ge,'"'));return}if((et==null?void 0:et.name)===vi.name){g({...E,...Bn,inspect:vi.name});return}let M1=E;et&&(M1=((Oo=(jn=vi.onClose)==null?void 0:jn.call(vi,{params:M1}))!=null?Oo:{params:M1}).params);const b4e=(iu=(Th=vi.onOpen)==null?void 0:Th.call(vi,{params:M1}))!=null?iu:{params:M1};Ie(vi.name),Me.current=vi.name,g({...b4e.params,...Bn,inspect:vi.name})},[et,Ve,E,g]),xo=h.useCallback(()=>{Zo&&vn(Zo.name)},[vn,Zo]),gs=h.useCallback(()=>{v.reviewChanges&&Zo&&gi(Zo.name)},[v.reviewChanges,gi,Zo]),zs=h.useCallback(()=>m.closeCurrent(),[m]),ec=h.useCallback(()=>m.duplicateCurrent(),[m]),ou=h.useCallback(function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!qr;g(Ge?{...E,inspect:"on"}:Ni(E,"inspect"))},[qr,E,g]),Qm=h.useCallback(Ge=>{if(Ge.action==="production-preview"&&xe)return window.open(xe),!0;if(Ge.action==="inspect")return ou(!0),!0;if(Ge.action==="reviewChanges")return gs(),!0;if(typeof Ge.action=="string"&&Ge.action.startsWith(jF)){const Bn=Ge.action.slice(jF.length),jn=Ve.find(Oo=>Oo.name===Bn);if(jn)return jn.name===vt?vn(jn.name):gi(jn.name),!0}return!1},[vn,gs,vt,Ve,gi,xe,ou]),Eh=h.useCallback(Ge=>{for(const Bn of Yt)if(Bn.shortcut&&Ei(Bn.shortcut,Ge)){Ge.preventDefault(),Ge.stopPropagation(),Qm(Bn);return}},[Qm,Yt]),jh=h.useCallback(()=>ou(!1),[ou]),[R1,l4e]=h.useState([]),[c4e,oV]=h.useState(),[iV,sV]=h.useState(),[aV,lV]=h.useState(),u4e=h.useCallback((Ge,Bn)=>{sV(jn=>op(jn,Ge,Bn))},[]),d4e=h.useCallback((Ge,Bn)=>{lV(jn=>op(jn,Ge,Bn))},[]),f4e=h.useCallback((Ge,Bn)=>oV(jn=>op(jn,Ge,Bn)),[]),h4e=W._createdAt?"update":"create",cV=!!(H!=null&&H.liveEdit),LD=W._id?W._id:"dummy-id",p4e=h.useMemo(()=>({...W,_id:cV?Rn(LD):fi(LD)}),[cV,W,LD]),[$1,BD]=wwn({document:p4e,permission:h4e}),uV=!(W!=null&&W._id),m4e=h.useMemo(()=>{var Ge;const Bn=!BD&&!($1!=null&&$1.granted),jn=!$Z(H,"update"),Oo=uV&&!$Z(H,"create"),Th=F==="reconnecting",iu=(Ge=R.transactionSyncLock)==null?void 0:Ge.enabled;return!mi||Oe!==null||Bn||jn||Oo||Th||iu||V||gn},[F,R.transactionSyncLock,uV,gn,V,BD,$1==null?void 0:$1.granted,mi,Oe,H]),ND=c2n(H,{value:Ln,readOnly:m4e,comparisonValue:Jl,focusPath:Z,openPath:R1,collapsedPaths:iV,presence:Ze,validation:X,collapsedFieldSets:aV,fieldGroupState:c4e,changesOpen:ms}),GC=h.useRef(ND);GC.current=ND;const zD=h.useCallback(Ge=>{KCn(GC.current,Ge).forEach(jn=>{jn.type==="expandPath"&&sV(Oo=>op(Oo,jn.path,!1)),jn.type==="expandFieldSet"&&lV(Oo=>op(Oo,jn.path,!1)),jn.type==="setSelectedGroup"&&oV(Oo=>op(Oo,jn.path,jn.groupName))}),l4e(Ge)},[GC]),g4e={actions:G,activeViewId:ae,badges:Y,changesOpen:ms,closeInspector:vn,collapsedFieldSets:aV,collapsedPaths:iV,compareValue:Jl,connectionState:F,displayed:Ln,documentId:k,documentIdRaw:S,documentType:j,editState:R,fieldActions:cl,focusPath:Z,inspector:et||null,inspectors:Ve,menuItems:Yt,onBlur:We,onChange:er,onFocus:eo,onPathOpen:zD,onHistoryClose:xo,onHistoryOpen:gs,onInspectClose:jh,onKeyUp:Eh,onMenuAction:Qm,onPaneClose:zs,onPaneSplit:ec,onSetActiveFieldGroup:f4e,onSetCollapsedPath:u4e,onSetCollapsedFieldSet:d4e,openInspector:gi,index:n,inspectOpen:qr,validation:X,menuItemGroups:y||[],paneKey:o,previewUrl:xe,ready:mi,schemaType:H,isPermissionsLoading:BD,permissions:$1,setTimelineMode:ue,setTimelineRange:Br,setIsDeleting:q,isDeleting:V,isDeleted:gn,timelineError:Te,timelineMode:me,timelineStore:be,title:w,value:W,views:Q,formState:ND,unstable_languageFilter:K};h.useEffect(()=>{F==="reconnecting"&&b({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[F,b]),h.useEffect(()=>{var Ge;if(mi&&E.path){const{path:Bn,...jn}=E,Oo=eFe((Ge=GC.current)==null?void 0:Ge.value,Ol(Bn));ne(Oo),zD(Oo),m.setParams(jn)}},[E,k,zD,mi,m]);const[v4e,y4e]=h.useState([]);return l.jsxs(t$e.Provider,{value:g4e,children:[Ve.length>0&&l.jsx(zPn,{documentId:k,documentType:j,inspectors:Ve,onMenuItems:N}),cl.length>0&&H&&l.jsx(SC,{actions:cl,documentId:k,documentType:j,onActions:y4e,path:Wn,schemaType:H}),l.jsx(TC,{actions:v4e,path:Wn,children:l.jsx(v3n,{documentId:k,documentType:j,children:l.jsx(x3n,{children:t})})})]})});qMe.displayName="DocumentPaneProvider";function VF(e,t,n){const r=$Cn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const Og={id:"parsed",title:"Parsed"},Pg={id:"raw",title:"Raw JSON"},VPn=[Og,Pg],ij=VSn(1e3);function GMe(e,t){const n=ij.get(e);return n===void 0?(ij.set(e,Array.isArray(t)||Ct(t)),GMe(e,t)):n}function HPn(e){const{path:t}=e,n=ij.get(t);n!==void 0&&ij.set(t,!n)}function KMe(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function jve(e){KMe(e.currentTarget)}function UPn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),KMe(e.currentTarget))}function WPn(e){return Ct(e)&&Pv(e._id)&&Pv(e._type)}var Tve=Object.freeze,YPn=Object.defineProperty,qPn=(e,t)=>Tve(YPn(e,"raw",{value:Tve(t||e.slice())})),Ave;const GPn=P.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return fe(Ave||(Ave=qPn([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pe(o[4]),pe(o[3]),pe(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,pe(o[4]/2),n.syntax.property,n.syntax.constant,pe(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function KPn(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Lr,{icon:ii,onChange:r,placeholder:"Search",radius:2,value:n||""})}function ZPn(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=pr(),o="".concat(r,"_inspect_"),[i,s]=VF("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=VPn.find(d=>d.id===i),c=h.useCallback(()=>{s(Og.id)},[s]),u=h.useCallback(()=>{s(Pg.id)},[s]);return l.jsx(Vi,{id:"".concat(o,"dialog"),header:WPn(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(NRe,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(J,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(pT,{space:1,children:[l.jsx(wx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Og.id),label:Og.title,onClick:c,selected:a===Og}),l.jsx(wx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Pg.id),label:Pg.title,onClick:u,selected:a===Pg})]})}),l.jsxs(WCe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===Og&&l.jsx(GPn,{children:l.jsx(NSn,{data:t,isExpanded:GMe,onClick:HPn,search:KPn})}),a===Pg&&l.jsx(lr,{language:"json",tabIndex:0,onKeyDown:UPn,onDoubleClick:jve,onFocus:jve,children:JSON.stringify(t,null,2)})]})]})})}var Dve=Object.freeze,XPn=Object.defineProperty,QPn=(e,t)=>Dve(XPn(e,"raw",{value:Dve(t||e.slice())})),Ive;const JPn=P(J)(Ive||(Ive=QPn([`
  position: relative;
  z-index: 50;
`])));function eRn(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=pr(),{restore:o}=Ql(n,r),{navigateIntent:i}=Gc(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(JPn,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(kw,{})}),l.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(ie,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Ove=Object.freeze,tRn=Object.defineProperty,ZMe=(e,t)=>Ove(tRn(e,"raw",{value:Ove(t||e.slice())})),Pve,Rve;const nRn=P(J)(Pve||(Pve=ZMe([`
  position: relative;
  z-index: 50;
`]))),$ve=P(L)(Rve||(Rve=ZMe([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),XMe=h.memo(()=>{var e,t,n,r,o,i;const s=Yi(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=ru(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],g=m==null?void 0:m[0],v=g==null?void 0:g.id,b=!!((t=g==null?void 0:g.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&Ol(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),y=yo(()=>{const _=x==null?void 0:x[0];if(!v||!_||!x)return ve({loading:!1});const S=Rn(v),k=Ol(_),j=k.findIndex(E=>typeof E=="object"&&"_key"in E);return Ur(ve({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?k:k.slice(0,j)).pipe(E8(750),ce(E=>{let{draft:T,published:A}=E;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=ym(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,v,x],{loading:!0}),w=h.useCallback(()=>{var _;y.loading||(_=y.result)!=null&&_.refValue&&d({id:y.result.refValue,params:a})},[y.loading,y.result,d,a]);return!v||!x||b||y.loading||!((n=y.result)!=null&&n.availability.draft.available)&&!((r=y.result)!=null&&r.availability.published.available)||((o=y.result)==null?void 0:o.refValue)===p?null:l.jsx(nRn,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(Qr,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(jr,{})}),(i=y.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx($ve,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(ie,{onClick:w,icon:O0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx($ve,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(ie,{as:f,icon:Mi,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});XMe.displayName="ReferenceChangedBanner";var Mve=Object.freeze,rRn=Object.defineProperty,oRn=(e,t)=>Mve(rRn(e,"raw",{value:Mve(t||e.slice())})),Fve;const iRn=P(J)(Fve||(Fve=oRn([`
  position: relative;
  z-index: 50;
`])));function sRn(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Ko(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=aRn(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(iRn,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(kw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function aRn(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function lRn(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const cRn=1e3*60*60*24*24;function uRn(e){const t=Io(),n=lRn(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:cRn}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const dRn=e=>e.preventDefault(),fRn=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:g,ready:v,formState:b,onFocus:x,onBlur:y,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=pr(),k=al(),j=LC(d),E=h.useMemo(()=>RXt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;uRn({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=k.pair.documentEvents(d,f).pipe(wn(R=>{R.type==="mutation"&&E.publish(hRn(R)),R.type==="rebase"&&E.publish(pRn(R))})).subscribe();return()=>{$.unsubscribe()}},[d,k,f,E]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&E.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{v&&!(b!=null&&b.focusPath.length)&&D&&s0(D)},[v]);const O=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(Qr,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(DC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:dRn,ref:O,children:v?b===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(Otn,{__internal_fieldActions:p,__internal_patchChannel:E,collapsedFieldSets:s,collapsedPaths:a,focusPath:b.focusPath,changed:b.changed,focused:b.focused,groups:b.groups,id:"root",members:b.members,onChange:m,onFieldGroupSelect:S,onPathBlur:y,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:b.readOnly,schemaType:b.schemaType,validation:g,value:b.value}):l.jsx(Rz,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(Qn,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function hRn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:vF(e.origin,t)}}function pRn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:vF("remote",t).concat(vF("local",n))}}function mRn(){const{activeViewId:e,paneKey:t,views:n}=pr(),r="".concat(t,"tabpanel");return l.jsx(pT,{space:1,children:n.map((o,i)=>{var s;return l.jsx(gRn,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function gRn(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=pr(),{setView:s}=ru(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(wx,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function vRn(){const{connectionState:e,schemaType:t,title:n,value:r}=pr(),o=!!r&&e==="connected",{error:i,value:s}=JB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const yRn=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=pr(),{features:m}=I1(),{index:g,BackLink:v,hasGroupSiblings:b}=ru(),{actions:x}=SN(),y=h.useMemo(()=>JRe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>y.filter(Fz),[y]),C=h.useMemo(()=>y.filter(QRe),[y]),_=f.length>1,S=co(u,I=>I.revTime),{collapsed:k,isLast:j}=kh(),E=j&&!k?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&b,D=!A&&!m.backButton;return l.jsx(Mz,{ref:n,loading:!d,title:l.jsx(vRn,{}),tabs:_&&l.jsx(mRn,{}),tabIndex:E,backButton:m.backButton&&g>0&&l.jsx(ie,{as:v,"data-as":"a",icon:Sw,mode:"bleed",padding:2}),subActions:l.jsx(TMe,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(U,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,O)=>h.createElement(I,{key:"language-filter-".concat(O),schemaType:c}))}),w.map(I=>l.jsx(XRe,{node:I},I.key)),l.jsx(qRe,{nodes:C},"context-menu"),T&&l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(ie,{"aria-label":"Split pane right",icon:I1e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(ie,{icon:Mi,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(ie,{icon:Mi,mode:"bleed",title:"Close pane group",as:v},"close-view-button")]})})}));var Lve=Object.freeze,bRn=Object.defineProperty,xRn=(e,t)=>Lve(bRn(e,"raw",{value:Lve(t||e.slice())})),Bve;const wRn=P(M)({position:"relative"}),CRn=P($A)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:fe(Bve||(Bve=xRn([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),_Rn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:g,permissions:v,isPermissionsLoading:b,isDeleting:x,isDeleted:y,timelineStore:w,formState:C}=pr(),{collapsed:_}=S1(),{collapsed:S}=kh(),k=Am(),{features:j}=I1(),[E,T]=h.useState(null),A=hd(E),D=h.useRef(null),[I,O]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",z=h.useMemo(()=>{if(C)return C.groups.find(Y=>Y.selected)},[C]),F=h.useMemo(()=>p.find(Y=>Y.id===s)||p[0]||{type:"form"},[s,p]),H=j.splitPanes&&D.current||k.element,W=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),V=F.type!=="form",q=h.useMemo(()=>F.type==="component"&&F.component&&h.createElement(F.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:F.options,schemaType:g}),[F,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,g,f]),oe=co(w,Y=>Y.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{H&&i(H)},[H,i]);const N=h.useMemo(()=>r?l.jsx(ZPn,{value:a||f}):null,[r,a,f]),G=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(yRn,{ref:T}),l.jsx(TD,{children:l.jsxs(U,{height:"fill",children:[(j.resizablePanes||!G)&&l.jsx(wRn,{flex:2,overflow:"hidden",children:l.jsx(md,{element:H,__unstable_elements:{documentScrollElement:I},children:l.jsx(Gu,{element:I,children:l.jsxs(ow,{scrollElement:I,containerElement:$,children:[F.type==="form"&&!b&&m&&l.jsxs(l.Fragment,{children:[l.jsx(sRn,{granted:!!(v!=null&&v.granted),requiredPermission:R}),!x&&y&&l.jsx(eRn,{revisionId:oe}),l.jsx(XMe,{})]}),l.jsxs(CRn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:O,children:[l.jsx(fRn,{hidden:V,margins:W,ref:$},c+(m?"_ready":"_pending")),q]},"".concat(z==null?void 0:z.name,"-").concat(c,"}")),N,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),G&&l.jsx(Gu,{element:o,children:l.jsx(yOn,{documentId:c,documentType:g.name,flex:1})})]})})]})},QMe=["left","bottom"],SRn={small:0,medium:1,large:2,full:"auto"};function kRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(an,{content:l.jsx(ERn,{dialog:t}),fallbackPlacements:QMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function ERn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=ol(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),g=h.useCallback(v=>{v.key==="Escape"&&d&&a()},[d,a]);return dr(m,[f]),cs(g),l.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(on,{columns:2,gap:2,children:[l.jsx(ie,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(ie,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function jRn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(od,{zOffset:"fullscreen",children:l.jsx(Vi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:SRn[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function TRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(an,{content:l.jsx(ARn,{dialog:t}),fallbackPlacements:QMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function ARn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=ol(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return dr(a,[i]),cs(c),l.jsx("div",{ref:s,children:n})}function Nve(e){const{children:t}=e,{element:n,elements:r}=Am(),o=(r==null?void 0:r[l$e])||n;return l.jsx(md,{element:o,children:t})}function tV(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(kRn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(TRn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(Nve,{children:l.jsx(jRn,{dialog:t})});if(t.type==="custom")return l.jsx(Nve,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Vi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function DRn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(Jt,{id:"".concat(r,"-action-menu"),button:l.jsx(ie,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:nl,mode:"ghost",ref:o}),menu:l.jsx(Bt,{padding:1,children:t.map((p,m)=>l.jsx(IRn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(od,{zOffset:"paneFooter",children:l.jsx(tV,{dialog:f.dialog,referenceElement:a})})]})}function IRn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(Ne,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(at,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(U,{align:"center",paddingX:3,children:[l.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,Sr.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(NB,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function JMe(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(NB,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(U,{children:[o&&l.jsx(Ku,{zOffset:200,children:l.jsx(at,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(te,{flex:1,children:l.jsx(ie,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(DRn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(tV,{dialog:o.dialog,referenceElement:s})]})}const ORn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=pr();return!t||!o?null:l.jsx($z,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(JMe,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),PRn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=pr(),o=co(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[Lz],[]);return l.jsx($z,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(JMe,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),RRn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function $Rn(e){let{states:t}=e;return l.jsx(Gt,{space:1,children:t.map((n,r)=>l.jsx(at,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(r8,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?RRn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function MRn(){const{badges:e,editState:t}=pr();return!t||!e?null:l.jsx(HSn,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx($Rn,{states:r})}})}var zve=Object.freeze,FRn=Object.defineProperty,LRn=(e,t)=>zve(FRn(e,"raw",{value:zve(t||e.slice())})),Vve;const BRn=P(U)(Vve||(Vve=LRn([`
  cursor: default;
`])));function NRn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=ni(r||"",{minimal:!0,agoSuffix:!0}),a=ni(r||"",{minimal:!0}),c=ni(o||"",{minimal:!0,agoSuffix:!0}),u=ni(o||"",{minimal:!0}),d=ni(o||"",{minimal:!1,agoSuffix:!0}),f=ni(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(BRn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(at,{placement:"top",portal:!0,content:l.jsx(te,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(ie,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx(j1e,{}):l.jsx(I0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var Hve=Object.freeze,zRn=Object.defineProperty,nV=(e,t)=>Hve(zRn(e,"raw",{value:Hve(t||e.slice())})),Uve,Wve,Yve;const VRn=P(Yl.path)(Uve||(Uve=nV([`
  transform-origin: center;
`]))),HRn=e=>l.jsx(Yl.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),URn=e=>l.jsx(VRn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),WRn=e=>l.jsx(Yl.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),YRn=e=>l.jsx(Yl.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),qRn=wm(Wve||(Wve=nV([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),GRn=P.g(Yve||(Yve=nV([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),qRn),KRn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},ZRn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},XRn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},QRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},JRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function e$n(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(Yl.g,{variants:KRn,initial:t,animate:t,children:[l.jsxs(GRn,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(URn,{variants:XRn,initial:t,animate:t}),l.jsx(HRn,{variants:ZRn,initial:t,animate:t})]}),l.jsx(WRn,{variants:QRn,initial:t,animate:t}),l.jsx(YRn,{variants:JRn,initial:t,animate:t})]})}):null}const t$n=re.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=ni(i||"",{minimal:!0}),c=ni(i||"",{minimal:!0,agoSuffix:!0}),u=ni(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(at,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(te,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(ie,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(e$n,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),n$n=re.memo(t$n),r$n=1e3,o$n=3e3,i$n=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=pr(),d=XPe(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),g=!!(i!=null&&i.published),v=!!(i!=null&&i.draft),[b,x]=h.useState(null),y=hd(b),w=!y||(y==null?void 0:y.width)<300,[C,_]=h.useState(null),S=co(c,E=>E.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const E=setTimeout(()=>_("saved"),r$n);return()=>clearTimeout(E)}if(C==="saved"){const E=setTimeout(()=>_(null),o$n);return()=>clearTimeout(E)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const k=h.useMemo(()=>l.jsx(n$n,{lastUpdated:f,status:C||(v?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[v,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||g)&&l.jsx(M,{marginRight:1,children:l.jsx(NRn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,g,S]);return l.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(U,{align:"center",flex:1,children:[k,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(MRn,{})})]})]})});var qve=Object.freeze,s$n=Object.defineProperty,a$n=(e,t)=>qve(s$n(e,"raw",{value:qve(t||e.slice())})),Gve;const l$n=P(M)(Gve||(Gve=a$n([`
  min-width: 10em;
  max-width: 16em;
`])));function c$n(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=pr(),o=co(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(i$n,{})}),l.jsx(l$n,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(PRn,{}):l.jsx(ORn,{})})]})}),[t,n,o])}function u$n(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const g=u.filter(b=>b.shortcut&&Ei(b.shortcut,m)),v=g[0];if(g.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(v.shortcut,'"')),v&&!v.disabled&&v.onHandle){m.preventDefault(),v.onHandle(),s(u.indexOf(v));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(od,{zOffset:"paneFooter",children:l.jsx(tV,{dialog:f.dialog,referenceElement:t})})])}const e4e=re.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=pr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx($z,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(u$n,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});e4e.displayName="DocumentActionShortcuts";var Kve=Object.freeze,d$n=Object.defineProperty,f$n=(e,t)=>Kve(d$n(e,"raw",{value:Kve(t||e.slice())})),Zve;const Xve=["fixed","fixed","absolute"],h$n=P(zYt)(Zve||(Zve=f$n([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),FMn=h.memo(function(t){const{name:n}=Fn();return l.jsx(nz,{name:t.pane.source||n,children:l.jsx(p$n,{...t})})});function p$n(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Fn().document,i=ru(),s=m$n(n.options,i.params),{documentType:a,isLoaded:c}=hwn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=Sz({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?g$n(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:g,handleEditReference:v,groupIndex:b,routerPanesState:x}=i,y=((t=x[b+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=y,_=h.useMemo(()=>C?{path:Ol(C),state:b>=w-1?"none":b>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,b,w]);return s.type==="*"&&!p?l.jsx(YMe,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(qMe,{...m,children:l.jsx(Rtn,{EditReferenceLinkComponent:g,onEditReference:v,initialValueTemplateItems:d,activePath:_,children:l.jsx(v$n,{})})},"".concat(a,"-").concat(s.id)):l.jsx(WMe,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(te,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function m$n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=C1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function g$n(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function v$n(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=pr(),{collapsed:f}=S1(),p=ADe(),[m,g]=h.useState(null),[v,b]=h.useState(null),[x,y]=h.useState(null),[w,C]=h.useState(null),_=hd(v),S=_==null?void 0:_.height,k=h.useCallback(T=>{i(T),o(T)},[i,o]),j=A5n+(n?EF:0),E=T5n+(n?EF:0);return u?l.jsxs(e4e,{actionsBoxElement:x,as:jD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:E,onKeyUp:a,rootRef:g,children:[l.jsx(L$,{position:Xve,zOffset:p.portal,children:l.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(h$n,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:k,children:l.jsx(_Rn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(md,{__unstable_elements:{[l$e]:w},children:l.jsx(L$,{position:Xve,zOffset:p.portal,children:l.jsx(Dkn,{ref:b,children:l.jsx(c$n,{actionsBoxRef:y})})})}),l.jsx(OPn,{})]}):l.jsx(WMe,{currentMinWidth:j,flex:2.5,minWidth:E,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(te,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),eu]})})}const Qve=100,HF=2e3,t4e={by:[{field:"_updatedAt",direction:"desc"}]},y$n={};function b$n(e){return RA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const x$n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function n4e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(x$n);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function w$n(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function C$n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=_$n(t,r.field);return o?k$n(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function _$n(e,t){const n=Ol(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=S$n(r,o);continue}if(!(Mr(o)||kl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Lu(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function S$n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function k$n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var Jve=Object.freeze,E$n=Object.defineProperty,r4e=(e,t)=>Jve(E$n(e,"raw",{value:Jve(t||e.slice())})),e0e,t0e;const j$n=P(M)(e0e||(e0e=r4e([`
  position: relative;
`]))),T$n=P(M)(t0e||(t0e=r4e([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),A$n=[...Array(30).keys()];function D$n(e){const{layout:t}=e;return l.jsx(te,{padding:2,space:1,children:A$n.map(n=>l.jsx(J,{padding:2,children:l.jsx(wh,{isPlaceholder:!0,layout:t})},n))})}function I$n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:g,searchInputElement:v,showIcons:b}=e,x=En(),{collapsed:y}=S1(),{collapsed:w,index:C}=kh(),[_,S]=h.useState(!1),k=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const O=Rn(A._id),$=t===O,R=!s&&$,z=s&&$,F=I===u.length-1,H=F&&a,W=F&&o;return l.jsxs(l.Fragment,{children:[l.jsx(n5n,{icon:b===!1?!1:void 0,id:O,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:z,value:A}),H&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(Qn,{muted:!0})}),W&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",HF," documents"]})})]})},[t,s,u.length,d,x,b,o,a]),E=h.useMemo(()=>i?l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsxs(te,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Go,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(ie,{icon:O0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return E;if(f==="initial"&&c)return l.jsx(Rz,{ms:300,children:l.jsx(D$n,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(j$n,{overflow:"hidden",height:"fill",children:l.jsx(T$n,{children:l.jsx(bh,{activeItemDataAttr:"data-hovered",ariaLabel:g,canReceiveFocus:!0,focusRingOffset:-3,inputElement:v,itemHeight:51,items:u,onEndReached:k,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,k,C,c,u,d,f,m,j,v,_]);return l.jsx(TD,{overflow:y||f==="initial"?"hidden":"auto",children:T})}const o4e=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=I1(),{collapsed:d,isLast:f}=kh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:g=>{let{layout:v}=g;s(v)},setSortOrder:g=>{a(g)}}),[s,a]);return l.jsx(Mz,{actions:l.jsx(Jkn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(ie,{as:JSn,"data-as":"a",icon:Sw,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});o4e.displayName="DocumentListPaneHeader";function O$n(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=po(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ft((g,v)=>v===0&&g.type!=="welcome"?Zu(()=>new Error(g.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(g.type,'"'))):ve(g)),fa()),[p,m]=S8(f,g=>g.type==="welcome");return nn(p.pipe(Pi(1)),m.pipe(Sx(1e3,$l,{leading:!0,trailing:!0}))).pipe(rB(g=>(c?ve(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ft(b=>{const x=b.flatMap(k=>n.get(k)||[]),y={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=KDe(y,w),S=()=>t.observable.fetch(C,_);return g.type==="mutation"&&g.visibility!=="query"?Yo(1200).pipe(ft(S)):S()}))))}const P$n=[],n0e={error:null,onRetry:void 0,result:null},R$n={result:null,error:null};function $$n(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=Jn({...sn,apiVersion:i||sn.apiVersion}),a=En(),[c,u]=h.useState(n0e),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,g=h.useMemo(()=>m?b$n(m):P$n,[m]),[v,b]=h.useState(!1),[x,y]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>n4e(t,n),[t,n]),S=p===null&&!f,k=(m==null?void 0:m.length)===HF,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),E=h.useCallback(D=>{var I,O;if(D.error){u(D);return}const $=((O=(I=D.result)==null?void 0:I.documents)==null?void 0:O.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){b(!0);return}if($<Qve&&$!==0&&!w&&y(!0),(D==null?void 0:D.result)===null){u(z=>({...z.error?D:z}));return}b(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new _r,I=()=>D.next();return O$n({client:s,filter:t,limit:w?HF:Qve,params:n,schema:a,searchQuery:o||"",sort:r||t4e,staticTypeNames:_?[_]:void 0}).pipe(ce(R=>({result:{documents:R},error:null})),ci(R$n),Pn(R=>R instanceof ProgressEvent?Zu(()=>new Error("Request error")):Zu(()=>R)),Pn((R,z)=>Ur(ve({result:null,error:R}),nn(Bi(window,"online"),D).pipe(Pi(1),ft(()=>z)))),da((R,z)=>({...R,...z,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(E);return()=>{D.unsubscribe()}},[E,T]);const A=h.useCallback(()=>{y(!1),b(!1),u(n0e),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:k,isLazyLoading:v,isLoading:S,isSearchReady:!f,items:g,onListChange:j,onRetry:d}}var r0e=Object.freeze,M$n=Object.defineProperty,rV=(e,t)=>r0e(M$n(e,"raw",{value:r0e(t||e.slice())})),o0e,i0e,s0e;const UF=[],F$n=wm(o0e||(o0e=rV([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),L$n=P(Ew)(i0e||(i0e=rV([`
  animation: `,` 500ms linear infinite;
`])),F$n),B$n=P(J)(s0e||(s0e=rV([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function N$n(e){const t=h.useRef(e);return Xu(t.current,e)||(t.current=e),t.current}const z$n=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ht(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||UF)}:{...o,selected:!1}})},LMn=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=En(),{name:u}=Fn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=UF,menuItemGroups:m,menuItems:g,options:v,title:b}=s,{apiVersion:x,defaultOrdering:y=UF,filter:w}=v,C=N$n(v.params||y$n),_=s.source,S=h.useMemo(()=>n4e(w,C),[w,C]),k=(f==null?void 0:f.showIcons)!==!1,[j,E]=VF(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[O,$]=h.useState(null),R=h.useRef(!1),z=h.useMemo(()=>(y==null?void 0:y.length)>0?{by:y}:t4e,[y]),[F,H]=VF(S,"sortOrder",z),W=S&&F?C$n(F,c.get(S)):F,V=Vo(W),q=w$n(w),{error:oe,hasMaxItems:N,isLazyLoading:G,isLoading:Y,isSearchReady:K,items:X,onListChange:Q,onRetry:Z}=$$n({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:V}),ne=h.useMemo(()=>z$n({menuItems:g,sortOrderRaw:F,layout:j}),[j,g,F]),ae=bT(be=>be.pipe(ce(ge=>ge.target.value),wn(I),k8(ge=>ge===""?ve(""):Yo(300)),wn(A)),[]),me=h.useCallback(()=>{A(""),I("")},[]),ue=h.useCallback(be=>{be.key==="Escape"&&me()},[me]);h.useEffect(()=>(R.current===!1&&!Y&&(R.current=!0),()=>{R.current=!1}),[Y]),h.useEffect(()=>{me(),R.current=!1},[a,me]);const Te=h.useMemo(()=>Y&&X.length===0&&R.current?"spinner":"initial",[Y,X.length]),_e=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(B$n,{radius:4,tone:"transparent",children:l.jsx(Lr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!K,fontSize:[2,2,1],icon:Te==="spinner"?L$n:ii,onChange:ae,onClear:me,onKeyDown:ue,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(nz,{name:_||u,children:l.jsxs(jD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[u5n,l.jsx(o4e,{contentAfter:_e,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:ne,setLayout:E,setSortOrder:H,title:b}),l.jsx(I$n,{childItemId:n,error:oe,filterIsSimpleTypeConstraint:q,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:G,isLoading:Y,items:X,layout:j,loadingVariant:Te,onListChange:Q,onRetry:Z,paneTitle:b,searchInputElement:O,showIcons:k},a)]})})});var V$n="sanity-plugin-iframe-pane";const i4e=60*60,H$n="*[_id == $id && dateTime(_updatedAt) > dateTime(now()) - ".concat(i4e,"][0]{secret, _updatedAt}"),s4e=V$n,U$n="2023-08-08",W$n=Symbol("MissingSlug");function a0e(e){return new Date(e.getTime()+1e3*i4e)}function Y$n(){if(typeof crypto<"u"){const e=new Uint8Array(16);crypto.getRandomValues(e);let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t=btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]+$/,""),t}return Math.random().toString(36).slice(2)}async function q$n(e,t,n){const r=Y$n(),o=e.patch(t).set({secret:r});return await e.transaction().createIfNotExists({_id:t,_type:t}).patch(o).commit({tag:s4e,signal:n}),r}var G$n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function K$n(){const[e,t]=h.useState(null);return[e,r=>G$n(this,void 0,void 0,function*(){if(!(navigator!=null&&navigator.clipboard))return console.warn("Clipboard not supported"),!1;try{return yield navigator.clipboard.writeText(r),t(r),!0}catch(o){return console.warn("Copy failed",o),t(null),!1}})]}globalThis&&globalThis.__awaiter;function Z$n(e){const{urlSecretId:t,setUrlSecret:n,urlSecret:r,setError:o}=e,i=Jn({apiVersion:U$n}),[s,a]=h.useState(null);if(!t.includes("."))throw new TypeError("`urlSecretId` must have a dot prefix, `".concat(t,"` is not secure, add a prefix, for example `preview.").concat(t,"` "));return h.useEffect(()=>{if(r)return;async function c(d){const f=await i.fetch(H$n,{id:t},{signal:d,tag:s4e});if(!d.aborted){if(!(f!=null&&f.secret)||!(f!=null&&f._updatedAt)){try{const p=new Date,m=await q$n(i,t,d);if(d.aborted)return;n(m),a(a0e(p))}catch(p){console.error("Failed to create a new preview secret. Ensure the `client` has a `token` specified that has `write` permissions.",p)}return}(f==null?void 0:f.secret)!==r&&(n(f==null?void 0:f.secret),a(a0e(new Date(f==null?void 0:f._updatedAt))))}}const u=new AbortController;return c(u.signal).catch(d=>d.name!=="AbortError"&&o(d)),()=>u.abort()},[i,o,n,r,t]),h.useEffect(()=>{if(!s)return;const c=setTimeout(()=>{n(null),a(null)},Math.max(0,s.getTime()-new Date().getTime()));return()=>clearTimeout(c)},[s,n]),null}function X$n(e){let{displayUrl:t}=e;const n=h.useMemo(()=>{const r=new URL(t);return r.searchParams.has("secret")&&(r.searchParams.delete("secret"),r.searchParams.append("secret","***")),"".concat(r.origin===location.origin?"":r.origin).concat(r.pathname).concat(r.search)},[t]);return l.jsx(L,{size:0,textOverflow:"ellipsis",title:t,children:n})}const Zb={desktop:{width:"100%",height:"100%"},mobile:{width:414,height:746}},l0e="desktop";function Q$n(e){const{displayUrl:t,iframeSize:n,setIframeSize:r,reloading:o,showDisplayUrl:i,reloadButton:s,handleReload:a}=e,c=h.useRef(null),{push:u}=Io(),[,d]=K$n();return l.jsxs(l.Fragment,{children:[l.jsx("textarea",{style:{position:"absolute",pointerEvents:"none",opacity:0},ref:c,value:t,readOnly:!0,tabIndex:-1}),l.jsx(J,{padding:2,borderBottom:!0,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(U,{align:"center",gap:1,children:l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:n==="mobile"?"Exit mobile preview":"Preview mobile viewport"}),padding:2,placement:"bottom-start",children:l.jsx(ie,{disabled:!t,fontSize:[1],padding:2,mode:n==="mobile"?"default":"ghost",icon:S1e,onClick:()=>r(n==="mobile"?"desktop":"mobile")})})}),l.jsx(M,{flex:1,children:i&&t&&l.jsx(X$n,{displayUrl:t})}),l.jsxs(U,{align:"center",gap:1,children:[s?l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:o?"Reloading…":"Reload"}),padding:2,children:l.jsx(ie,{disabled:!t,mode:"bleed",fontSize:[1],padding:2,icon:A1e,loading:o,"aria-label":"Reload",onClick:()=>a()})}):null,l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Copy URL"}),padding:2,children:l.jsx(ie,{mode:"bleed",disabled:!t,fontSize:[1],icon:Fc,padding:[2],"aria-label":"Copy URL",onClick:()=>{var f;(f=c==null?void 0:c.current)!=null&&f.value&&(d(c.current.value),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"}))}})}),l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Open URL in a new tab"}),padding:2,placement:"bottom-end",children:l.jsx(ie,{disabled:!t,fontSize:[1],icon:rh,mode:"ghost",paddingY:[2],text:"Open","aria-label":"Open URL in a new tab",onClick:()=>window.open(t)})})]})]})})]})}const J$n=Yl(U);function eMn(e){var t;const[n,r]=h.useState(null);if(n)throw n;const{document:o,options:i}=e,{url:s,urlSecretId:a,defaultSize:c=l0e,reload:u,loader:d="Loading…",attributes:f={},showDisplayUrl:p=!0}=i,[m,g]=h.useState((t=Zb)!=null&&t[c]?c:l0e),[v,b]=h.useState(!0);h.useEffect(()=>{const I=setTimeout(()=>b(!1),1e3);return()=>clearTimeout(I)},[]);const x=dZe(),[y,w]=h.useState(()=>typeof s=="function"?"":s),[C,_]=h.useState(!0),[S,k]=h.useState(!1),j=h.useRef(null),{displayed:E}=o,T=h.useCallback(()=>{j!=null&&j.current&&(j.current.src=j.current.src,k(!0))},[]),A=h.useDeferredValue(E._rev),D=typeof y=="string"?y:"";return l.jsx(rKe,{transition:x?{duration:0}:void 0,children:l.jsxs(U,{direction:"column",style:{height:"100%"},children:[l.jsx(Q$n,{displayUrl:D,iframeSize:m,reloading:S,setIframeSize:g,showDisplayUrl:p,reloadButton:!!(u!=null&&u.button),handleReload:T}),y===W$n&&!v?l.jsx(sMn,{}):l.jsx(J,{tone:"transparent",style:{height:"100%"},children:l.jsx(tMn,{ref:j,loader:d,loading:C,reloading:S,iframeSize:m,setReloading:k,setLoading:_,displayUrl:D,attributes:f})}),typeof s=="function"&&l.jsx(iMn,{url:s,displayed:E,urlSecretId:a,setDisplayUrl:w,setError:r},A),D&&((u==null?void 0:u.revision)||(u==null?void 0:u.revision)===0)&&l.jsx(oMn,{revision:u.revision,_rev:A,handleReload:T})]})})}const tMn=h.forwardRef(function(t,n){const{loader:r,loading:o,setLoading:i,iframeSize:s,attributes:a,reloading:c,displayUrl:u,setReloading:d}=t;function f(){i(!1),d(!1),a.onLoad&&typeof a.onLoad=="function"&&a.onLoad()}return l.jsxs(U,{align:"center",justify:"center",style:{height:"100%",position:"relative"},children:[l.jsx(sT,{children:r&&o&&l.jsx(J$n,{initial:"initial",animate:"animate",exit:"exit",variants:nMn,justify:"center",align:"center",style:{inset:"0",position:"absolute"},children:l.jsxs(U,{style:{...Zb[s]},justify:"center",align:"center",direction:"column",gap:4,children:[l.jsx(Qn,{muted:!0}),r&&typeof r=="string"&&l.jsx(L,{muted:!0,size:1,children:r})]})})}),l.jsx(Yl.iframe,{ref:n,title:"preview",frameBorder:"0",style:{maxHeight:"100%"},src:u,initial:["background",s],variants:rMn,animate:[r&&o?"background":"active",c?"reloading":"idle",s],...a,onLoad:f})]})}),nMn={initial:{opacity:1},animate:{opacity:[0,0,1]},exit:{opacity:[1,0,0]}},rMn={...Zb,desktop:{...Zb.desktop,boxShadow:"0 0 0 0px var(--card-shadow-outline-color)"},mobile:{...Zb.mobile,boxShadow:"0 0 0 1px var(--card-shadow-outline-color)"},background:{opacity:0,scale:1},idle:{scale:1},reloading:{scale:[1,1,1,.98]},active:{opacity:[0,0,1],scale:1}};function oMn(e){const{revision:t,handleReload:n,_rev:r}=e,[o]=h.useState(r);return h.useEffect(()=>{if(r!==o){const i=setTimeout(n,Number(t===!0?300:t));return()=>clearTimeout(i)}},[r,t,n,o]),null}function iMn(e){const{urlSecretId:t,setDisplayUrl:n,setError:r}=e,[o]=h.useState(e.displayed),[i]=h.useState(()=>e.url),[s,a]=h.useState(null);return h.useEffect(()=>{if(t&&!s)return;const c=async d=>{const f=await i(o,s,u.signal);!d.aborted&&f&&n(f)},u=new AbortController;return c(u.signal).catch(d=>d.name!=="AbortError"&&r(d)),()=>u.abort()},[o,n,r,i,s,t]),t?l.jsx(Z$n,{urlSecretId:t,urlSecret:s,setUrlSecret:a,setError:r}):null}function sMn(){return l.jsx(J,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(J,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(jr,{})})}),l.jsxs(te,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"Missing slug"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Add a slug to see the preview."})]})]})})})})})}function aMn(e){var t;return(t=e==null?void 0:e.slug)!=null&&t.current?`${window.location.host}/blog/${e.slug.current}`:`${window.location.host}`}const lMn=(e,{schemaType:t})=>{switch(t){case"post":return e.document().views([e.view.form(),e.view.component(eMn).options({url:n=>aMn(n)}).title("Preview")]);default:return e.document().views([e.view.form()])}},cMn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2023-11-12",uMn=a4e({}.NEXT_PUBLIC_SANITY_DATASET,"Missing environment variable: NEXT_PUBLIC_SANITY_DATASET"),dMn=a4e({}.NEXT_PUBLIC_SANITY_PROJECT_ID,"Missing environment variable: NEXT_PUBLIC_SANITY_PROJECT_ID");function a4e(e,t){if(e===void 0)throw new Error(t);return e}const fMn=sj({name:"author",title:"Author",type:"document",fields:[io({name:"name",title:"Name",type:"string"}),io({name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96}}),io({name:"image",title:"Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),io({name:"bio",title:"Bio",type:"array",of:[{title:"Block",type:"block",styles:[{title:"Normal",value:"normal"}],lists:[]}]})],preview:{select:{title:"name",media:"image"}}}),hMn=sj({title:"Block Content",name:"blockContent",type:"array",of:[XP({title:"Block",type:"block",styles:[{title:"Normal",value:"normal"},{title:"H1",value:"h1"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"H4",value:"h4"},{title:"Quote",value:"blockquote"}],lists:[{title:"Bullet",value:"bullet"}],marks:{decorators:[{title:"Strong",value:"strong"},{title:"Emphasis",value:"em"}],annotations:[{title:"URL",name:"link",type:"object",fields:[{title:"URL",name:"href",type:"url"}]}]}}),XP({type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]})]}),pMn=sj({name:"category",title:"Category",type:"document",fields:[io({name:"title",title:"Title",type:"string"}),io({name:"description",title:"Description",type:"text"}),io({name:"image",title:"Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]})]}),mMn={name:"comment",type:"document",title:"Comment",fields:[{name:"name",type:"string"},{name:"approved",title:"Approved",type:"boolean",description:"comments won't show on the site without approval"},{name:"email",type:"string"},{name:"comment",type:"text"},{name:"post",type:"reference",to:[{type:"post"}]}]},gMn=sj({name:"post",title:"Post",type:"document",fields:[io({name:"title",title:"Title",type:"string"}),io({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96}}),io({name:"metaData_title",title:"MetaData Title",type:"string"}),io({name:"metaData_desc",title:"MetaData Description",type:"string"}),io({title:"Featured",name:"is_Featured",type:"boolean"}),io({name:"author",title:"Author",type:"reference",to:{type:"author"}}),io({name:"mainImage",title:"Main image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative Text"}]}),io({name:"categories",title:"Categories",type:"array",of:[{type:"reference",to:{type:"category"}}]}),io({name:"short_desc",title:"Blog Description",type:"string"}),io({name:"body",title:"Body",type:"blockContent"}),io({name:"publishedAt",title:"Published at",type:"datetime"})],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(e){const{author:t}=e;return{...e,subtitle:t&&`by ${t}`}}}}),vMn={types:[gMn,fMn,pMn,hMn,mMn]},ki={"--my-white":"#D6E9FF","--my-black":"#0f0f0f","--my-blue":"#2A8CFC","--my-red":"#db4437","--my-yellow":"#f4b400","--my-green":"#0f9d58"},yMn=y2n({"--black":ki["--my-black"],"--white":ki["--my-white"],"--gray":"#737787","--gray-base":"#666","--component-bg":ki["--my-black"],"--component-text-color":ki["--my-white"],"--brand-primary":ki["--my-blue"],"--default-button-color":"#666","--default-button-primary-color":ki["--my-blue"],"--default-button-success-color":ki["--my-green"],"--default-button-warning-color":ki["--my-yellow"],"--default-button-danger-color":ki["--my-red"],"--state-info-color":ki["--my-blue"],"--state-success-color":ki["--my-green"],"--state-warning-color":ki["--my-yellow"],"--state-danger-color":ki["--my-red"],"--main-navigation-color":ki["--my-black"],"--main-navigation-color--inverted":ki["--my-white"],"--focus-color":ki["--my-blue"]}),bMn={basePath:"/studio",name:"Blulytix-CMS",title:"Blulytix-CMS-Content",projectId:dMn,dataset:uMn,schema:vMn,plugins:[LOn({defaultDocumentNode:lMn}),w2n({defaultApiVersion:cMn})],theme:yMn};vxn(document.getElementById("sanity"),bMn,{reactStrictMode:!1,basePath:"/"});export{Go as $,Sw as A,ie as B,bh as C,FMn as D,gT as E,jMn as F,md as G,RMn as H,Zl as I,$Mn as J,B0 as K,YMe as L,nz as M,MMn as N,Ir as O,jD as P,ekn as Q,IMn as R,_x as S,OMn as T,Ni as U,ED as V,ce as W,rn as X,J as Y,Qr as Z,u5n as _,LMn as a,te as a0,Vt as a1,lr as a2,L as a3,r5e as a4,O0 as a5,U as a6,jr as a7,ci as a8,da as a9,qf as aA,Lr as aB,Gt as aC,at as aD,Fc as aE,ga as aF,d8 as aG,G8e as aH,j1e as aI,Jn as aJ,Qn as aK,a_e as aL,_w as aM,NSn as aN,dr as aO,an as aP,r8 as aQ,qv as aR,le as aS,it as aa,Xn as ab,r2e as ac,bd as ad,gz as ae,JB as af,Dnt as ag,kr as ah,ve as ai,Ur as aj,_8 as ak,PMn as al,eyt as am,Cl as an,wl as ao,As as ap,Ae as aq,B1e as ar,re as as,xMn as at,dmt as au,Ml as av,pe as aw,fe as ax,VSn as ay,on as az,Sr as b,Mz as c,Jkn as d,JSn as e,kh as f,M as g,S1 as h,n5n as i,l as j,TD as k,Ut as l,Gc as m,MT as n,pn as o,Ct as p,al as q,h as r,P as s,i9 as t,I1 as u,Ht as v,Ei as w,Io as x,En as y,Ls as z};
